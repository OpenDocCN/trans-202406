<html><head></head><body><div id="sbo-rt-content"><section data-type="appendix" epub:type="appendix" data-pdf-bookmark="Appendix A. Chart API Versions"><div class="appendix" id="appendix_a_chart_api_versions">
<h1><span class="label">Appendix A. </span>Chart API Versions</h1>


<p class="lead">This appendix covers the differences between chart API versions 2 and 1 (legacy).</p>

<p>The chart API version is specified in each chart’s <em>Chart.yaml</em> file<a data-type="indexterm" data-primary="apiVersion in Chart.yaml file" id="idm46125983032504"/><a data-type="indexterm" data-primary="Chart.yaml file" data-secondary="apiVersion" id="idm46125983031832"/><a data-type="indexterm" data-primary="Helm" data-secondary="versions" data-tertiary="apiVersion in Chart.yaml file" id="idm46125983030888"/><a data-type="indexterm" data-primary="versions of Helm" data-secondary="apiVersion in Chart.yaml file" id="idm46125983029656"/> and is used by Helm to determine how to parse the chart and which feature sets are made available.</p>

<p>For new charts, API version 2 should generally be used. However, many publicly available charts were created prior to the genesis of API version 2, and use 1, the legacy API version. Here we will go into detail on each of these API versions and the ways in which they are different.</p>






<section data-type="sect1" data-pdf-bookmark="API Version 2"><div class="sect1" id="idm46125983027640">
<h1>API Version 2</h1>

<p>Chart API version 2 is the current API version that was introduced<a data-type="indexterm" data-primary="API Version 2 details" id="appAver2"/><a data-type="indexterm" data-primary="Helm" data-secondary="versions" data-tertiary="API Version 2 details" id="appa-api2"/><a data-type="indexterm" data-primary="versions of Helm" data-secondary="API Version 2 details" id="appa-api22"/><a data-type="indexterm" data-primary="create command" data-secondary="API version 2 by default" id="idm46125983022456"/> in Helm 3. This is the default API version used when new charts are created using <code>helm create</code>.</p>

<p>Charts using API version 2 are guaranteed to be supported by Helm 3, but not necessarily by Helm 2. If you are only planning to support Helm 3 and above, it is recommended to just use this API version.</p>








<section data-type="sect2" data-pdf-bookmark="The Chart.yaml File"><div class="sect2" id="idm46125983020088">
<h2>The Chart.yaml File</h2>

<p>The following is an example of a <em>Chart.yaml</em> file for a chart using API version 2:<a data-type="indexterm" data-primary="Chart.yaml file" data-secondary="API Version 2 details" id="appa-chart2"/></p>

<pre data-type="programlisting" data-code-language="yaml"><code class="nt">apiVersion</code><code class="p">:</code><code> </code><code class="l-Scalar-Plain">v2</code><code> </code><a class="co" id="co_chart_api_versions_CO1-1" href="#callout_chart_api_versions_CO1-1"><img src="Images/1.png" alt="1"/></a><code>
</code><code class="nt">name</code><code class="p">:</code><code> </code><code class="l-Scalar-Plain">lemon</code><code>
</code><code class="nt">version</code><code class="p">:</code><code> </code><code class="l-Scalar-Plain">1.2.3</code><code>
</code><code class="nt">type</code><code class="p">:</code><code> </code><code class="l-Scalar-Plain">application</code><code>
</code><code class="nt">description</code><code class="p">:</code><code> </code><code class="l-Scalar-Plain">When</code><code class="l-Scalar-Plain"> </code><code class="l-Scalar-Plain">life</code><code class="l-Scalar-Plain"> </code><code class="l-Scalar-Plain">gives</code><code class="l-Scalar-Plain"> </code><code class="l-Scalar-Plain">you</code><code class="l-Scalar-Plain"> </code><code class="l-Scalar-Plain">lemons,</code><code class="l-Scalar-Plain"> </code><code class="l-Scalar-Plain">do</code><code class="l-Scalar-Plain"> </code><code class="l-Scalar-Plain">the</code><code class="l-Scalar-Plain"> </code><code class="l-Scalar-Plain">DevOps</code><code>
</code><code class="nt">appVersion</code><code class="p">:</code><code> </code><code class="l-Scalar-Plain">2.0.0</code><code>
</code><code class="nt">home</code><code class="p">:</code><code> </code><code class="l-Scalar-Plain">https://example.com</code><code>
</code><code class="nt">icon</code><code class="p">:</code><code> </code><code class="l-Scalar-Plain">https://example.com/img/lemon.png</code><code>
</code><code class="nt">sources</code><code class="p">:</code><code>
</code><code>  </code><code class="p-Indicator">-</code><code> </code><code class="l-Scalar-Plain">https://github.com/myorg/mychart</code><code>
</code><code class="nt">keywords</code><code class="p">:</code><code>
</code><code>  </code><code class="p-Indicator">-</code><code> </code><code class="l-Scalar-Plain">fruit</code><code>
</code><code>  </code><code class="p-Indicator">-</code><code> </code><code class="l-Scalar-Plain">citrus</code><code>
</code><code class="nt">maintainers</code><code class="p">:</code><code>
</code><code>  </code><code class="p-Indicator">-</code><code> </code><code class="nt">name</code><code class="p">:</code><code> </code><code class="l-Scalar-Plain">Carly</code><code class="l-Scalar-Plain"> </code><code class="l-Scalar-Plain">Jenkins</code><code>
</code><code>    </code><code class="nt">email</code><code class="p">:</code><code> </code><code class="l-Scalar-Plain">carly@mail.cj.example.com</code><code>
</code><code>    </code><code class="nt">url</code><code class="p">:</code><code> </code><code class="l-Scalar-Plain">https://cj.example.com</code><code>
</code><code>  </code><code class="p-Indicator">-</code><code> </code><code class="nt">name</code><code class="p">:</code><code> </code><code class="l-Scalar-Plain">William</code><code class="l-Scalar-Plain"> </code><code class="l-Scalar-Plain">James</code><code class="l-Scalar-Plain"> </code><code class="l-Scalar-Plain">Spode</code><code>
</code><code>    </code><code class="nt">email</code><code class="p">:</code><code> </code><code class="l-Scalar-Plain">william.j@mail.wjs.example.com</code><code>
</code><code>    </code><code class="nt">url</code><code class="p">:</code><code> </code><code class="l-Scalar-Plain">https://wjs.example.com</code><code>
</code><code class="nt">deprecated</code><code class="p">:</code><code> </code><code class="l-Scalar-Plain">false</code><code>
</code><code class="nt">annotations</code><code class="p">:</code><code>
</code><code>  </code><code class="nt">sour</code><code class="p">:</code><code> </code><code class="l-Scalar-Plain">1</code><code>
</code><code class="nt">kubeVersion</code><code class="p">:</code><code> </code><code class="s">"</code><code class="s">&gt;=1.14.0</code><code class="s">"</code><code>
</code><code class="nt">dependencies</code><code class="p">:</code><code>
</code><code>  </code><code class="p-Indicator">-</code><code> </code><code class="nt">name</code><code class="p">:</code><code> </code><code class="l-Scalar-Plain">redis</code><code>
</code><code>    </code><code class="nt">version</code><code class="p">:</code><code> </code><code class="l-Scalar-Plain">~10.5.7</code><code>
</code><code>    </code><code class="nt">repository</code><code class="p">:</code><code> </code><code class="l-Scalar-Plain">https://kubernetes-charts.storage.example.com/</code><code>
</code><code>    </code><code class="nt">condition</code><code class="p">:</code><code> </code><code class="l-Scalar-Plain">useCache,redis.enabled</code><code>
</code><code>  </code><code class="p-Indicator">-</code><code> </code><code class="nt">name</code><code class="p">:</code><code> </code><code class="l-Scalar-Plain">postgresql</code><code>
</code><code>    </code><code class="nt">version</code><code class="p">:</code><code> </code><code class="l-Scalar-Plain">8.6.4</code><code>
</code><code>    </code><code class="nt">repository</code><code class="p">:</code><code> </code><code class="err">@</code><code class="l-Scalar-Plain">myrepo</code><code>
</code><code>    </code><code class="nt">tags</code><code class="p">:</code><code>
</code><code>      </code><code class="p-Indicator">-</code><code> </code><code class="l-Scalar-Plain">database</code><code>
</code><code>      </code><code class="p-Indicator">-</code><code> </code><code class="l-Scalar-Plain">backend</code></pre>
<dl class="calloutlist">
<dt><a class="co" id="callout_chart_api_versions_CO1-1" href="#co_chart_api_versions_CO1-1"><img src="Images/1.png" alt="1"/></a></dt>
<dd><p>Field denoting chart API version 2</p></dd>
</dl>

<p>Each of the top-level fields in this file will be described in detail in the following 
<span class="keep-together">subsections</span>.</p>










<section data-type="sect3" data-pdf-bookmark="Field: apiVersion"><div class="sect3" id="idm46125982805752">
<h3>Field: apiVersion</h3>

<p><em>Required</em></p>

<p>The API version of this chart.<a data-type="indexterm" data-primary="Helm" data-secondary="versions" data-tertiary="apiVersion in Chart.yaml file" id="idm46125982803768"/><a data-type="indexterm" data-primary="versions of Helm" data-secondary="apiVersion in Chart.yaml file" id="idm46125982802456"/><a data-type="indexterm" data-primary="apiVersion in Chart.yaml file" id="idm46125982801496"/><a data-type="indexterm" data-primary="Chart.yaml file" data-secondary="apiVersion" id="idm46125982800808"/></p>

<p>This field should <em>always</em> be set to <code>v2</code>.</p>
</div></section>













<section data-type="sect3" data-pdf-bookmark="Field: name"><div class="sect3" id="idm46125982798328">
<h3>Field: name</h3>

<p><em>Required</em></p>

<p>The name of the chart.</p>

<p>In most cases, this should be 1-to-1 with the name of your application (i.e., <code>lemon</code>). If your application is broken into multiple, installable components, it is common to suffix this name with a description of the component; for example, <code>lemon-frontend</code>, <code>lemon-backend</code>, etc.</p>

<p>Chart names must be composed of lowercase letters, numbers, and dashes (<code>-</code>).</p>
</div></section>













<section data-type="sect3" data-pdf-bookmark="Field: version"><div class="sect3" id="idm46125982793256">
<h3>Field: version</h3>

<p><em>Required</em></p>

<p>The current version of the chart, strictly formatted using Semantic Versioning 2.</p>
<aside data-type="sidebar" epub:type="sidebar"><div class="sidebar" id="idm46125982791304">
<h5>Versioning Helm Charts</h5>
<p>Semantic Versioning, if done correctly, can be extremely helpful. <a data-type="indexterm" data-primary="charts" data-secondary="versions" data-tertiary="Semantic Versioning" id="idm46125982789512"/><a data-type="indexterm" data-primary="Semantic Versioning" id="idm46125982788264"/><a data-type="indexterm" data-primary="versions of Helm" data-secondary="Semantic Versioning" id="idm46125982787592"/><a data-type="indexterm" data-primary="Helm" data-secondary="versions" data-tertiary="Semantic Versioning" id="idm46125982786648"/><a data-type="indexterm" data-primary="charts" data-secondary="versions" data-tertiary="versioning charts" id="idm46125982785432"/>It lets the operator know what to expect during a software upgrade. You’ve likely already seen and used semantic versions. They are comprised of three numbers separated by a period (<code>.</code>), such as <code>3.1.2</code>. Semantic versions follow the format <code>MAJOR.MINOR.PATCH</code>, where the following rules apply if each are incremented:</p>
<dl>
<dt><code>MAJOR</code></dt>
<dd>
<p>Indicates that breaking changes are made that are not backward compatible (e.g., <code>3.1.2</code> → <code>4.0.0</code>)</p>
</dd>
<dt><code>MINOR</code></dt>
<dd>
<p>Indicates that there are newly available features that are backward compatible (e.g., <code>3.1.2</code> → <code>3.2.0</code>)</p>
</dd>
<dt><code>PATCH</code></dt>
<dd>
<p>Indicates that one or more bugs were fixed, and that changes were made to make things work as originally expected without introducing any new features (e.g., <code>3.1.2</code> → <code>3.1.3</code>)</p>
</dd>
</dl>

<p>Helm charts can be challenging to version properly because they are not typical software packages containing an application with features. As a rule of thumb, most updates to the chart version should be increments to the <code>MINOR</code> version.</p>

<p>For example, any time that you are adding new key-value pairs that are used inside templates, this can be considered a new “feature,” since the options for configuration have been expanded. On the other hand, if you are modifying the way a certain value is used in a template, or removing a configuration setting entirely, this would be considered a breaking change, and you should increment the <code>MAJOR</code> version. Lastly, if you simply make a fix to a Helm chart that is not templating properly given an expected input, or is otherwise broken, this would be considered a bug fix and you should increment the <code>PATCH</code> version.</p>

<p>As for an initial version to use for your chart, choose <code>0.1.0</code> or <code>1.0.0</code>. When the <code>MAJOR</code> version is <code>0</code> (e.g., <code>0.1.0</code>), this technically indicates no promises will be made regarding breaking changes between <code>MINOR</code> and <code>PATCH</code> upgrades. Versions <code>1.0.0</code> and higher indicate a certain level of stability and a strict adherence to SemVer 2.</p>
</div></aside>
</div></section>













<section data-type="sect3" data-pdf-bookmark="Field: type"><div class="sect3" id="idm46125982767608">
<h3>Field: type</h3>

<p><em>Required</em></p>

<p>Specifies the chart type, which may be one on the following two types:</p>
<dl>
<dt><code>application</code></dt>
<dd>
<p>A typical, installable chart</p>
</dd>
<dt><code>library</code></dt>
<dd>
<p>A noninstallable chart containing common definitions, meant to be included as a dependency chart</p>
</dd>
</dl>

<p>This field is unique to API version 2. In API version 1, all charts are considered to be <code>application</code> charts. For more information on <code>library</code> charts, please see <a data-type="xref" href="ch06.xhtml#advanced_charts">Chapter 6</a>.</p>
</div></section>













<section data-type="sect3" data-pdf-bookmark="Field: description"><div class="sect3" id="idm46125982862152">
<h3>Field: description</h3>

<p>A simple, one-sentence description of the chart.</p>
</div></section>













<section data-type="sect3" data-pdf-bookmark="Field: appVersion"><div class="sect3" id="idm46125982860568">
<h3>Field: appVersion</h3>

<p>The version of the application that the chart represents.</p>

<p>This field should match the version of the <em>software</em> you are deploying, <a data-type="indexterm" data-primary="appVersion property" id="idm46125982858184"/>not the chart itself. For example, if you’re creating a new internal chart to deploy a custom configured Nginx 1.18.0, the <code>appVersion</code> field would be <code>1.18.0</code>, whereas the <code>version</code> field would be something more like <code>0.1.0</code> (initial version).</p>
</div></section>













<section data-type="sect3" data-pdf-bookmark="Field: home"><div class="sect3" id="idm46125982855352">
<h3>Field: home</h3>

<p>An absolute URL to the homepage for the chart and/or application.</p>
</div></section>













<section data-type="sect3" data-pdf-bookmark="Field: icon"><div class="sect3" id="idm46125982853736">
<h3>Field: icon</h3>

<p>An absolute URL to an image that can be used as an icon for this chart.<a data-type="indexterm" data-primary="icon property" id="idm46125982852408"/><a data-type="indexterm" data-primary="Chart.yaml file" data-secondary="icon property" id="idm46125982851704"/></p>

<p>This field is typically used by services such as Artifact Hub to display an appropriate image for the chart available for download.</p>
</div></section>













<section data-type="sect3" data-pdf-bookmark="Field: sources"><div class="sect3" id="idm46125982849976">
<h3>Field: sources</h3>

<p>One or more absolute URLs to the source code of the chart (if made available).</p>
</div></section>













<section data-type="sect3" data-pdf-bookmark="Field: keywords"><div class="sect3" id="idm46125982848392">
<h3>Field: keywords</h3>

<p>A list of keywords or topics that the chart represents.</p>

<p>These are used by services such as Artifact Hub to group together charts by category or further enhance search capabilities.</p>
</div></section>













<section data-type="sect3" data-pdf-bookmark="Field: maintainers"><div class="sect3" id="idm46125982846248">
<h3>Field: maintainers</h3>

<p>A list of name/email/URL combinations for the person(s) who maintain the chart.</p>
</div></section>













<section data-type="sect3" data-pdf-bookmark="Field: deprecated"><div class="sect3" id="idm46125982844664">
<h3>Field: deprecated</h3>

<p>Whether or not the chart is deprecated.</p>

<p>This field is used by services such as Artifact Hub to determine when to remove chart listings.</p>
</div></section>













<section data-type="sect3" data-pdf-bookmark="Field: annotations"><div class="sect3" id="idm46125982842504">
<h3>Field: annotations</h3>

<p>Additional mappings for the chart uninterpreted by Helm, made available for inspection by other applications.</p>

<p>Note: this field is <em>not</em> linked to Kubernetes annotations in any meaningful way; however, you may choose to define these as Kubernetes-specific annotations depending on how you decide to use this field.</p>
</div></section>













<section data-type="sect3" data-pdf-bookmark="Field: kubeVersion"><div class="sect3" id="idm46125982839736">
<h3>Field: kubeVersion</h3>

<p>A SemVer constraint specifying the minimum Kubernetes version required for the chart to properly install.</p>

<p>Some charts may use Kubernetes resource types and API groups that are only available on certain versions of Kubernetes. If an operator attempts to install a chart with an incompatible <code>kubeVersion</code> compared to that of the target cluster, an error will occur before any Kubernetes resources are provisioned.</p>
</div></section>













<section data-type="sect3" data-pdf-bookmark="Field: dependencies"><div class="sect3" id="idm46125982836856">
<h3>Field: dependencies</h3>

<p>A list of dependencies for the chart.<a data-type="indexterm" data-primary="dependencies between charts" data-secondary="Chart.yaml file" data-tertiary="API Version 2 details" id="idm46125982835240"/><a data-type="indexterm" data-primary="charts" data-secondary="dependencies" data-tertiary="Chart.yaml file" id="idm46125982833928"/><a data-type="indexterm" data-primary="Chart.yaml file" data-secondary="chart dependencies" data-tertiary="API Version 2 details" id="idm46125982832712"/></p>

<p>The chart dependencies listed here will be negotiated and placed appropriately into the <em>charts/</em> subdirectory when you run <code>helm dependency update</code>.</p>

<p>At a bare minimum, each entry under the <code>dependencies</code> block should contain a <code>name</code> subfield, and either a <code>repository</code> or an <code>alias</code> subfield. A <code>repository</code> should be an absolute URL to a valid chart repository (serving <em>/index.yaml</em>). An <code>alias</code> should be the character “@” followed by the name of a previously added chart repository (e.g., <em><code>@myrepo</code></em>).</p>

<p>For more information about how to use chart dependencies, see <a data-type="xref" href="ch06.xhtml#chart_dependencies">“Chart Dependencies”</a>.</p>
</div></section>



</div></section>













<section data-type="sect2" data-pdf-bookmark="The Chart.lock File"><div class="sect2" id="idm46125983019144">
<h2>The Chart.lock File</h2>

<p>When a chart has dependencies listed under the <code>dependencies</code> <a data-type="indexterm" data-primary="Chart.lock file" data-secondary="API Version 2 details" id="idm46125982822968"/><a data-type="indexterm" data-primary="charts" data-secondary="dependencies" data-tertiary="Chart.lock file" id="idm46125982821960"/><a data-type="indexterm" data-primary="dependencies between charts" data-secondary="Chart.lock file" data-tertiary="API Version 2 details" id="idm46125982820744"/>field in <em>Chart.yaml</em>, a special file named <em>Chart.lock</em> is generated and updated each time you run the command <code>helm dependency update</code>. When a chart contains a <em>Chart.lock</em> file, operators can run <code>helm dependency build</code> to generate the <em>charts/</em> directory without the need to renegotiate dependencies.</p>

<p>Here is an example of a <em>Chart.lock</em> file generated based on the dependencies specified in the <em>Chart.yaml</em> example:</p>

<pre data-type="programlisting" data-code-language="yaml"><code class="nt">dependencies</code><code class="p">:</code>
<code class="p-Indicator">-</code> <code class="nt">name</code><code class="p">:</code> <code class="l-Scalar-Plain">redis</code>
  <code class="nt">repository</code><code class="p">:</code> <code class="l-Scalar-Plain">https://kubernetes-charts.storage.example.com/</code>
  <code class="nt">version</code><code class="p">:</code> <code class="l-Scalar-Plain">10.5.7</code>
<code class="p-Indicator">-</code> <code class="nt">name</code><code class="p">:</code> <code class="l-Scalar-Plain">postgresql</code>
  <code class="nt">repository</code><code class="p">:</code> <code class="l-Scalar-Plain">https://charts.example.com/</code>
  <code class="nt">version</code><code class="p">:</code> <code class="l-Scalar-Plain">8.6.4</code>
<code class="nt">digest</code><code class="p">:</code> <code class="l-Scalar-Plain">sha256:529608876e9f959460d0521eee3f3d7be67a298a4c9385049914f44bd75ac9a9</code>
<code class="nt">generated</code><code class="p">:</code> <code class="s">"2020-07-17T11:10:34.023896-05:00"</code></pre>

<p>Dynamic fields such as <code>conditions</code> and <code>tags</code> are stripped out, and this file simply contains the <code>repository</code>, <code>name</code>, and <code>version</code> that were resolved for each dependency during the update, as well as a <code>digest</code> (SHA-256) and a <code>generated</code> timestamp.</p>

<p>Notice that the <code>alias: "@myrepo"</code> setting for the PostgreSQL dependency has been converted into <code>repository: https://charts.example.com/</code>. This means that sometime prior to updating the dependencies, a chart repository was added using the following command:<a data-type="indexterm" data-startref="appa-api2" id="idm46125982728936"/><a data-type="indexterm" data-startref="appa-api22" id="idm46125982728264"/><a data-type="indexterm" data-startref="appAver2" id="idm46125982727592"/></p>

<pre data-type="programlisting">$ helm repo add myrepo https://charts.example.com/</pre>
</div></section>





</div></section>













<section data-type="sect1" data-pdf-bookmark="API Version 1 (legacy)"><div class="sect1" id="idm46125982726072">
<h1>API Version 1 (legacy)</h1>

<p>Chart API version 1 is the original API version, and the only version <a data-type="indexterm" data-primary="versions of Helm" data-secondary="API Version 1 details" id="appa-verleg3"/><a data-type="indexterm" data-primary="Helm" data-secondary="versions" data-tertiary="API Version 1 details" id="appa-verleg2"/><a data-type="indexterm" data-primary="API Version 1 details" id="appa-verleg"/><a data-type="indexterm" data-primary="apiVersion in Chart.yaml file" id="idm46125982590056"/><a data-type="indexterm" data-primary="Chart.yaml file" data-secondary="apiVersion" id="idm46125982589416"/>recognized by Helm 2. The <code>apiVersion</code> field in <em>Chart.yaml</em> was first introduced in Helm 3 and is not recognized by Helm 2. Using Helm 2, all charts are assumed to be adhering to API version 1. In Helm 3, the <code>apiVersion</code> is strictly required.</p>

<p>Charts using API version 1 are guaranteed to be supported by both Helm 2 and Helm 3, but may not be able to support certain features that will only be made available to Helm 3 in the future.</p>








<section data-type="sect2" class="pagebreak-before less_space" data-pdf-bookmark="The Chart.yaml File"><div class="sect2" id="idm46125982586280">
<h2>The Chart.yaml File</h2>

<p>The format of the <em>Chart.yaml</em> file for charts using API version 1 is <a data-type="indexterm" data-primary="Chart.yaml file" data-secondary="API Version 1 details" id="idm46125982583976"/>nearly identical to that of charts using API version 2, with a couple notable differences.</p>

<p>The following is an example of a <em>Chart.yaml</em> file for a chart using API version 1:</p>

<pre data-type="programlisting" data-code-language="yaml"><code class="nt">apiVersion</code><code class="p">:</code><code> </code><code class="l-Scalar-Plain">v1</code><code> </code><a class="co" id="co_chart_api_versions_CO2-1" href="#callout_chart_api_versions_CO2-1"><img src="Images/1.png" alt="1"/></a><code>
</code><code class="nt">name</code><code class="p">:</code><code> </code><code class="l-Scalar-Plain">lemon</code><code>
</code><code class="nt">version</code><code class="p">:</code><code> </code><code class="l-Scalar-Plain">1.2.3</code><code>
</code><code class="nt">description</code><code class="p">:</code><code> </code><code class="l-Scalar-Plain">When</code><code class="l-Scalar-Plain"> </code><code class="l-Scalar-Plain">life</code><code class="l-Scalar-Plain"> </code><code class="l-Scalar-Plain">gives</code><code class="l-Scalar-Plain"> </code><code class="l-Scalar-Plain">you</code><code class="l-Scalar-Plain"> </code><code class="l-Scalar-Plain">lemons,</code><code class="l-Scalar-Plain"> </code><code class="l-Scalar-Plain">do</code><code class="l-Scalar-Plain"> </code><code class="l-Scalar-Plain">the</code><code class="l-Scalar-Plain"> </code><code class="l-Scalar-Plain">DevOps</code><code>
</code><code class="nt">appVersion</code><code class="p">:</code><code> </code><code class="l-Scalar-Plain">2.0.0</code><code>
</code><code class="nt">home</code><code class="p">:</code><code> </code><code class="l-Scalar-Plain">https://example.com</code><code>
</code><code class="nt">icon</code><code class="p">:</code><code> </code><code class="l-Scalar-Plain">https://example.com/img/lemon.png</code><code>
</code><code class="nt">sources</code><code class="p">:</code><code>
</code><code>  </code><code class="p-Indicator">-</code><code> </code><code class="l-Scalar-Plain">https://github.com/myorg/mychart</code><code>
</code><code class="nt">keywords</code><code class="p">:</code><code>
</code><code>  </code><code class="p-Indicator">-</code><code> </code><code class="l-Scalar-Plain">fruit</code><code>
</code><code>  </code><code class="p-Indicator">-</code><code> </code><code class="l-Scalar-Plain">citrus</code><code>
</code><code class="nt">maintainers</code><code class="p">:</code><code>
</code><code>  </code><code class="p-Indicator">-</code><code> </code><code class="nt">name</code><code class="p">:</code><code> </code><code class="l-Scalar-Plain">Carly</code><code class="l-Scalar-Plain"> </code><code class="l-Scalar-Plain">Jenkins</code><code>
</code><code>    </code><code class="nt">email</code><code class="p">:</code><code> </code><code class="l-Scalar-Plain">carly@mail.cj.example.com</code><code>
</code><code>    </code><code class="nt">url</code><code class="p">:</code><code> </code><code class="l-Scalar-Plain">https://cj.example.com</code><code>
</code><code>  </code><code class="p-Indicator">-</code><code> </code><code class="nt">name</code><code class="p">:</code><code> </code><code class="l-Scalar-Plain">William</code><code class="l-Scalar-Plain"> </code><code class="l-Scalar-Plain">James</code><code class="l-Scalar-Plain"> </code><code class="l-Scalar-Plain">Spode</code><code>
</code><code>    </code><code class="nt">email</code><code class="p">:</code><code> </code><code class="l-Scalar-Plain">william.j@mail.wjs.example.com</code><code>
</code><code>    </code><code class="nt">url</code><code class="p">:</code><code> </code><code class="l-Scalar-Plain">https://wjs.example.com</code><code>
</code><code class="nt">deprecated</code><code class="p">:</code><code> </code><code class="l-Scalar-Plain">false</code><code>
</code><code class="nt">annotations</code><code class="p">:</code><code>
</code><code>  </code><code class="nt">sour</code><code class="p">:</code><code> </code><code class="l-Scalar-Plain">1</code><code>
</code><code class="nt">kubeVersion</code><code class="p">:</code><code> </code><code class="s">"</code><code class="s">&gt;=1.14.0</code><code class="s">"</code><code>
</code><code class="nt">tillerVersion</code><code class="p">:</code><code> </code><code class="s">"</code><code class="s">&gt;=2.12.0</code><code class="s">"</code><code>
</code><code class="nt">engine</code><code class="p">:</code><code> </code><code class="l-Scalar-Plain">gotpl</code></pre>
<dl class="calloutlist">
<dt><a class="co" id="callout_chart_api_versions_CO2-1" href="#co_chart_api_versions_CO2-1"><img src="Images/1.png" alt="1" width="12" height="12"/></a></dt>
<dd><p>Field denoting chart API version 1</p></dd>
</dl>










<section data-type="sect3" data-pdf-bookmark="Differences from v2"><div class="sect3" id="idm46125982877144">
<h3>Differences from v2</h3>

<p>As it compares to the <em>Chart.yaml</em> example for API version 2, there are some subtle differences:<a data-type="indexterm" data-primary="Chart.yaml file" data-secondary="API Version 2 details" id="idm46125982879528"/></p>

<ul>
<li>
<p>The <code>apiVersion</code> field is set to <code>v1</code> (Note: In Helm 2, this field is not strictly required).</p>
</li>
<li>
<p>The <code>type</code> field is missing. There is no concept of library charts in API version 1.</p>
</li>
<li>
<p>The <code>dependencies</code> field is missing. In API version 1, chart dependencies are specified in a dedicated file called<a data-type="indexterm" data-primary="charts" data-secondary="dependencies" data-tertiary="Chart.yaml file" id="idm46125982886408"/><a data-type="indexterm" data-primary="dependencies between charts" data-secondary="requirements.yaml file" id="idm46125982889368"/><a data-type="indexterm" data-primary="dependencies between charts" data-secondary="Chart.yaml file" data-tertiary="API Version 1 details" id="idm46125982888456"/><a data-type="indexterm" data-primary="requirements.yaml file (legacy)" id="idm46125982891784"/><a data-type="indexterm" data-primary="YAML" data-secondary="requirements.yaml file" id="idm46125982891144"/> <em>requirements.yaml</em> (as described later in this section).</p>
</li>
<li>
<p>Two additional fields are present: <code>tillerVersion</code> and <code>engine</code>.</p>
</li>
</ul>
<div data-type="note" epub:type="note"><h6>Note</h6>
<p>In many ways, the two chart API versions can essentially be considered Helm 2 charts (<code>v1</code>) versus Helm 3 charts (<code>v2</code>). This is especially true since chart API version 2 was introduced at the exact same time that Helm 3 was released.</p>

<p>The reason these versions aren’t instead named <code>v2</code> and <code>v3</code> (denoting the Helm version) is because the API for charts is independently versioned from the API for the Helm CLI.</p>

<p>For example, if and when Helm 4 is released, it is possible that chart API version 2 will still be used. Likewise, if chart API version 2 is later determined to be insufficient for whatever reason, a new chart API version 3 could be introduced prior to another major Helm release.</p>
</div>
</div></section>













<section data-type="sect3" data-pdf-bookmark="Field: tillerVersion (legacy)"><div class="sect3" id="idm46125982906456">
<h3>Field: tillerVersion (legacy)</h3>

<p>A SemVer constraint specifying the Tiller version required for the chart to properly install.</p>

<p>Tiller is a legacy Helm server-side component only used in Helm 2. This field is ignored entirely when using Helm 3.</p>
</div></section>













<section data-type="sect3" data-pdf-bookmark="Field: engine (legacy)"><div class="sect3" id="idm46125982903960">
<h3>Field: engine (legacy)</h3>

<p>The name of the template engine to use. Defaults to <em>gotpl</em>.</p>
</div></section>



</div></section>













<section data-type="sect2" data-pdf-bookmark="The requirements.yaml File (Legacy)"><div class="sect2" id="idm46125982937704">
<h2>The requirements.yaml File (Legacy)</h2>

<p>In API version 1, there is an additional file called <em>requirements.yaml</em> that <a data-type="indexterm" data-primary="requirements.yaml file (legacy)" id="idm46125982909224"/><a data-type="indexterm" data-primary="dependencies between charts" data-secondary="requirements.yaml file" id="idm46125982908536"/><a data-type="indexterm" data-primary="YAML" data-secondary="requirements.yaml file" id="idm46125982912088"/>specifies the chart’s dependencies. The format of this file is identical to the <code>dependencies</code> field as defined in API version 2.</p>

<p>Here is an example of a standalone <em>requirements.yaml</em> file:</p>

<pre data-type="programlisting" data-code-language="yaml"><code class="nt">dependencies</code><code class="p">:</code>
  <code class="p-Indicator">-</code> <code class="nt">name</code><code class="p">:</code> <code class="l-Scalar-Plain">redis</code>
    <code class="nt">version</code><code class="p">:</code> <code class="l-Scalar-Plain">~10.5.7</code>
    <code class="nt">repository</code><code class="p">:</code> <code class="l-Scalar-Plain">https://kubernetes-charts.storage.example.com/</code>
    <code class="nt">condition</code><code class="p">:</code> <code class="l-Scalar-Plain">redis.enabled</code>
  <code class="p-Indicator">-</code> <code class="nt">name</code><code class="p">:</code> <code class="l-Scalar-Plain">postgresql</code>
    <code class="nt">version</code><code class="p">:</code> <code class="l-Scalar-Plain">8.6.4</code>
    <code class="nt">repository</code><code class="p">:</code> <code class="s">"@myrepo"</code>
    <code class="nt">tags</code><code class="p">:</code>
      <code class="p-Indicator">-</code> <code class="l-Scalar-Plain">database</code>
      <code class="p-Indicator">-</code> <code class="l-Scalar-Plain">backend</code></pre>

<p>For a detailed description of each of the subfields, please see the subsection titled “Field: dependencies” under API version <code>v2</code>.
In API version <code>v2</code>, the contents of this file are defined directly in <em>Chart.yaml</em>.</p>
</div></section>













<section data-type="sect2" data-pdf-bookmark="The requirements.lock File (Legacy)"><div class="sect2" id="idm46125982593576">
<h2>The requirements.lock File (Legacy)</h2>

<p>In API version 1, the chart dependency lock file has the name <em>requirements.lock</em>. <a data-type="indexterm" data-primary="requirements.lock file (legacy)" id="idm46125982597320"/>This file is identical in format and purpose to the <em>Chart.lock</em> file described under API version 2, just with a different name. For more information, please see the subsection titled “The Chart.lock File” under API version 2.<a data-type="indexterm" data-startref="appa-verleg" id="idm46125982595864"/><a data-type="indexterm" data-startref="appa-verleg2" id="idm46125982600904"/><a data-type="indexterm" data-startref="appa-verleg3" id="idm46125982600232"/></p>
</div></section>





</div></section>







</div></section></div></body></html>