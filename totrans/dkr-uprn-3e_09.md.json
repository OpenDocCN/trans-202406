["```\n$ git clone https://github.com/spkane/rocketchat-hubot-demo.git \\\n    --config core.autocrlf=input\n```", "```\n#!/bin/bash\n\n# This is here just to keep people from really running this.\nexit 1\n\n# The actual script\n#\n# Note: This has not been updated to directly mirror the docker-compose file\n#       since it is just intended to make a point.\n\nset -e\nset -u\n\nif [ $# -ne 0 ] && [ ${1} == \"down\" ]; then\n  docker rm -f hubot || true\n  docker rm -f zmachine || true\n  docker rm -f rocketchat || true\n  docker rm -f mongo-init-replica || true\n  docker rm -f mongo || true\n  docker network rm botnet || true\n  echo \"Environment torn down…\"\n  exit 0\nfi\n\n# Global Settings\nexport PORT=\"3000\"\nexport ROOT_URL=\"http://127.0.0.1:3000\"\nexport MONGO_URL=\"mongodb://mongo:27017/rocketchat\"\nexport MONGO_OPLOG_URL=\"mongodb://mongo:27017/local\"\nexport MAIL_URL=\"smtp://smtp.email\"\nexport RESPOND_TO_DM=\"true\"\nexport HUBOT_ALIAS=\". \"\nexport LISTEN_ON_ALL_PUBLIC=\"true\"\nexport ROCKETCHAT_AUTH=\"password\"\nexport ROCKETCHAT_URL=\"rocketchat:3000\"\nexport ROCKETCHAT_ROOM=\"\"\nexport ROCKETCHAT_USER=\"hubot\"\nexport ROCKETCHAT_PASSWORD=\"bot-pw!\"\nexport BOT_NAME=\"bot\"\nexport EXTERNAL_SCRIPTS=\"hubot-help,hubot-diagnostics,hubot-zmachine\"\nexport HUBOT_ZMACHINE_SERVER=\"http://zmachine:80\"\nexport HUBOT_ZMACHINE_ROOMS=\"zmachine\"\nexport HUBOT_ZMACHINE_OT_PREFIX=\"ot\"\n\ndocker build -t spkane/mongo:4.4 ./mongodb/docker\n\ndocker push spkane/mongo:4.4\ndocker pull spkane/zmachine-api:latest\ndocker pull rocketchat/rocket.chat:5.0.4\ndocker pull rocketchat/hubot-rocketchat:latest\n\ndocker rm -f hubot || true\ndocker rm -f zmachine || true\ndocker rm -f rocketchat || true\ndocker rm -f mongo-init-replica || true\ndocker rm -f mongo || true\n\ndocker network rm botnet || true\n\ndocker network create -d bridge botnet\n\ndocker container run-d \\\n  --name=mongo \\\n  --network=botnet \\\n  --restart unless-stopped \\\n  -v $(pwd)/mongodb/data/db:/data/db \\\n  spkane/mongo:4.4 \\\n  mongod --oplogSize 128 --replSet rs0\nsleep 5\ndocker container run-d \\\n  --name=mongo-init-replica \\\n  --network=botnet \\\n  spkane/mongo:4.4 \\\n  'mongo mongo/rocketchat --eval \"rs.initiate({ _id: ''rs0'', members: [ { … '\nsleep 5\ndocker container run-d \\\n  --name=rocketchat \\\n  --network=botnet \\\n  --restart unless-stopped  \\\n  -v $(pwd)/rocketchat/data/uploads:/app/uploads \\\n  -p 3000:3000 \\\n  -e PORT=${PORT} \\\n  -e ROOT_URL=${ROOT_URL} \\\n  -e MONGO_URL=${MONGO_URL} \\\n  -e MONGO_OPLOG_URL=${MONGO_OPLOG_URL} \\\n  -e MAIL_URL=${MAIL_URL} \\\n  rocketchat/rocket.chat:5.0.4\ndocker container run-d \\\n  --name=zmachine \\\n  --network=botnet \\\n  --restart unless-stopped  \\\n  -v $(pwd)/zmachine/saves:/root/saves \\\n  -v $(pwd)/zmachine/zcode:/root/zcode \\\n  -p 3002:80 \\\n  spkane/zmachine-api:latest\ndocker container run-d \\\n  --name=hubot \\\n  --network=botnet \\\n  --restart unless-stopped  \\\n  -v $(pwd)/hubot/scripts:/home/hubot/scripts \\\n  -p 3001:8080 \\\n  -e RESPOND_TO_DM=\"true\" \\\n  -e HUBOT_ALIAS=\". \" \\\n  -e LISTEN_ON_ALL_PUBLIC=\"true\" \\\n  -e ROCKETCHAT_AUTH=\"password\" \\\n  -e ROCKETCHAT_URL=\"rocketchat:3000\" \\\n  -e ROCKETCHAT_ROOM=\"\" \\\n  -e ROCKETCHAT_USER=\"hubot\" \\\n  -e ROCKETCHAT_PASSWORD=\"bot-pw!\" \\\n  -e BOT_NAME=\"bot\" \\\n  -e EXTERNAL_SCRIPTS=\"hubot-help,hubot-diagnostics,hubot-zmachine\" \\\n  -e HUBOT_ZMACHINE_SERVER=\"http://zmachine:80\" \\\n  -e HUBOT_ZMACHINE_ROOMS=\"zmachine\" \\\n  -e HUBOT_ZMACHINE_OT_PREFIX=\"ot\" \\\n  rocketchat/hubot-rocketchat:latest\necho \"Environment setup…\"\nexit 0\n```", "```\nversion: '3'\nservices:\n  mongo:\n    build:\n      context: ../mongodb/docker\n    image: spkane/mongo:4.4\n    restart: unless-stopped\n    environment:\n      MONGODB_REPLICA_SET_MODE: primary\n      MONGODB_REPLICA_SET_NAME: rs0\n      MONGODB_PORT_NUMBER: 27017\n      MONGODB_INITIAL_PRIMARY_HOST: mongodb\n      MONGODB_INITIAL_PRIMARY_PORT_NUMBER: 27017\n      MONGODB_ADVERTISED_HOSTNAME: mongo\n      MONGODB_ENABLE_JOURNAL: \"true\"\n      ALLOW_EMPTY_PASSWORD: \"yes\"\n    # Port 27017 already exposed by upstream\n    # See the newer upstream Dockerfile:\n    # https://github.com/bitnami/containers/blob/\n    # f9fb3f8a6323fb768fd488c77d4f111b1330bd0e/bitnami/\n    # mongodb/5.0/debian-11/Dockerfile#L52\n    networks:\n      - botnet\n  rocketchat:\n    image: rocketchat/rocket.chat:5.0.4\n    restart: unless-stopped\n    labels:\n      traefik.enable: \"true\"\n      traefik.http.routers.rocketchat.rule: Host(`127.0.0.1`)\n      traefik.http.routers.rocketchat.tls: \"false\"\n      traefik.http.routers.rocketchat.entrypoints: http\n    volumes:\n      - \"../rocketchat/data/uploads:/app/uploads\"\n    environment:\n      ROOT_URL: http://127.0.0.1:3000\n      PORT: 3000\n      MONGO_URL: \"mongodb://mongo:27017/rocketchat?replicaSet=rs0\"\n      MONGO_OPLOG_URL: \"mongodb://mongo:27017/local?replicaSet=rs0\"\n      DEPLOY_METHOD: docker\n    depends_on:\n      mongo:\n        condition: service_healthy\n    ports:\n      - 3000:3000\n    networks:\n      - botnet\n  zmachine:\n    image: spkane/zmachine-api:latest\n    restart: unless-stopped\n    volumes:\n      - \"../zmachine/saves:/root/saves\"\n      - \"../zmachine/zcode:/root/zcode\"\n    depends_on:\n      - rocketchat\n    expose:\n      - \"80\"\n    networks:\n      - botnet\n  hubot:\n    image: rocketchat/hubot-rocketchat:latest\n    restart: unless-stopped\n    volumes:\n      - \"../hubot/scripts:/home/hubot/scripts\"\n    environment:\n      RESPOND_TO_DM: \"true\"\n      HUBOT_ALIAS: \". \"\n      LISTEN_ON_ALL_PUBLIC: \"true\"\n      ROCKETCHAT_AUTH: \"password\"\n      ROCKETCHAT_URL: \"rocketchat:3000\"\n      ROCKETCHAT_ROOM: \"\"\n      ROCKETCHAT_USER: \"hubot\"\n      ROCKETCHAT_PASSWORD: \"bot-pw!\"\n      BOT_NAME: \"bot\"\n      EXTERNAL_SCRIPTS: \"hubot-help,hubot-diagnostics,hubot-zmachine\"\n      HUBOT_ZMACHINE_SERVER: \"http://zmachine:80\"\n      HUBOT_ZMACHINE_ROOMS: \"zmachine\"\n      HUBOT_ZMACHINE_OT_PREFIX: \"ot\"\n    depends_on:\n      - zmachine\n    ports:\n      - 3001:8080\n    networks:\n      - botnet\nnetworks:\n  botnet:\n    driver: bridge\n```", "```\nversion: '3'\n```", "```\nnetworks:\n  botnet:\n    driver: bridge\n```", "```\n    build:\n      context: ../../mongodb/docker\n```", "```\nFROM mongo:4.4\n\nCOPY docker-healthcheck /usr/local/bin/\n\n# Useful Information:\n# https://docs.docker.com/engine/reference/builder/#healthcheck\n# https://docs.docker.com/compose/compose-file/#healthcheck\nHEALTHCHECK CMD [\"docker-healthcheck\"]\n```", "```\n    image: spkane/mongo:4.4\n```", "```\n    restart: unless-stopped\n```", "```\n    environment:\n      MONGODB_REPLICA_SET_MODE: primary\n      MONGODB_REPLICA_SET_NAME: rs0\n      MONGODB_PORT_NUMBER: 27017\n      MONGODB_INITIAL_PRIMARY_HOST: mongodb\n      MONGODB_INITIAL_PRIMARY_PORT_NUMBER: 27017\n      MONGODB_ADVERTISED_HOSTNAME: mongo\n      MONGODB_ENABLE_JOURNAL: \"true\"\n      ALLOW_EMPTY_PASSWORD: \"yes\"\n```", "```\n    networks:\n      - botnet\n```", "```\n    volumes:\n      - \"../rocketchat/data/uploads:/app/uploads\"\n```", "```\n    environment:\n      …\n      MONGO_URL: \"mongodb://mongo:27017/rocketchat?replicaSet=rs0\"\n      …\n```", "```\n    depends_on:\n      mongo:\n        condition: service_healthy\n```", "```\n    ports:\n      - 3000:3000\n```", "```\n    expose:\n      - \"80\"\n```", "```\n$ cd rocketchat-hubot-demo/compose\n```", "```\n$ docker compose config\n```", "```\nservices.mongo Additional property builder is not allowed\n```", "```\n$ docker compose build\n\n => [internal] load build definition from Dockerfile                      0.0s\n => => transferring dockerfile: 32B                                       0.0s\n => [internal] load .dockerignore                                         0.0s\n => => transferring context: 2B                                           0.0s\n => [internal] load metadata for docker.io/bitnami/mongodb:4.4            1.2s\n => [auth] bitnami/mongodb:pull token for registry-1.docker.io            0.0s\n => [internal] load build context                                         0.0s\n => => transferring context: 40B                                          0.0s\n => [1/2] FROM docker.io/bitnami/mongodb:4.4@sha256:9162…ae209            0.0s\n => CACHED [2/2] COPY docker-healthcheck /usr/local/bin/                  0.0s\n => exporting to image                                                    0.0s\n => => exporting layers                                                   0.0s\n => => writing image sha256:a6ef…da808                                    0.0s\n => => naming to docker.io/spkane/mongo:4.4                               0.0s\n```", "```\n$ docker compose up -d\n\n[+] Running 5/5\n ⠿ Network compose_botnet                  Created                        0.0s\n ⠿ Container compose-mongo-1               Healthy                       62.0s\n ⠿ Container compose-rocketchat-1          Started                       62.3s\n ⠿ Container compose-zmachine-1            Started                       62.5s\n ⠿ Container compose-hubot-1               Started                       62.6s\n```", "```\n$ docker compose logs\n```", "```\n$ docker compose logs rocketchat | grep \"SERVER RUNNING\"\n\ncompose-rocketchat-1  | |                SERVER RUNNING                |\n```", "```\n$ docker compose restart hubot\nRestarting unix_hubot_1 … done\n```", "```\n/invite @hubot\n```", "```\n> . help\n. adapter - Reply with the adapter\n. echo <text> - Reply back with <text>\n. help - Displays all of the help commands that this bot knows about.\n. help <query> - Displays all help commands that match <query>.\n. ping - Reply with pong\n. time - Reply with current time\n…\n```", "```\n. ping\n```", "```\n. time\n```", "```\nThere's no game for zmachine!\n```", "```\n. z start adventure\n\nmore\nlook\ngo east\nexamine keys\nget keys\n\n. z save firstgame\n. z stop\n. z start adventure\n. z restore firstgame\n\ninventory\n```", "```\n$ docker compose top\n\ncompose-hubot-1\nUID  PID   … CMD\n1001 73342 … /usr/bin/qemu-x86_64 /bin/sh /bin/sh -c node -e \"console.l…\"\n1001 73459 … /usr/bin/qemu-x86_64 /usr/local/bin/node node node_modules/…\n\ncompose-mongo-1\nUID  PID   … CMD\n1001 71243 … /usr/bin/qemu-x86_64 /opt/bitnami/mongodb/bin/mongod /opt/…\n\ncompose-rocketchat-1\nUID   PID   … CMD\n65533 71903 … /usr/bin/qemu-x86_64 /usr/local/bin/node node main.js\n\ncompose-zmachine-1\nUID  PID   … CMD\nroot 71999 … /usr/bin/qemu-x86_64 /usr/local/bin/node node /root/src/server.js\nroot 75078 … /usr/bin/qemu-x86_64 /root/src/../frotz/dfrotz /root/src/…\n```", "```\n$ docker compose exec mongo bash\n\nI have no name!@0078134f9370:/$ mongo\nMongoDB shell version v4.4.15\nconnecting to: mongodb://127.0.0.1:27017/?compressors=disabled&…\nImplicit session: session { \"id\" : UUID(\"daec9543-bb9c-4e8c-ba6b…\") }\nMongoDB server version: 4.4.15\n…\nrs0:PRIMARY> exit\nbye\nI have no name!@0078134f9370:/$ exit\nexit\n```", "```\n$ docker compose stop zmachine\n[+] Running 1/1\n ⠿ Container compose-zmachine-1  Stopped                                  0.3s\n$ docker compose start zmachine\n[+] Running 2/2\n ⠿ Container compose-mongo-1     Healthy                                  0.5s\n ⠿ Container compose-zmachine-1  Started                                  0.4s\n$ docker compose pause\n[+] Running 4/0\n ⠿ Container compose-mongo-1       Paused                                 0.0s\n ⠿ Container compose-zmachine-1    Paused                                 0.0s\n ⠿ Container compose-rocketchat-1  Paused                                 0.0s\n ⠿ Container compose-hubot-1       Paused                                 0.0s\n$ docker compose unpause\n[+] Running 4/0\n ⠿ Container compose-zmachine-1    Unpaused                               0.0s\n ⠿ Container compose-hubot-1       Unpaused                               0.0s\n ⠿ Container compose-rocketchat-1  Unpaused                               0.0s\n ⠿ Container compose-mongo-1       Unpaused                               0.0s\n```", "```\n$ docker compose down\n[+] Running 5/5\n ⠿ Container compose-hubot-1       Removed                               10.4s\n ⠿ Container compose-zmachine-1    Removed                                0.1s\n ⠿ Container compose-rocketchat-1  Removed                                0.6s\n ⠿ Container compose-mongo-1       Removed                                0.9s\n ⠿ Network compose_botnet          Removed                                0.1s\n```", "```\n    environment:\n      RESPOND_TO_DM: \"true\"\n      HUBOT_ALIAS: \". \"\n      LISTEN_ON_ALL_PUBLIC: \"true\"\n      ROCKETCHAT_AUTH: \"password\"\n      ROCKETCHAT_URL: \"rocketchat:3000\"\n      ROCKETCHAT_ROOM: \"\"\n      ROCKETCHAT_USER: \"hubot\"\n      ROCKETCHAT_PASSWORD: \"bot-pw!\"\n      BOT_NAME: \"bot\"\n      EXTERNAL_SCRIPTS: \"hubot-help,hubot-diagnostics,hubot-zmachine\"\n      HUBOT_ZMACHINE_SERVER: \"http://zmachine:80\"\n      HUBOT_ZMACHINE_ROOMS: \"zmachine\"\n      HUBOT_ZMACHINE_OT_PREFIX: \"ot\"\n```", "```\n    environment:\n      RESPOND_TO_DM: ${HUBOT_RESPOND_TO_DM:-true}\n      HUBOT_ALIAS: ${HUBOT_ALIAS:-. }\n      LISTEN_ON_ALL_PUBLIC: ${HUBOT_LISTEN_ON_ALL_PUBLIC:-true}\n      ROCKETCHAT_AUTH: ${HUBOT_ROCKETCHAT_AUTH:-password}\n      ROCKETCHAT_URL: ${HUBOT_ROCKETCHAT_URL:-rocketchat:3000}\n      ROCKETCHAT_ROOM: ${HUBOT_ROCKETCHAT_ROOM:-}\n      ROCKETCHAT_USER: ${HUBOT_ROCKETCHAT_USER:-hubot}\n      ROCKETCHAT_PASSWORD: ${HUBOT_ROCKETCHAT_PASSWORD:-bot-pw!}\n      BOT_NAME: ${HUBOT_BOT_NAME:-bot}\n      EXTERNAL_SCRIPTS: ${HUBOT_EXTERNAL_SCRIPTS:-hubot-help,\n                          hubot-diagnostics,hubot-zmachine}\n      HUBOT_ZMACHINE_SERVER: ${HUBOT_ZMACHINE_SERVER:-http://zmachine:80}\n      HUBOT_ZMACHINE_ROOMS: ${HUBOT_ZMACHINE_ROOMS:-zmachine}\n      HUBOT_ZMACHINE_OT_PREFIX: ${HUBOT_ZMACHINE_OT_PREFIX:-ot}\n```", "```\n      ROCKETCHAT_PASSWORD: \"bot-pw!\"\n```", "```\n      ROCKETCHAT_PASSWORD: ${HUBOT_ROCKETCHAT_PASSWORD:-bot-pw!}\n```", "```\n$ docker compose -f docker-compose-defaults.yaml up -d\n\n[+] Running 5/5\n ⠿ Network compose_botnet          Created                                0.0s\n ⠿ Container compose-mongo-1       Healthy                               31.0s\n ⠿ Container compose-rocketchat-1  Started                               31.2s\n ⠿ Container compose-zmachine-1    Started                               31.5s\n ⠿ Container compose-hubot-1       Started                               31.8s\n```", "```\n$ docker compose -f docker-compose-defaults.yaml down\n…\n\n$ docker compose -f docker-compose-defaults.yaml config | \\\n    grep ROCKETCHAT_PASSWORD\n\n ROCKETCHAT_PASSWORD: bot-pw!\n\n$ HUBOT_ROCKETCHAT_PASSWORD=\"my-unique-pw\" docker compose \\\n    -f docker-compose-defaults.yaml config | \\\n    grep ROCKETCHAT_PASSWORD\n\n ROCKETCHAT_PASSWORD: my-unique-pw\n```", "```\n      ROCKETCHAT_PASSWORD: ${HUBOT_ROCKETCHAT_PASSWORD:-bot-pw!}\n```", "```\n      ROCKETCHAT_PASSWORD:\n        ${HUBOT_ROCKETCHAT_PASSWORD:?HUBOT_ROCKETCHAT_PASSWORD must be set!}\n```", "```\n$ docker compose -f docker-compose-env.yaml up -d\n\ninvalid interpolation format for\n services.hubot.environment.ROCKETCHAT_PASSWORD.\nYou may need to escape any $ with another $.\nrequired variable HUBOT_ROCKETCHAT_PASSWORD is missing a value:\n HUBOT_ROCKETCHAT_PASSWORD must be set!\n```", "```\n$ HUBOT_ROCKETCHAT_PASSWORD=\"a-b3tt3r-pw\" docker compose \\\n    -f docker-compose-env.yaml up -d\n\n[+] Running 5/5\n ⠿ Network compose_botnet          Created                      0.0s\n ⠿ Container compose-mongo-1       Healthy                     31.0s\n ⠿ Container compose-rocketchat-1  Started                     31.3s\n ⠿ Container compose-zmachine-1    Started                     31.5s\n ⠿ Container compose-hubot-1       Started                     31.8s\n\n$ docker compose -f docker-compose-env.yaml down\n…\n```", "```\n$ grep .env ../.gitignore\n.env\n```", "```\nHUBOT_ROCKETCHAT_PASSWORD=th2l@stPW!\n```", "```\n$ git status\nOn branch main\nYour branch is up to date with 'origin/main'.\n\nnothing to commit, working tree clean\n```", "```\n$ docker compose -f docker-compose-env.yaml up -d\n\n[+] Running 5/5\n ⠿ Network compose_botnet          Created                      0.0s\n ⠿ Container compose-mongo-1       Healthy                     31.1s\n ⠿ Container compose-rocketchat-1  Started                     31.3s\n ⠿ Container compose-zmachine-1    Started                     31.5s\n ⠿ Container compose-hubot-1       Started                     31.8s\n```", "```\n$ docker compose \\\n    -f docker-compose-env.yaml config | \\\n    grep ROCKETCHAT_PASSWORD\n\n ROCKETCHAT_PASSWORD: th2l@stPW!\n```"]