- en: Chapter 2\. Requirements
  prefs:
  - PREF_H1
  type: TYPE_NORMAL
- en: This book is about GitOps and Kubernetes, and as such, you’ll need a container
    registry to publish the containers built throughout the book (see [Recipe 2.1](#recipe_2_1)).
  prefs: []
  type: TYPE_NORMAL
- en: Also, a Git service is required to implement GitOps methodologies; you’ll learn
    how to register to public Git services like GitHub or GitLab (see [Recipe 2.2](#recipe_2_2)).
  prefs: []
  type: TYPE_NORMAL
- en: Finally, it would be best to have a Kubernetes cluster to run the book examples.
    Although we’ll show you how to install Minikube as a Kubernetes cluster (see [Recipe
    2.3](#recipe_2_3)), and the book is tested with Minikube, any Kubernetes installation
    should work as well.
  prefs: []
  type: TYPE_NORMAL
- en: Let’s prepare your laptop to execute the recipes provided in this book.
  prefs: []
  type: TYPE_NORMAL
- en: 2.1 Registering for a Container Registry
  prefs:
  - PREF_H1
  type: TYPE_NORMAL
- en: Problem
  prefs:
  - PREF_H2
  type: TYPE_NORMAL
- en: You want to create an account for a container registry service so you can store
    generated containers.
  prefs: []
  type: TYPE_NORMAL
- en: Solution
  prefs:
  - PREF_H2
  type: TYPE_NORMAL
- en: You may need to publish some containers into a public container registry as
    you work through this book. Use Docker Hub (`docker.io`) to publish containers.
  prefs: []
  type: TYPE_NORMAL
- en: If you already have an account with `docker.io`, you can skip the following
    steps. Otherwise, keep reading to learn how to sign up for an account.
  prefs: []
  type: TYPE_NORMAL
- en: Discussion
  prefs:
  - PREF_H2
  type: TYPE_NORMAL
- en: Visit [DockerHub](https://hub.docker.com) to sign up for an account. The page
    should be similar to [Figure 2-1](#fig-211).
  prefs: []
  type: TYPE_NORMAL
- en: '![DockerHub registration page](assets/gocb_0201.png)'
  prefs: []
  type: TYPE_IMG
- en: Figure 2-1\. DockerHub registration page
  prefs:
  - PREF_H6
  type: TYPE_NORMAL
- en: When the page is loaded, fill in the form by setting a Docker ID, Email, and
    Password, and click the Sign Up button.
  prefs: []
  type: TYPE_NORMAL
- en: When you are registered and your account confirmed, you’ll be ready to publish
    containers under the previous step’s Docker ID.
  prefs: []
  type: TYPE_NORMAL
- en: See Also
  prefs:
  - PREF_H2
  type: TYPE_NORMAL
- en: Another popular container registry service is quay.io. It can be used on the
    cloud (like docker.io) or installed on-premises.
  prefs: []
  type: TYPE_NORMAL
- en: Visit [the website](https://quay.io) to get more information about Quay. The
    page should be similar to [Figure 2-2](#fig-212).
  prefs: []
  type: TYPE_NORMAL
- en: '![Quay registration page](assets/gocb_0202.png)'
  prefs: []
  type: TYPE_IMG
- en: Figure 2-2\. Quay registration page
  prefs:
  - PREF_H6
  type: TYPE_NORMAL
- en: 2.2 Registering for a Git Repository
  prefs:
  - PREF_H1
  type: TYPE_NORMAL
- en: Problem
  prefs:
  - PREF_H2
  type: TYPE_NORMAL
- en: You want to create an account for a Git service so you can store source code
    in a repository.
  prefs: []
  type: TYPE_NORMAL
- en: Solution
  prefs:
  - PREF_H2
  type: TYPE_NORMAL
- en: You may need to publish some source code into a public Git service in this book.
    Use GitHub as a Git service to create and fork Git repositories.
  prefs: []
  type: TYPE_NORMAL
- en: If you already have an account with GitHub, you can skip the following steps,
    otherwise keep reading to learn how to sign up for an account.
  prefs: []
  type: TYPE_NORMAL
- en: Discussion
  prefs:
  - PREF_H2
  type: TYPE_NORMAL
- en: Visit the [GitHub web page](https://github.com) to sign up for an account. The
    page should be similar to [Figure 2-3](#fig-221).
  prefs: []
  type: TYPE_NORMAL
- en: '![GitHub welcome page to register](assets/gocb_0203.png)'
  prefs: []
  type: TYPE_IMG
- en: Figure 2-3\. GitHub welcome page to register
  prefs:
  - PREF_H6
  type: TYPE_NORMAL
- en: When the page is loaded, click the Sign up for GitHub button (see [Figure 2-3](#fig-221))
    and follow the instructions. The Sign in page should be similar to [Figure 2-4](#fig-222).
  prefs: []
  type: TYPE_NORMAL
- en: '![Sign in GitHub page](assets/gocb_0204.png)'
  prefs: []
  type: TYPE_IMG
- en: Figure 2-4\. Sign In GitHub page
  prefs:
  - PREF_H6
  type: TYPE_NORMAL
- en: When you are registered and your account confirmed, you’ll be ready to start
    creating or forking Git repositories into your GitHub account.
  prefs: []
  type: TYPE_NORMAL
- en: Also, you’ll need to fork the [book source code repository](https://oreil.ly/uqjTA)
    into your account. Click the Fork button shown in [Figure 2-5](#fig-223).
  prefs: []
  type: TYPE_NORMAL
- en: '![Fork button](assets/gocb_0205.png)'
  prefs: []
  type: TYPE_IMG
- en: Figure 2-5\. Fork button
  prefs:
  - PREF_H6
  type: TYPE_NORMAL
- en: Then select your account in the Owner section, if not selected yet, and click
    the button “Create fork” button as shown in [Figure 2-6](#fig-224).
  prefs: []
  type: TYPE_NORMAL
- en: '![Create Fork button](assets/gocb_0206.png)'
  prefs: []
  type: TYPE_IMG
- en: Figure 2-6\. Create fork button
  prefs:
  - PREF_H6
  type: TYPE_NORMAL
- en: 'To follow along with the example in the following chapters, you can clone this
    book’s repositories locally. When not mentioned explicitly, we will refer to the
    examples available in [the chapters repo](https://github.com/gitops-cookbook/chapters):'
  prefs: []
  type: TYPE_NORMAL
- en: '[PRE0]'
  prefs: []
  type: TYPE_PRE
- en: See Also
  prefs:
  - PREF_H2
  type: TYPE_NORMAL
- en: Another popular Git service is GitLab. It can be used on the cloud or installed
    on-premises.
  prefs: []
  type: TYPE_NORMAL
- en: Visit [GitLab](https://about.gitlab.com) for more information.
  prefs: []
  type: TYPE_NORMAL
- en: 2.3 Creating a Local Kubernetes Cluster
  prefs:
  - PREF_H1
  type: TYPE_NORMAL
- en: Problem
  prefs:
  - PREF_H2
  type: TYPE_NORMAL
- en: You want to spin up a Kubernetes cluster locally.
  prefs: []
  type: TYPE_NORMAL
- en: Solution
  prefs:
  - PREF_H2
  type: TYPE_NORMAL
- en: In this book, you may need a Kubernetes cluster to run most recipes. Use Minikube
    to spin up a Kubernetes cluster in your local machine.
  prefs: []
  type: TYPE_NORMAL
- en: Discussion
  prefs:
  - PREF_H2
  type: TYPE_NORMAL
- en: Minikube uses container/virtualization technology like Docker, Podman, Hyperkit,
    Hyper-V, KVM, or VirtualBox to boot up a Linux machine with a Kubernetes cluster
    installed inside.
  prefs: []
  type: TYPE_NORMAL
- en: For simplicity and to use an installation that will work in most of the platforms,
    we are going to use VirtualBox as a virtualization system.
  prefs: []
  type: TYPE_NORMAL
- en: To install VirtualBox (if you haven’t done it yet), visit [the home page](https://oreil.ly/T93oU)
    and click the Download link as shown in [Figure 2-7](#vb_homepage).
  prefs: []
  type: TYPE_NORMAL
- en: Note
  prefs:
  - PREF_H6
  type: TYPE_NORMAL
- en: For those using macOS, the following instructions have been tested on a Mac
    AMD64 with macOS Monterey and VirtualBox 6.1\. At the time of writing this book,
    there were some incompatibilities when using the ARM version or macOS Ventura.
  prefs: []
  type: TYPE_NORMAL
- en: '![gocb 0208](assets/gocb_0208.png)'
  prefs: []
  type: TYPE_IMG
- en: Figure 2-7\. VirtualBox home page
  prefs:
  - PREF_H6
  type: TYPE_NORMAL
- en: Select the package based on the operating system, download it, and install it
    on your computer. After installing VirtualBox (we used the 6.1.x version), the
    next step is to download and spin up a cluster using Minikube.
  prefs: []
  type: TYPE_NORMAL
- en: Visit [the GitHub repo](https://oreil.ly/mmwVP), unfold the Assets section,
    and download the Minikube file that matches your platform specification. For example,
    in the case of an AMD Mac, you should select *minikube-darwin-amd64* as shown
    in [Figure 2-8](#minikube_download).
  prefs: []
  type: TYPE_NORMAL
- en: Uncompress the file (if necessary) and copy it with the name *minikube* in a
    directory accessible by the `PATH` environment variable such as (`/usr/local/bin`)
    in Linux or macOS.
  prefs: []
  type: TYPE_NORMAL
- en: With VirtualBox and Minikube installed, we can spin up a Kubernetes cluster
    in the local machine. Let’s install Kubernetes version 1.23.0 as it was the latest
    version at the time of writing (although any other previous versions can be used
    as well).
  prefs: []
  type: TYPE_NORMAL
- en: '![gocb 0209](assets/gocb_0209.png)'
  prefs: []
  type: TYPE_IMG
- en: Figure 2-8\. Minikube release page
  prefs:
  - PREF_H6
  type: TYPE_NORMAL
- en: 'Run the following command in a terminal window to spin up the Kubernetes cluster
    with 8 GB of memory assigned:'
  prefs: []
  type: TYPE_NORMAL
- en: '[PRE1]'
  prefs: []
  type: TYPE_PRE
- en: '[![1](assets/1.png)](#co_requirements_CO1-1)'
  prefs: []
  type: TYPE_NORMAL
- en: Creates a Kubernetes cluster with version 1.23.0
  prefs: []
  type: TYPE_NORMAL
- en: '[![2](assets/2.png)](#co_requirements_CO1-2)'
  prefs: []
  type: TYPE_NORMAL
- en: Uses VirtualBox as virtualization tool
  prefs: []
  type: TYPE_NORMAL
- en: '[![3](assets/3.png)](#co_requirements_CO1-3)'
  prefs: []
  type: TYPE_NORMAL
- en: Creates a profile name (`gitops`) to the cluster to refer to it later
  prefs: []
  type: TYPE_NORMAL
- en: 'The output lines should be similar to:'
  prefs: []
  type: TYPE_NORMAL
- en: '[PRE2]'
  prefs: []
  type: TYPE_PRE
- en: '[![1](assets/1.png)](#co_requirements_CO2-1)'
  prefs: []
  type: TYPE_NORMAL
- en: Starts the `gitops` cluster
  prefs: []
  type: TYPE_NORMAL
- en: '[![2](assets/2.png)](#co_requirements_CO2-2)'
  prefs: []
  type: TYPE_NORMAL
- en: Boots up the Kubernetes cluster control plane
  prefs: []
  type: TYPE_NORMAL
- en: '[![3](assets/3.png)](#co_requirements_CO2-3)'
  prefs: []
  type: TYPE_NORMAL
- en: Detects that we have an old `kubectl` tool
  prefs: []
  type: TYPE_NORMAL
- en: '[![4](assets/4.png)](#co_requirements_CO2-4)'
  prefs: []
  type: TYPE_NORMAL
- en: Cluster is up and running
  prefs: []
  type: TYPE_NORMAL
- en: To align the Kubernetes cluster and Kubernetes CLI tool version, you can download
    the `kubectl` 1.23.0 version running from *https://dl.k8s.io/release/v1.23.0/bin/darwin/amd64/kubectl*.
  prefs: []
  type: TYPE_NORMAL
- en: Note
  prefs:
  - PREF_H6
  type: TYPE_NORMAL
- en: You need to change `darwin/amd64` to your specific architecture. For example,
    in Windows it might be `windows/amd64/kubectl.exe`.
  prefs: []
  type: TYPE_NORMAL
- en: Copy the `kubectl` CLI tool in a directory accessible by the `PATH` environment
    variable such as (`/usr/local/bin`) in Linux or macOS.
  prefs: []
  type: TYPE_NORMAL
- en: See Also
  prefs:
  - PREF_H2
  type: TYPE_NORMAL
- en: There are other ways to run Kubernetes in a local machine.
  prefs: []
  type: TYPE_NORMAL
- en: One that is very popular is [kind](https://oreil.ly/8B2bH).
  prefs: []
  type: TYPE_NORMAL
- en: Although the examples in this book should work in any Kubernetes implementation
    as only standard resources are used, we’ve only tested with Minikube.
  prefs: []
  type: TYPE_NORMAL
