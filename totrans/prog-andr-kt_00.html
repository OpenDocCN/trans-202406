<html><head></head><body><section data-pdf-bookmark="Preface" data-type="preface" epub:type="preface"><div class="preface" id="idm46669761272928">&#13;
<h1>Preface</h1>&#13;
&#13;
&#13;
<p>JetBrains created Kotlin for two reasons: there was no language that filled all the gaps in Android development&#13;
using (legacy) Java libraries, and a new language would allow Android development to set trends, rather than just&#13;
follow them.</p>&#13;
&#13;
<p>In February 2015, Kotlin 1.0 was officially announced. Kotlin is concise, safe, pragmatic, and focused on interoperability with Java code. It can be used everywhere Java is used today: for server-side development, Android apps, desktop or portable clients, IoT device programming, and much, much more. Kotlin gained popularity among Android developers quite rapidly, and Google’s decision to adopt Kotlin as the official language of Android development resulted in skyrocketing interest in the language. According to the <a href="https://developer.android.com/kotlin">Android Developers website</a>, more than 60% of professional Android developers currently use Kotlin.</p>&#13;
&#13;
<p>The learning curve in Android is rather steep: admittedly, it’s hard to learn and harder to master. Part of the&#13;
Android developer “upbringing,” for many, is to be exposed over time to unintended interactions between the Android operating system and the application. This book intends to bring those kinds of exposures to readers in depth and up close by examining such problems in Android. We’ll talk not only about Kotlin and Java, but also about the concurrency problems that arise when using Android and how Kotlin is able to solve them.</p>&#13;
&#13;
<p>We will sometimes compare Kotlin to Java when we believe doing so provides better insight (especially since most readers are expected to have a Java background). We can demonstrate, with working examples, how to bridge that gap, and how the underlying concepts of most Kotlin operations are more similar to the Java equivalent than not. The tasks will be organized by topic to provide software engineers with a structured decomposition of that mass of information, and they will show how to make an application robust and maintainable.</p>&#13;
&#13;
<p>Additionally, users familiar with Java—including Android developers—will find their learning curve dramatically flatten when we present each of the common tasks in&#13;
both Java and Kotlin. Where appropriate, we’ll discuss the difference and the pitfalls of one or both,&#13;
but we hope to provide bite-size and easily digestible examples of a task that will “just work,”&#13;
and enable the reader to consume and adapt to the modern paradigm, as well as become aware of the&#13;
significance of the updated code immediately and instinctively.</p>&#13;
&#13;
<p>While Kotlin is fully interoperable with Java, other Java application development (server-side programming,&#13;
desktop clients, middleware, etc.) has not caught on to the extent that Android has. This is largely due to the&#13;
maintainer of Android (Google) strongly “encouraging” its users to make the change. Users are regularly migrating&#13;
to Kotlin, but even more still fall back to Java for mission-critical work. Our hope is that this book will&#13;
serve as the lifeline an Android developer needs to feel safe in committing to the advantages and simplicity&#13;
that Kotlin represents.</p>&#13;
&#13;
&#13;
&#13;
&#13;
&#13;
&#13;
<section data-pdf-bookmark="Who Should Read This Book" data-type="sect1"><div class="sect1" id="idm46669761252400">&#13;
<h1>Who Should Read This Book</h1>&#13;
&#13;
<p><em>Any of the over six million Android engineers</em>. We believe that virtually every Android engineer could benefit from this book. While a small percentage will be fluent in Kotlin, even they will likely learn something from the information we’ll present. But realistically, we’re targeting the very large majority who haven’t made the transition to Kotlin. This book is also for those who have dipped a toe in but not gained the same level of familiarity with Kotlin that they may have accrued in Java-centric Android development:</p>&#13;
<dl>&#13;
<dt>Scenario 1</dt>&#13;
<dd>&#13;
<p>A reader is proficient in Java, heard of this new Kotlin language, and wants to try it out. So they read some online tutorial and start using it and it works great. Soon they realize that this isn’t just a new syntax.&#13;
The idioms aren’t the same (e.g., functional programming, coroutines) and a whole new way of developing is now possible. But they lack guidelines, structure. For them, this book is a perfect fit.</p>&#13;
</dd>&#13;
<dt>Scenario 2</dt>&#13;
<dd>&#13;
<p>A reader is part of a small team of Java developers. They have discussions about whether they should start including Kotlin in their project. Even if Kotlin is said to be 100% interoperable with Java, some colleagues argue that introducing another language will add complexity to the project. Others suggest it might limit the number of colleagues who will be able to work on the project because of the need to master two languages. The reader could use this book to convince their colleagues, if they can show that the benefits will outweigh the costs.</p>&#13;
</dd>&#13;
<dt>Scenario 3</dt>&#13;
<dd>&#13;
<p>An experienced Android developer may have played around with Kotlin or written a feature in it, but still falls back to the home base of Java when things need to get done. This was the scenario we found ourselves in&#13;
when realizing the book we’re pitching now would have made our lives much easier. This is also the state we see most commonly around us—many Android devs have touched Kotlin, and many feel like they understand enough to write it when necessary, but they are either unaware, or simply unconvinced, of the significance of data classes, immutable properties, and structured concurrency. We think this book will turn a curious person into a committed evangelist.</p>&#13;
</dd>&#13;
</dl>&#13;
</div></section>&#13;
&#13;
&#13;
&#13;
&#13;
&#13;
&#13;
&#13;
&#13;
&#13;
&#13;
&#13;
&#13;
&#13;
<section data-pdf-bookmark="Why We Wrote This Book" data-type="sect1"><div class="sect1" id="idm46669770450048">&#13;
<h1>Why We Wrote This Book</h1>&#13;
&#13;
<p>There are plenty of books that show how Android works, how Kotlin works, or how concurrency works. Kotlin is becoming wildly popular with Android development for its easy adoption and cleaner syntax, but Kotlin offers Android much more than that: it offers new ways to solve concurrency problems in Android. We wrote this book to provide a unique and specific intersectionality of these topics in great depth. Both Android and Kotlin are rapidly changing, separately and together. Trying to keep up with all the changes can be difficult.</p>&#13;
&#13;
<p>We view this book as a valuable checkpoint in history: showing where Android came from, where it is now, and how it will&#13;
continue to evolve with Kotlin as the language matures.</p>&#13;
</div></section>&#13;
&#13;
&#13;
&#13;
&#13;
&#13;
&#13;
&#13;
&#13;
&#13;
&#13;
&#13;
&#13;
&#13;
<section data-pdf-bookmark="Navigating This Book" data-type="sect1"><div class="sect1" id="guidelines_and_recommendations_for_reading_this_book">&#13;
<h1>Navigating This Book</h1>&#13;
&#13;
<p>Sometimes we include code snippets as screenshots instead of regular atlas code formatting. This is particularly useful with coroutines and flows, as suspension points are clearly identifiable. We also get type hints from the IDE.</p>&#13;
&#13;
<p><a data-type="xref" data-xrefstyle="chap-num-title" href="ch01.html#kotlin_essentials">Chapter 1, “Kotlin Essentials”</a> and <a data-type="xref" data-xrefstyle="chap-num-title" href="ch02.html#the_kotlin_collections_framework">Chapter 2, “The Kotlin Collections Framework”</a> cover major notable transitions made with Android in Kotlin. While the information in these chapters is enough to give you a good grounding in Kotlin, further chapters will take a deeper dive into more complex/advanced features. Users familiar with Java or similar syntactic structures will find the translation surprisingly natural.</p>&#13;
&#13;
<p><a data-type="xref" data-xrefstyle="chap-num-title" href="ch03.html#android_fundamentals">Chapter 3, “Android Fundamentals”</a> and <a data-type="xref" data-xrefstyle="chap-num-title" href="ch04.html#memory_and_threading_fundamentals_id">Chapter 4, “Concurrency in Android”</a> will provide you with a foundation in the Android system in relation to memory and threading. As in any other operating system, concurrency is hard to achieve.</p>&#13;
&#13;
<p><a data-type="xref" data-xrefstyle="chap-num-title" href="ch05.html#thread_safety_id">Chapter 5, “Thread Safety”</a> through <a data-type="xref" data-xrefstyle="chap-num-title" href="ch11.html#android_profiling_tools">Chapter 11, “Performance Considerations with &#13;
<span class="keep-together">Android Profiling Tools</span>”</a> examine common issues surrounding memory and threading, while indicating how the Android framework has evolved over time to grant developers more control around them. In tandem, these chapters show how Kotlin’s extensions and language features can help developers write better applications faster.</p>&#13;
&#13;
<p><a data-type="xref" data-xrefstyle="chap-num-title" href="ch12.html#ch12">Chapter 12, “Trimming Down Resource Consumption with Performance Optimizations”</a> explores the use of powerful Android developer tools to examine performance and memory-related analytics&#13;
under the hood—to be able to see things you never really knew about. This book will provide engineers with professionally developed and curated implementations of the most common tasks seen in native Android development. Many tasks will consist of a real-world problem, followed by the corresponding solution in both Java and Kotlin. When further explanation is required, the solutions will follow a snappy compare-and-contrast model with a focus on brevity and natural language.</p>&#13;
</div></section>&#13;
&#13;
&#13;
&#13;
&#13;
&#13;
&#13;
&#13;
&#13;
&#13;
&#13;
&#13;
&#13;
&#13;
<section data-pdf-bookmark="Conventions Used in This Book" data-type="sect1"><div class="sect1" id="idm46669761257808">&#13;
<h1>Conventions Used in This Book</h1>&#13;
&#13;
<p>The following typographical conventions are used in this book:</p>&#13;
<dl>&#13;
<dt><em>Italic</em></dt>&#13;
<dd>&#13;
<p>Indicates new terms, URLs, email addresses, filenames, and file extensions.</p>&#13;
</dd>&#13;
<dt><code>Constant width</code></dt>&#13;
<dd>&#13;
<p>Used for program listings, as well as within paragraphs to refer to program elements such as variable or function names, databases, data types, environment variables, statements, and keywords.</p>&#13;
</dd>&#13;
<dt><strong><code>Constant width bold</code></strong></dt>&#13;
<dd>&#13;
<p>Shows commands or other text that should be typed literally by the user.</p>&#13;
</dd>&#13;
<dt><em><code>Constant width italic</code></em></dt>&#13;
<dd>&#13;
<p>Shows text that should be replaced with user-supplied values or by values determined by context.</p>&#13;
</dd>&#13;
</dl>&#13;
<div data-type="tip"><h6>Tip</h6>&#13;
<p>This element signifies a tip or suggestion.</p>&#13;
</div>&#13;
<div data-type="note" epub:type="note"><h6>Note</h6>&#13;
<p>This element signifies a general note.</p>&#13;
</div>&#13;
<div data-type="warning" epub:type="warning"><h6>Warning</h6>&#13;
<p>This element indicates a warning or caution.</p>&#13;
</div>&#13;
</div></section>&#13;
&#13;
&#13;
&#13;
&#13;
&#13;
&#13;
&#13;
&#13;
&#13;
&#13;
&#13;
&#13;
&#13;
<section data-pdf-bookmark="Using Code Examples" data-type="sect1"><div class="sect1" id="idm46669760343904">&#13;
<h1>Using Code Examples</h1>&#13;
<!--PROD: Please reach out to author to find out if they will be uploading code examples to oreilly.com or their own site (e.g., GitHub). If there is no code download, delete this whole section. If there is, when you email digidist with the link, let them know what you filled in for title_title (should be as close to book title as possible, i.e., learning_python_2e). This info will determine where digidist loads the files.-->&#13;
&#13;
<p>Supplemental material (code examples, exercises, etc.) is available for download at <a href="https://github.com/ProgrammingAndroidWithKotlin"><em class="hyperlink">https://github.com/ProgrammingAndroidWithKotlin</em></a>.</p>&#13;
&#13;
<p>If you have a technical question or a problem using the code examples, please send email to <a class="email" href="mailto:bookquestions@oreilly.com"><em>bookquestions@oreilly.com</em></a>.</p>&#13;
&#13;
<p>This book is here to help you get your job done. In general, if example code is offered with this book, you may use it in your programs and documentation. You do not need to contact us for permission unless you’re reproducing a significant portion of the code. For example, writing a program that uses several chunks of code from this book does not require permission. Selling or distributing examples from O’Reilly books does require permission. Answering a question by citing this book and quoting example code does not require permission. Incorporating a significant amount of example code from this book into your product’s documentation does require &#13;
<span class="keep-together">permission.</span></p>&#13;
&#13;
<p>We appreciate, but generally do not require, attribution. An attribution usually includes the title, author, publisher, and ISBN. For example: “<em>Programming Android with Kotlin</em> by Pierre-Olivier Laurence, Amanda Hinchman-Dominguez, G. Blake Meike, and Mike Dunn (O’Reilly). Copyright 2022 Pierre-Olivier Laurence and Amanda Hinchman-Dominguez, 978-1-492-06300-1.”</p>&#13;
&#13;
<p>If you feel your use of code examples falls outside fair use or the permission given above, feel free to contact us at <a class="email" href="mailto:permissions@oreilly.com"><em>permissions@oreilly.com</em></a>.</p>&#13;
</div></section>&#13;
&#13;
&#13;
&#13;
&#13;
&#13;
&#13;
&#13;
&#13;
&#13;
&#13;
&#13;
&#13;
&#13;
<section data-pdf-bookmark="O’Reilly Online Learning" data-type="sect1"><div class="sect1" id="idm46669761287520">&#13;
<h1>O’Reilly Online Learning</h1>&#13;
<div class="ormenabled" data-type="note" epub:type="note"><h6>Note</h6>&#13;
<p>For more than 40 years, <a class="orm:hideurl" href="http://oreilly.com"><em class="hyperlink">O’Reilly Media</em></a> has provided technology and business training, knowledge, and insight to help companies succeed.</p>&#13;
</div>&#13;
&#13;
<p>Our unique network of experts and innovators share their knowledge and expertise through books, articles, and our online learning platform. O’Reilly’s online learning platform gives you on-demand access to live training courses, in-depth learning paths, interactive coding environments, and a vast collection of text and video from O’Reilly and 200+ other publishers. For more information, visit <a class="orm:hideurl" href="http://oreilly.com"><em>http://oreilly.com</em></a>.</p>&#13;
</div></section>&#13;
&#13;
&#13;
&#13;
&#13;
&#13;
&#13;
&#13;
&#13;
&#13;
&#13;
&#13;
&#13;
&#13;
<section class="less_space pagebreak-before" data-pdf-bookmark="How to Contact Us" data-type="sect1"><div class="sect1" id="idm46669761358640">&#13;
<h1>How to Contact Us</h1>&#13;
&#13;
<p>Please address comments and questions concerning this book to the publisher:</p>&#13;
<ul class="simplelist">&#13;
  <li>O’Reilly Media, Inc.</li>&#13;
  <li>1005 Gravenstein Highway North</li>&#13;
  <li>Sebastopol, CA 95472</li>&#13;
  <li>800-998-9938 (in the United States or Canada)</li>&#13;
  <li>707-829-0515 (international or local)</li>&#13;
  <li>707-829-0104 (fax)</li>&#13;
</ul>&#13;
&#13;
<p>We have a web page for this book, where we list errata, examples, and any additional information. You can access this page at <a href="https://oreil.ly/pak"><em class="hyperlink">https://oreil.ly/pak</em></a>.</p>&#13;
<!--Don't forget to update the link above.-->&#13;
&#13;
<p>Email <a class="email" href="mailto:bookquestions@oreilly.com"><em>bookquestions@oreilly.com</em></a> to comment or ask technical questions about this book.</p>&#13;
&#13;
<p>For news and information about our books and courses, visit <a href="http://oreilly.com"><em class="hyperlink">http://oreilly.com</em></a>.</p>&#13;
&#13;
<p>Find us on Facebook: <a href="http://facebook.com/oreilly"><em class="hyperlink">http://facebook.com/oreilly</em></a></p>&#13;
&#13;
<p>Follow us on Twitter: <a href="http://twitter.com/oreillymedia"><em class="hyperlink">http://twitter.com/oreillymedia</em></a></p>&#13;
&#13;
<p>Watch us on YouTube: <a href="http://youtube.com/oreillymedia"><em class="hyperlink">http://youtube.com/oreillymedia</em></a></p>&#13;
</div></section>&#13;
&#13;
&#13;
&#13;
&#13;
&#13;
&#13;
&#13;
&#13;
&#13;
&#13;
&#13;
&#13;
&#13;
<section data-pdf-bookmark="Acknowledgments" data-type="sect1"><div class="sect1" id="what_to_expect">&#13;
<h1>Acknowledgments</h1>&#13;
&#13;
<p>This book has been greatly strengthened and improved thanks to our technical reviewers, Adnan&#13;
Sozuan and Andrew Gibel. We give thanks to the folks at O’Reilly for helping to bring us together&#13;
and giving us all the support we needed to bring this book to life, especially Jeff Bleiel and Zan McQuade.</p>&#13;
&#13;
<p>We thank Roman Elizarov and Jake Wharton for taking the time to speak with us about direction on evolution in concurrency in Kotlin and low-level optics in Android.</p>&#13;
&#13;
<p>We thank our friends, family, and colleagues for support. We thank the Kotlin community, and the individuals who&#13;
have taken the time to read early drafts and give feedback.</p>&#13;
&#13;
<p>Lastly, we dedicate this book to Mike Dunn: coauthor, colleague, friend, and father. We miss him dearly and&#13;
hope this book is something he’d be proud of.</p>&#13;
</div></section>&#13;
&#13;
&#13;
&#13;
&#13;
&#13;
&#13;
&#13;
</div></section></body></html>