<html><head></head><body><div id="sbo-rt-content"><section data-type="appendix" epub:type="appendix" data-pdf-bookmark="Appendix A. Linux Refresher"><div class="appendix" id="appendix_linux">
<h1><span class="label">Appendix A. </span>Linux Refresher</h1>


<p><a data-type="indexterm" data-primary="Linux" data-secondary="review of basics" id="linuxreview"/>
If your Linux skills are rusty, here’s a very quick review of some
details you’ll need for this book. (If you’re a complete beginner,
this review might be too brief. Check out the recommended reading at the end.)</p>






<section data-type="sect1" data-pdf-bookmark="Commands, Arguments, and Options"><div class="sect1" id="idm46586635908544">
<h1>Commands, Arguments, and Options</h1>

<p><a data-type="indexterm" data-primary="running commands" data-secondary="basics" id="idm46586635907232"/><a data-type="indexterm" data-primary="Linux" data-secondary="commands" id="idm46586635906256"/>
To run a Linux command at the command line, type the command and press Enter.
To kill a command in progress, press Ctrl-C.<a data-type="indexterm" data-primary="Control-C (kill current command)" id="idm46586635905184"/><a data-type="indexterm" data-primary="command" data-secondary="killing current" id="idm46586635904496"/><a data-type="indexterm" data-primary="running commands" data-secondary="killing with Ctrl-C" id="idm46586635903552"/><a data-type="indexterm" data-primary="kill command" data-secondary="Control-C to kill current command" id="idm46586635902608"/></p>

<p>A simple Linux command<a data-type="indexterm" data-primary="command" data-secondary="definition" id="idm46586635901264"/> consists of a single word, which is usually the
name of a program, followed by additional strings called
<em>arguments</em>.<a data-type="indexterm" data-primary="arguments" id="idm46586635899616"/><a data-type="indexterm" data-primary="command" data-secondary="arguments" id="idm46586635898880"/> For example, the following command consists of a program
name, <code>ls</code>, and two arguments:</p>

<pre data-type="programlisting">$ <strong>ls -l /bin</strong></pre>

<p>Arguments that begin with a dash,<a data-type="indexterm" data-primary="- (dash)" data-secondary="options of a command" id="idm46586635895744"/><a data-type="indexterm" data-primary="dash (-)" data-secondary="options of a command" id="idm46586635894768"/>
such as <code>-l</code>, are called <em>options</em><a data-type="indexterm" data-primary="options of a command" id="idm46586635892960"/><a data-type="indexterm" data-primary="command" data-secondary="options" id="idm46586635892256"/><a data-type="indexterm" data-primary="command" data-secondary="switches" id="idm46586635891312"/><a data-type="indexterm" data-primary="switches of a command" id="idm46586635890368"/>
because they change the command’s behavior. Other arguments might
be filenames, directory names, usernames, hostnames, or any other
strings that the program needs. Options usually (but not always)
precede the rest of the arguments.</p>

<p>Command options come in various forms, depending on which program
you run:</p>
<ul>
<li>
<p>A single letter, such as <code>-l</code>, sometimes followed by a value, as in
<code>-n 10</code>. Usually the space between the letter and the value can be
omitted: <code>-n10</code>.</p>
</li>
<li>
<p>A word preceded by two dashes, such as <code>--long</code>, sometimes followed by
a value, as in <code>--block-size 100</code>. The space between the option and its
value may often be replaced by an equals sign: <code>--block-size=100</code>.</p>
</li>
<li class="pagebreak-before">
<p>A word preceded by one dash, such as <code>-type</code>, optionally followed by
a value, as in <code>-type f</code>. This option format is rare; one command
that uses it is <code>find</code>.</p>
</li>
<li>
<p>A single letter without a dash. This option format is rare; one
command that uses it is <code>tar</code>.</p>
</li>
</ul>

<p>Multiple options may often (depending on the command) be combined<a data-type="indexterm" data-primary="command" data-secondary="options" data-tertiary="combining" id="idm46586635879664"/><a data-type="indexterm" data-primary="options of a command" data-secondary="combining" id="idm46586635878336"/>
behind a single dash. For example, the command <code>ls -al</code> is equivalent
to <code>ls -a -l</code>.</p>

<p>Options vary not only in appearance but also in meaning. In the
command <code>ls -l</code>, the <code>-l</code> means “long output,” but in the command <code>wc
-l</code> it means “lines of text.”  Two programs also might use different
options to mean the same thing, such as <code>-q</code> for “run quietly” versus <code>-s</code>
for “run silently.” Inconsistencies like these make Linux harder to
learn, but you eventually get used to them.</p>
</div></section>













<section data-type="sect1" data-pdf-bookmark="The Filesystem, Directories, and Paths"><div class="sect1" id="idm46586635873264">
<h1>The Filesystem, Directories, and Paths</h1>

<p><a data-type="indexterm" data-primary="filesystem" id="idm46586635871920"/><a data-type="indexterm" data-primary="filesystem" data-secondary="searching" data-see="find command" id="idm46586635870880"/><a data-type="indexterm" data-primary="Linux" data-secondary="filesystem" id="idm46586635869664"/>
Linux files are contained in directories<a data-type="indexterm" data-primary="directory" data-secondary="about" id="idm46586635868528"/> (folders)<a data-type="indexterm" data-primary="folder" data-see="directory" id="idm46586635867456"/> that are organized
into a tree structure,<a data-type="indexterm" data-primary="tree structure of filesystem" id="idm46586635866288"/> such as the one in <a data-type="xref" href="#fig_filesystem">Figure A-1</a>. The tree
begins in a directory called the <em>root</em>, denoted by a single forward
slash (<code>/</code>),<a data-type="indexterm" data-primary="/ (forward slash)" data-secondary="root directory" id="idm46586635863824"/><a data-type="indexterm" data-primary="forward slash (/)" data-secondary="root directory" id="idm46586635862816"/>
which may contain files and other directories, called
<em>subdirectories</em>.<a data-type="indexterm" data-primary="subdirectory" id="idm46586635861296"/> For example, the directory <em>Music</em> has two
subdirectories, <em>mp3</em> and <em>SheetMusic</em>. We call <em>Music</em> the parent
directory<a data-type="indexterm" data-primary="parent directory" id="idm46586635858640"/> of <em>mp3</em> and <em>SheetMusic</em>. Directories with the same parent
are called <em>siblings</em>.<a data-type="indexterm" data-primary="sibling directory" id="idm46586635856432"/></p>

<p>A path<a data-type="indexterm" data-primary="path" data-secondary="about" id="idm46586635855568"/><a data-type="indexterm" data-primary="file" data-secondary="path" id="idm46586635854240"/><a data-type="indexterm" data-primary="directory" data-secondary="path" data-seealso="path" id="idm46586635853296"/><a data-type="indexterm" data-primary="path" data-secondary="filesystem (absolute, relative)" id="idm46586635852080"/> through the tree is written as a sequence of directory names
separated by forward slashes,<a data-type="indexterm" data-primary="/ (forward slash)" data-secondary="file path separator" id="idm46586635850880"/><a data-type="indexterm" data-primary="forward slash (/)" data-secondary="file path separator" id="idm46586635849936"/><a data-type="indexterm" data-primary="separator" data-secondary="file path" id="idm46586635848992"/>
such as <em>/home/smith/Music/mp3</em>. A path
may also end with a filename, as in
<em>/home/smith/Music/mp3/catalog.txt</em>. These paths are called <em>absolute
paths</em><a data-type="indexterm" data-primary="absolute path" id="idm46586635846720"/> because they begin at the root directory. Paths that begin
elsewhere (and don’t start with a forward slash) are called <em>relative
paths</em><a data-type="indexterm" data-primary="relative path" id="idm46586635845632"/> because they are relative to the current directory. If your
current directory is <em>/home/smith/Music</em>, then some relative paths are
<em>mp3</em> (a subdirectory) and <em>mp3/catalog.txt</em> (a file). Even a filename
by itself, like <em>catalog.txt</em>, is a relative path with respect to
<em>/home/smith/Music/mp3</em>.</p>

<p>Two special relative paths are a single dot (<code>.</code>),<a data-type="indexterm" data-primary=". (dot)" data-secondary="current directory" id="idm46586635841568"/><a data-type="indexterm" data-primary="dot (.)" data-secondary="current directory" id="idm46586635840560"/><a data-type="indexterm" data-primary="current directory" data-secondary="dot (.)" id="idm46586635839616"/><a data-type="indexterm" data-primary="directory" data-secondary="current" data-tertiary="dot (.)" id="idm46586635838672"/><a data-type="indexterm" data-primary="period" data-see="dot (.)" id="idm46586635837456"/>
which refers to the
current directory, and two dots in a row (<code>..</code>),<a data-type="indexterm" data-primary=".. (dot dot)" data-secondary="parent directory" id="idm46586635835920"/><a data-type="indexterm" data-primary="dot (.)" data-secondary="dot dot (..)" data-tertiary="parent directory" id="idm46586635834912"/><a data-type="indexterm" data-primary="directory" data-secondary="parent directory" id="idm46586635833696"/> which refers to the
current directory’s parent.<sup><a data-type="noteref" id="idm46586635832560-marker" href="app01.xhtml#idm46586635832560">1</a></sup> Both can be part of larger paths. For example, if
your current directory is <em>/home/smith/Music/mp3</em>, then the path
<code>..</code> refers to <em>Music</em>, the path <code>../../../..</code> refers to the root
directory, and the path <em>../SheetMusic</em> refers to a sibling of <em>mp3</em>.</p>

<figure><div id="fig_filesystem" class="figure">
<img src="Images/elcl_aa01.png" alt="A Linux directory tree, starting at the root" width="600" height="715"/>
<h6><span class="label">Figure A-1. </span>Paths in a Linux directory tree</h6>
</div></figure>

<p>You and every other user on a Linux system have a designated directory,
called your <em>home directory</em>,<a data-type="indexterm" data-primary="home directory" id="idm46586635824832"/><a data-type="indexterm" data-primary="directory" data-secondary="home directory" id="idm46586635824096"/> where you can freely create, edit, and
delete files and directories.  Its path is usually <em>/home/</em> followed
by your username, such as <em>/home/smith</em>.</p>
</div></section>













<section data-type="sect1" data-pdf-bookmark="Directory Movement"><div class="sect1" id="idm46586635821936">
<h1>Directory Movement</h1>

<p>At any moment, your command line (shell) operates in a given
directory, called your <em>current directory</em>,<a data-type="indexterm" data-primary="current directory" id="idm46586635819792"/><a data-type="indexterm" data-primary="directory" data-secondary="current" id="idm46586635819056"/> <em>working directory</em>,<a data-type="indexterm" data-primary="working directory" data-see="current directory" id="idm46586635817568"/> or
<em>current working directory</em>. View the path of your current directory
with the <code>pwd</code><a data-type="indexterm" data-primary="pwd command" id="idm46586635815760"/><a data-type="indexterm" data-primary="print working directory" id="idm46586635815056"/><a data-type="indexterm" data-primary="directory" data-secondary="printing" id="idm46586635814384"/> (print working directory) command:</p>

<pre data-type="programlisting">$ <strong>pwd</strong>
/home/smith                      <em>The home directory of user smith</em></pre>

<p>Move between directories with the <code>cd</code><a data-type="indexterm" data-primary="cd command" id="idm46586635811120"/><a data-type="indexterm" data-primary="directory" data-secondary="changing" id="idm46586635810416"/><a data-type="indexterm" data-primary="changing" data-secondary="directory" data-seealso="cd command" id="idm46586635809472"/> (change directory) command,
supplying the path (absolute or relative) to your desired destination:</p>

<pre data-type="programlisting">$ <strong>cd /usr/local</strong>                <em>Absolute path</em>
$ <strong>cd bin</strong>                       <em>Relative path leading to /usr/local/bin</em>
$ <strong>cd ../etc</strong>                    <em>Relative path leading to /usr/local/etc</em></pre>
</div></section>













<section data-type="sect1" class="pagebreak-before less_space" data-pdf-bookmark="Creating and Editing Files"><div class="sect1" id="idm46586635804560">
<h1>Creating and Editing Files</h1>

<p><a data-type="indexterm" data-primary="file" data-secondary="creating" id="idm46586635802976"/><a data-type="indexterm" data-primary="creating files" data-secondary="text files" id="idm46586635802000"/><a data-type="indexterm" data-primary="text files" data-secondary="creating" id="idm46586635801056"/><a data-type="indexterm" data-primary="editing files" data-seealso="text editors" id="idm46586635800112"/>
Edit files with a standard Linux text editor<a data-type="indexterm" data-primary="text" data-secondary="editors" data-seealso="text editors" id="idm46586635798976"/><a data-type="indexterm" data-primary="text editors" id="idm46586635797760"/> by running any of the following

<span class="keep-together">commands:</span></p>
<dl>
<dt><code>emacs</code><a data-type="indexterm" data-primary="emacs editor" id="idm46586635795344"/></dt>
<dd>
<p>Once emacs is running, type Ctrl-h followed by t for a tutorial.<a data-type="indexterm" data-primary="emacs editor" data-secondary="tutorial" id="idm46586635793904"/><a data-type="indexterm" data-primary="tutorials" data-secondary="emacs" id="idm46586635792848"/></p>
</dd>
<dt><code>nano</code><a data-type="indexterm" data-primary="nano editor" id="idm46586635791232"/></dt>
<dd>
<p>Visit <a class="orm:hideurl" href="https://nano-editor.org">nano-editor.org</a> for documentation.</p>
</dd>
<dt><code>vim</code><a data-type="indexterm" data-primary="vim editor" id="idm46586635788000"/> or <code>vi</code><a data-type="indexterm" data-primary="vi" data-see="vim editor" id="idm46586635786880"/></dt>
<dd>
<p>Run the command <code>vimtutor</code><a data-type="indexterm" data-primary="vimtutor command" id="idm46586635784880"/><a data-type="indexterm" data-primary="vim editor" data-secondary="tutorial" id="idm46586635784176"/><a data-type="indexterm" data-primary="tutorials" data-secondary="vim" id="idm46586635783232"/> for a tutorial.</p>
</dd>
</dl>

<p>To create a file, simply provide its name as an argument, and the editor
creates it:</p>

<pre data-type="programlisting">$ <strong>nano newfile.txt</strong></pre>

<p>Alternatively, create an empty file<a data-type="indexterm" data-primary="file" data-secondary="empty" id="idm46586635780192"/><a data-type="indexterm" data-primary="empty file creation" id="idm46586635779216"/><a data-type="indexterm" data-primary="creating files" data-secondary="empty files" id="idm46586635778544"/> with the <code>touch</code><a data-type="indexterm" data-primary="touch command" id="idm46586635777184"/> command, supplying the desired
filename as an argument:</p>

<pre data-type="programlisting">$ <strong>touch funky.txt</strong>
$ <strong>ls</strong>
funky.txt</pre>
</div></section>













<section data-type="sect1" data-pdf-bookmark="File and Directory Handling"><div class="sect1" id="idm46586635774592">
<h1>File and Directory Handling</h1>

<p>List the files in a directory (by default, your current directory) with the
<code>ls</code><a data-type="indexterm" data-primary="ls command" id="idm46586635772256"/><a data-type="indexterm" data-primary="listing files" id="idm46586635771552"/> command:</p>

<pre data-type="programlisting">$ <strong>ls</strong>
animals.txt</pre>

<p>See attributes of a file or directory with a “long” listing (<code>ls -l</code>):<a data-type="indexterm" data-primary="ls command" data-secondary="long listing (-l option)" id="idm46586635768672"/></p>

<pre data-type="programlisting">$ <strong>ls -l</strong>
-rw-r--r-- 1 smith smith  325 Jul  3 17:44 animals.txt</pre>

<p>Left to right, the attributes are the file permissions<a data-type="indexterm" data-primary="file" data-secondary="permissions" id="idm46586635765952"/><a data-type="indexterm" data-primary="permissions, file" id="idm46586635764624"/><a data-type="indexterm" data-primary="file" data-secondary="attributes" id="idm46586635763952"/> (<code>-rw-r—r--</code>)
described in <a data-type="xref" href="#section_permissions">“File Permissions”</a>, the owner (<code>smith</code>) and group
(<code>smith</code>), the size in bytes (<code>325</code>), the last modification date and time
(<code>Jul 3</code> of this year at <code>17:44</code>), and the filename (<code>animals.txt</code>).</p>

<p>By default, <code>ls</code> does not print filenames that begin with a dot.<a data-type="indexterm" data-primary="ls command" data-secondary="dot file behavior" id="idm46586635758048"/> To
list these files, which are often called <em>dot files</em> or <em>hidden
files</em>, add the <code>-a</code> option:<a data-type="indexterm" data-primary="ls command" data-secondary="all files (-a option)" id="idm46586635755600"/></p>

<pre data-type="programlisting" class="pagebreak-after">$ <strong>ls -a</strong>
.bashrc    .bash_profile    animals.txt</pre>

<p>Copy a file<a data-type="indexterm" data-primary="copying files" id="idm46586635752896"/><a data-type="indexterm" data-primary="file" data-secondary="copying" id="idm46586635752160"/> with the <code>cp</code><a data-type="indexterm" data-primary="cp command" id="idm46586635750800"/> command, supplying the original filename and the
new 
<span class="keep-together">filename:</span></p>

<pre data-type="programlisting">$ <strong>cp animals.txt beasts.txt</strong>
$ <strong>ls</strong>
animals.txt   beasts.txt</pre>

<p>Rename a file<a data-type="indexterm" data-primary="renaming files" id="idm46586635747408"/><a data-type="indexterm" data-primary="moving files" id="idm46586635746672"/><a data-type="indexterm" data-primary="file" data-secondary="renaming" id="idm46586635746000"/> with the <code>mv</code><a data-type="indexterm" data-primary="mv command" id="idm46586635744640"/> (move) command, supplying the original
filename and the new filename:</p>

<pre data-type="programlisting">$ <strong>mv beasts.txt creatures.txt</strong>
$ <strong>ls</strong>
animals.txt   creatures.txt</pre>

<p>Delete a file<a data-type="indexterm" data-primary="deleting files" id="idm46586635741696"/><a data-type="indexterm" data-primary="removing files" id="idm46586635740960"/><a data-type="indexterm" data-primary="file" data-secondary="removing" id="idm46586635740288"/> with the <code>rm</code><a data-type="indexterm" data-primary="rm command" id="idm46586635738928"/> (remove) command:</p>

<pre data-type="programlisting">$ <strong>rm creatures.txt</strong></pre>
<div data-type="warning" epub:type="warning"><h6>Warning</h6>
<p>Deletion on Linux is not friendly. The <code>rm</code> command does not ask “Are you
sure?” and there is no trash can for restoring files.</p>
</div>

<p>Create a directory<a data-type="indexterm" data-primary="creating directories" id="idm46586635734864"/><a data-type="indexterm" data-primary="directory" data-secondary="creating" id="idm46586635733744"/> with <code>mkdir</code>,<a data-type="indexterm" data-primary="mkdir command" id="idm46586635732256"/> rename it with <code>mv</code>,<a data-type="indexterm" data-primary="renaming directories" id="idm46586635730976"/><a data-type="indexterm" data-primary="moving directories" id="idm46586635730240"/><a data-type="indexterm" data-primary="directory" data-secondary="renaming" id="idm46586635729568"/> and delete it<a data-type="indexterm" data-primary="deleting directories" id="idm46586635728496"/><a data-type="indexterm" data-primary="removing directories" id="idm46586635727792"/><a data-type="indexterm" data-primary="directory" data-secondary="removing" id="idm46586635727120"/>
(if empty) with <code>rmdir</code>:<a data-type="indexterm" data-primary="rmdir command" id="idm46586635725632"/></p>

<pre data-type="programlisting">$ <strong>mkdir testdir</strong>
$ <strong>ls</strong>
animals.txt   testdir
$ <strong>mv testdir newname</strong>
$ <strong>ls</strong>
animals.txt   newname
$ <strong>rmdir newname</strong>
$ <strong>ls</strong>
animals.txt</pre>

<p>Copy one or more files<a data-type="indexterm" data-primary="copying files" id="idm46586635721440"/><a data-type="indexterm" data-primary="file" data-secondary="copying" id="idm46586635720704"/> (or directories) into a directory:</p>

<pre data-type="programlisting" class="pagebreak-after">$ <strong>touch file1 file2 file3</strong>
$ <strong>mkdir dir</strong>
$ <strong>ls</strong>
dir   file1   file2   file3
$ <strong>cp file1 file2 file3 dir</strong>
$ <strong>ls</strong>
dir   file1   file2   file3
$ <strong>ls dir</strong>
file1   file2   file3
$ <strong>rm file1 file2 file3</strong></pre>

<p>Continuing, move one or more files<a data-type="indexterm" data-primary="renaming files" id="idm46586635715168"/><a data-type="indexterm" data-primary="moving files" id="idm46586635714432"/><a data-type="indexterm" data-primary="file" data-secondary="renaming" id="idm46586635713760"/> (or directories) into a directory:</p>

<pre data-type="programlisting">$ <strong>touch thing1 thing2 thing3</strong>
$ <strong>ls</strong>
dir   thing1   thing2   thing3
$ <strong>mv thing1 thing2 thing3 dir</strong>
$ <strong>ls</strong>
dir
$ <strong>ls dir</strong>
file1   file2   file3   thing1   thing2   thing3</pre>

<p>Delete a directory<a data-type="indexterm" data-primary="deleting files" data-secondary="mass deletion" data-tertiary="rm -rf command" id="idm46586635709168"/><a data-type="indexterm" data-primary="removing files" data-secondary="mass deletion" data-tertiary="rm -rf command" id="idm46586635707888"/> and all its contents with <code>rm -rf</code>.
Take care before running this command because it is not reversible.
See <a data-type="xref" href="ch03.xhtml#cs_never_delete">“Never Delete the Wrong File Again (Thanks to History Expansion)”</a> for safety tips.</p>

<pre data-type="programlisting">$ <strong>rm -rf dir</strong></pre>
</div></section>













<section data-type="sect1" data-pdf-bookmark="File Viewing"><div class="sect1" id="idm46586635773648">
<h1>File Viewing</h1>

<p>Print a text file<a data-type="indexterm" data-primary="viewing files" id="idm46586635703184"/><a data-type="indexterm" data-primary="concatenating files" id="idm46586635702448"/><a data-type="indexterm" data-primary="text files" data-secondary="viewing" id="idm46586635701776"/> on the screen with the <code>cat</code><a data-type="indexterm" data-primary="cat command" id="idm46586635700448"/> command:</p>

<pre data-type="programlisting">$ <strong>cat animals.txt</strong></pre>

<p>View a text file one screenful at a time<a data-type="indexterm" data-primary="viewing files" data-secondary="one screenful at a time" id="idm46586635698128"/> with the <code>less</code><a data-type="indexterm" data-primary="less command" id="idm46586635696736"/> command:</p>

<pre data-type="programlisting">$ <strong>less animals.txt</strong></pre>

<p>While running <code>less</code>, display the next page by pressing the spacebar. To exit
<code>less</code>, press q. For help, press h.</p>
</div></section>













<section data-type="sect1" data-pdf-bookmark="File Permissions"><div class="sect1" id="section_permissions">
<h1>File Permissions</h1>

<p><a data-type="indexterm" data-primary="file" data-secondary="permissions" id="idm46586635691552"/><a data-type="indexterm" data-primary="permissions, file" id="idm46586635690576"/><a data-type="indexterm" data-primary="file" data-secondary="attributes" id="idm46586635689904"/>
The <code>chmod</code><a data-type="indexterm" data-primary="chmod command" id="idm46586635688544"/> command sets a file to be readable, writable, and/or
executable by yourself, a given group of users, or
everybody. <a data-type="xref" href="#fig_chmod">Figure A-2</a> is a brief refresher on file 
<span class="keep-together">permissions.</span></p>

<figure><div id="fig_chmod" class="figure">
<img src="Images/elcl_aa02.png" alt="File permission bits explained" width="600" height="331"/>
<h6><span class="label">Figure A-2. </span>File permission bits</h6>
</div></figure>

<p>Here are some common operations with <code>chmod</code>. Make a file readable and
writable by you, and only readable by everyone else:</p>

<pre data-type="programlisting">$ <strong>chmod 644 animals.txt</strong>
$ <strong>ls -l</strong>
-rw-r--r-- 1 smith smith  325 Jul  3 17:44 animals.txt</pre>

<p>Protect it from all other users:</p>

<pre data-type="programlisting">$ <strong>chmod 600 animals.txt</strong>
$ <strong>ls -l</strong>
-rw------- 1 smith smith  325 Jul  3 17:44 animals.txt</pre>

<p>Make a directory readable and enterable by everyone, but writable only
by you:</p>

<pre data-type="programlisting">$ <strong>mkdir dir</strong>
$ <strong>chmod 755 dir</strong>
$ <strong>ls -l</strong>
drwxr-xr-x 2 smith smith  4096 Oct  1 12:44 dir</pre>

<p>Protect a directory from all other users:</p>

<pre data-type="programlisting">$ <strong>chmod 700 dir</strong>
$ <strong>ls -l</strong>
drwx------ 2 smith smith  4096 Oct  1 12:44 dir</pre>

<p>Normal permissions don’t apply to the superuser, who can read and
write all files and directories on the system.</p>
</div></section>













<section data-type="sect1" data-pdf-bookmark="Processes"><div class="sect1" id="idm46586635692768">
<h1>Processes</h1>

<p><a data-type="indexterm" data-primary="process" id="idm46586635672912"/><a data-type="indexterm" data-primary="Linux" data-secondary="processes" id="idm46586635671984"/>
When you run a Linux command, it launches one or more Linux
<em>processes</em>, each with a numeric process ID<a data-type="indexterm" data-primary="process" data-secondary="ID" id="idm46586635670448"/> called a <em>PID</em><a data-type="indexterm" data-primary="PID" id="idm46586635669056"/>. See your
shell’s current processes with the <code>ps</code><a data-type="indexterm" data-primary="ps command" id="idm46586635667904"/> 
<span class="keep-together">command:</span></p>

<pre data-type="programlisting">$ <strong>ps</strong>
   PID TTY          TIME CMD
  5152 pts/11   00:00:00 bash
117280 pts/11   00:00:00 emacs
117273 pts/11   00:00:00 ps</pre>

<p>or all running processes for all users with:</p>

<pre data-type="programlisting">$ <strong>ps -uax</strong></pre>

<p>Kill a process<a data-type="indexterm" data-primary="killing a process" id="idm46586635663472"/><a data-type="indexterm" data-primary="process" data-secondary="killing" id="idm46586635662736"/> of your own with the <code>kill</code><a data-type="indexterm" data-primary="kill command" id="idm46586635661376"/> command, supplying the PID
as an argument. The superuser (Linux administrator) can kill any user’s process.</p>

<pre data-type="programlisting">$ <strong>kill 117280</strong>
[1]+  Exit 15                 emacs animals.txt</pre>
</div></section>













<section data-type="sect1" data-pdf-bookmark="Viewing Documentation"><div class="sect1" id="idm46586635659120">
<h1>Viewing Documentation</h1>

<p>The <code>man</code> <a data-type="indexterm" data-primary="man command" id="idm46586635657168"/> command prints documentation about any standard command on
your Linux system. Simply type <code>man</code> followed by the name of the
command. For example, to view documentation for the <code>cat</code> command,
run the following:</p>

<pre data-type="programlisting">$ <strong>man cat</strong></pre>

<p>The displayed document is known as the command’s <em>manpage</em>.<a data-type="indexterm" data-primary="manpages" id="idm46586635653392"/> When
someone says “view the manpage for grep,” they mean run the command
<code>man grep</code>.</p>

<p><code>man</code> displays documentation one page at a time using the program
<code>less</code>,<sup><a data-type="noteref" id="idm46586635650592-marker" href="app01.xhtml#idm46586635650592">2</a></sup> so the standard keystrokes for <code>less</code>
will work. <a data-type="xref" href="#table_man">Table A-1</a> lists some common keystrokes.<a data-type="indexterm" data-primary="less command" data-secondary="keystrokes" id="idm46586635646480"/></p>
<table id="table_man">
<caption><span class="label">Table A-1. </span>Some keystrokes for viewing manpages with <code>less</code></caption>
<thead>
<tr>
<th>Keystroke</th>
<th>Action</th>
</tr>
</thead>
<tbody>
<tr>
<td><p>h</p></td>
<td><p>Help—display a list of keystrokes for <code>less</code></p></td>
</tr>
<tr>
<td><p>spacebar</p></td>
<td><p>View the next page</p></td>
</tr>
<tr>
<td><p>b</p></td>
<td><p>View the previous page</p></td>
</tr>
<tr>
<td><p>Enter</p></td>
<td><p>Scroll down one line</p></td>
</tr>
<tr>
<td><p>&lt;</p></td>
<td><p>Jump to the beginning of the document</p></td>
</tr>
<tr>
<td><p>&gt;</p></td>
<td><p>Jump to the end of the document</p></td>
</tr>
<tr>
<td><p>/</p></td>
<td><p>Search forward for text (type the text and press Enter)</p></td>
</tr>
<tr>
<td><p>?</p></td>
<td><p>Search backward for text (type the text and press Enter)</p></td>
</tr>
<tr>
<td><p>n</p></td>
<td><p>Locate the next occurrence of the search text</p></td>
</tr>
<tr>
<td><p>q</p></td>
<td><p>Quit <code>man</code></p></td>
</tr>
</tbody>
</table>
</div></section>













<section data-type="sect1" data-pdf-bookmark="Shell Scripts"><div class="sect1" id="idm46586635624720">
<h1>Shell Scripts</h1>

<p><a data-type="indexterm" data-primary="shell" data-secondary="scripts" data-tertiary="overview" id="idm46586635623280"/>
To run a bunch of Linux commands as a unit, follow these steps:</p>
<ol>
<li>
<p>Place the commands in a file.</p>
</li>
<li>
<p>Insert a magical first line.</p>
</li>
<li>
<p>Make the file executable with <code>chmod</code>.</p>
</li>
<li>
<p>Execute the file.</p>
</li>

</ol>

<p>The file is called a <em>script</em> or <em>shell script</em>. The magical first
line should be the symbols <code>#!</code><a data-type="indexterm" data-primary="#! to begin shell scripts" id="idm46586635615504"/><a data-type="indexterm" data-primary="pound sign (#)" data-secondary="#! to begin shell scripts" id="idm46586635614784"/> (pronounced “shebang”)<a data-type="indexterm" data-primary="shebang (#!)" id="idm46586635613760"/> followed by the
path to a program that reads and runs the script:<sup><a data-type="noteref" id="idm46586635612992-marker" href="app01.xhtml#idm46586635612992">3</a></sup></p>

<pre data-type="programlisting" data-code-language="bash"><code class="ch">#!/bin/bash</code></pre>

<p>Here is a shell script that says hello and prints today’s date. Lines
beginning with <code>#</code> are comments:<a data-type="indexterm" data-primary="# (pound sign) for shell script comment" id="idm46586635590304"/><a data-type="indexterm" data-primary="pound sign (#)" data-secondary="# for shell script comment" id="idm46586635608944"/></p>

<pre data-type="programlisting" data-code-language="bash"><code class="ch">#!/bin/bash</code>
<code class="c1"># This is a sample script</code>
<code class="nb">echo</code> <code class="s2">"Hello there!"</code>
date</pre>

<p>Use a text editor to store these lines in a file called <em>howdy</em>.
Then make the file executable by running either of these commands:</p>

<pre data-type="programlisting">$ <strong>chmod 755 howdy</strong>     <em>Set all permissions, including execute permission</em>
$ <strong>chmod +x howdy</strong>      <em>Or, just add execute permission</em></pre>

<p>and run it:</p>

<pre data-type="programlisting">$ <strong>./howdy</strong>
Hello there!
Fri Sep 10 17:00:52 EDT 2021</pre>

<p>The leading dot and slash (<code>./</code>)<a data-type="indexterm" data-primary="./ for path to current directory" data-secondary="running scripts" id="idm46586635602928"/><a data-type="indexterm" data-primary="dot (.)" data-secondary="current directory" id="idm46586635601952"/><a data-type="indexterm" data-primary="current directory" data-secondary="dot (.)" id="idm46586635601008"/><a data-type="indexterm" data-primary="directory" data-secondary="current" data-tertiary="dot (.)" id="idm46586635600064"/> indicate that the script is in your
current directory. Without them, the Linux shell won’t find the
script:<sup><a data-type="noteref" id="idm46586635598592-marker" href="app01.xhtml#idm46586635598592">4</a></sup></p>

<pre data-type="programlisting">$ <strong>howdy</strong>
howdy: command not found</pre>

<p>Linux shells provide some programming language features that are
useful in scripts. <code>bash</code>, for example, provides
<code>if</code> statements,<a data-type="indexterm" data-primary="if statement" id="idm46586635547296"/><a data-type="indexterm" data-primary="builtins" data-secondary="if" id="idm46586635546688"/>
<code>for</code> loops,<a data-type="indexterm" data-primary="for loop" data-secondary="bash" id="idm46586635545296"/><a data-type="indexterm" data-primary="builtins" data-secondary="for" id="idm46586635544288"/><a data-type="indexterm" data-primary="loops" data-secondary="bash" data-tertiary="for loop" id="idm46586635543344"/>
<code>while</code> loops,<a data-type="indexterm" data-primary="while loop" id="idm46586635541584"/><a data-type="indexterm" data-primary="builtins" data-secondary="while" id="idm46586635540848"/><a data-type="indexterm" data-primary="loops" data-secondary="bash" data-tertiary="while loop" id="idm46586635539904"/>
and other control structures.
A few examples are sprinkled throughout the book.  See <code>man bash</code> for
the syntax.</p>
</div></section>













<section data-type="sect1" data-pdf-bookmark="Becoming the Superuser"><div class="sect1" id="idm46586635624256">
<h1>Becoming the Superuser</h1>

<p>Some files, directories, and programs are protected from normal users,
including you:</p>

<pre data-type="programlisting">$ <strong>touch /usr/local/avocado</strong>            <em>Try to create a file in a system directory</em>
touch: cannot touch '/usr/local/avocado': Permission denied</pre>

<p>“Permission denied” usually means you tried to access protected
resources. They are accessible only to the Linux superuser<a data-type="indexterm" data-primary="superuser" id="idm46586635534832"/> (username
<code>root</code>).<a data-type="indexterm" data-primary="root user" id="idm46586635533584"/> Most Linux systems come with a program called <code>sudo</code><a data-type="indexterm" data-primary="sudo command" id="idm46586635532464"/>
(pronounced “soo doo”) that lets you become the superuser for the
duration of a single command. If you installed Linux yourself, your
account is probably set up already to run <code>sudo</code>. If you’re one user
on somebody else’s Linux system, you might not have superuser
privileges; speak to your system administrator if you’re not sure.</p>

<p>Assuming you’re set up properly, simply run <code>sudo</code>, supplying it with
the desired command to run as the superuser. You’ll be prompted for
your login password to prove your identity. Supply it correctly, and
the command will run with root privileges:</p>

<pre data-type="programlisting">$ <strong>sudo touch /usr/local/avocado</strong>                   <em>Create the file as root</em>
[sudo] password for smith: <strong><em>password here</em></strong>
$ <strong>ls -l /usr/local/avocado</strong>                        <em>List the file</em>
-rw-r--r-- 1 root root 0 Sep 10 17:16 avocado
$ <strong>sudo rm /usr/local/avocado</strong>                      <em>Clean up as root</em></pre>

<p><code>sudo</code> may remember (cache)<a data-type="indexterm" data-primary="caching" data-secondary="sudo passphrase" id="idm46586635525392"/> your passphrase for a while, depending on
how <code>sudo</code> is configured, so it might not prompt you every time.</p>
</div></section>













<section data-type="sect1" data-pdf-bookmark="Further Reading"><div class="sect1" id="idm46586635523616">
<h1>Further Reading</h1>

<p>For more basics of Linux use, read my previous book, <a class="orm:hideurl" href="https://oreil.ly/46N1v"><em>Linux
Pocket Guide</em></a> (O’Reilly), or seek out <a href="https://oreil.ly/KLTji">online tutorials</a>.<a data-type="indexterm" data-primary="tutorials" data-secondary="Linux" id="idm46586635520256"/><a data-type="indexterm" data-primary="Linux" data-secondary="tutorial" id="idm46586635519248"/><a data-type="indexterm" data-startref="linuxreview" id="idm46586635518304"/></p>
</div></section>







<div data-type="footnotes"><p data-type="footnote" id="idm46586635832560"><sup><a href="app01.xhtml#idm46586635832560-marker">1</a></sup> The dot and double dot are not expressions evaluated by the shell. They are hard links<a data-type="indexterm" data-primary="hard links" id="idm46586635832032"/><a data-type="indexterm" data-primary="link, hard" id="idm46586635831328"/> present in every directory.</p><p data-type="footnote" id="idm46586635650592"><sup><a href="app01.xhtml#idm46586635650592-marker">2</a></sup> Or another program if you redefine the value of the shell variable <code>PAGER</code>.<a data-type="indexterm" data-primary="PAGER variable" id="idm46586635649504"/><a data-type="indexterm" data-primary="variables" data-secondary="PAGER" id="idm46586635648768"/></p><p data-type="footnote" id="idm46586635612992"><sup><a href="app01.xhtml#idm46586635612992-marker">3</a></sup> If you omit the shebang line, your default shell will run the script. It’s a good practice to include the line.</p><p data-type="footnote" id="idm46586635598592"><sup><a href="app01.xhtml#idm46586635598592-marker">4</a></sup> That’s because the current directory is usually omitted from the shell’s search path, for security<a data-type="indexterm" data-primary="security" data-secondary="search path" id="idm46586635597952"/> reasons. Otherwise, an attacker could place a malicious, executable script named <code>ls</code> in your current directory, and when you ran <code>ls</code>, the script would run instead of the true <code>ls</code> command.</p></div></div></section></div></body></html>