<html><head></head><body><section data-pdf-bookmark="Chapter 21. Mobile Applications with React Native" data-type="chapter" epub:type="chapter"><div class="chapter" id="mobile-introduction">&#13;
<h1><span class="label">Chapter 21. </span>Mobile Applications with React Native</h1>&#13;
&#13;
&#13;
<p><a data-primary="React Native" data-type="indexterm" id="ix_ch21-asciidoc0"/>One<a data-primary="React Native" data-secondary="about" data-type="indexterm" id="ix_ch21-asciidoc1"/> day in the late 1980s I was shopping with my parents when I spotted a small portable television. It was a battery-powered square box, with an antenna, small speaker, and a tiny black-and-white screen. I was blown away by the possibility of watching Saturday morning cartoons <em>in my backyard</em>. Though I’d never own one, just knowing that such a device existed made me feel like I was living in a science-fiction future world. Little did I know that as an adult, I’d carry a device in my pocket that would allow me to not only watch <em>Masters of the Universe</em>, but also to access infinite information, listen to music, play games, take notes, take photos, summon a car, buy things, check the weather, and complete an infinite number of other tasks.</p>&#13;
&#13;
<p>In 2007 Steve Jobs introduced the iPhone, saying “every once in a while a revolutionary product comes along that changes everything.” Sure, smartphones existed before 2007, but it wasn’t until the rise of the iPhone (and subsequent rise of Android) that they were truly smart. In the intervening years, smartphone applications have evolved past the initial “anything goes” gold rush phase to be something that users demand quality from and have high expectations for. Today’s applications have high standards of functionality, interaction, and design. To add to the challenge, modern mobile application development is splintered across the Apple iOS and Android platforms, each using a different programming language and toolchain.</p>&#13;
&#13;
<p>You’ve probably already guessed it (it <em>is</em> in the book title), but JavaScript enables us as developers to write cross-platform mobile applications. In this chapter I’ll introduce the library that enables this, React Native, as well as the Expo tool chain. We’ll also clone the sample project code, which we’ll be building upon over the next few <span class="keep-together">chapters.</span></p>&#13;
&#13;
&#13;
&#13;
&#13;
&#13;
&#13;
<section data-pdf-bookmark="What We’re Building" data-type="sect1"><div class="sect1" id="idm45339485647992">&#13;
<h1>What We’re Building</h1>&#13;
&#13;
<p>Over the next few chapters we’ll build a mobile client for our social note application, Notedly. The goal is to use JavaScript and web technologies to develop an application a user can install on their mobile device. We’ll be implementing a subset of features so as to avoid too much repetition from the web application chapters. Specifically, our application will:</p>&#13;
&#13;
<ul>&#13;
<li>&#13;
<p>Work on both iOS and Android operating systems</p>&#13;
</li>&#13;
<li>&#13;
<p>Load a note feed and individual user notes from our GraphQL API</p>&#13;
</li>&#13;
<li>&#13;
<p>Use CSS and styled components for styling</p>&#13;
</li>&#13;
<li>&#13;
<p>Perform standard and dynamic routing</p>&#13;
</li>&#13;
</ul>&#13;
&#13;
<p>These features will provide a solid overview of the core concepts of developing a mobile application with React Native. Before we get started, let’s take a closer look at the technologies we will be using.</p>&#13;
</div></section>&#13;
&#13;
&#13;
&#13;
&#13;
&#13;
&#13;
&#13;
&#13;
&#13;
&#13;
&#13;
&#13;
&#13;
<section data-pdf-bookmark="How We’re Going To Build This" data-type="sect1"><div class="sect1" id="idm45339485641416">&#13;
<h1>How We’re Going To Build This</h1>&#13;
&#13;
<p>React Native is the core technology that we will be using to develop our application. React Native allows us to write applications in JavaScript, using React, and render them for the native mobile platform. This means that to users, there is no discernible difference between a React Native application and one written in the platform’s programming language. This is React Native’s key advantage over other popular web technology–based mobile frameworks, which traditionally wrapped a web view within an application shell. React Native has been used to develop apps by Facebook, Instagram, Bloomberg, Tesla, Skype, Walmart, Pinterest, and many others.</p>&#13;
&#13;
<p>The second key piece of our application development workflow is Expo, a set of tools and services that simplify React Native development through really useful features such as on-device previews, application builds, and extending the core React Native library. Before getting started with our development, I recommend that you do the following:</p>&#13;
<ol>&#13;
<li>&#13;
<p>Visit <a class="orm:hideurl" href="https://expo.io"><em>expo.io</em></a> and create an Expo account.</p>&#13;
</li>&#13;
<li>&#13;
<p>Install the Expo command-line tools by typing <strong><code>npm install expo-cli</code></strong> <span class="keep-together"><strong><code>--global</code></strong></span> into your terminal application.</p>&#13;
</li>&#13;
<li>&#13;
<p>Sign in to your Expo account locally by typing <strong><code>expo login</code></strong> in your terminal application.</p>&#13;
</li>&#13;
<li>&#13;
<p>Install the Expo Client application for your mobile device. Links to the Expo Client iOS and Android app can be found at <a class="orm:hideurl" href="https://expo.io/tools"><em>expo.io/tools</em></a>.</p>&#13;
</li>&#13;
<li>&#13;
<p>Sign in to your account in the Expo Client application.</p>&#13;
</li>&#13;
&#13;
</ol>&#13;
&#13;
<p>Finally, we’ll again use <a href="https://oreil.ly/xR62T">Apollo Client</a> to interact with data from our GraphQL API. Apollo Client comprises a collection of open source tools for working with GraphQL.<a data-startref="ix_ch21-asciidoc1" data-type="indexterm" id="idm45339485611352"/></p>&#13;
</div></section>&#13;
&#13;
&#13;
&#13;
&#13;
&#13;
&#13;
&#13;
&#13;
&#13;
&#13;
&#13;
&#13;
&#13;
<section data-pdf-bookmark="Getting Started" data-type="sect1"><div class="sect1" id="idm45339485610520">&#13;
<h1>Getting Started</h1>&#13;
&#13;
<p><a data-primary="React Native" data-secondary="getting started" data-type="indexterm" id="ix_ch21-asciidoc2"/>Before we can start development, you’ll need to make a copy of the&#13;
project starter files to your machine. The project’s <a href="https://github.com/javascripteverywhere/mobile">source code</a> contains all of the scripts and references to third-party libraries that we will need to develop our application. To clone the code to your local machine, open the terminal, navigate to the directory where you keep your projects, and <strong><code>git clone</code></strong> the project repository. If you’ve worked through the API, web, and/or desktop chapters, you may also have already created a <em>notedly</em> directory to keep the project code organized:</p>&#13;
&#13;
<pre data-code-language="bash" data-type="programlisting"><code class="nv">$ </code><code class="nb">cd </code>Projects&#13;
<code class="nv">$ </code><code class="c"># type the `mkdir notedly` command if you don't yet have a notedly directory</code>&#13;
<code class="nv">$ </code><code class="nb">cd </code>notedly&#13;
<code class="nv">$ </code>git clone git@github.com:javascripteverywhere/mobile.git&#13;
<code class="nv">$ </code><code class="nb">cd </code>mobile&#13;
<code class="nv">$ </code>npm install</pre>&#13;
<div data-type="note" epub:type="note"><h1>Installing Third-Party Dependencies</h1>&#13;
<p>By making a copy of the book’s starter code and running <code>npm install</code> in the directory, you avoid having to again run <code>npm install</code> for any of the individual third-party dependencies.</p>&#13;
</div>&#13;
&#13;
<p>The code is structured as follows:</p>&#13;
<dl>&#13;
<dt>/src</dt>&#13;
<dd>&#13;
<p> This is the directory where you should perform your&#13;
development as you follow along with the book.</p>&#13;
</dd>&#13;
<dt>/solutions</dt>&#13;
<dd>&#13;
<p>This directory contains the solutions for each chapter.&#13;
If you get stuck, these are available for you to consult.</p>&#13;
</dd>&#13;
<dt>/final</dt>&#13;
<dd>&#13;
<p>This directory contains the final working project.</p>&#13;
</dd>&#13;
</dl>&#13;
&#13;
<p>The remaining files and project setup match the standard output of the <code>expo-cli</code> React Native generator, which you can run by typing <strong><code>expo init</code></strong> in your terminal.</p>&#13;
<div data-type="note" epub:type="note"><h1>App.js?</h1>&#13;
<p>Because of the way that Expo’s build chain works, the <em>App.js</em> file in the root of the project directory is typically the application’s point of entry. To standardize our mobile project with the code found in the rest of the book, the <em>App.js</em> file is used only as a reference to a <em>/src/Main.js</em> file.</p>&#13;
</div>&#13;
&#13;
<p>Now that we have the code on our local machines and our dependencies installed, let’s run the app. To start the application, in your terminal application, type the <span class="keep-together">following:</span></p>&#13;
&#13;
<pre data-code-language="bash" data-type="programlisting"><code class="nv">$ </code>npm start</pre>&#13;
&#13;
<p>This will open Expo’s “Metro Bundler” web application on a local port in our browser. From here, you can launch a local device simulator by clicking one of the “Run on…” links. You can also launch the application on any physical device with the Expo Client by scanning the QR code (<a data-type="xref" href="#metro_bundler">Figure 21-1</a>).</p>&#13;
&#13;
<figure><div class="figure" id="metro_bundler">&#13;
<img alt="A screenshot of Expo's Metro Bundler application" src="assets/jsev_2101.png"/>&#13;
<h6><span class="label">Figure 21-1. </span>Expo’s Metro Bundler after launching our application</h6>&#13;
</div></figure>&#13;
<div data-type="tip"><h1>Installing Device Simulators</h1>&#13;
<p>To run an iOS device simulator, you will need to download and install <a href="https://oreil.ly/bgde4">Xcode</a> (macOS only). For Android, download <a href="https://oreil.ly/bjqkn">Android Studio</a> and follow <a href="https://oreil.ly/cUGsr">Expo’s guide</a> on setting up a device simulator. (See <a data-type="xref" href="#android_ios">Figure 21-2</a> for a comparison.) However, if you’re just getting started with mobile application development, I recommend starting with your own physical device.</p>&#13;
</div>&#13;
&#13;
<figure><div class="figure" id="android_ios">&#13;
<img alt="A screenshot of iOS and Android device simulators" src="assets/jsev_2102.png"/>&#13;
<h6><span class="label">Figure 21-2. </span>Our application running side by side on iOS and Android device simulators</h6>&#13;
</div></figure>&#13;
&#13;
<p>If you’ve signed in to Expo from your computer’s terminal application as well as within the Expo Client application on your mobile device, you can open the <span class="keep-together">application</span> simply by opening the Expo Client application and clicking the Projects tab (<a data-type="xref" href="#handheld">Figure 21-3</a>).</p>&#13;
&#13;
<figure><div class="figure" id="handheld">&#13;
<img alt="A photo of the application running on a physical device" src="assets/jsev_2103.png"/>&#13;
<h6><span class="label">Figure 21-3. </span>With Expo Client, we can preview our application on a physical device</h6>&#13;
</div></figure>&#13;
&#13;
<p>With the code cloned to your local machine and the ability to preview the application with Expo Client, you have everything in place to develop a mobile application.<a data-startref="ix_ch21-asciidoc2" data-type="indexterm" id="idm45339485541528"/></p>&#13;
</div></section>&#13;
&#13;
&#13;
&#13;
&#13;
&#13;
&#13;
&#13;
&#13;
&#13;
&#13;
&#13;
&#13;
&#13;
<section data-pdf-bookmark="Conclusion" data-type="sect1"><div class="sect1" id="idm45339485609928">&#13;
<h1>Conclusion</h1>&#13;
&#13;
<p>This chapter introduced React Native and Expo. We cloned the sample project code, ran it locally, and previewed it on a physical device or simulator. React Native empowers web and JavaScript developers to build fully featured native mobile applications, using the skills and tools they are familiar with. Expo simplifies the toolchain and lowers the barrier to entry for native mobile development. With these two tools, novices can easily get started with mobile development and web-savvy teams can quickly introduce a mobile application development skillset. In the next chapter we’ll take a closer look at React Native’s capabilities and introduce both routes and styles to our app.<a data-startref="ix_ch21-asciidoc0" data-type="indexterm" id="idm45339485538824"/></p>&#13;
</div></section>&#13;
&#13;
&#13;
&#13;
&#13;
&#13;
&#13;
&#13;
</div></section></body></html>