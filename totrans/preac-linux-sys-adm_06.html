<html><head></head><body>
<div id="sbo-rt-content"><section data-pdf-bookmark="Chapter 6. Installing and Uninstalling Software" data-type="chapter" epub:type="chapter"><div class="chapter" id="installing_and_uninstalling_software">
<h1><span class="label">Chapter 6. </span>Installing and Uninstalling Software</h1>
<p>Installing and uninstalling software are basic system administrator tasks. <a contenteditable="false" data-primary="installation" data-secondary="installing and uninstalling software" data-type="indexterm" id="ix_insuns"/>You might not perform them daily, but these are regular tasks for you and your team to complete. Most often, you’ll install updates, which can be automated. Any new software you install should be accompanied by a business justification, a change control record, and a written understanding of security implications, if any, from the requesting party. Installing software with known vulnerabilities is an easy pathway for malicious actors to compromise your systems.</p>
<p>Uninstalling software also requires a change control record because of the potential danger of removing a package, directory, or library required by some other critical system or service function.<a contenteditable="false" data-primary="uninstalling software" data-seealso="installation" data-type="indexterm" id="idm45657874656592"/></p>
<p>There are three software installation methods: installing from repositories using a package manager, installing individual packages downloaded to the local filesystem, and compiling source code. <a contenteditable="false" data-primary="packages" data-secondary="installing" data-seealso="installation" data-type="indexterm" id="idm45657874663280"/>This chapter covers all three methods. There are two standard methods of uninstalling software: using the package management tool and, in the case of compiled software, using an uninstall process. A third, nonstandard uninstall method is manually uninstalling software by removing directories, libraries, and binaries.</p>
<p>Manual software removal is a tedious task that only senior-level sysadmins should perform. The sections in this chapter teach you how to install software by a particular method and then uninstall software by that same method.</p>
<p>Before I discuss installing and uninstalling software, I’ll show you how to update your system. <a contenteditable="false" data-primary="updating your system" data-type="indexterm" id="ix_upd"/>Because updating is so important, it’s worth discussing first, and you should update before performing other tasks because of the high value of updating your system. You should always update your system when troubleshooting to check whether a simple update resolves your issues. A quick system update might alleviate the need to remove or install new software to solve a problem.</p>
<div data-type="note" epub:type="note"><h6>Note</h6>
<p>All demonstrations and examples in this chapter use CentOS 8.3 (<code>server1</code>) and Ubuntu Server 20.04 LTS (<code>server2</code>). I perform all tasks on <code>server1</code> first and then on <code>server2</code>, noting any differences between the two systems.<a contenteditable="false" data-primary="CentOS" data-secondary="version 8.3" data-type="indexterm" id="idm45657874550960"/><a contenteditable="false" data-primary="Ubuntu Server 20.04 LTS" data-type="indexterm" id="idm45657874373568"/><a contenteditable="false" data-primary="Lynx browser" data-type="indexterm" id="idm45657874372464"/> The software package used in the examples is Lynx, a lightweight text-based browser.</p>
</div>
<section data-pdf-bookmark="Updating Your System" data-type="sect1"><div class="sect1" id="updating_your_system">
<h1>Updating Your System</h1>
<p>I’ve mentioned keeping your system updated multiple times in this book.<a contenteditable="false" data-primary="installation" data-secondary="installing and uninstalling software" data-tertiary="updating your system" data-type="indexterm" id="ix_insunsupd"/> It’s an important task to remember. It should be one of your top priorities. Updates are a part of standard maintenance. Many system administrators apply updates weekly, which is good practice.<a contenteditable="false" data-primary="security" data-secondary="system updates to mitigate risks" data-type="indexterm" id="idm45657874371072"/> But don’t hesitate to apply patches, updates, and upgrades as needed to mitigate vulnerabilities. Security is your top priority. The following two sections illustrate how to apply updates to your systems.</p>
<section data-pdf-bookmark="Applying Red Hat Enterprise Linux–Based System Updates" data-type="sect2"><div class="sect2" id="applying_red_hat_enterprise_linuxen_das">
<h2>Applying Red Hat Enterprise Linux–Based System Updates</h2>
<p>Red Hat Enterprise Linux–based systems use the YUM/DNF utility to maintain updates and software installation from repositories. <a contenteditable="false" data-primary="updating your system" data-secondary="Red Hat Enterprise Linux–based system updates" data-type="indexterm" id="idm45657874369056"/><a contenteditable="false" data-primary="YUM/DNF utility" data-type="indexterm" id="idm45657874363952"/><a contenteditable="false" data-primary="Red Hat Enterprise Linux" data-secondary="applying system updates" data-type="indexterm" id="idm45657874362976"/>From the <a href="https://oreil.ly/R2Mca">official Red Hat <span class="keep-together">documentation</span></a>:</p>
<blockquote>
<p>YUM/DNF (yum/dnf) is the primary tool for getting, installing, deleting, querying, and managing Red Hat Enterprise Linux RPM software packages from official Red Hat software repositories, as well as other third-party repositories. YUM/DNF is used in Red Hat Enterprise Linux versions five and newer.</p>
</blockquote>
<p>DNF is the latest <a contenteditable="false" data-primary="DNF utility" data-seealso="YUM/DNF utility" data-type="indexterm" id="idm45657874359616"/>incarnation of the utility, so I’ve combined the two. According to the documentation, DNF is YUM version 4 and is the tool to use from Red Hat Enterprise <a contenteditable="false" data-primary="YUM/DNF utility" data-secondary="yum update command" data-type="indexterm" id="idm45657874953648"/>Linux version 8 onward. To begin an update, issue the <code>yum</code> or <code>dnf</code> command:</p>
<pre data-type="programlisting">
$ sudo yum update
Last metadata expiration check: 1:52:37 ago on Sun 07 Nov 2021 07:14:51 PM CST.
Dependencies resolved.
=================================================================================
 Package                         Architecture    Version      Repository     Size
=================================================================================
Installing:
 kernel                          x86_64          4.18.0...    baseos        5.9 M
 kernel-core                     x86_64          4.18.0...    baseos         36 M
 kernel-modules                  x86_64          4.18.0...    baseos         28 M
Upgrading:
 NetworkManager                  x86_64          1:1.30...    baseos        2.6 M
 NetworkManager-config-server    noarch          1:1.30...    baseos        129 k
 NetworkManager-libnm            x86_64          1:1.30...    baseos        1.8 M
 NetworkManager-team             x86_64          1:1.30...    baseos        146


Removing:
 kernel                          x86_64          4.18.0...    @BaseOS         0 
 kernel-core                     x86_64          4.18.0...    @BaseOS        60 M
 kernel-modules                  x86_64          4.18.0...    @BaseOS        20 M

Transaction Summary
=================================================================================
Install   21 Packages
Upgrade  256 Packages
Remove     3 Packages

Total download size: 404 M
Is this ok [y/N]:</pre>
<p>Agree to the installation here to have your target packages upgraded to the latest stable versions. <a contenteditable="false" data-primary="dnf -y command" data-type="indexterm" id="idm45657874350000"/>To automate subsequent updates, use the <code>-y</code> option to answer “yes” to any prompts. The following demonstrates using the <code>-y</code> option with the <code>dnf</code> <span class="keep-together">command:</span></p>
<pre data-type="programlisting">
$ sudo dnf -y update</pre>
<p>This automatically accepts the installation and does not prompt you interactively. This is a great option for use in scripts. The next section provides you with the equivalent update action on Debian-based systems.</p>
</div></section>
<section data-pdf-bookmark="Applying Debian-Based System Updates" data-type="sect2"><div class="sect2" id="applying_debian_based_system_updates">
<h2>Applying Debian-Based System Updates</h2>
<p>You apply updates to Debian-based systems with<a contenteditable="false" data-primary="Debian" data-secondary="applying Debian-based system updates" data-type="indexterm" id="idm45657874483264"/> a command analogous to the DNF one you used for Red Hat Enterprise Linux–based systems, using the Debian <code>apt</code> utility, as shown here. <a contenteditable="false" data-primary="updating your system" data-secondary="Debian-based system updates" data-type="indexterm" id="idm45657874342288"/><a contenteditable="false" data-primary="apt utility" data-type="indexterm" id="idm45657874341392"/>You’ll also receive a similar response if your system requires updates.</p>
<pre data-type="programlisting">
$ sudo apt update</pre>
<p>If your system doesn’t require updates, <code>apt</code>’s response will look similar to the <span class="keep-together">following:</span></p>
<pre data-type="programlisting">
Hit:1 http://us.archive.ubuntu.com/ubuntu focal InRelease
Get:2 http://us.archive.ubuntu.com/ubuntu focal-updates InRelease [114 kB]
Get:3 http://us.archive.ubuntu.com/ubuntu focal-backports InRelease [101 kB]
Get:4 http://us.archive.ubuntu.com/ubuntu focal-security InRelease [114 kB]
Fetched 328 kB in 52s (6,311 B/s)
Reading package lists... Done
Building dependency tree      
Reading state information... Done
All packages are up to date.</pre>
<p>There are no special update commands for patches, security updates, or application version upgrades; this single command takes care of all updates regardless of type or priority on both systems. Your system checks for updates from all configured repositories and applies them when available. It’s a good practice to check weekly or more frequently for updates and apply them during a scheduled maintenance window or as necessary for critical security updates.</p>
<p>The rest of this chapter focuses on installing software as on-demand service requests from your users, your management, or other sources.<a contenteditable="false" data-primary="installation" data-secondary="installing and uninstalling software" data-startref="ix_insunsupd" data-tertiary="updating your system" data-type="indexterm" id="idm45657874385136"/><a contenteditable="false" data-primary="updating your system" data-startref="ix_upd" data-type="indexterm" id="idm45657874336976"/></p>
</div></section>
</div></section>
<section data-pdf-bookmark="Installing Software from Repositories" data-type="sect1"><div class="sect1" id="installing_software_from_repositories">
<h1>Installing Software from Repositories</h1>
<p>Installing software from a repository is the easiest method of installing software on a Linux system. <a contenteditable="false" data-primary="installation" data-secondary="installing and uninstalling software" data-tertiary="installing from repositories" data-type="indexterm" id="ix_insunsrepo"/>The reason that it’s the easiest method is because the repository automatically meets your dependencies without you having to do anything except request an installation. For example, if you want to install the Apache HTTP Server on a system, there are several dependencies that you must satisfy before it installs. The repository contains all of your dependent packages, gathers, and installs them as they’re called for in support of your primary package. <a contenteditable="false" data-primary="dependencies" data-secondary="included in software repositories" data-type="indexterm" id="idm45657874330992"/>I use the text-based Lynx browser for the following installation demonstrations.</p>
<section data-pdf-bookmark="Installing an Application" data-type="sect2"><div class="sect2" id="installing_an_application">
<h2>Installing an Application</h2>
<p>On a CentOS system, enter<a contenteditable="false" data-primary="CentOS" data-secondary="installing application from a repo" data-type="indexterm" id="idm45657874333264"/> the following command:</p>
<pre data-type="programlisting">
$ sudo yum install lynx
Last metadata expiration check: 1:00:58 ago on Fri 05 Nov 2021 10:50:41 AM CDT.
No match for argument: lynx
Error: Unable to find a match: lynx</pre>
<p>If you receive this error, it means that the package, <code>lynx</code>, in this case, doesn’t exist by that name. You’ll have to search for the package name or repository that contains the package you want. <a contenteditable="false" data-primary="Lynx browser" data-secondary="installing from repository on CentOS and Ubuntu" data-type="indexterm" id="idm45657874321136"/>For example, I had to <a contenteditable="false" data-primary="dnf install command" data-type="indexterm" id="idm45657874319152"/>perform the following steps to install <code>lynx</code>:</p>
<pre data-type="programlisting">
$ sudo dnf install dnf-plugins-core</pre>
<p>This installs three packages: <code>dnf-plugins-core</code>, <code>python3-dnf-plugins-core</code>, and <code>yum-utils</code>. <a contenteditable="false" data-primary="PowerTools repository" data-type="indexterm" id="idm45657874314992"/><a contenteditable="false" data-primary="yum-utils package" data-type="indexterm" id="idm45657874313888"/><a contenteditable="false" data-primary="dnf-plugins-core package" data-type="indexterm" id="idm45657874312784"/><a contenteditable="false" data-primary="python3-dnf-plugins-core package" data-type="indexterm" id="idm45657874311712"/>Then, use the following command to enable the PowerTools repository where <code>lynx</code> resides:</p>
<pre data-type="programlisting">
$ sudo dnf config-manager --set-enabled powertools</pre>
<p>Now, proceed with the installation of <code>lynx</code> and its<a contenteditable="false" data-primary="dependencies" data-secondary="installing for Lynx from repository on Cen⁠t­OS and Ubuntu" data-type="indexterm" id="idm45657874308496"/> dependencies:</p>
<pre data-type="programlisting">
$ sudo dnf install lynx
CentOS Linux 8 - PowerTools                           2.4 kB/s | 2.4 MB     16:50
Last metadata expiration check: 0:14:39 ago on Fri 05 Nov 2021 12:09:08 PM CDT.
Dependencies resolved.
=================================================================================
 Package                   Architecture    Version         Repository        Size
=================================================================================
Installing:
 lynx                      x86_64          2.8.9-2.el8     powertools       1.6 M
Installing dependencies:
 centos-indexhtml          noarch          8.0-0.el8       baseos           246 k

Transaction Summary
=================================================================================
Install  2 Packages

Total download size: 1.8 M
Installed size: 6.5 M
Is this ok [y/N]:</pre>
<p>Agree to the installation to continue:</p>
<pre data-type="programlisting">
Is this ok [y/N]: y
Downloading Packages:
(1/2): lynx-2.8.9-2.el8.x86_64.rpm                    208 kB/s | 1.6 MB     00:07
(2/2): centos-indexhtml-8.0-0.el8.noarch.rpm           30 kB/s | 246 kB     00:08
---------------------------------------------------------------------------------
Total                                                 207 kB/s | 1.8 MB     00:09
Running transaction check
Transaction check succeeded.
Running transaction test
Transaction test succeeded.
Running transaction
  Preparing        :                                                          1/1
  Installing       : centos-indexhtml-8.0-0.el8.noarch                        1/2
  Installing       : lynx-2.8.9-2.el8.x86_64                                  2/2
  Running scriptlet: lynx-2.8.9-2.el8.x86_64                                  2/2
  Verifying        : centos-indexhtml-8.0-0.el8.noarch                        1/2
  Verifying        : lynx-2.8.9-2.el8.x86_64                                  2/2

Installed:
  centos-indexhtml-8.0-0.el8.noarch                       lynx-2.8.9-2.el8.x86_64

Complete!</pre>
<p>This process installed the Lynx application and its dependency, <code>centos-indexhtml</code>.</p>
<p>On an Ubuntu system, enter <a contenteditable="false" data-primary="Ubuntu Server 20.04 LTS" data-secondary="installing Lynx" data-type="indexterm" id="idm45657874303024"/>the following command:</p>
<pre data-type="programlisting">
$ sudo apt install lynx
Reading package lists... Done
Building dependency tree      
Reading state information... Done
The following additional packages will be installed:
  libidn11 lynx-common
The following NEW packages will be installed:
  libidn11 lynx lynx-common
0 upgraded, 3 newly installed, 0 to remove and 0 not upgraded.
Need to get 1,586 kB of archives.
After this operation, 5,731 kB of additional disk space will be used.
Do you want to continue? [Y/n]</pre>
<p>Note the two dependencies: <em>libidn11</em> and <em>lynx-common</em>. The system installs the dependencies before the target package. Continue by responding yes (<code>y</code>) to the prompt:</p>
<pre data-type="programlisting">
Do you want to continue? [Y/n] y
Get:1 http://us.archive.ubuntu.com/ubuntu focal/main amd64 libidn11 amd64 1.33...
Get:2 http://us.archive.ubuntu.com/ubuntu focal/universe amd64 lynx-common all...
Get:3 http://us.archive.ubuntu.com/ubuntu focal/universe amd64 lynx amd64 2.9....
Fetched 1,586 kB in 4min 29s (5,890 B/s)
Selecting previously unselected package libidn11:amd64.
(Reading database ... 107982 files and directories currently installed.)
Preparing to unpack .../libidn11_1.33-2.2ubuntu2_amd64.deb ...
Unpacking libidn11:amd64 (1.33-2.2ubuntu2) ...
Selecting previously unselected package lynx-common.
Preparing to unpack .../lynx-common_2.9.0dev.5-1_all.deb ...
Unpacking lynx-common (2.9.0dev.5-1) ...
Selecting previously unselected package lynx.
Preparing to unpack .../lynx_2.9.0dev.5-1_amd64.deb ...
Unpacking lynx (2.9.0dev.5-1) ...
Setting up libidn11:amd64 (1.33-2.2ubuntu2) ...
Setting up lynx-common (2.9.0dev.5-1) ...
Setting up lynx (2.9.0dev.5-1) ...
update-alternatives: using /usr/bin/lynx to provide /usr/bin/www-browser ...
Processing triggers for libc-bin (2.31-0ubuntu9.2) ...
Processing triggers for man-db (2.9.1-1) ...
Processing triggers for mime-support (3.64ubuntu1) ...</pre>
<p>The <code>apt</code> package manager installed the <code>lynx</code> package and its dependencies. <a contenteditable="false" data-primary="apt utility" data-secondary="installing lynx package and dependencies on Ubuntu" data-type="indexterm" id="idm45657874294320"/>That’s all there is to install from a repository. Use the package installer and name the application packages you want to install, and the package manager takes care of everything for you. In the next section, you learn how to uninstall a software package.</p>
</div></section>
<section data-pdf-bookmark="Uninstalling an Application" data-type="sect2"><div class="sect2" id="uninstalling_an_application">
<h2>Uninstalling an Application</h2>
<p>The following simple process uninstalls a target package using a package manager on Red Hat Enterprise Linux–based systems. <a contenteditable="false" data-primary="Red Hat Enterprise Linux" data-secondary="uninstalling an application using rpm" data-type="indexterm" id="idm45657874622576"/><a contenteditable="false" data-primary="uninstalling software" data-secondary="uninstalling application on Red Hat Enterprise Linux" data-type="indexterm" id="idm45657874290416"/>The Red Hat Package Manager, <code>rpm</code>, installs, uninstalls, and queries individual packages and their dependencies.<a contenteditable="false" data-primary="rpm package manager" data-type="indexterm" id="idm45657874287536"/> The <code>-e</code> option erases (removes) target packages from the system. As you’ll see next, when there are no errors from removing a package, the system gives no response. <a contenteditable="false" data-primary="Lynx browser" data-secondary="uninstalling Lynx and dependencies on Red Hat Enterprise Linux" data-type="indexterm" id="idm45657874286400"/><a contenteditable="false" data-primary="dnf autoremove command" data-type="indexterm" id="idm45657874284816"/>The <code>autoremove</code> step automatically removes unused dependencies. Your system might have more than one unused dependency.<a contenteditable="false" data-primary="dependencies" data-secondary="automatic uninstall on Red Hat Enterprise Linux" data-type="indexterm" id="idm45657874282304"/> It’s generally safe to remove them:</p>
<pre data-type="programlisting">
$ sudo rpm -e lynx
$ sudo dnf autoremove
Last metadata expiration check: 0:31:32 ago on Fri 05 Nov 2021 01:52:28 PM CDT.
Dependencies resolved.
=================================================================================
 Package                  Architecture      Version          Repository      Size
=================================================================================
Removing:
 centos-indexhtml         noarch            8.0-0.el8        @baseos        505 k

Transaction Summary
=================================================================================
Remove  1 Package

Freed space: 505 k
Is this ok [y/N]: y
Running transaction check
Transaction check succeeded.
Running transaction test
Transaction test succeeded.
Running transaction
  Preparing        :                                                          1/1
  Erasing          : centos-indexhtml-8.0-0.el8.noarch                        1/1
  Verifying        : centos-indexhtml-8.0-0.el8.noarch                        1/1

Removed:
  centos-indexhtml-8.0-0.el8.noarch                                                                                            

Complete!</pre>
<p>This process removed the <code>lynx</code> package and its dependency, <code>centos-indexhtml</code>.</p>
<p>The <a contenteditable="false" data-primary="apt utility" data-secondary="using with purge option to uninstall lynx package" data-type="indexterm" id="idm45657874278192"/>following process uses Ubuntu’s <code>apt</code> with<a contenteditable="false" data-primary="Ubuntu" data-secondary="uninstalling lynx using apt with purge option" data-type="indexterm" id="idm45657874276208"/> the <code>purge</code> option:</p>
<pre data-type="programlisting">
$ sudo apt purge lynx
Reading package lists... Done
Building dependency tree      
Reading state information... Done
The following packages were automatically installed and are no longer required:
  libidn11 lynx-common
Use 'sudo apt autoremove' to remove them.
The following packages will be REMOVED:
  lynx*
0 upgraded, 0 newly installed, 1 to remove and 0 not upgraded.
After this operation, 1,992 kB disk space will be freed.
Do you want to continue? [Y/n] y
(Reading database ... 108095 files and directories currently installed.)
Removing lynx (2.9.0dev.5-1) ...
(Reading database ... 108082 files and directories currently installed.)
Purging configuration files for lynx (2.9.0dev.5-1) ...</pre>
<p>The <code>purge</code> option removes the <code>lynx</code> package but not the dependencies. <a contenteditable="false" data-primary="dependencies" data-secondary="removing from Ubuntu with sudo apt autoremove" data-type="indexterm" id="idm45657874271968"/>As shown in the preceding output, you must run <code>sudo apt autoremove</code> to erase those files from the system. <a contenteditable="false" data-primary="sudo apt autoremove" data-secondary="removing dependencies with" data-type="indexterm" id="idm45657874269312"/>If you use the <code>remove</code> option, then <code>apt</code> only removes the binaries from the system, which leaves configurations and other files intact. In the next section, you learn how to install and remove individual packages using a system’s package manager.<a contenteditable="false" data-primary="installation" data-secondary="installing and uninstalling software" data-startref="ix_insunsrepo" data-tertiary="installing from repositories" data-type="indexterm" id="idm45657875563456"/></p>
</div></section>
</div></section>
<section data-pdf-bookmark="Installing and Uninstalling Individual Software Packages" data-type="sect1"><div class="sect1" id="installing_and_uninstalling_individual">
<h1>Installing and Uninstalling Individual Software Packages</h1>
<p>You need software packages from other sources, such as vendor websites, GitHub, and SourceForge that aren’t part of any repository.<a contenteditable="false" data-primary="installation" data-secondary="installing and uninstalling software" data-tertiary="installing and uninstalling individual packages" data-type="indexterm" id="ix_insunspkg"/> You must install these individual packages manually at the command line. Rather than using repository commands to install these packages, you use the local package manager utilities such as <code>rpm</code> and <code>dpkg</code>.</p>
<div data-type="tip"><h6>Tip</h6>
<p>Be sure to read any documentation that accompanies your target package before attempting to install it. Check for dependencies, configurations, and any security warnings. You’ll need to satisfy dependencies before installing the target package.</p>
</div>
<section data-pdf-bookmark="Installing an Individual Software Package Manually" data-type="sect2"><div class="sect2" id="installing_an_individual_software_packa">
<h2>Installing an Individual Software Package Manually</h2>
<p>The examples in this section use the <code>downloadonly</code> option to download without installing packages from repositories to simplify locating a package for this demonstration.<a contenteditable="false" data-primary="packages" data-secondary="installing individual package manually" data-type="indexterm" id="idm45657874256960"/><a contenteditable="false" data-primary="dnf --downloadonly install command" data-type="indexterm" id="idm45657874255408"/><a contenteditable="false" data-primary="--downloadonly option (dnf)" data-primary-sortas="downloadonly" data-type="indexterm" id="idm45657874254336"/> It doesn’t matter what the source is for packages, only that you have them downloaded to your system and install them manually at the command line.<a contenteditable="false" data-primary="Lynx browser" data-secondary="downloading and installing package manually" data-type="indexterm" id="idm45657874252992"/><a contenteditable="false" data-primary="CentOS" data-secondary="manual download and install of package on" data-type="indexterm" id="idm45657874251264"/> </p>
<p>On a CentOS system, enter the following command:</p>
<pre data-type="programlisting">
$ sudo dnf --downloadonly install lynx
Last metadata expiration check: 0:20:15 ago on Sat 06 Nov 2021 08:11:31 AM CDT.
Dependencies resolved.
=================================================================================
 Package                 Architecture      Version         Repository        Size
=================================================================================
Installing:
 lynx                    x86_64            2.8.9-2.el8     powertools       1.6 M
Installing dependencies:
 centos-indexhtml        noarch            8.0-0.el8       baseos           246 k

Transaction Summary
=================================================================================
Install  2 Packages

Total download size: 1.8 M
Installed size: 6.5 M
DNF will only download packages for the transaction.
Is this ok [y/N]:y
Downloading Packages:
(1/2): lynx-2.8.9-2.el8.x86_64.rpm                    287 kB/s | 1.6 MB     00:05
(2/2): centos-indexhtml-8.0-0.el8.noarch.rpm           37 kB/s | 246 kB     00:06
---------------------------------------------------------------------------------
Total                                                 252 kB/s | 1.8 MB     00:07
Complete!
The downloaded packages were saved in cache until the next successful transact...
You can remove cached packages by executing 'dnf clean packages'.</pre>
<p>When you download packages using this method, they’re stored in a subdirectory of the <em>/var/cache/dnf</em> directory. <a contenteditable="false" data-primary="/var/cache/dnf directory" data-primary-sortas="var" data-type="indexterm" id="idm45657874246720"/>The subdirectory to which packages download depends on the repository that the packages originate from.<a contenteditable="false" data-primary="CentOS" data-secondary="manual download and install of package on" data-tertiary="locations for downloaded packages" data-type="indexterm" id="idm45657874242928"/> For example, packages can download to any of the following on my CentOS system:</p>
<pre data-type="programlisting">
/var/cache/dnf/appstream-a520ed22b0a8a736
/var/cache/dnf/AppStream-a520ed22b0a8a736
/var/cache/dnf/baseos-929b586ef1f72f69
/var/cache/dnf/BaseOS-929b586ef1f72f69
/var/cache/dnf/epel-6519ee669354a484
/var/cache/dnf/epel-modular-95d9a0c53e492cbd
/var/cache/dnf/extras-2770d521ba03e231
/var/cache/dnf/powertools-25a6a2b331e53e98</pre>
<p>In this example, the <code>lynx</code> package downloaded to <em>/var/cache/dnf/powertools-⁠25a6a2b3​31e53e98/packages</em> and <code>centos-indexhtml</code> downloaded to <em>/var/cache/dnf/⁠baseos-​929b586ef1f72f69/packages</em>.</p>
<p>I will attempt to install the <code>lynx</code> package first, which will fail <a contenteditable="false" data-primary="CentOS" data-secondary="manual download and install of package on" data-tertiary="install failure because of centos-indexhtml dependency" data-type="indexterm" id="idm45657874238272"/>because of its dependency on the <code>centos-indexhtml</code> package:</p>
<pre data-type="programlisting">
$ sudo rpm -i lynx-2.8.9-2.el8.x86_64.rpm
error: Failed dependencies:
      redhat-indexhtml is needed by lynx-2.8.9-2.el8.x86_64</pre>
<div data-type="note" epub:type="note"><h6>Note</h6>
<p>Since CentOS is a Red Hat Enterprise Linux binary-compatible distribution, our <code>centos-indexhtml</code> package is equivalent to the <code>redhat-indexhtml</code> package. It will work because the package names are analogous.<a contenteditable="false" data-primary="CentOS" data-secondary="centos-indexhtml package" data-type="indexterm" id="idm45657874232352"/><a contenteditable="false" data-primary="redhat-indexhtml package" data-type="indexterm" id="idm45657874230976"/></p>
</div>
<p>Heeding the preceding error, install the <code>centos-indexhtml</code> package first and then proceed to <a contenteditable="false" data-primary="CentOS" data-secondary="manual download and install of package on" data-tertiary="installing centos-indexhtml and then lynx package" data-type="indexterm" id="idm45657874229776"/>install the <code>lynx</code> package:</p>
<pre data-type="programlisting">
$ sudo rpm -i centos-indexhtml-8.0-0.el8.noarch.rpm</pre>
<p>The package installs without error:</p>
<pre data-type="programlisting">
$ sudo rpm -i lynx-2.8.9-2.el8.x86_64.rpm</pre>
<p>The <code>lynx</code> package was installed successfully. <a contenteditable="false" data-primary="rpm package manager" data-secondary="-i option" data-type="indexterm" id="idm45657874224864"/>The <code>rpm</code> switch (<code>-i</code>) means <em>install</em>.</p>
<p>For Ubuntu systems, the manual download and <a contenteditable="false" data-primary="Ubuntu" data-secondary="manual download and install of package on" data-type="indexterm" id="idm45657874221136"/>install process proceeds as follows:</p>
<pre class="widows13" data-type="programlisting">
$ sudo apt install --download-only lynx
Reading package lists... Done
Building dependency tree      
Reading state information... Done
The following additional packages will be installed:
  libidn11 lynx-common
The following NEW packages will be installed:
  libidn11 lynx lynx-common
0 upgraded, 3 newly installed, 0 to remove and 0 not upgraded.
Need to get 960 kB/1,586 kB of archives.
After this operation, 5,731 kB of additional disk space will be used.
Do you want to continue? [Y/n]y
Get:1 http://us.archive.ubuntu.com/ubuntu focal/main amd64 libidn11 amd64 1.33...
Get:2 http://us.archive.ubuntu.com/ubuntu focal/universe amd64 lynx-common all...
Get:2 http://us.archive.ubuntu.com/ubuntu focal/universe amd64 lynx-common all...
Fetched 214 kB in 2min 24s (1,491 B/s)
Download complete and in download only mode</pre>
<p>On Debian-based systems such as Ubuntu, files downloaded <a contenteditable="false" data-primary="Debian" data-secondary="downloaded packages on Debian-based systems" data-type="indexterm" id="idm45657874218560"/>this way reside in <em>/var/cache/apt/archives</em> as <em>.deb</em> packages, and <a contenteditable="false" data-primary="/var/cache/apt/archives directory" data-primary-sortas="var" data-type="indexterm" id="idm45657874215664"/>you<a contenteditable="false" data-primary=".deb packages" data-primary-sortas="deb" data-type="indexterm" id="idm45657874214192"/> can install them from that location. Note that the <code>apt</code> utility dialog stated that the packages “will be installed” but the final message, “Download complete and in download only mode” means that the packages downloaded but didn’t install. <a contenteditable="false" data-primary="Ubuntu" data-secondary="manual download and install of package on" data-tertiary="attempt to install lynx without dependencies" data-type="indexterm" id="idm45657874221808"/><a contenteditable="false" data-primary="dependencies" data-secondary="attempting to ignore in lynx install on Ubuntu" data-type="indexterm" id="idm45657874261680"/><a contenteditable="false" data-primary="apt utility" data-secondary="packages downloaded only, not installed" data-type="indexterm" id="idm45657874641152"/>In the following example, I attempt to install <code>lynx</code> and ignore the dependencies that downloaded with it:</p>
<pre data-type="programlisting">
$ sudo dpkg -i lynx_2.9.0dev.5-1_amd64.deb
Selecting previously unselected package lynx.
(Reading database ... 108026 files and directories currently installed.)
Preparing to unpack lynx_2.9.0dev.5-1_amd64.deb ...
Unpacking lynx (2.9.0dev.5-1) ...
dpkg: dependency problems prevent configuration of lynx:
 lynx depends on libidn11 (&gt;= 1.13); however:
  Package libidn11 is not installed.
 lynx depends on lynx-common; however:
  Package lynx-common is not installed.

dpkg: error processing package lynx (--install):
 dependency problems - leaving unconfigured
Errors were encountered while processing:
 lynx</pre>
<p>The system won’t allow you to install without the dependencies that downloaded into the same directory with <code>lynx</code>:</p>
<pre data-type="programlisting">
$ ls -1 /var/cache/apt/archives
libidn11_1.33-2.2ubuntu2_amd64.deb
lynx_2.9.0dev.5-1_amd64.deb
lynx-common_2.9.0dev.5-1_all.deb</pre>
<p>Install the <a contenteditable="false" data-primary="Ubuntu" data-secondary="manual download and install of package on" data-tertiary="installing dependencies first then lynx" data-type="indexterm" id="idm45657874209152"/>dependencies first, and then install <code>lynx</code>:</p>
<pre class="widows18" data-type="programlisting">
$ sudo dpkg -i libidn11_1.33-2.2ubuntu2_amd64.deb
Selecting previously unselected package libidn11:amd64.
(Reading database ... 108039 files and directories currently installed.)
Preparing to unpack libidn11_1.33-2.2ubuntu2_amd64.deb ...
Unpacking libidn11:amd64 (1.33-2.2ubuntu2) ...
Setting up libidn11:amd64 (1.33-2.2ubuntu2) ...
Processing triggers for libc-bin (2.31-0ubuntu9.2) …

$ sudo dpkg -i lynx-common_2.9.0dev.5-1_all.deb
Selecting previously unselected package lynx-common.
(Reading database ... 108044 files and directories currently installed.)
Preparing to unpack lynx-common_2.9.0dev.5-1_all.deb ...
Unpacking lynx-common (2.9.0dev.5-1) ...
Setting up lynx-common (2.9.0dev.5-1) ...
Processing triggers for mime-support (3.64ubuntu1) ...
Processing triggers for man-db (2.9.1-1) ...

$ sudo dpkg -i lynx_2.9.0dev.5-1_amd64.deb
(Reading database ... 108136 files and directories currently installed.)
Preparing to unpack lynx_2.9.0dev.5-1_amd64.deb ...
Unpacking lynx (2.9.0dev.5-1) over (2.9.0dev.5-1) ...
Setting up lynx (2.9.0dev.5-1) ...
update-alternatives: using /usr/bin/lynx to provide /usr/bin/www-browser ...</pre>
<p>The <code>-i</code> switch for the <code>dpkg</code> command means <a contenteditable="false" data-primary="dpkg -i command" data-type="indexterm" id="idm45657874202112"/>install, just as it does for the <code>rpm</code> utility. Next, we will uninstall the same packages manually.</p>
</div></section>
<section data-pdf-bookmark="Uninstalling Individual Software Packages" data-type="sect2"><div class="sect2" id="uninstalling_individual_software_packag">
<h2>Uninstalling Individual Software Packages</h2>
<p>To uninstall a manually installed package, you have to reverse the process. <a contenteditable="false" data-primary="uninstalling software" data-secondary="uninstalling individual packages" data-type="indexterm" id="idm45657874196640"/>This means you uninstall in the opposite order, beginning with the last installed package. In other words, you must uninstall all dependencies before uninstalling the package itself.<a contenteditable="false" data-primary="dependencies" data-secondary="uninstalling before uninstalling the package on CentOS" data-type="indexterm" id="idm45657874244144"/> If there are dependencies, the system will instruct you which ones they are.</p>
<p>On a CentOS system, enter <a contenteditable="false" data-primary="CentOS" data-secondary="uninstalling individual packages" data-type="indexterm" id="idm45657874410416"/>the following <a contenteditable="false" data-primary="rpm package manager" data-secondary="-e option" data-type="indexterm" id="idm45657874192176"/>command:</p>
<pre data-type="programlisting">
$ sudo rpm -e centos-indexhtml
error: Failed dependencies:
    redhat-indexhtml is needed by (installed) lynx-2.8.9-2.el8.x86_64

$ sudo rpm -e lynx

$ sudo rpm -e centos-indexhtml</pre>
<p>You have successfully uninstalled <code>lynx</code> and its dependency, <code>centos-indexhtml</code>.</p>
<p>On an Ubuntu system, you’ll notice that when you attempt an uninstall of a package that you manually installed, there are no warnings about dependencies. <a contenteditable="false" data-primary="Ubuntu" data-secondary="uninstalling lynx package and its dependencies" data-type="indexterm" id="idm45657874188480"/>To uninstall Lynx on Ubuntu, there are three packages, <code>lynx</code>, and its two dependencies: <code>libidn11</code> and <code>lynx-common</code>.</p>
<p>Look at the differences when attempting to uninstall <code>lynx</code> and its dependencies individually from an Ubuntu system. <a contenteditable="false" data-primary="apt utility" data-secondary="uninstalling lynx package and its dependencies" data-type="indexterm" id="idm45657874183088"/>These are three separate commands to demonstrate how packages and dependencies are or are not removed, depending on which command you use. I’ve answered no (<code>n</code>) to each for this demonstration:</p>
<pre data-type="programlisting">
$ sudo apt purge lynx
Reading package lists... Done
Building dependency tree      
Reading state information... Done
The following packages will be REMOVED:
  lynx*
0 upgraded, 0 newly installed, 1 to remove and 0 not upgraded.
After this operation, 1,992 kB disk space will be freed.
Do you want to continue? [Y/n]

$ sudo apt purge lynx-common
Reading package lists... Done
Building dependency tree      
Reading state information... Done
The following packages will be REMOVED:
  lynx* lynx-common*
0 upgraded, 0 newly installed, 2 to remove and 0 not upgraded.
After this operation, 5,481 kB disk space will be freed.
Do you want to continue? [Y/n]

$ sudo apt purge libidn11
Reading package lists... Done
Building dependency tree      
Reading state information... Done
The following packages will be REMOVED:
  libidn11* lynx*
0 upgraded, 0 newly installed, 2 to remove and 0 not upgraded.
After this operation, 2,242 kB disk space will be freed.
Do you want to continue? [Y/n]</pre>
<p>And, if you remove only <code>lynx</code> from the system, <code>lynx_common</code> and <code>libidn11</code> are left behind. Issuing the command <code>sudo apt autoremove</code> won’t remove the unused dependencies as it did when you installed Lynx from a repository.<a contenteditable="false" data-primary="sudo apt autoremove" data-secondary="use with manually installed package" data-type="indexterm" id="idm45657874176848"/> The following section describes how to find dependencies for a specific software package.</p>
</div></section>
<section data-pdf-bookmark="Finding Package Dependencies" data-type="sect2"><div class="sect2" id="finding_package_dependencies">
<h2>Finding Package Dependencies</h2>
<p>It helps to know a package’s dependencies before you install it. <a contenteditable="false" data-primary="dependencies" data-secondary="finding for a package" data-type="indexterm" id="idm45657874173552"/>This is how you find them on a <a contenteditable="false" data-primary="Red Hat Enterprise Linux" data-secondary="finding package dependencies on" data-type="indexterm" id="idm45657874174384"/>Red Hat Enterprise Linux–based system:</p>
<pre class="widows21" data-type="programlisting">
$ dnf deplist lynx
CentOS Linux 8 - AppStream                                37 kB/s | 9.6 MB  04:28
CentOS Linux 8 - BaseOS                                   39 kB/s | 8.5 MB  03:44
CentOS Linux 8 - Extras                                  7.8 kB/s |  10 kB  00:01
CentOS Linux 8 - PowerTools                              121 kB/s | 2.4 MB  00:20
Extra Packages for Enterprise Linux Modular 8 - x86_64    20 kB/s | 955 kB  00:48
Extra Packages for Enterprise Linux 8 - x86_64            29 kB/s |  11 MB  06:08
package: lynx-2.8.9-2.el8.x86_64
  dependency: libc.so.6(GLIBC_2.15)(64bit)
   provider: glibc-2.28-151.el8.x86_64
  dependency: libcrypto.so.1.1()(64bit)
   provider: openssl-libs-1:1.1.1g-15.el8_3.x86_64
  dependency: libcrypto.so.1.1(OPENSSL_1_1_0)(64bit)
   provider: openssl-libs-1:1.1.1g-15.el8_3.x86_64
  dependency: libdl.so.2()(64bit)
   provider: glibc-2.28-151.el8.x86_64
  dependency: libncursesw.so.6()(64bit)
   provider: ncurses-libs-6.1-7.20180224.el8.x86_64
  dependency: libssl.so.1.1()(64bit)
   provider: openssl-libs-1:1.1.1g-15.el8_3.x86_64
  dependency: libssl.so.1.1(OPENSSL_1_1_0)(64bit)
   provider: openssl-libs-1:1.1.1g-15.el8_3.x86_64
  dependency: libtinfo.so.6()(64bit)
   provider: ncurses-libs-6.1-7.20180224.el8.x86_64
  dependency: libz.so.1()(64bit)
   provider: zlib-1.2.11-17.el8.x86_64
  dependency: redhat-indexhtml
   provider: centos-indexhtml-8.0-0.el8.noarch
  dependency: rtld(GNU_HASH)
   provider: glibc-2.28-151.el8.i686
   provider: glibc-2.28-151.el8.x86_64</pre>
<p>As mentioned earlier in this chapter, the system has already installed most of the required dependencies. The required one, <code>centos-indexhtml</code>, doesn’t stand out in any particular way. The only way I know of to isolate any dependencies that your system requires is to attempt an installation of the target package.</p>
<p>The following listing <a contenteditable="false" data-primary="Ubuntu" data-secondary="finding package dependencies on" data-type="indexterm" id="idm45657885793504"/>shows you the same dependency list query on an Ubuntu system:</p>
<pre class="widows4" data-type="programlisting">
$ sudo apt show lynx
Package: lynx
Version: 2.9.0dev.5-1
Priority: extra
Section: universe/web
Origin: Ubuntu
Maintainer: Ubuntu Developers &lt;ubuntu-devel-discuss@lists.ubuntu.com&gt;
Original-Maintainer: Debian Lynx Packaging Team &lt;pkg-lynx-maint@lists.aliot...
Bugs: https://bugs.launchpad.net/ubuntu/+filebug
Installed-Size: 1,992 kB
Provides: news-reader, www-browser
Depends: libbsd0 (&gt;= 0.0), libbz2-1.0, libc6 (&gt;= 2.15), libgnutls30 (&gt;= 3.6.12...
Recommends: mime-support
Conflicts: lynx-ssl
Breaks: lynx-cur (&lt;&lt; 2.8.9dev8-2~), lynx-cur-wrapper (&lt;&lt; 2.8.8dev.8-2)
Replaces: lynx-cur (&lt;&lt; 2.8.9dev8-2~), lynx-cur-wrapper (&lt;&lt; 2.8.8dev.8-2)
Homepage: https://lynx.invisible-island.net/
Download-Size: 626 kB
APT-Manual-Installed: yes
APT-Sources: http://us.archive.ubuntu.com/ubuntu focal/universe amd64 Packages
Description: classic non-graphical (text-mode) web browser
 In continuous development since 1992, Lynx sets the standard for
 text-mode web clients. It is fast and simple to use, with support for
 browsing via FTP, Gopher, HTTP, HTTPS, NNTP, and the local file system.</pre>
<p>If you’re a Linux purist and like to compile your software so that you have maximum control, the next section demonstrates installing a software package from source code.<a contenteditable="false" data-primary="installation" data-secondary="installing and uninstalling software" data-startref="ix_insunspkg" data-tertiary="installing and uninstalling individual packages" data-type="indexterm" id="idm45657874163984"/></p>
</div></section>
</div></section>
<section data-pdf-bookmark="Installing Software from Source Code" data-type="sect1"><div class="sect1" id="installing_software_from_source_code">
<h1>Installing Software from Source Code</h1>
<p>Some system administrators prefer to install all software from source code (also referred to as “source”) because it is the most flexible software installation method. <a contenteditable="false" data-primary="source code, installing software from" data-type="indexterm" id="ix_srccd"/><a contenteditable="false" data-primary="installation" data-secondary="installing and uninstalling software" data-tertiary="installing from source code" data-type="indexterm" id="ix_insunsinsSC"/>Installing from source allows you to customize the installation for your specific needs. You can change installation paths, enable features, disable features, and make minute adjustments to every possible configuration option available for <span class="keep-together">an application.</span></p>
<p>There are some downsides to installing from source code. The major downside is that you must satisfy dependencies for the software you install. This can be frustrating, time-consuming, and tedious. I have personally chased recursive dependencies to the point where I’ve forgotten the name of the original application I needed to install. Another downside is that you must install a full complement of development tools onto your systems, which consumes considerable disk space. Another downside is that upgrading to a newer version of the software installed from source code is just as difficult and time-consuming as installing the original version. And if a previous version isn’t fully overwritten or removed, you can experience version conflicts that can be quite difficult to resolve.</p>
<section data-pdf-bookmark="Satisfying Prerequisites: Building a Development Environment" data-type="sect2"><div class="sect2" id="satisfying_prerequisites_building_a_dev">
<h2>Satisfying Prerequisites: Building a Development Environment</h2>
<p>Before installing any<a contenteditable="false" data-primary="source code, installing software from" data-secondary="satisfying prerequisites, building development environment" data-type="indexterm" id="idm45657874151744"/> application <a contenteditable="false" data-primary="development environment, building" data-type="indexterm" id="idm45657874150176"/>from source code, you’ll need to set up a development environment by installing a code compiler and supporting software. The easiest method is to install a group of software packages from your Linux vendor’s repositories.<a contenteditable="false" data-primary="groupinstall option (dnf)" data-type="indexterm" id="idm45657875737328"/><a contenteditable="false" data-primary="dnf groupinstall command" data-type="indexterm" id="idm45657875845824"/></p>
<p>For Red Hat Enterprise Linux–based <a contenteditable="false" data-primary="Red Hat Enterprise Linux" data-secondary="building development environment on" data-type="indexterm" id="idm45657874513200"/>systems, <a contenteditable="false" data-primary="development environment, building" data-secondary="on Red Hat Enterprise Linux–based systems" data-type="indexterm" id="idm45657874147712"/>using the <code>groupinstall</code> option and identifying <code>"Development Tools"</code> as the installation target group is the best choice. <a contenteditable="false" data-primary="Development Tools, installing on Red Hat Enterprise Linux" data-type="indexterm" id="idm45657874138544"/>Unfortunately, this group selection installs many unnecessary and potentially nonsecure packages for compiling source code at the command line, such as a list of graphical tools. For this reason, it’s often desirable to set up a specific system dedicated to software development. <a contenteditable="false" data-primary="YUM/DNF utility" data-secondary="dnf groupinstall command" data-type="indexterm" id="idm45657874171808"/>To create a software development system, use the following command:</p>
<pre class="pagebreak-before less_space" data-type="programlisting">
$ sudo dnf groupinstall "Development Tools"
Last metadata expiration check: 2:41:45 ago on Sun 07 Nov 2021 09:57:05 AM CST.
Dependencies resolved.
================================================================================
 Package                          Architecture  Version        Repository   Size
================================================================================
Upgrading:
 automake                         noarch        1.16.1-7.el8   appstream   713 k
 binutils                         x86_64        2.30-93.el8    baseos      5.8 M
 cpp                              x86_64        8.4.1-1.el8    appstream    10 M
 elfutils-libelf                  x86_64        0.182-3.el8    baseos      216 k
 elfutils-libs                    x86_64        0.182-3.el8    baseos      293 k
 gcc                              x86_64        8.4.1-1.el8    appstream    23 M

...

xorg-x11-font-utils               x86_64        1:7.5-40.el8   appstream   103 k
 xorg-x11-fonts-ISO8859-1-100dpi  noarch        7.5-19.el8     appstream   1.1 M
 xorg-x11-server-utils            x86_64        7.7-27.el8     appstream   198 k
 zlib-devel                       x86_64        1.2.11-17.el8  baseos       58 k
 zstd                             x86_64        1.4.4-1.el8    appstream   393 k
Installing weak dependencies:
 gcc-gdb-plugin                   x86_64        8.4.1-1.el8    appstream   117 k
 kernel-devel                     x86_64        4.18.0-305...  baseos       18 M
Enabling module streams:
 javapackages-runtime                           201801                    
Installing Groups:
 Development Tools                                                          

Transaction Summary
================================================================================
Install  159 Packages
Upgrade   23 Packages

Total download size: 219 M
Is this ok [y/N]:</pre>
<p>On Ubuntu systems, the equivalent installation uses the option <code>build-essential</code> to<a contenteditable="false" data-primary="development environment, building" data-secondary="on Ubuntu systems" data-type="indexterm" id="idm45657874128176"/> install all <a contenteditable="false" data-primary="apt utility" data-secondary="build-essential option" data-type="indexterm" id="idm45657874127104"/>the necessary<a contenteditable="false" data-primary="Ubuntu" data-secondary="building development environment on" data-type="indexterm" id="idm45657874125760"/> development <a contenteditable="false" data-primary="build-essential option (apt)" data-type="indexterm" id="idm45657874124384"/>tools on your system:</p>
<pre class="widows15" data-type="programlisting">
$ sudo apt install build-essential
Reading package lists... Done
Building dependency tree      
Reading state information... Done
The following additional packages will be installed:
  binutils binutils-common binutils-x86-64-linux-gnu cpp cpp-9 dpkg-dev fakero...
g++ g++-9 gcc gcc-9 gcc-9-base libalgorithm-diff-perl libalgorithm-diff-xs-per...
libasan5 libatomic1 libbinutils libc-dev-bin libc6-dev libcc1-0 libcrypt-dev l...
libctf0 libdpkg-perl libfakeroot libfile-fcntllock-perl libgcc-9-dev libgomp1 ...
libitm1 liblsan0 libmpc3 libquadmath0 libstdc++-9-dev libtsan0 libubsan1 linux...
make manpages-dev
Suggested packages:
  binutils-doc cpp-doc gcc-9-locales debian-keyring g++-multilib g++-9-multili...
gcc-multilib autoconf automake libtool flex bison gdb gcc-doc gcc-9-multilib g...
bzr libstdc++-9-doc make-doc
The following NEW packages will be installed:
  binutils binutils-common binutils-x86-64-linux-gnu build-essential cpp cpp-9...
fakeroot g++ g++-9 gcc gcc-9 gcc-9-base libalgorithm-diff-perl libalgorithm-di...
libalgorithm-merge-perl libasan5 libatomic1 libbinutils libc-dev-bin libc6-dev...
libcrypt-dev libctf-nobfd0 libctf0 libdpkg-perl libfakeroot libfile-fcntllock-...
libgcc-9-dev libgomp1 libisl22 libitm1 liblsan0 libmpc3 libquadmath0 libstdc++...
libtsan0 libubsan1 linux-libc-dev make manpages-dev
0 upgraded, 41 newly installed, 0 to remove and 0 not upgraded.
Need to get 43.0 MB of archives.
After this operation, 189 MB of additional disk space will be used.
Do you want to continue? [Y/n]</pre>
<p>Confirm the installation and continue. Installing groups of packages can take several minutes. Once your development environment is set up, you’ll need to download the source code for Lynx. The instructions for installing from source are the same for any Linux distribution; however, I will perform this installation on both the CentOS and the Ubuntu systems and note any differences and errors in the text. Users may download, compile, and make the binaries, but only the root user can install binaries to the system directories.</p>
</div></section>
<section data-pdf-bookmark="Download, Extract, Compile, and Install Your Software" data-type="sect2"><div class="sect2" id="downloadcomma_extractcomma_compilecomma">
<h2>Download, Extract, Compile, and Install Your Software</h2>
<p>Download<a contenteditable="false" data-primary="source code, installing software from" data-secondary="downloading, extracting, compiling, and installing software" data-type="indexterm" id="idm45657875205264"/> your compressed<a contenteditable="false" data-primary="wget utility" data-type="indexterm" id="idm45657875192304"/> source code <a contenteditable="false" data-primary="downloading compressed source code" data-type="indexterm" id="idm45657874114688"/>using a utility such as <code>wget</code>:</p>
<pre data-type="programlisting">
$ wget https://invisible-mirror.net/archives/lynx/tarballs/lynx2.8.9rel.1.tar.gz</pre>
<p>Extract the<a contenteditable="false" data-primary="extracting source code from compressed archive" data-type="indexterm" id="idm45657874111568"/> source code from the <a contenteditable="false" data-primary="tar utility" data-type="indexterm" id="idm45657874110368"/>compressed archive:</p>
<pre data-type="programlisting">
$ tar zxvf lynx2.8.9rel.1.tar.gz</pre>
<p>Change the directory into the <code>lynx</code> source tree created by the extraction process:</p>
<pre data-type="programlisting">
$ cd lynx2.8.9rel.1</pre>
<p>Before running <code>configure</code>, take a few minutes to look for and read the <em>README</em> file that often exists in source code trees. <a contenteditable="false" data-primary="README file in source code trees" data-type="indexterm" id="idm45657874104480"/><a contenteditable="false" data-primary="configure utility" data-type="indexterm" id="idm45657874103440"/>This file has valuable instructions and information about the source code and installation instructions.<a contenteditable="false" data-primary="INSTALLATION file in source code trees" data-type="indexterm" id="idm45657874101664"/> The <em>README</em> file usually refers to the <em>INSTALLATION</em> file describing installation options. I accept all the defaults for demonstration purposes and simply run the configure script. <a contenteditable="false" data-primary="makefile" data-type="indexterm" id="idm45657874100288"/>If all dependencies are met, the configuration checks will go without error, create the makefile, and then drop you back at your shell prompt. This process can take a few minutes to complete:</p>
<pre data-type="programlisting">
$ ./configure</pre>
<p class="pagebreak-before">Both configure scripts failed <a contenteditable="false" data-primary="dependencies" data-secondary="missing when attempting to configure software from source code" data-type="indexterm" id="idm45657874643120"/>with the following error:</p>
<pre data-type="programlisting">
checking for screen type... curses
checking for specific curses-directory... no
checking for extra include directories... no
checking if we have identified curses headers... none
configure: error: No curses header-files found</pre>
<p>When you encounter errors, the configure script (configure) stops but keeps its place so that you may continue where you left off as you satisfy dependencies by running the script again. <a contenteditable="false" data-primary="sudo (substitute user do) command" data-secondary="sudo dnf -y install" data-type="indexterm" id="idm45657874094864"/>To satisfy the current dependency, I installed the <code>ncurses-devel</code> package (<code>sudo dnf -y install ncurses-devel</code>) on the CentOS system.<a contenteditable="false" data-primary="sudo (substitute user do) command" data-secondary="sudo apt install" data-type="indexterm" id="idm45657874092048"/> The configure script completed successfully. For the Ubuntu system, I installed the <code>lib32ncurses-dev</code> package (<code>sudo apt install lib32ncurses-dev</code>), and the configure script completed successfully.</p>
<p>According to the <em>INSTALLATION</em> file, you now must run the <code>make</code> command to compile the sources. <a contenteditable="false" data-primary="make command" data-type="indexterm" id="idm45657874087744"/><a contenteditable="false" data-primary="compiling software from source code" data-type="indexterm" id="idm45657874086640"/>This process will take a few minutes to complete:</p>
<pre data-type="programlisting">
$ make</pre>
<p>After satisfying the failed dependencies in the configure script, both compilations successfully completed.<a contenteditable="false" data-primary="sudo (substitute user do) command" data-secondary="sudo make install" data-type="indexterm" id="idm45657874083280"/> To install Lynx to its proper location and set the correct permissions, run <code>sudo make install</code>:</p>
<pre data-type="programlisting">
$ sudo make install
/bin/sh -c "P=`echo lynx|sed 's,x,x,'`; \
if test -f /usr/local/bin/$P ; then \
      mv -f /usr/local/bin/$P /usr/local/bin/$P.old; fi"
/usr/bin/install -c lynx /usr/local/bin/`echo lynx|sed 's,x,x,'`
/usr/bin/install -c -m 644 ./lynx.man /usr/.../man1/`echo lynx|sed 's,x,x,'`.1
** installing ./lynx.cfg as /usr/local/etc/lynx.cfg
** installing ./samples/lynx.lss as /usr/local/etc/lynx.lss

Use make install-help to install the help-files
Use make install-doc to install extra documentation files</pre>
<p>At this point, most instructions<a contenteditable="false" data-primary="make command" data-secondary="make clean" data-type="indexterm" id="idm45657874080656"/> advise you to run <code>make clean</code> to remove all of the object code and other temporary files from your system:</p>
<pre data-type="programlisting">
$ make clean
rm -f WWW/Library/*/*.[aoib]
rm -f WWW/Library/*/.created
cd ./WWW/Library/Implementation &amp;&amp; make  DESTDIR="" CC="gcc" clean
make[1]: Entering directory '/home/khess/lynx2.8.9rel.1/.../Implementation'
rm -f core *.core *.leaks *.[oi] *.bak tags TAGS
rm -f dtd_util
rm -f ./*.o
make[1]: Leaving directory '/home/khess/lynx2.8.9rel.1/.../Implementation'
cd ./src &amp;&amp; make  DESTDIR="" CC="gcc" clean
make[1]: Entering directory '/home/khess/lynx2.8.9rel.1/src'
rm -f lynx core *.core *.leaks *.i *.o *.bak tags TAGS test_*
cd chrtrans &amp;&amp; make  DESTDIR="" CC="gcc" clean
make[2]: Entering directory '/home/khess/lynx2.8.9rel.1/src/chrtrans'
rm -f makeuctb *.o *uni.h *uni2.h *.i
make[2]: Leaving directory '/home/khess/lynx2.8.9rel.1/src/chrtrans'
make[1]: Leaving directory '/home/khess/lynx2.8.9rel.1/src'
rm -f *.b ./src/lynx *.leaks cfg_defs.h LYHelp.h lint.*
rm -f help_files.sed
rm -f core *.core</pre>
<p>It’s a matter of preference to run this command. If you need to remove compiled software from your system, the next section steps you through the process of <span class="keep-together">doing so.</span></p>
</div></section>
<section data-pdf-bookmark="Uninstalling a Source-Installed Software Package" data-type="sect2"><div class="sect2" id="uninstalling_a_source_installed_softwar">
<h2>Uninstalling a Source-Installed Software Package</h2>
<p>If your source <a contenteditable="false" data-primary="source code, installing software from" data-secondary="uninstalling source-installed package" data-type="indexterm" id="idm45657874075248"/>trees exist with <a contenteditable="false" data-primary="uninstalling software" data-secondary="uninstalling source-installed package" data-type="indexterm" id="idm45657874073552"/>your original makefile intact, you can uninstall a package quite easily, but you must have the makefile to do so.<a contenteditable="false" data-primary="make command" data-secondary="make uninstall" data-type="indexterm" id="idm45657874071024"/><a contenteditable="false" data-primary="makefile" data-type="indexterm" id="idm45657874070256"/> If you don’t want to keep all your source trees on your system for every compiled program, make a backup of the makefile, such as copying it to a backup directory with the name <em>makefile.lynx289r1</em> or similar. <a contenteditable="false" data-primary="sudo (substitute user do) command" data-secondary="sudo make uninstall" data-type="indexterm" id="idm45657874639792"/>The makefile must be in your current directory when uninstalling:</p>
<pre data-type="programlisting">
$ sudo make uninstall
rm -f /usr/local/bin/`echo lynx|sed 's,x,x,'`
rm -f /usr/local/share/man/man1/`echo lynx|sed 's,x,x,'`.1
rm -f /usr/local/etc/lynx.cfg
rm -f /usr/local/etc/lynx.lss
/bin/sh -c 'if test -d "/usr/local/share/lynx_help" ; then \
    WD=`cd "/usr/local/share/lynx_help" &amp;&amp; pwd` ; \
    TAIL=`basename "/usr/local/share/lynx_help"` ; \
    HEAD=`echo "$WD"|sed -e "s,/${TAIL}$,,"` ; \
    test "x$WD" != "x$HEAD" &amp;&amp; rm -rf "/usr/local/share/lynx_help"; \
    fi'
/bin/sh -c 'if test -d "/usr/local/share/lynx_doc" ; then \
    WD=`cd "/usr/local/share/lynx_doc" &amp;&amp; pwd` ; \
    TAIL=`basename "/usr/local/share/lynx_doc"` ; \
    HEAD=`echo "$WD"|sed -e "s,/${TAIL}$,,"` ; \
    test "x$WD" != "x$HEAD" &amp;&amp; rm -rf "/usr/local/share/lynx_doc"; \
    fi'
/bin/sh -c 'if test -d "/usr/local/share/lynx_help" ; then \
    WD=`cd "/usr/local/share/lynx_help" &amp;&amp; pwd` ; \
    TAIL=`basename "/usr/local/share/lynx_help"` ; \
    HEAD=`echo "$WD"|sed -e "s,/'${TAIL}'$,,"` ; \
    test "x$WD" != "x$HEAD" ; \
    cd "/usr/local/share/lynx_help" &amp;&amp; rm -f COPYING COPYHEADER ; \
    fi'</pre>
<p>If you don’t have your makefile or it isn’t in your current directory, you receive the following error:</p>
<pre data-type="programlisting">
$ sudo make uninstall
make: *** No rule to make target 'uninstall'.  Stop.</pre>
<p>You can re-create the makefile if you extract the same version of the source tree that you previously used and can remember your configure options. Otherwise, you can use the preceding uninstall results to guide you in uninstalling manually.<a contenteditable="false" data-primary="source code, installing software from" data-startref="ix_srccd" data-type="indexterm" id="idm45657874645040"/><a contenteditable="false" data-primary="installation" data-secondary="installing and uninstalling software" data-startref="ix_insunsinsSC" data-tertiary="installing from source code" data-type="indexterm" id="idm45657874155024"/></p>
</div></section>
</div></section>
<section data-pdf-bookmark="Summary" data-type="sect1"><div class="sect1" id="summary-id00006">
<h1>Summary</h1>
<p>This chapter walked you through installing software from different sources: repositories, local package files, and source code. You’ll find that installing software is easy enough with a little practice. Please remember that the responsibility of keeping your systems running smoothly and securely rests with you. Just because installing software is quick and easy doesn’t mean that you should ignore its impact on system performance, security, and disk usage.<a contenteditable="false" data-primary="installation" data-secondary="installing and uninstalling software" data-startref="ix_insuns" data-type="indexterm" id="idm45657874060544"/></p>
<p>The next chapter teaches you how to add disk space to your systems.</p>
</div></section>
</div></section></div></body></html>