<html><head></head><body><div id="sbo-rt-content"><section data-type="chapter" epub:type="chapter" class="pagenumrestart" data-pdf-bookmark="Chapter 1. Getting Started: Diving In"><div class="chapter" id="getting_startedcolon_diving_in">
<h1><span class="label">Chapter 1. </span>Getting Started: <em>Diving In</em></h1>
<figure class="informal"><div class="figure">
<img src="Images/f0001-01.png" alt="image" width="567" height="555"/>
<h6/>
</div></figure>
<p><a data-type="indexterm" data-primary="Android platform" id="idm46053743864576"/><a data-type="indexterm" data-primary="Android platform" data-secondary="getting started" id="idm46053743863648"/><strong>Android is the world’s most popular mobile operating system.</strong></p>
<p>And there are billions of Android users worldwide, all waiting to download your next great idea. In this chapter, you’ll find out how to start turning your ideas into reality by is the world’s most popular mobile operating system.<strong>building a basic Android app</strong>, and updating it. You’ll learn how to run it on physical and virtual devices. Along the way, you’ll meet two of the core components of all Android apps: <strong>activities</strong> and <strong>layouts</strong>. Let’s dive in…</p>
<section data-type="sect1" data-pdf-bookmark="Welcome to Androidville"><div class="sect1" id="welcome_to_androidville">
<h1>Welcome to Androidville</h1>
<p><a data-type="indexterm" data-primary="activities" id="idm46053743859664"/><a data-type="indexterm" data-primary="Activity class" id="idm46053743857120"/><a data-type="indexterm" data-primary="Android devices" id="idm46053743856384"/><a data-type="indexterm" data-primary="Kotlin" id="idm46053743855648"/><a data-type="indexterm" data-primary="layouts" id="idm46053743854912"/><a data-type="indexterm" data-primary="resource files" id="idm46053743854176"/><a data-type="indexterm" data-primary="screens" data-secondary="layouts for" data-see="layouts" id="idm46053743853440"/>Android is the world’s most popular mobile platform. At last count, there were over <em>three billion</em> active Android devices worldwide, and that number is still growing.</p>
<p>Android is a comprehensive open source platform based on Linux and championed by Google. It’s a powerful development framework that includes everything you need to build great apps. What’s more, it enables you to deploy those apps to a wide variety of devices—phones, tablets, and more.</p>
<p>So what makes up a typical Android app?</p>
<blockquote>
<p><strong>We’re going to build Android apps using Kotlin and XML. We’ll explain things along the way, but you’ll need some understanding of Kotlin to get the most out of this book.</strong></p>
</blockquote>
<section data-type="sect2" data-pdf-bookmark="Activities define what the app does"><div class="sect2" id="activities_define_what_the_app_does">
<h2>Activities define what the app <u>does</u></h2>
<p>Each Android app includes one or more <strong>activities</strong>. An activity is a special class —usually written in Kotlin—that controls the app’s behavior, and decides how to respond to the user. If the app includes a button, for example, you add code to the activity that says what the button should do when the user taps or clicks on it.</p>
<figure class="informal"><div class="figure">
<img src="Images/f0002-01.png" alt="image" width="367" height="141"/>
<h6/>
</div></figure>
</div></section>
<section data-type="sect2" data-pdf-bookmark="Layouts define what each screen looks like"><div class="sect2" id="layouts_define_what_each_screen_looks_li">
<h2>Layouts define what each screen <u>looks like</u></h2>
<p>A typical Android app is composed of one or more screens. You define what each screen looks like using a <strong>layout</strong> file, or more activity code. Layouts are usually defined using XML, and each screen can include components such as buttons, text, and images.</p>
<figure class="informal"><div class="figure">
<img src="Images/f0002-02.png" alt="image" width="480" height="350"/>
<h6/>
</div></figure>
</div></section>
<section data-type="sect2" data-pdf-bookmark="There may be extra files too"><div class="sect2" id="there_may_be_extra_files_too">
<h2>There may be extra files too</h2>
<p>In addition to activities and layouts, Android apps often need extra resources such as image files and application data. You can add any extra files you need to the app.</p>
<figure class="informal"><div class="figure">
<img src="Images/f0002-03.png" alt="image" width="451" height="217"/>
<h6/>
</div></figure>
<p>Android apps are really just a bunch of files in particular directories. When you build your app, these files get bundled together, giving you an app you can run on your device.</p>
</div></section>
</div></section>
<section data-type="sect1" data-pdf-bookmark="Activities and layouts form the backbone of your app"><div class="sect1" id="activities_and_layouts_form_the_backbone">
<h1>Activities and layouts form the backbone of your app</h1>
<p><a data-type="indexterm" data-primary="activities" id="idm46053743833904"/><a data-type="indexterm" data-primary="layouts" id="idm46053743832736"/>In a typical app, activities and layouts work together to define the app’s user interface. The layouts tell Android how the different screen elements should be arranged, and the activities control the app’s behavior. If the app features a button, for example, the layout specifies its position, and the activity controls what happens when the user clicks on it.</p>
<figure class="informal"><div class="figure">
<img src="Images/f0003-01.png" alt="image" width="600" height="192"/>
<h6/>
</div></figure>
<p>Here’s how activities and layouts work together when you run an app on your device:</p>
<figure class="informal"><div class="figure">
<img src="Images/f0003-02.png" alt="image" width="549" height="477"/>
<h6/>
</div></figure>
<ol>
<li><p><strong>Android starts the app’s main activity.</strong></p></li>
<li><p><strong>The activity tells Android to use a specific layout.</strong></p></li>
<li><p><strong>The layout is displayed on the device.</strong></p></li>
<li><p><strong>The user interacts with the layout.</strong></p></li>
<li><p><strong>The activity responds to these interactions, and updates the display…</strong></p></li>
<li><p><strong>…which the user sees on the device.</strong></p></li>
</ol>
<p>Now that you have an idea about how Android apps are put together, let’s go ahead and build a basic Android app.</p>
</div></section>
<section data-type="sect1" data-pdf-bookmark="Here’s what we’re going to do"><div class="sect1" id="hereapostrophes_what_weapostrophere_goin">
<h1>Here’s what we’re going to do</h1>
<p><a data-type="indexterm" data-primary="Android Studio" id="idm46053743819968"/><a data-type="indexterm" data-primary="Kotlin" id="idm46053743820496"/>So let’s dive in and create an Android app. There are just a few things we need to do:</p>
<ol>
<li><p><strong>Set up a development environment.</strong></p>
<p>We need to install Android Studio, which includes all the tools you need to develop Android apps.</p></li>
<li><p><strong>Build a basic app.</strong></p>
<p>We’ll build a simple app using Android Studio that will display some sample text on the screen.</p></li>
<li><p><strong>Run the app.</strong></p>
<p>We’ll run the app on a physical device, and a virtual one, to see it up and running.</p></li>
<li><p><strong>Change the app.</strong></p>
<p>Finally, we’ll tweak the app we created, and run it again.</p></li>
</ol>
<figure class="informal"><div class="figure">
<img src="Images/f0004-01.png" alt="image" width="498" height="800"/>
<h6/>
</div></figure>
<aside data-type="sidebar" epub:type="sidebar"><div class="sidebar" id="there_are_no_dumb_questions">
<h5>there are no Dumb Questions</h5>
<p><strong>Q: Are all Android apps developed in Kotlin?</strong></p>
<p><strong>A:</strong> You can develop Android apps in other languages too, such as Java, but nowadays it’s best if you use Kotlin. This is because there are some features that are only available in Kotlin.</p>
<p><strong>Q: How do I learn Kotlin?</strong></p>
<p><strong>A:</strong> We may be biased, but we think that the best way of learning Kotlin is to get a copy of our book <em>Head First Kotlin</em>. It will teach you everything you need to know about Kotlin in order to get the most out of this book.</p>
<p><strong>Q: Did you say you can use activity code to define the app’s appearance instead of using layout files?</strong></p>
<p><strong>A:</strong> Yes, using a toolkit called Jetpack Compose.</p>
<p>You’ll learn how to use Compose later in the book. For now, we’re going to focus on defining the app’s UI using layout files.</p>
</div></aside>
</div></section>
<section data-type="sect1" data-pdf-bookmark="Android Studio: your development environment"><div class="sect1" id="android_studiocolon_your_development_env">
<h1>Android Studio: your development environment</h1>
<figure class="informal"><div class="figure">
<img src="Images/f0005-01.png" alt="image" width="369" height="159"/>
<h6/>
</div></figure>
<p><a data-type="indexterm" data-primary="Android apps" data-secondary="development environment" id="idm46053743801648"/><a data-type="indexterm" data-primary="Android devices" data-secondary="API level on" data-see="Android SDK (API level)" id="idm46053743800672"/><a data-type="indexterm" data-primary="Android platform" data-secondary="versions of" data-see="Android SDK (API level)" id="idm46053743799456"/><a data-type="indexterm" data-primary="Android SDK (API level)" id="idm46053743797984"/><a data-type="indexterm" data-primary="Android Studio" data-secondary="installing" id="idm46053743797152"/><a data-type="indexterm" data-primary="API level" data-see="Android SDK (API level)" id="idm46053743796048"/><a data-type="indexterm" data-primary="SDK" data-see="Android SDK (API level)" id="idm46053743794944"/>The best way of developing Android apps is to use <strong>Android Studio</strong>, the official IDE for Android app development.</p>
<p>Android Studio is based on IntelliJ IDEA, which you may already be familiar with. It includes a set of code editors, UI tools and templates, which are all designed to make your life in Androidville easier.</p>
<p>It also includes the <strong>Android SDK</strong>—or Android Software Development Kit—which is required for all Android app development. The Android SDK includes Android source files, and a compiler that’s used to compile your code into an Android format.</p>
<p>Here are some of the main components of the Android SDK:</p>
<figure class="informal"><div class="figure">
<img src="Images/f0005-02.png" alt="image" width="600" height="214"/>
<h6/>
</div></figure>
<section data-type="sect2" data-pdf-bookmark="You need to install Android Studio"><div class="sect2" id="you_need_to_install_android_studio">
<h2>You need to install Android Studio</h2>
<p>As Android Studio includes all the tools and features you need in order to develop Android apps, we’re going to use it to build all of the apps featured in this book.</p>
<p>Before we go any further, <strong>you need to install Android Studio on your machine</strong>. There are more details about how to do this on the next page.</p>
</div></section>
</div></section>
<section data-type="sect1" data-pdf-bookmark="Install Android Studio"><div class="sect1" id="install_android_studio">
<h1>Install Android Studio</h1>
<p><a data-type="indexterm" data-primary="Android Studio" data-secondary="system requirements" id="idm46053743786096"/>To get the most out of this book, you need to install Android Studio. We’re not including the full installation instructions here as they can get out of date pretty quickly, but you’ll be fine if you follow the online instructions.</p>
<p>First, check the Android Studio system requirements here:</p>
<p><a href="https://developer.android.com/studio#Requirements">https://developer.android.com/studio#Requirements</a></p>
<div data-type="note" epub:type="note"><h6>Note</h6>
<p><span style="color:#9D9EA0;">These URLs sometimes change. If they don’t work, search for Android Studio and you should find the appropriate pages.</span></p>
</div>
<p>Then download Android Studio from here:</p>
<p><a href="https://developer.android.com/studio">https://developer.android.com/studio</a></p>
<div data-type="note" epub:type="note"><h6>Note</h6>
<p><span style="color:#9D9EA0;">These URLs sometimes change. If they don’t work, search for Android Studio and you should find the appropriate pages.</span></p>
</div>
<p>and follow the installation instructions</p>
<p>Once you’ve installed Android Studio, open it and follow the instructions to add the latest SDK tools and Support Libraries.</p>
<blockquote>
<p><strong>In this book, we’re using Android Studio 2020.3.1 (known as Arctic Fox). Make sure you install <u>at least</u> this version.</strong></p>
</blockquote>
<p><strong>If you’ve previously installed an earlier version of Android Studio, we recommend that you restore the IDE’s default settings.</strong> To do this, go to the File menu, choose Manage IDE Settings, and then select the Restore Default Settings option.</p>
<div data-type="note" epub:type="note"><h6>Note</h6>
<p><span style="color:#9D9EA0;">This resets any old settings Android Studio might be holding on to that could stop your code from running.</span></p>
</div>
<p>When you’re done, you should see the Android Studio welcome screen like this:</p>
<figure class="informal"><div class="figure">
<img src="Images/f0006-04.png" alt="image" width="600" height="319"/>
<h6/>
</div></figure>
</div></section>
<section data-type="sect1" data-pdf-bookmark="Let’s build a basic app"><div class="sect1" id="letapostrophes_build_a_basic_app">
<h1>Let’s build a basic app</h1>
<figure class="informal"><div class="figure">
<img src="Images/f0007-01.png" alt="image" width="574" height="142"/>
<h6/>
</div></figure>
<p><a data-type="indexterm" data-primary="Android apps" data-secondary="building" id="idm46053743766736"/><a data-type="indexterm" data-primary="Android Studio" data-secondary="alternatives to" id="idm46053743765760"/><a data-type="indexterm" data-primary="IDE, not using" id="idm46053743764784"/><a data-type="indexterm" data-primary="My First App" id="idm46053743764048"/><a data-type="indexterm" data-primary="My First App" data-secondary="building" id="idm46053743763088"/>Now that you’ve set up your development environment, you’re ready to create your first Android app. Here’s what it will look like:</p>
<figure class="informal"><div class="figure">
<img src="Images/f0007-02.png" alt="image" width="600" height="597"/>
<h6/>
</div></figure>
<p>Let’s go ahead and build the app.</p>
<aside data-type="sidebar" epub:type="sidebar"><div class="sidebar" id="there_are_no_dumb_questions-id00001">
<h5>there are no Dumb Questions</h5>
<p><strong>Q: Do I have to use Android Studio to build Android apps? Can I use another IDE instead?</strong></p>
<p><strong>A:</strong> Strictly speaking, all you need is a tool that will let you write and compile Kotlin code, plus a few other tools to convert the compiled code into a form that Android devices can run. Saying that, Android Studio is the official IDE for Android, and the Android team recommends using it. We think it’s a great IDE for Android app development, so that’s why we’ve decided to use it.</p>
<p><strong>Q: Can I write Android apps without using an IDE?</strong></p>
<p><strong>A:</strong> It’s possible, but it’s a lot more work.</p>
<p>It’s far quicker and easier to use an IDE, so we recommend that you use Android Studio.</p>
</div></aside>
</div></section>
<section data-type="sect1" data-pdf-bookmark="How to build the app"><div class="sect1" id="how_to_build_the_app">
<h1>How to build the app</h1>
<p><a data-type="indexterm" data-primary="Android Studio" data-secondary="creating projects" id="idm46053743752928"/><a data-type="indexterm" data-primary="My First App" data-secondary="project" id="idm46053743754688"/><a data-type="indexterm" data-primary="projects" data-secondary="creating" id="idm46053743753584"/>Whenever you create a new app, you need to create a new project for it. Make sure you have Android Studio open, and follow along with us.</p>
<section data-type="sect2" data-pdf-bookmark="1. Create a new project"><div class="sect2" id="onedot_create_a_new_project">
<h2>1. Create a new project</h2>
<p>The Android Studio welcome screen gives you a number of options. We want to create a new project, so make sure the Projects option is selected, then click on “New Project.”</p>
<figure class="informal"><div class="figure">
<img src="Images/f0008-02.png" alt="image" width="600" height="408"/>
<h6/>
</div></figure>
</div></section>
<section data-type="sect2" data-pdf-bookmark="2. Select a project template"><div class="sect2" id="twodot_select_a_project_template">
<h2>2. Select a project template</h2>
<p>You next need to specify the type of Android Studio project you want to create. We’re going to create an app with an empty activity that runs on a phone or tablet, so make sure the Phone and Tablet option is selected, and choose the Empty Activity option. You’ll find out more about what the Empty Activity option gives you a few pages ahead, but for now, click the Next button to move to the next step.</p>
<figure class="informal"><div class="figure">
<img src="Images/f0009-02.png" alt="image" width="600" height="438"/>
<h6/>
</div></figure>
</div></section>
<section data-type="sect2" data-pdf-bookmark="3. Configure your project"><div class="sect2" id="threedot_configure_your_project">
<h2>3. Configure your project</h2>
<p><a data-type="indexterm" data-primary="Android apps" data-secondary="minimum SDK for" id="idm46053743739488"/>You now need to configure the project by specifying an app name, package name, and save location. Enter a name of “My First App” and a package name of “com.hfad.myfirstapp” and accept the default save location.</p>
<p>You also need to tell Android Studio which programming language you want to use, and specify a minimum SDK. This refers to the lowest version of Android the app will support: there’s more about SDK levels on the next page.</p>
<p>Select Kotlin for the language and choose a minimum SDK of API 21 so that the app will run on most devices. When you click on the Finish button, Android Studio will create the project. We’ll look at what this involves a couple of pages ahead.</p>
<figure class="informal"><div class="figure">
<img src="Images/f0010-02.png" alt="image" width="600" height="430"/>
<h6/>
</div></figure>
<aside data-type="sidebar" epub:type="sidebar"><div class="sidebar" id="android_versions_up_close">
<h5>Android Versions Up Close <span class="inlineimage"><img src="Images/zoomr.png" alt="Images" width="134" height="81"/></span></h5>
<p><a data-type="indexterm" data-primary="Android SDK (API level)" data-secondary="list of" id="idm46053743731744"/>You’ve probably heard a lot of tasty things about Android versions like Nougat, Oreo, and Pie. So what’s with all the food?</p>
<p>Android versions have a version number and a code name. The version number gives the precise version of Android (e.g., 9.0), while the code name is a more generic name that may cover several versions of Android (e.g., Pie). The API level refers to the version of the APIs used by apps. As an example, the equivalent API level for Android version 9.0 is 28.</p>
<p>After Pie, Android code names stopped sounding quite so tasty. Android version 10.0, for example, is simply known as Android 10.</p>
<figure class="informal"><div class="figure">
<img src="Images/f0011-01.png" alt="image" width="600" height="487"/>
<h6/>
</div></figure>
<p>When you develop Android apps, you need to consider which versions of Android you want the app to be compatible with. If you specify that the app is only compatible with the very latest version of the SDK, you might find that it can’t be run on many devices. You can find out more about the percentage of devices running particular versions by clicking on the “Help me choose” option when you create a new project.</p>
</div></aside>
</div></section>
</div></section>
<section data-type="sect1" data-pdf-bookmark="You’ve created your first Android project"><div class="sect1" id="youapostropheve_created_your_first_andro">
<h1>You’ve created your first Android project</h1>
<p><a data-type="indexterm" data-primary="projects" data-secondary="files in" id="idm46053743724304"/>Once you’ve been through the New Project wizard, it takes Android Studio a minute or so to create the project. During this time, it does the following:</p>
<ul style="list-style-type:none;">
<li><p><span class="inlineimage"><img src="Images/star.png" alt="Images" width="17" height="17"/></span> <strong>It configures the project to your specifications.</strong></p>
<p>Android Studio looks at the minimum SDK you want the app to support, and includes all of the files and folders needed for a basic valid app. It also sets up the package structure and names the app.</p></li>
<li><p><span class="inlineimage"><img src="Images/star.png" alt="Images" width="17" height="17"/></span> <strong>It adds some template code.</strong></p>
<p>The template code is comprised of a layout written in XML and an activity written in Kotlin. You’ll find out more about these later in the chapter.</p></li>
</ul>
<p>When Android Studio has finished creating the project, it automatically opens it for you.</p>
<p>Here’s what our project looks like (don’t worry if it looks complicated—we’ll break it down over the next few pages):</p>
<figure class="informal"><div class="figure">
<img src="Images/f0012-02.png" alt="image" width="600" height="377"/>
<h6/>
</div></figure>
</div></section>
<section data-type="sect1" data-pdf-bookmark="Dissecting your new project"><div class="sect1" id="dissecting_your_new_project">
<h1>Dissecting your new project</h1>
<p><a data-type="indexterm" data-primary="activity_main.xml file" id="idm46053743712400"/><a data-type="indexterm" data-primary="Android apps" data-secondary="folder and file structure" id="idm46053743711776"/><a data-type="indexterm" data-primary="Android SDK (API level)" data-secondary="libraries for" id="idm46053743710656"/><a data-type="indexterm" data-primary="layouts" data-secondary="activity_main.xml" id="idm46053743709472"/><a data-type="indexterm" data-primary="libraries" data-secondary="location in project" id="idm46053743708368"/><a data-type="indexterm" data-primary="MainActivity.kt file" id="idm46053743707264"/><a data-type="indexterm" data-primary="resource files" data-secondary="folders for types of" id="idm46053743706432"/>An Android app is really just a bunch of valid files in a particular folder structure, and Android Studio sets all of this up for you when you create a new app. The easiest way of looking at this folder structure is to use the explorer in the leftmost column of Android Studio.</p>
<section data-type="sect2" data-pdf-bookmark="The folder structure includes different types of files"><div class="sect2" id="the_folder_structure_includes_different">
<h2>The folder structure includes different types of files</h2>
<p>The explorer contains all of the projects that you currently have open. Here, we have a single project named MyFirstApp, which is the one we’ve just created.</p>
<p>If you browse through the various folders in the explorer, you’ll see that the wizard has created various types of files and folders for you like this:</p>
<ul style="list-style-type:none;">
<li><p><span class="inlineimage"><img src="Images/star.png" alt="Images" width="17" height="17"/></span> <strong>Kotlin and XML source files</strong></p>
<p>Android Studio automatically created an activity file named <em>MainActivity.kt</em>, and a layout named <em>activity_main.xml</em>.</p></li>
<li><p><span class="inlineimage"><img src="Images/star.png" alt="Images" width="17" height="17"/></span> <strong>Resource files</strong></p>
<p>These include default image files, themes the app might use, and any common <code>String</code> values used by the app.</p></li>
<li><p><span class="inlineimage"><img src="Images/star.png" alt="Images" width="17" height="17"/></span> <strong>Android libraries</strong></p>
<p>In the wizard, you specified the minimum SDK you want the app to be compatible with. Android Studio makes sure the app includes the relevant Android libraries for that version.</p></li>
<li><p><span class="inlineimage"><img src="Images/star.png" alt="Images" width="17" height="17"/></span> <strong>Configuration files</strong></p>
<p>The configuration files tell Android what’s included in the app, and how the app should run.</p></li>
</ul>
<figure class="informal"><div class="figure">
<img src="Images/f0013-02.png" alt="image" width="584" height="709"/>
<h6/>
</div></figure>
<p>Let’s take a closer look at some of the key files and folders in your project.</p>
</div></section>
</div></section>
<section data-type="sect1" data-pdf-bookmark="Introducing the key files in your project"><div class="sect1" id="introducing_the_key_files_in_your_projec">
<h1>Introducing the key files in your project</h1>
<p><a data-type="indexterm" data-primary="activity_main.xml file" id="idm46053743684832"/><a data-type="indexterm" data-primary="AndroidManifest.xml file" id="idm46053743684000"/><a data-type="indexterm" data-primary="app folder" id="idm46053743683136"/><a data-type="indexterm" data-primary="build folder" id="idm46053743682304"/><a data-type="indexterm" data-primary="Gradle build system" id="idm46053743681472"/><a data-type="indexterm" data-primary="java folder" id="idm46053743680640"/><a data-type="indexterm" data-primary="layouts" data-secondary="activity_main.xml" id="idm46053743679808"/><a data-type="indexterm" data-primary="MainActivity.kt file" id="idm46053743678704"/><a data-type="indexterm" data-primary="res folder" id="idm46053743677872"/><a data-type="indexterm" data-primary="resource files" data-secondary="String resources" data-see="String resources" id="idm46053743677040"/><a data-type="indexterm" data-primary="src folder" id="idm46053743675664"/><a data-type="indexterm" data-primary="String resources" id="idm46053743674832"/>Android Studio projects use the Gradle build system to compile and deploy apps, and Gradle projects have a standard structure. Below are some of the key files and folders in that structure you’ll be working with.</p>
<p>To see this view of the folder structure, change the explorer view in Android Studio from Android to Project. You do this by clicking on the arrow at the top of the explorer pane, and selecting the Project option.</p>
<figure class="informal"><div class="figure">
<img src="Images/f0014-02.png" alt="image" width="368" height="220"/>
<h6/>
</div></figure>
<figure class="informal"><div class="figure">
<img src="Images/f0014-03.png" alt="image" width="600" height="502"/>
<h6/>
</div></figure>
</div></section>
<section data-type="sect1" data-pdf-bookmark="Edit code with the Android Studio editors"><div class="sect1" id="edit_code_with_the_android_studio_editor">
<h1>Edit code with the Android Studio editors</h1>
<p><a data-type="indexterm" data-primary="Android apps" data-secondary="editors" id="idm46053743667664"/><a data-type="indexterm" data-primary="code editor" id="idm46053743666368"/><a data-type="indexterm" data-primary="design editor" id="idm46053743665536"/>You view and edit files using the Android Studio editors. Double-click on the file you want to work with, and the file’s contents will appear in the middle of the Android Studio window.</p>
<section data-type="sect2" data-pdf-bookmark="The code editor"><div class="sect2" id="the_code_editor">
<h2>The code editor</h2>
<p>Most files get displayed in the code editor, which is just like a text editor, but with extra features such as syntax highlighting and code checking.</p>
</div></section>
<section data-type="sect2" data-pdf-bookmark="The design editor"><div class="sect2" id="the_design_editor">
<h2>The design editor</h2>
<p>If you’re editing a layout (for example <em>activity_main.xml</em>), you have an extra option. Rather than edit the code, you can use the design editor, which allows you to drag GUI components onto the layout, and arrange them how you want. The code editor and design editor give different views of the same file, so you can switch back and forth between the two.</p>
<figure class="informal"><div class="figure">
<img src="Images/f0015-02.png" alt="image" width="600" height="591"/>
<h6/>
</div></figure>
</div></section>
</div></section>
<section data-type="sect1" data-pdf-bookmark="The story so far"><div class="sect1" id="the_story_so_far">
<h1>The story so far</h1>
<p>In the chapter so far, we’ve done two things:</p>
<ol>
<li><p><strong>We set up the development environment.</strong></p>
<p>We’re using Android Studio to develop Android apps, so you needed to install it on a machine.</p></li>
<li><p><strong>We’ve built a basic app.</strong></p>
<p>We used Android Studio to create a new Android project.</p></li>
</ol>
<p>You’ve had a glimpse of what the app looks like in Android Studio, and got a feel for how it hangs together. But what you <em>really</em> want is to see it running, right?</p>
<p>Android Studio lets you run an app in two ways: on a physical Android device, and on a virtual one. We’ll show you each approach a few pages ahead.</p>
<aside data-type="sidebar" epub:type="sidebar"><div class="sidebar" id="there_are_no_dumb_questions-id00002">
<h5>there are no Dumb Questions</h5>
<p><strong>Q: Why does Android Studio put Kotlin code in a folder named <em>java</em>?</strong></p>
<p><strong>A:</strong> Before the Android team adopted Kotlin as their preferred language, most Android apps were developed using Java. The <em>java</em> folder name is left over from this time, but it may change in the future.</p>
<p><strong>Q: You said that the project includes an activity named <em>MainActivity.kt</em> and a layout named <em>activity_main.xml</em>. Where did these come from?</strong></p>
<p><strong>A:</strong> When we created the project, we chose the option to create a project using an empty activity. Android Studio automatically named the activity file <em>MainActivity.kt</em>, and added a corresponding layout file named <em>activity_main.xml</em>. You’ll find out more about these files later in the chapter.</p>
<p><strong>Q: You said that Android Studio projects use Gradle. Remind me, what’s that?</strong></p>
<p><strong>A:</strong> Gradle is a tool that lets you compile, build, and deliver code. Most IDEs use Gradle, and it can be used for more than just Android app development.</p>
<p>All Gradle projects have a standard folder structure, and Android Studio uses this folder structure for all its projects.</p>
<p><strong>Q: Why does Android Studio use Gradle?</strong></p>
<p><strong>A:</strong> When you develop Android apps, you often need to include extra libraries that aren’t included in the Android SDK. Gradle can download these libraries for you, which makes your coding life much easier.</p>
<p>Gradle also uses Groovy and Kotlin as a scripting language, which means you can easily create quite complex builds with Gradle.</p>
<p><strong>Q: How much do I need to know about Gradle?</strong></p>
<p><strong>A:</strong> You don’t need any Gradle experience to get the most out of this book. We’ll explain everything you need to know as and when it’s needed.</p>
</div></aside>
<aside data-type="sidebar" epub:type="sidebar"><div class="sidebar" id="whatapostrophes_my_purposequestion_mark">
<h5>What’s My Purpose?</h5>
<p><a data-type="indexterm" data-primary="activities" data-secondary="MainActivity.kt" id="idm46053743639680"/><a data-type="indexterm" data-primary="exercises" data-secondary="What’s My Purpose?" id="idm46053743636064"/>Here’s the code from an example activity file named <em>MainActivity.kt</em>. We know you’ve not seen activity code before, but see if you can match each of the descriptions at the bottom of the page to the correct lines of code. We’ve done one to get you started.</p>
<figure class="informal"><div class="figure">
<img src="Images/f0017-01.png" alt="image" width="600" height="583"/>
<h6/>
</div></figure>
</div></aside>
<aside data-type="sidebar" epub:type="sidebar"><div class="sidebar" id="whatapostrophes_my_purpose_solutionquest">
<h5>What’s My Purpose Solution?</h5>
<p>Here’s the code from an example activity file named <em>MainActivity.kt</em>. We know you’ve not seen activity code before, but see if you can match each of the descriptions at the bottom of the page to the correct lines of code. We’ve done one to get you started.</p>
<figure class="informal"><div class="figure">
<img src="Images/f0018-01.png" alt="image" width="600" height="548"/>
<h6/>
</div></figure>
</div></aside>
</div></section>
<section data-type="sect1" data-pdf-bookmark="How to run the app on a physical device"><div class="sect1" id="how_to_run_the_app_on_a_physical_device">
<h1>How to run the app on a physical device</h1>
<figure class="informal"><div class="figure">
<img src="Images/f0019-01.png" alt="image" width="327" height="119"/>
<h6/>
</div></figure>
<p><a data-type="indexterm" data-primary="Android apps" data-secondary="running" id="idm46053743624304"/><a data-type="indexterm" data-primary="Android devices" data-secondary="running app on" id="idm46053743623328"/><a data-type="indexterm" data-primary="Lollipop" id="idm46053743622352"/><a data-type="indexterm" data-primary="My First App" data-secondary="running" id="idm46053743621616"/><a data-type="indexterm" data-primary="USB debugging" id="idm46053743620560"/>If you have an Android device that’s running Lollipop or above, you can use it to run the app we’ve just created.</p>
<div data-type="note" epub:type="note"><h6>Note</h6>
<p><span style="color:#9D9EA0;">You can check this by looking at the Android version in the device settings. Lollipop is version 5.0, so it needs to 5.0 or higher.</span></p>
</div>
<p>Here are the steps to run the app on a physical device:</p>
<section data-type="sect2" data-pdf-bookmark="1. Enable USB debugging on your device"><div class="sect2" id="onedot_enable_usb_debugging_on_your_devi">
<h2>1. Enable USB debugging on your device</h2>
<p>To allow Android Studio to run apps on your device, you need to enable USB debugging. This feature is available in the “Developer options” setting, which is disabled by default.</p>
<p>On your device, go to Settings → About Phone and tap the build number seven times. This enables the developer options. Then, go to Settings → System → Advanced → Developer options, and turn on USB debugging.</p>
<div data-type="note" epub:type="note"><h6>Note</h6>
<p><span style="color:#9D9EA0;">Yep, seriously.</span></p>
</div>
<figure class="informal"><div class="figure">
<img src="Images/f0019-04.png" alt="image" width="375" height="303"/>
<h6/>
</div></figure>
</div></section>
<section data-type="sect2" data-pdf-bookmark="2. Set up your computer to detect the device"><div class="sect2" id="twodot_set_up_your_computer_to_detect_th">
<h2>2. Set up your computer to detect the device</h2>
<p>If you’re using a Mac, you can skip this step.</p>
<p>If you’re using Windows, you’ll need to install a USB driver if one isn’t already there. The latest instructions are here:</p>
<p><em><a href="https://developer.android.com/studio/run/oem-usb">https://developer.android.com/studio/run/oem-usb</a></em></p>
<p>If you’re using Ubuntu Linux, you need to create a <code>udev</code> rules file. The latest instructions on how to do this are here:</p>
<p><em><a href="https://developer.android.com/studio/run/device#setting-up">https://developer.android.com/studio/run/device#setting-up</a></em></p>
</div></section>
<section data-type="sect2" data-pdf-bookmark="3. Use a USB cable to plug your device into your computer"><div class="sect2" id="threedot_use_a_usb_cable_to_plug_your_de">
<h2>3. Use a USB cable to plug your device into your computer</h2>
<p>You will probably be asked if want to allow USB debugging. If so, check the “Always allow from this computer” option and choose OK.</p>
<blockquote>
<p><strong>When we created the app, we specified a minimum API level of 21 (Lollipop). Your device needs this version of Android or above for the app to run.</strong></p>
</blockquote>
</div></section>
<section data-type="sect2" data-pdf-bookmark="4. Run the app"><div class="sect2" id="fourdot_run_the_app">
<h2>4. Run the app</h2>
<p>Finally, select the device from the list of devices in Android Studio’s top toolbar (if it’s not there, on your device go to Settings → Connected devices, select USB, and choose the “File transfer” option). Then run the app by choosing “Run ‘app’” from the Run menu. Android Studio will build the project, install the app on your device, and launch it.</p>
<figure class="informal"><div class="figure">
<img src="Images/f0019-05.png" alt="image" width="375" height="212"/>
<h6/>
</div></figure>
<p>We’ll look at the app a few pages ahead, after we’ve seen how to run it on a virtual device.</p>
</div></section>
</div></section>
<section data-type="sect1" data-pdf-bookmark="How to run the app on a virtual device"><div class="sect1" id="how_to_run_the_app_on_a_virtual_device">
<h1>How to run the app on a virtual device</h1>
<p><a data-type="indexterm" data-primary="Android SDK (API level)" data-secondary="device emulator" id="idm46053743599504"/><a data-type="indexterm" data-primary="Android virtual devices" data-see="AVDs" id="idm46053743595088"/><a data-type="indexterm" data-primary="AVDs (Android virtual devices)" id="idm46053743593600"/>If you don’t have an Android device on hand, or it doesn’t have the right version of Android, you can run the app on a virtual device instead. Running the app on a virtual device is useful if you want to see how the app looks on a type of device you don’t own, or test how it behaves on a different version of Android.</p>
<p>The Android SDK features a built-in emulator that you can use to set up one or more <strong>Android Virtual Devices</strong> (AVDs). Once you’ve set up an AVD, you can run the app on it as though it’s running on a physical device.</p>
<div data-type="note" epub:type="note"><h6>Note</h6>
<p><span style="color:#9D9EA0;">You can find system requirements for using the emulator here: <a href="https://developer.android.com/studio/run/emulator#requirements">https://developer.android.com/studio/run/emulator#requirements</a></span></p>
</div>
<p>The emulator recreates the exact hardware environment of an Android device: from its CPU and memory through to the sound chips and the video display. The emulator is built on an existing emulator called QEMU (pronounced “queue em you”), which is similar to other virtual machine applications you may have used, like VirtualBox or VMWare.</p>
<p>The exact appearance and behavior of the AVD depends on how you set it up. If, say, you create an AVD based on a Pixel 3 running Android 11, it will look and behave just like a Pixel 3 running this version of Android on your computer.</p>
<figure class="informal"><div class="figure">
<img src="Images/f0020-03.png" alt="image" width="600" height="662"/>
<h6/>
</div></figure>
<p>Let’s set up an AVD so that you can see the app running in the emulator.</p>
</div></section>
<section data-type="sect1" data-pdf-bookmark="Create an Android Virtual Device (AVD)"><div class="sect1" id="create_an_android_virtual_device_left_pa">
<h1>Create an Android Virtual Device (AVD)</h1>
<p><a data-type="indexterm" data-primary="AVD Manager" id="idm46053743582800"/>There are a few steps you need to go through in order to set up an AVD within Android Studio. We’ll set up a Pixel 3 AVD running API level 30 (Android 11) so that you can see how the app looks and behaves running on this type of device. The steps are pretty much identical no matter what type of virtual device you want to set up.</p>
<section data-type="sect2" data-pdf-bookmark="Open the Android Virtual Device Manager"><div class="sect2" id="open_the_android_virtual_device_manager">
<h2>Open the Android Virtual Device Manager</h2>
<p>The AVD Manager allows you to set up new AVDs, and view and edit ones you’ve already created. Open it by selecting AVD Manager on the Tools menu.</p>
<p>If you have no AVDs set up already, you’ll be presented with a screen prompting you to create one. Click on the Create Virtual Device button.</p>
<figure class="informal"><div class="figure">
<img src="Images/f0021-02.png" alt="image" width="600" height="264"/>
<h6/>
</div></figure>
</div></section>
<section data-type="sect2" data-pdf-bookmark="Select the hardware"><div class="sect2" id="select_the_hardware">
<h2>Select the hardware</h2>
<p>On the next screen, you’ll be prompted to choose a device definition. This is the type of device your AVD will emulate. You can choose a variety of phone, tablet, wear, or TV devices.</p>
<p>We’re going to see what the app looks like running on a Pixel 3 phone. Choose Phone from the Category menu and Pixel 3 from the list. Then click on the Next button.</p>
<figure class="informal"><div class="figure">
<img src="Images/f0021-03.png" alt="image" width="600" height="394"/>
<h6/>
</div></figure>
</div></section>
<section data-type="sect2" data-pdf-bookmark="Select a system image"><div class="sect2" id="select_a_system_image">
<h2>Select a system image</h2>
<p><a data-type="indexterm" data-primary="Android SDK (API level)" data-secondary="specifying for AVD" id="idm46053743571216"/><a data-type="indexterm" data-primary="image resources" data-secondary="system image for AVD" id="idm46053743569856"/><a data-type="indexterm" data-primary="system image, specifiying for AVD" id="idm46053743568752"/>Next, you need to select a system image. This specifies which version of Android you want to be on the AVD.</p>
<p>You need to choose a version of Android that’s compatible with the app you’re building. It must be <em>at least</em> the minimum SDK that the app supports.</p>
<p>When you created your Android project, you specified that the minimum SDK is API level 21. This means that you need to choose a system image that’s for API level 21 (Lollipop) or above. If you choose an older version of Android than this, the app won’t be able to run on the device.</p>
<p>Here, we’re going to see what the app looks like on a relatively new version of Android, so choose the system image with a release name of R and a target of Android 11.0 (API level 30). Then click Next.</p>
<figure class="informal"><div class="figure">
<img src="Images/f0022-02.png" alt="image" width="600" height="342"/>
<h6/>
</div></figure>
</div></section>
<section data-type="sect2" data-pdf-bookmark="Verify the AVD configuration"><div class="sect2" id="verify_the_avd_configuration">
<h2>Verify the AVD configuration</h2>
<p>On the next screen, you’ll be asked to verify the configuration. This screen summarizes the options you chose over the last few screens, and gives you the option of changing them. Accept the options, and click on the Finish button.</p>
<figure class="informal"><div class="figure">
<img src="Images/f0023-02.png" alt="image" width="600" height="528"/>
<h6/>
</div></figure>
</div></section>
<section data-type="sect2" data-pdf-bookmark="The virtual device gets created"><div class="sect2" id="the_virtual_device_gets_created">
<h2>The virtual device gets created</h2>
<p><a data-type="indexterm" data-primary="Run command" id="idm46053743558160"/>When you click on the Finish button, the Device Manager creates the virtual device for you, and displays it in the AVD Manager’s list of virtual devices like this:</p>
<figure class="informal"><div class="figure">
<img src="Images/f0024-02.png" alt="image" width="600" height="181"/>
<h6/>
</div></figure>
<p>Check the new AVD is listed, then close the AVD Manager.</p>
</div></section>
<section data-type="sect2" data-pdf-bookmark="Run the app on the AVD"><div class="sect2" id="run_the_app_on_the_avd">
<h2>Run the app on the AVD</h2>
<p>Once you’ve created the AVD, you can run the app on it.</p>
<p>To run the app, make sure that the virtual device is selected in the list of devices in Android Studio’s top toolbar, then run the app by choosing the “Run ‘app’” command from the Run menu.</p>
<p>The AVD can take a while to load, so while we wait, let’s take a look at what happens behind the scenes when you use the Run command.</p>
<figure class="informal"><div class="figure">
<img src="Images/f0024-03.png" alt="image" width="392" height="269"/>
<h6/>
</div></figure>
<aside data-type="sidebar" epub:type="sidebar"><div class="sidebar" id="there_are_no_dumb_questions-id00003">
<h5>there are no Dumb Questions</h5>
<p><strong>Q: Do I need to create a new AVD each time I create a new app?</strong></p>
<p><strong>A:</strong> No, once you’ve created the AVD you can use it to run any app that can run that version of Android.</p>
<p><strong>Q: Can I create multiple AVDs?</strong></p>
<p><strong>A:</strong> Yes! You can set up AVDs to emulate different devices or Android versions, including Android beta releases. This lets you test how the app runs on each one. You might, say, want to create a tablet AVD so you can see how the app looks and behaves on larger devices.</p>
</div></aside>
</div></section>
</div></section>
<section data-type="sect1" data-pdf-bookmark="Compile, package, deploy, run"><div class="sect1" id="compilecomma_packagecomma_deploycomma_ru">
<h1>Compile, package, deploy, run</h1>
<p><a data-type="indexterm" data-primary="APK files" id="idm46053743543040"/>The Run command doesn’t just run your app. It also handles all the preliminary tasks that are needed for the app to run.</p>
<p>Here’s an overview of what happens:</p>
<blockquote>
<p><strong>An APK file is an Android application package. It’s like a ZIP or JAR file for Android applications.</strong></p>
</blockquote>
<figure class="informal"><div class="figure">
<img src="Images/f0025-02.png" alt="image" width="588" height="485"/>
<h6/>
</div></figure>
<ol>
<li><p><strong>The Kotlin source files get compiled to bytecode.</strong></p></li>
<li><p><strong>An Android application package, or APK file, gets created.</strong></p>
<p>The APK file includes the compiled Kotlin files, along with any libraries and resources needed by the app.</p></li>
<li><p><strong>The APK is installed on the device.</strong></p>
<p>If the device is virtual, Android Studio launches the emulator and waits until the AVD is active before installing the APK.</p>
<p>If the device is physical, it just installs the APK.</p></li>
<li><p><strong>The device starts the app’s main activity.</strong></p>
<p>The app is displayed on the device screen, and it’s all ready for you to play with.</p></li>
</ol>
<p>Now that you know what happens when you use the Run command, let’s see what the app we’ve built looks like.</p>
</div></section>
<section data-type="sect1" data-pdf-bookmark=" Test Drive"><div class="sect1" id="test_drive-id00004">
<h1><span class="inlineimage"><img src="Images/car.png" alt="Images" width="119" height="58"/></span> Test Drive</h1>
<p>Make sure you’ve run the app on a physical or virtual device by choosing the “Run ‘app’” command from the Run menu.</p>
<p>Android Studio loads the app onto the device and starts it. The app name “My First App” appears at the top of the screen, and the text “Hello World!” is displayed in the center.</p>
<figure class="informal"><div class="figure">
<img src="Images/f0026-03.png" alt="image" width="600" height="581"/>
<h6/>
</div></figure>
<p>Let’s run through what just happened.</p>
</div></section>
<section data-type="sect1" data-pdf-bookmark="What just happened?"><div class="sect1" id="what_just_happenedquestion_mark">
<h1>What just happened?</h1>
<p>Let’s break down what happens when you run the app:</p>
<ol>
<li><p><strong>Android Studio installs the app on the device.</strong></p>
<p>If the device is virtual, it waits for the emulator to start before installing the app.</p>
<figure class="informal"><div class="figure">
<img src="Images/f0027-02.png" alt="image" width="259" height="160"/>
<h6/>
</div></figure>
</li>
<li><p><strong>Android starts the app’s main activity.</strong></p>
<p>It uses the code in <em>MainActivity.kt</em> (which Android Studio automatically included in the project) to create a <code>MainActivity</code> object.</p>
<figure class="informal"><div class="figure">
<img src="Images/f0027-03.png" alt="image" width="308" height="136"/>
<h6/>
</div></figure>
</li>
<li><p><strong>MainActivity specifies that it uses the layout activity_main.xml.</strong></p>
<figure class="informal"><div class="figure">
<img src="Images/f0027-04.png" alt="image" width="334" height="143"/>
<h6/>
</div></figure>
</li>
<li><p><strong>The layout is displayed on the screen.</strong></p>
<p>The text “Hello World!” appears in the center of the screen.</p>
<figure class="informal"><div class="figure">
<img src="Images/f0027-05.png" alt="image" width="372" height="153"/>
<h6/>
</div></figure></li>
</ol>
<aside data-type="sidebar" epub:type="sidebar"><div class="sidebar" id="there_are_no_dumb_questions-id00005">
<h5>there are no Dumb Questions</h5>
<p><strong>Q: Kotlin and Java are both Java VM languages. Does this mean that Android apps run in a JVM?</strong></p>
<p><strong>A:</strong> No. Each app runs in its own process using the Android runtime (ART). This means that apps run a lot faster and more efficiently.</p>
</div></aside>
</div></section>
<section data-type="sect1" data-pdf-bookmark="Let’s refine the app"><div class="sect1" id="letapostrophes_refine_the_app">
<h1>Let’s refine the app</h1>
<figure class="informal"><div class="figure">
<img src="Images/f0028-01.png" alt="image" width="325" height="115"/>
<h6/>
</div></figure>
<p><a data-type="indexterm" data-primary="activities" id="idm46053743504000"/><a data-type="indexterm" data-primary="activity_main.xml file" id="idm46053743502992"/><a data-type="indexterm" data-primary="Android apps" data-secondary="refining (editing)" id="idm46053743502160"/><a data-type="indexterm" data-primary="layouts" id="idm46053743501056"/><a data-type="indexterm" data-primary="layouts" data-secondary="activity_main.xml" id="idm46053743500224"/><a data-type="indexterm" data-primary="My First App" data-secondary="refining (editing)" id="idm46053743499120"/>So far in this chapter, you’ve built a basic Android app and seen it running on a physical or virtual device. Next, we’re going to refine the app.</p>
<p>At the moment, the app displays the sample text “Hello World!” that the wizard put in as a placeholder. You’re going to change that text to say something else instead. So what do we need to change in order to achieve that?</p>
<p>To answer that question, let’s take a step back and see how the app is currently built.</p>
<figure class="informal"><div class="figure">
<img src="Images/f0028-02.png" alt="image" width="327" height="386"/>
<h6/>
</div></figure>
<section data-type="sect2" data-pdf-bookmark="The app has one activity and one layout"><div class="sect2" id="the_app_has_one_activity_and_one_layout">
<h2>The app has one activity and one layout</h2>
<p>When we built the app, we told Android Studio how to configure it, and the wizard did the rest. The wizard created an activity for us, and also a default layout.</p>
</div></section>
<section data-type="sect2" data-pdf-bookmark="The activity controls what the app does"><div class="sect2" id="the_activity_controls_what_the_app_does">
<h2>The activity controls what the app does</h2>
<p>Android Studio created an activity for us named <em>MainActivity.kt</em>. The activity specifies what the app <strong>does</strong> and how it should respond to the user.</p>
</div></section>
<section data-type="sect2" data-pdf-bookmark="The layout controls the app’s appearance"><div class="sect2" id="the_layout_controls_the_appapostrophes_a">
<h2>The layout controls the app’s appearance</h2>
<p><em>MainActivity.kt</em> uses the layout Android Studio created for us named <em>activity_main.xml</em>. The layout specifies what the app <strong>looks like</strong>.</p>
<figure class="informal"><div class="figure">
<img src="Images/f0028-03.png" alt="image" width="342" height="394"/>
<h6/>
</div></figure>
<p>We want to change the appearance of the app by updating the text that’s displayed. This means that we need to update the file that controls what the app looks like, so we need to take a closer look at the <em>layout</em>.</p>
</div></section>
</div></section>
<section data-type="sect1" data-pdf-bookmark="What’s in the layout?"><div class="sect1" id="whatapostrophes_in_the_layoutquestion_ma">
<h1>What’s in the layout?</h1>
<p><a data-type="indexterm" data-primary="code editor" id="idm46053743482368"/><a data-type="indexterm" data-primary="design editor" id="idm46053743481408"/>We want to change the sample “Hello World!” text that Android Studio created for us, so let’s start with the layout file <em>activity_main.xml</em>. Open it now (if it’s not already open) by finding the file in the <em>app/src/main/res/layout</em> folder in the explorer and double-clicking on it.</p>
<figure class="informal"><div class="figure">
<img src="Images/f0029-02.png" alt="image" width="538" height="151"/>
<h6/>
</div></figure>
<section data-type="sect2" data-pdf-bookmark="The design editor"><div class="sect2" id="the_design_editor-id00006">
<h2>The design editor</h2>
<p>As you learned earlier, there are two ways of viewing and editing layout files in Android Studio: through the <strong>design editor</strong> and through the <strong>code editor</strong>.</p>
<p>When you choose the design option, you can see that the sample text “Hello World!” appears in the layout as you might expect. But what’s in the underlying XML?</p>
<p>Let’s see by switching to the code editor.</p>
<figure class="informal"><div class="figure">
<img src="Images/f0029-03.png" alt="image" width="600" height="660"/>
<h6/>
</div></figure>
</div></section>
<section data-type="sect2" data-pdf-bookmark="The code editor"><div class="sect2" id="the_code_editor-id00007">
<h2>The code editor</h2>
<p>Switch to the code editor by clicking on the Code option at the top of the editor. This shows you the layout’s underlying XML.</p>
<p>Let’s take a closer look at the code.</p>
</div></section>
</div></section>
<section data-type="sect1" data-pdf-bookmark="activity_main.xml has two elements"><div class="sect1" id="activityunderscoremaindotxml_has_two_ele">
<h1>activity_main.xml has two elements</h1>
<p><a data-type="indexterm" data-primary="layouts" data-secondary="activity_main.xml" id="idm46053743467072"/><a data-type="indexterm" data-primary="layouts" data-secondary="code for" id="idm46053743465584"/><a data-type="indexterm" data-primary="text attribute" data-secondary="TextView" id="idm46053743464480"/><a data-type="indexterm" data-primary="TextView" id="idm46053743463376"/><a data-type="indexterm" data-primary="TextView" data-secondary="code for" id="idm46053743462608"/>Below is the code from <em>activity_main.xml</em> that Android Studio generated for us. We’ve left out some of the details you don’t need to think about just yet; we’ll cover them in more detail through the rest of the book.</p>
<p>Here’s the code:</p>
<figure class="informal"><div class="figure">
<img src="Images/f0030-02.png" alt="image" width="600" height="294"/>
<h6/>
</div></figure>
<figure class="informal"><div class="figure">
<img src="Images/f0030-03.png" alt="image" width="283" height="308"/>
<h6/>
</div></figure>
<p>As you can see, the code contains two elements.</p>
<p>The first is a <code>&lt;…ConstraintLayout&gt;</code> element. This is a type of layout element that tells Android how to display components on the device screen. There are various types of layout available for you to use, and you’ll find out more about these later in the book.</p>
<p>The most important element for now is the second element, the <code>&lt;TextView&gt;</code>. This element is used to display text to the user, in this case the text “Hello World!”</p>
<p>The key part of the code within the <code>&lt;TextView&gt;</code> element is the line starting with <code>android:text</code>. This is a <code>text</code> attribute that describes the text that should be displayed:</p>
<aside data-type="sidebar" epub:type="sidebar"><div class="sidebar" id="relax">
<h5><span class="inlineimage"><img src="Images/cup.png" alt="Images" width="124" height="107"/></span> Relax</h5>
<p><strong>Don’t worry if your layout code looks different from ours.</strong></p>
<p>Android Studio may give you slightly different XML depending on which version you’re using. You don’t need to worry about this, because from the next chapter onward you’ll learn how to roll your own layout code, and replace a lot of what Android Studio gives you.</p>
</div></aside>
<figure class="informal"><div class="figure">
<img src="Images/f0030-05.png" alt="image" width="600" height="122"/>
<h6/>
</div></figure>
<p>We’ll change the text to something else after you’ve had a go at the following exercise.</p>
<aside data-type="sidebar" epub:type="sidebar"><div class="sidebar" id="sharpen_your_pencil">
<h5><span class="inlineimage"><img src="Images/pencil.png" alt="Images" width="149" height="65"/></span> Sharpen your pencil</h5>
<p><a data-type="indexterm" data-primary="exercises" data-secondary="Sharpen your pencil" id="idm46053743445600"/><a data-type="indexterm" data-primary="layouts" data-secondary="exercises" id="idm46053743441456"/>We know we’ve not shown you much Android code yet, but see if you can guess what each line does in the layout XML below. We’ve completed the first few to get you started.</p>
<figure class="informal"><div class="figure">
<img src="Images/f0031-02.png" alt="image" width="600" height="703"/>
<h6/>
</div></figure>
</div></aside>
<aside data-type="sidebar" epub:type="sidebar"><div class="sidebar" id="sharpen_your_pencil_solution">
<h5><span class="inlineimage"><img src="Images/pencil.png" alt="Images" width="149" height="65"/></span> Sharpen your pencil Solution</h5>
<p>We know we’ve not shown you much Android code yet, but see if you can guess what each line does in the layout XML below. We’ve completed the first few to get you started.</p>
<figure class="informal"><div class="figure">
<img src="Images/f0032-01.png" alt="image" width="600" height="702"/>
<h6/>
</div></figure>
</div></aside>
</div></section>
<section data-type="sect1" data-pdf-bookmark="Update the text displayed in the layout"><div class="sect1" id="update_the_text_displayed_in_the_layout">
<h1>Update the text displayed in the layout</h1>
<p>We want to change the text in <em>activity_main.xml</em> so that when we run the app, it displays something other than “Hello World!” We can do this by changing the <code>text</code> attribute in the layout’s <code>&lt;TextView&gt;</code> element:</p>
<figure class="informal"><div class="figure">
<img src="Images/f0033-02.png" alt="image" width="600" height="104"/>
<h6/>
</div></figure>
<p>The <code>text</code> attribute is defined inside the <code>&lt;TextView&gt;</code> element using the code <code>android:text</code>. It specifies what text should be displayed, in this case “Hello World!”</p>
<figure class="informal"><div class="figure">
<img src="Images/f0033-03.png" alt="image" width="600" height="59"/>
<h6/>
</div></figure>
<p>To update the text that’s displayed in the layout, simply change the value of the <code>text</code> attribute from <code>"Hello World!"</code> to some other text, such as <code>"Pow!"</code>. The new code for the <code>&lt;TextView&gt;</code> element should look like this:</p>
<figure class="informal"><div class="figure">
<img src="Images/f0033-04.png" alt="image" width="600" height="198"/>
<h6/>
</div></figure>
<p>That’s the only change you need to make in order to update the text. Let’s see what happens when the code runs.</p>
</div></section>
<section data-type="sect1" data-pdf-bookmark="What the code does"><div class="sect1" id="what_the_code_does">
<h1>What the code does</h1>
<p><a data-type="indexterm" data-primary="projects" data-secondary="files in" id="idm46053743419072"/>Before we take the app for a test drive, let’s go through what the code does.</p>
<ol>
<li><p><strong>Android uses MainActivity.kt to create the activity object MainActivity.</strong></p>
<figure class="informal"><div class="figure">
<img src="Images/f0034-02.png" alt="image" width="109" height="117"/>
<h6/>
</div></figure>
</li>
<li><p><strong>MainActivity specifies that it uses the layout activity_main.xml.</strong></p>
<figure class="informal"><div class="figure">
<img src="Images/f0034-03.png" alt="image" width="333" height="142"/>
<h6/>
</div></figure>
</li>
<li><p><strong>The layout displays the text “Pow!” in the center of the app on the device.</strong></p>
<figure class="informal"><div class="figure">
<img src="Images/f0034-04.png" alt="image" width="370" height="153"/>
<h6/>
</div></figure>
</li>
</ol>
<aside data-type="sidebar" epub:type="sidebar"><div class="sidebar" id="there_are_no_dumb_questions-id00008">
<h5>there are no Dumb Questions</h5>
<p><strong>Q: My layout code looks different from yours. Is that OK?</strong></p>
<p><strong>A:</strong> Yes, that’s fine. Android Studio may generate slightly different code if you’re using a different version than us, but that doesn’t really matter. From now on you’ll be learning how to create your own layout code, and you’ll replace a lot of what Android Studio gives you.</p>
<p><strong>Q: Am I right in thinking we’re hardcoding the text that’s displayed?</strong></p>
<p><strong>A:</strong> Yes, purely so that you can see how to update text in the layout. There’s a better way of displaying text values than hardcoding them in the layouts, but you’ll have to wait for the next chapter to learn what this is.</p>
<p><strong>Q: The folders in my explorer pane look different from yours. Why is that?</strong></p>
<p><strong>A:</strong> Android Studio lets you choose alternate views for how to display the folder hierarchy, and it defaults to the Android view. We prefer the Project view, as it reflects the underlying folder structure. You can change the explorer to the Project view by clicking on the arrow at the top of the explorer pane, and selecting the Project option.</p>
<figure class="informal"><div class="figure">
<img src="Images/f0034-05.png" alt="image" width="407" height="158"/>
<h6/>
</div></figure>
</div></aside>
</div></section>
<section data-type="sect1" data-pdf-bookmark=" Test Drive"><div class="sect1" id="test_drive-id00009">
<h1><span class="inlineimage"><img src="Images/car.png" alt="Images" width="119" height="58"/></span> Test Drive</h1>
<p>Once you’ve edited the file, try running the app in the emulator again by choosing the “Run ‘app’” command from the Run menu, or clicking on the Run button. You should see that the app now says “Pow!” instead of “Hello World!”</p>
<figure class="informal"><div class="figure">
<img src="Images/f0035-02.png" alt="image" width="600" height="721"/>
<h6/>
</div></figure>
<p>Congratulations! You’ve now built and updated your first app, and learned how Android apps hang together in the process. We’ll build on this further in the next chapter by creating an app you can interact with.</p>
</div></section>
<section data-type="sect1" data-pdf-bookmark="Your Android Toolbox"><div class="sect1" id="your_android_toolbox">
<h1>Your Android Toolbox</h1>
<figure class="informal"><div class="figure">
<img src="Images/f0036-01.png" alt="image" width="248" height="176"/>
<h6/>
</div></figure>
<p><strong>You’ve got <a data-type="xref" href="#getting_startedcolon_diving_in">Chapter 1</a> under your belt and now you’ve added Android basic concepts to your toolbox.</strong></p>
<figure class="informal"><div class="figure">
<img src="Images/f0036-02.png" alt="image" width="233" height="210"/>
<h6/>
</div></figure>
<aside data-type="sidebar" epub:type="sidebar"><div class="sidebar" id="bullet_points">
<h5>Bullet Points</h5>
<ul>
<li><p>Versions of Android have a version number, API level, and code name.</p></li>
<li><p>Android Studio is based on IntelliJ IDEA. It interfaces with the Android Software Development Kit (SDK), and the Gradle build system.</p></li>
<li><p>A typical Android app is composed of activities, layouts, and resource files.</p></li>
<li><p>Layouts describe what the app looks like. They’re held in the <em>app/src/main/res/layout</em> folder.</p></li>
<li><p>Activities describe what the app does, and how it interacts with the user. The activities you write are held in the <em>app/src/main/java</em> folder.</p></li>
<li><p><em>AndroidManifest.xml</em> contains information about the app itself. It lives in the <em>app/src/main</em> folder.</p></li>
<li><p>An AVD is an Android Virtual Device. It runs in the Android emulator and mimics a physical Android device.</p></li>
<li><p>An APK is an Android application package. It contains the app’s bytecode, libraries, and resources. You install an app on a device by installing the APK.</p></li>
<li><p>Android apps run in separate processes using the Android runtime (ART).</p></li>
<li><p>The <code>&lt;TextView&gt;</code> element is used for displaying text.</p></li>
<li><p>The <code>&lt;TextView&gt;</code> element’s <code>text</code> attribute specifies what text it should display.</p></li>
</ul>
</div></aside>
</div></section>
</div></section></div></body></html>