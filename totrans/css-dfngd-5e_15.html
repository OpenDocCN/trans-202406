<html><head></head><body><section data-pdf-bookmark="Chapter 15. Text Properties" data-type="chapter" epub:type="chapter"><div class="chapter" id="text_properties">&#13;
<h1><span class="label">Chapter 15. </span>Text Properties</h1>&#13;
&#13;
&#13;
<p>Because <a data-primary="text properties" data-type="indexterm" id="ix_text_properties_ch15"/>text is so important, many CSS properties affect it in one way or another. But didn’t we just cover that in <a data-type="xref" href="ch14.html#fonts">Chapter 14</a>?  Not exactly: we covered only fonts—the importing and usage of typefaces.  Text styles are different.</p>&#13;
&#13;
<p>OK, so what is the difference between text and fonts? At the simplest level, <em>text</em> is the content, and <em>fonts</em> are used to display that content. Fonts provide the shape for the letters. Text is the styling around those shapes. Using text properties, you can affect the position of text in relation to the rest of the line, superscript it, underline it, and change the capitalization. You can affect the size, color, and placement of text decorations.</p>&#13;
&#13;
&#13;
&#13;
&#13;
&#13;
&#13;
<section data-pdf-bookmark="Indentation and Inline Alignment" data-type="sect1"><div class="sect1" id="indentation_and_inline_alignment">&#13;
<h1>Indentation and Inline Alignment</h1>&#13;
&#13;
<p>Let’s start with a discussion of how you can affect the inline positioning of text within a line. Think of these basic actions as the same types of steps you might take to create a newsletter or write a report.</p>&#13;
&#13;
<p>Originally, <a data-primary="vertical writing direction" data-type="indexterm" id="idm45176055265712"/>CSS was based on concepts of <em>horizontal</em> and <em>vertical</em>. To better support all languages and writing directions, CSS now uses the terms <em>block direction</em> and <em>inline direction</em>. If your primary language is Western-derived, you’re accustomed to a block direction of top to bottom, and an inline direction of left to right.</p>&#13;
&#13;
<p>The <em>block direction</em> is the <a data-primary="text properties" data-secondary="block direction" data-type="indexterm" id="idm45176055262288"/><a data-primary="block direction (axis)" data-type="indexterm" id="idm45176055261280"/>direction in which block elements are placed by default in the current writing mode.  In English, for example, the block direction is top to bottom, or vertical, as one paragraph (or other text element) is placed beneath the one before. Some languages have vertical text, like Mongolian. When text is vertical, the block direction is horizontal.</p>&#13;
&#13;
<p>The <em>inline direction</em> is the <a data-primary="text properties" data-secondary="inline direction" data-type="indexterm" id="idm45176055259648"/><a data-primary="inline direction" data-type="indexterm" id="idm45176055258640"/>direction in which inline elements are written within a block.  To again take English as an example, the inline direction is left to right, or horizontal.  In languages like Arabic and Hebrew, the inline direction is right to left instead. To reuse the example from the preceding paragraph, Mongolian’s inline direction is top to bottom.</p>&#13;
&#13;
<p>Let’s reconsider English for a moment.  A plain page of English text, displayed on a screen, has a vertical block direction (from top to bottom) and a horizontal inline direction (from left to right).  But if the page is rotated 90 degrees counterclockwise by using CSS Transforms, suddenly the block direction is horizontal and the inline direction is vertical.  (And bottom to top, at that.)</p>&#13;
<div data-type="tip"><h6>Tip</h6>&#13;
<p>You can still find a lot of English-centric blog posts and other CSS-related documentation on the web using the terms <em>vertical</em> and <em>horizontal</em> when talking about writing directions.  When you do, mentally translate them to <em>block</em> and <em>inline</em> as needed.</p>&#13;
</div>&#13;
&#13;
&#13;
&#13;
&#13;
&#13;
&#13;
&#13;
&#13;
<section data-pdf-bookmark="Indenting Text" data-type="sect2"><div class="sect2" id="indenting_text">&#13;
<h2>Indenting Text</h2>&#13;
&#13;
<p>Most <a data-primary="text-indent property" data-type="indexterm" id="ix_text_indent_prop"/><a data-primary="text properties" data-secondary="indentation" data-type="indexterm" id="ix_text_indents"/><a data-primary="indentation" data-type="indexterm" id="ix_indent_text"/>paper books we read in Western languages format paragraphs of text with the first line indented, and no blank line between paragraphs.  If you want to re-create that look, CSS provides the property <code>text-indent</code>.</p>&#13;
<aside data-type="sidebar" epub:type="sidebar"><div class="sidebar" id="text-indent">&#13;
<h1>text-indent</h1><table>&#13;
&#13;
<tbody>&#13;
<tr>&#13;
<td><p><strong>Values</strong></p></td>&#13;
<td><p>[ &lt;<em><code>length</code></em>&gt; | &lt;<em><code>percentage</code></em>&gt; ] &amp;&amp; hanging &amp;&amp; each-line</p></td>&#13;
</tr>&#13;
<tr>&#13;
<td><p><strong>Initial value</strong></p></td>&#13;
<td><p><code>0</code></p></td>&#13;
</tr>&#13;
<tr>&#13;
<td><p><strong>Applies to</strong></p></td>&#13;
<td><p>Block-level elements</p></td>&#13;
</tr>&#13;
<tr>&#13;
<td><p><strong>Percentages</strong></p></td>&#13;
<td><p>Refer to the width of the containing block</p></td>&#13;
</tr>&#13;
<tr>&#13;
<td><p><strong>Computed value</strong></p></td>&#13;
<td><p>For percentage values, as specified; for length values, the absolute length</p></td>&#13;
</tr>&#13;
<tr>&#13;
<td><p><strong>Inherited</strong></p></td>&#13;
<td><p>Yes</p></td>&#13;
</tr>&#13;
<tr>&#13;
<td><p><strong>Animatable</strong></p></td>&#13;
<td><p>Yes</p></td>&#13;
</tr>&#13;
<tr>&#13;
<td><p><strong>Notes</strong></p></td>&#13;
<td><p><code>hanging</code> and <code>each-line</code> are still experimental as of mid-2022</p></td>&#13;
</tr>&#13;
</tbody>&#13;
</table>&#13;
</div></aside>&#13;
&#13;
<p>Using <code>text-indent</code>, the first line of any element can be indented by a given length, even if that length is negative. A common use for this property is to indent the first line of a &#13;
<span class="keep-together">paragraph:</span></p>&#13;
&#13;
<pre data-code-language="css" data-type="programlisting"><code class="nt">p</code> <code class="p">{</code><code class="k">text-indent</code><code class="o">:</code> <code class="m">3em</code><code class="p">;}</code></pre>&#13;
&#13;
<p>This rule will cause the first line of any paragraph to be indented 3 ems, as shown in <a data-type="xref" href="#text_indenting">Figure 15-1</a>.</p>&#13;
&#13;
<figure class="coderesult"><div class="figure" id="text_indenting">&#13;
<img alt="css5 1501" src="assets/css5_1501.png"/>&#13;
<h6><span class="label">Figure 15-1. </span>Text indenting</h6>&#13;
</div></figure>&#13;
&#13;
<p>In general, you can apply <code>text-indent</code> to any element that generates a block box, and the indentation will occur along the inline direction. You can’t apply it to inline elements or replaced elements such as images. However, if you have an image within the first line of a block-level element, it will be shifted over with the rest of the text in the line.</p>&#13;
<div data-type="note" epub:type="note"><h6>Note</h6>&#13;
<p>If you want to “indent” the first line of an inline element, you can create the effect with left padding or a margin.</p>&#13;
</div>&#13;
&#13;
<p>You can also set negative values for <code>text-indent</code> to create a <em>hanging indent</em>, where the first line hangs out to one side of the rest of the element:</p>&#13;
&#13;
<pre data-code-language="css" data-type="programlisting"><code class="nt">p</code> <code class="p">{</code><code class="k">text-indent</code><code class="o">:</code> <code class="err">−</code><code class="m">4em</code><code class="p">;}</code></pre>&#13;
&#13;
<p>Be careful when setting a negative value for <code>text-indent</code>; the first few words may be chopped off by the edge of the browser window if you aren’t careful. To avoid display problems, we recommend you use a margin or padding to accommodate the negative indentation:</p>&#13;
&#13;
<pre data-code-language="css" data-type="programlisting"><code class="nt">p</code> <code class="p">{</code><code class="k">text-indent</code><code class="o">:</code> <code class="err">−</code><code class="m">4em</code><code class="p">;</code> <code class="k">padding-left</code><code class="o">:</code> <code class="m">4em</code><code class="p">;}</code></pre>&#13;
&#13;
<p>Any unit of length, including percentage values, may be used with <code>text-indent</code>. In the following case, the percentage refers to the width of the parent element of the element being indented. In other words, if you set the indent value to <code>10%</code>, the first line of an affected element will be indented by 10% of its parent element’s width, as shown in <a data-type="xref" href="#text_indenting_with_percentages">Figure 15-2</a>:</p>&#13;
&#13;
<pre data-code-language="css" data-type="programlisting"><code class="nt">div</code> <code class="p">{</code><code class="k">width</code><code class="o">:</code> <code class="m">400px</code><code class="p">;}</code>&#13;
<code class="nt">p</code> <code class="p">{</code><code class="k">text-indent</code><code class="o">:</code> <code class="m">10%</code><code class="p">;}</code></pre>&#13;
&#13;
<pre data-code-language="html" data-type="programlisting"><code class="p">&lt;</code><code class="nt">div</code><code class="p">&gt;</code>&#13;
<code class="p">&lt;</code><code class="nt">p</code><code class="p">&gt;</code>This paragraph is contained inside a DIV, which is 400px wide, so the&#13;
first line of the paragraph is indented 40px (400 * 10% = 40).  This is&#13;
because percentages are computed with respect to the width of the element.<code class="p">&lt;/</code><code class="nt">p</code><code class="p">&gt;</code>&#13;
<code class="p">&lt;/</code><code class="nt">div</code><code class="p">&gt;</code></pre>&#13;
&#13;
<figure class="coderesult"><div class="figure" id="text_indenting_with_percentages">&#13;
<img alt="css5 1502" src="assets/css5_1502.png"/>&#13;
<h6><span class="label">Figure 15-2. </span>Text indenting with percentages</h6>&#13;
</div></figure>&#13;
&#13;
<p>Note that because <code>text-indent</code> is inherited, some browsers, like the Yandex browser, inherit the computed values, while Safari, Firefox, Edge, and Chrome inherit the declared value.  In the following, both bits of text will be indented 5 ems in Yandex and 10% of the current element’s width in other browsers, because the value of <code>5em</code> is inherited by the paragraph from its parent <code>&lt;div&gt;</code> in Yandex and older versions of WebKit, whereas most evergreen browsers inherit the declared value of 10%:</p>&#13;
&#13;
<pre data-code-language="css" data-type="programlisting"><code class="nt">div</code><code class="nf">#outer</code> <code class="p">{</code><code class="k">width</code><code class="o">:</code> <code class="m">50em</code><code class="p">;}</code>&#13;
<code class="nt">div</code><code class="nf">#inner</code> <code class="p">{</code><code class="k">text-indent</code><code class="o">:</code> <code class="m">10%</code><code class="p">;}</code>&#13;
<code class="nt">p</code> <code class="p">{</code><code class="k">width</code><code class="o">:</code> <code class="m">20em</code><code class="p">;}</code></pre>&#13;
&#13;
<pre data-code-language="html" data-type="programlisting"><code class="p">&lt;</code><code class="nt">div</code> <code class="na">id</code><code class="o">=</code><code class="s">"outer"</code><code class="p">&gt;</code>&#13;
<code class="p">&lt;</code><code class="nt">div</code> <code class="na">id</code><code class="o">=</code><code class="s">"inner"</code><code class="p">&gt;</code>&#13;
This first line of the DIV is indented by 5em.&#13;
<code class="p">&lt;</code><code class="nt">p</code><code class="p">&gt;</code>&#13;
This paragraph is 20em wide, and the first line of the paragraph&#13;
is indented 5em in WebKit and 2em elsewhere.  This is because&#13;
computed values for 'text-indent' are inherited in WebKit,&#13;
while the declared values are inherited elsewhere.&#13;
<code class="p">&lt;/</code><code class="nt">p</code><code class="p">&gt;</code>&#13;
<code class="p">&lt;/</code><code class="nt">div</code><code class="p">&gt;</code>&#13;
<code class="p">&lt;/</code><code class="nt">div</code><code class="p">&gt;</code></pre>&#13;
&#13;
<p>As of late 2022, two keywords are being considered for addition to <code>text-indent</code>:</p>&#13;
<dl>&#13;
<dt><code>hanging</code></dt>&#13;
<dd>&#13;
<p>Inverts<a data-primary="hanging indent" data-type="indexterm" id="idm45176054971280"/> the indentation effect; that is, <code>text-indent: 3em hanging</code> would indent all the lines of text <em>except</em> the first line.  This is similar to the negative-value indentation discussed previously, but without risking cutting off text, because instead of pulling the first line out of the content box, all the lines but the first are indented away from the edge of the content box.</p>&#13;
</dd>&#13;
<dt><code>each-line</code></dt>&#13;
<dd>&#13;
<p>Indents<a data-primary="each-line indent" data-type="indexterm" id="idm45176054968208"/> the first line of the element plus any line that starts after a forced line break, such as that caused by a <code>&lt;br&gt;</code>, but not lines that follow a soft line break.<a data-primary="" data-startref="ix_indent_text" data-type="indexterm" id="idm45176054966832"/><a data-primary="" data-startref="ix_text_indent_prop" data-type="indexterm" id="idm45176054965856"/><a data-primary="" data-startref="ix_text_indents" data-type="indexterm" id="idm45176054964912"/></p>&#13;
</dd>&#13;
</dl>&#13;
&#13;
<p>When supported, either keyword can be used in conjunction with a length or percentage, such as the following:</p>&#13;
&#13;
<pre data-code-language="css" data-type="programlisting"><code class="nt">p</code> <code class="p">{</code><code class="k">text-indent</code><code class="o">:</code> <code class="m">10%</code> <code class="n">hanging</code><code class="p">;}</code>&#13;
<code class="nt">pre</code> <code class="p">{</code><code class="k">text-indent</code><code class="o">:</code> <code class="m">5ch</code> <code class="n">each</code><code class="o">-</code><code class="n">line</code><code class="p">;}</code></pre>&#13;
</div></section>&#13;
&#13;
&#13;
&#13;
&#13;
&#13;
&#13;
&#13;
&#13;
<section data-pdf-bookmark="Aligning Text" data-type="sect2"><div class="sect2" id="text_alignment">&#13;
<h2>Aligning Text</h2>&#13;
&#13;
<p>Even <a data-primary="text properties" data-secondary="alignment within a line" data-type="indexterm" id="ix_text_align_in_line"/><a data-primary="alignment" data-secondary="text" data-type="indexterm" id="ix_align_text"/><a data-primary="text-align property" data-type="indexterm" id="ix_text_align_prop"/>more basic than <code>text-indent</code> is the property <code>text-align</code>, which affects the way the lines of text in an element are aligned with respect to one another.</p>&#13;
<aside data-type="sidebar" epub:type="sidebar"><div class="sidebar" id="text-align">&#13;
<h1>text-align</h1><table>&#13;
&#13;
<tbody>&#13;
<tr>&#13;
<td><p><strong>Values</strong></p></td>&#13;
<td><p><code>start</code> | <code>end</code> | <code>left</code> | <code>right</code> | <code>center</code> | <code>justify</code> | <code>justify-all</code> | <span class="keep-together"><code>match-parent</code></span></p></td>&#13;
</tr>&#13;
<tr>&#13;
<td><p><strong>Initial value</strong></p></td>&#13;
<td><p><code>start</code></p></td>&#13;
</tr>&#13;
<tr>&#13;
<td><p><strong>Applies to</strong></p></td>&#13;
<td><p>Block-level elements</p></td>&#13;
</tr>&#13;
<tr>&#13;
<td><p><strong>Computed value</strong></p></td>&#13;
<td><p>As specified, except in the case of <code>match-parent</code></p></td>&#13;
</tr>&#13;
<tr>&#13;
<td><p><strong>Inherited</strong></p></td>&#13;
<td><p>Yes</p></td>&#13;
</tr>&#13;
<tr>&#13;
<td><p><strong>Animatable</strong></p></td>&#13;
<td><p>No</p></td>&#13;
</tr>&#13;
<tr>&#13;
<td><p><strong>Note</strong></p></td>&#13;
<td><p><code>justify-all</code> is not supported as of mid-2022</p></td>&#13;
</tr>&#13;
</tbody>&#13;
</table>&#13;
</div></aside>&#13;
&#13;
<p>The <a data-primary="writing modes (flow direction)" data-secondary="text alignment" data-type="indexterm" id="ix_write_mode_text_align"/>quickest way to understand how these values work is to examine <a data-type="xref" href="#selected_behaviors_of_the_text-align_pro">Figure 15-3</a>, which demonstrates the most widely used values. The values <code>left</code>, <code>right</code>, and <code>center</code> cause the text within elements to be aligned exactly as described by these words in horizontal languages like English or Arabic, regardless of the language’s inline direction.</p>&#13;
&#13;
<figure class="bordernone"><div class="figure" id="selected_behaviors_of_the_text-align_pro">&#13;
<img alt="css5 1503" src="assets/css5_1503.png"/>&#13;
<h6><span class="label">Figure 15-3. </span>Selected behaviors of the <code>text-align</code> property</h6>&#13;
</div></figure>&#13;
&#13;
<p>The default value of <code>text-align</code> is <code>start</code>, which is the equivalent of <code>left</code> in LTR languages, and <code>right</code> in RTL languages.  In vertical languages. <code>left</code> and <code>right</code> are mapped to the start or end edge, respectively. This is illustrated in <a data-type="xref" href="#left_comma_right_comma_and_center_in_ver">Figure 15-4</a>.</p>&#13;
&#13;
<p>Because <code>text-align</code> applies only to block-level elements such as paragraphs, there’s no way to center an anchor within its line without aligning the rest of the line (nor would you want to, since that would likely cause text overlap).</p>&#13;
&#13;
<p>As you may expect, <code>center</code> causes each line of text to be centered within the element. If you’ve ever come across the long-ago deprecated <code>&lt;CENTER&gt;</code> element, you may be tempted to believe that <code>text-align: center</code> is the same. It is actually quite different. The &#13;
<span class="keep-together"><code>&lt;CENTER&gt;</code></span> element affected not only text, but also centered whole elements, such as tables. The <code>text-align</code> property does not control the alignment of elements, only their &#13;
<span class="keep-together">inline content.</span></p>&#13;
&#13;
<figure class="bordernone"><div class="figure" id="left_comma_right_comma_and_center_in_ver">&#13;
<img alt="css5 1504" src="assets/css5_1504.png"/>&#13;
<h6><span class="label">Figure 15-4. </span>Left, right, and center in vertical writing modes</h6>&#13;
</div></figure>&#13;
&#13;
&#13;
&#13;
&#13;
&#13;
&#13;
&#13;
&#13;
&#13;
&#13;
<section data-pdf-bookmark="Start and end alignment" data-type="sect3"><div class="sect3" id="start_and_end_alignment">&#13;
<h3>Start and end alignment</h3>&#13;
&#13;
<p>Remembering that <a data-primary="end and start alignment" data-type="indexterm" id="idm45176054856032"/><a data-primary="start and end alignment" data-type="indexterm" id="idm45176054854912"/>CSS was based on concepts of <em>horizontal</em> and <em>vertical</em>, the initial default value was originally “a nameless value that acts as <em>left</em> if <em>direction</em> is <em>ltr</em>, <em>right</em> if <em>direction</em> is <em>rtl</em>.” The default value now has a name: <code>start</code>, which is the equivalent of <code>left</code> in LTR languages, and <code>right</code> in RTL languages.</p>&#13;
&#13;
<p>The default value of <code>start</code> means that text is aligned to the start edge of its line box. In LTR languages like English, that’s the left edge; in RTL languages such as Arabic, it’s the right edge. In vertical languages, it will be the top or bottom, depending on the writing direction. The upshot is that the default value is much more aware of the document’s language direction while leaving the default behavior the same in the vast majority of existing cases.<a data-primary="" data-startref="ix_write_mode_text_align" data-type="indexterm" id="idm45176054848736"/></p>&#13;
&#13;
<p>In a like manner, <code>end</code> aligns text with the end edge of each line box—the right edge in LTR languages, the left edge in RTL languages, and so forth. <a data-type="xref" href="#start_and_end_alignment-id1">Figure 15-5</a> shows the effects of these values.</p>&#13;
&#13;
<figure class="bordernone"><div class="figure" id="start_and_end_alignment-id1">&#13;
<img alt="css5 1505" src="assets/css5_1505.png"/>&#13;
<h6><span class="label">Figure 15-5. </span>Start and end alignment</h6>&#13;
</div></figure>&#13;
</div></section>&#13;
&#13;
&#13;
&#13;
&#13;
&#13;
&#13;
&#13;
&#13;
&#13;
&#13;
<section data-pdf-bookmark="Justified text" data-type="sect3"><div class="sect3" id="justified_text">&#13;
<h3>Justified text</h3>&#13;
&#13;
<p>An often-overlooked alignment value is <code>justify</code>, which raises some issues of its own. In justified text, both ends of a line of text (except the last line, which can be set with <code>text-align-last</code>) are placed at the inner edges of the parent element, as shown in <a data-type="xref" href="#justified_text-id1">Figure 15-6</a>. Then, the spacing between words and letters is adjusted so that the words are distributed evenly throughout the line. Justified text is common in the print world (for example, in this book), but under CSS, a few extra considerations come into play.</p>&#13;
&#13;
<figure class="bordernone"><div class="figure" id="justified_text-id1">&#13;
<img alt="css5 1506" src="assets/css5_1506.png"/>&#13;
<h6><span class="label">Figure 15-6. </span>Justified text</h6>&#13;
</div></figure>&#13;
&#13;
<p>The user agent determines how justified text should be stretched or distributed to fill the space between the left and right edges of the parent. Some browsers, for example, might add extra space only between words, while others might distribute the extra space between letters (although the CSS specification states that “user agents may not further increase or decrease the inter-character space” if the property <code>letter-spacing</code> has been assigned a length value). Other user agents may reduce space on some lines, thus mashing the text together a bit more than usual.</p>&#13;
&#13;
<p>The value <code>justify-all</code> sets full justification for both <code>text-align</code> and <code>text-align-last</code> (covered in an upcoming section).</p>&#13;
<div data-type="warning" epub:type="warning"><h6>Warning</h6>&#13;
<p>As of mid-2022, the <code>justify-all</code> value is not supported by any browser, even though nearly all of them support <code>text-align: justify</code> and <code>text-align-last: justify</code>.  This gap in support remains a mystery as of press time, but is solved in most browsers with the following:</p>&#13;
&#13;
<pre data-code-language="css" data-type="programlisting"><code class="nc">.justify-all</code> <code class="p">{</code>&#13;
  <code class="k">text-align</code><code class="o">:</code> <code class="nb">justify</code><code class="p">;</code>&#13;
  <code class="k">text-align</code><code class="o">-</code><code class="n">last</code><code class="o">:</code> <code class="nb">justify</code><code class="p">;</code>&#13;
  <code class="p">}</code></pre>&#13;
</div>&#13;
</div></section>&#13;
&#13;
&#13;
&#13;
&#13;
&#13;
&#13;
&#13;
&#13;
&#13;
&#13;
<section data-pdf-bookmark="Parent matching" data-type="sect3"><div class="sect3" id="parent_matching">&#13;
<h3>Parent matching</h3>&#13;
&#13;
<p>We have one more <a data-primary="match-parent keyword, text-align" data-type="indexterm" id="idm45176054808336"/>value to cover: <code>match-parent</code>.  If you declare <code>text-align: match-parent</code>, and the inherited value of <code>text-align</code> is <code>start</code> or <code>end</code>, the alignment of the <code>match-parent</code> element will be calculated with respect to the parent element’s horizontal or vertical, rather than inline, direction.</p>&#13;
&#13;
<p>For example, you could force any English element’s text alignment to match the alignment of a parent element, regardless of its writing direction, as in the following example.<a data-primary="" data-startref="ix_text_align_prop" data-type="indexterm" id="idm45176054804432"/></p>&#13;
&#13;
<pre data-code-language="css" data-type="programlisting"><code class="nt">div</code> <code class="p">{</code><code class="k">text-align</code><code class="o">:</code> <code class="n">start</code><code class="p">;}</code>&#13;
<code class="nt">div</code><code class="nd">:lang</code><code class="o">(</code><code class="nt">en</code><code class="o">)</code> <code class="p">{</code><code class="k">direction</code><code class="o">:</code> <code class="nb">ltr</code><code class="p">;}</code>&#13;
<code class="nt">div</code><code class="nd">:lang</code><code class="o">(</code><code class="nt">ar</code><code class="o">)</code> <code class="p">{</code><code class="k">direction</code><code class="o">:</code> <code class="n">rtl</code><code class="p">;}</code>&#13;
<code class="nt">p</code> <code class="p">{</code><code class="k">text-align</code><code class="o">:</code> <code class="n">match</code><code class="o">-</code><code class="n">parent</code><code class="p">;}</code>&#13;
&#13;
<code class="o">&lt;</code><code class="nt">div</code> <code class="nt">lang</code><code class="o">=</code><code class="s2">"en-US"</code><code class="o">&gt;</code>&#13;
<code class="nt">Here</code> <code class="nt">is</code> <code class="nt">some</code> <code class="nt">en-US</code> <code class="nt">text</code><code class="o">.</code>&#13;
<code class="o">&lt;</code><code class="nt">p</code><code class="o">&gt;</code><code class="nt">The</code> <code class="nt">alignment</code> <code class="nt">of</code> <code class="nt">this</code> <code class="nt">paragraph</code> <code class="nt">will</code> <code class="nt">be</code> <code class="nt">to</code> <code class="nt">the</code> <code class="nt">left</code><code class="o">,</code> <code class="nt">as</code> <code class="nt">with</code> <code class="nt">its</code> <code class="nt">parent</code><code class="o">.&lt;/</code><code class="nt">p</code><code class="o">&gt;</code>&#13;
<code class="o">&lt;/</code><code class="nt">div</code><code class="o">&gt;</code>&#13;
<code class="o">&lt;</code><code class="nt">div</code> <code class="nt">lang</code><code class="o">=</code><code class="s2">"ar"</code><code class="o">&gt;</code>&#13;
<code class="err">هذا</code> <code class="err">نص</code> <code class="err">عربي</code><code class="o">.</code>&#13;
<code class="o">&lt;</code><code class="nt">p</code><code class="o">&gt;</code><code class="nt">The</code> <code class="nt">alignment</code> <code class="nt">of</code> <code class="nt">this</code> <code class="nt">paragraph</code> <code class="nt">will</code> <code class="nt">be</code> <code class="nt">to</code> <code class="nt">the</code> <code class="nt">right</code><code class="o">,</code> <code class="nt">as</code> <code class="nt">with</code> <code class="nt">its</code> <code class="nt">parent</code><code class="o">.&lt;/</code><code class="nt">p</code><code class="o">&gt;</code>&#13;
<code class="o">&lt;/</code><code class="nt">div</code><code class="o">&gt;</code></pre>&#13;
</div></section>&#13;
</div></section>&#13;
&#13;
&#13;
&#13;
&#13;
&#13;
&#13;
&#13;
&#13;
<section data-pdf-bookmark="Aligning the Last Line" data-type="sect2"><div class="sect2" id="aligning_the_last_line">&#13;
<h2>Aligning the Last Line</h2>&#13;
&#13;
<p>At <a data-primary="last-line alignment" data-type="indexterm" id="idm45176054652592"/><a data-primary="text-align-last property" data-type="indexterm" id="idm45176054651856"/>times you might want to align the text in the very last line of an element differently than you did the rest of the content. For example, with <code>text-align: justify</code>, the last line defaults to <code>text-align: start</code>. You might ensure a left-aligned last line in an otherwise fully justified block of text, or choose to swap from left to center alignment. For those situations, you can use <code>text-align-last</code>.</p>&#13;
<aside data-type="sidebar" epub:type="sidebar"><div class="sidebar" id="text-align-last">&#13;
<h1>text-align-last</h1><table>&#13;
&#13;
<tbody>&#13;
<tr>&#13;
<td><p><strong>Values</strong></p></td>&#13;
<td><p><code>auto</code> | <code>start</code> | <code>end</code> | <code>left</code> | <code>right</code> | <code>center</code> | <code>justify</code></p></td>&#13;
</tr>&#13;
<tr>&#13;
<td><p><strong>Initial value</strong></p></td>&#13;
<td><p><code>auto</code></p></td>&#13;
</tr>&#13;
<tr>&#13;
<td><p><strong>Applies to</strong></p></td>&#13;
<td><p>Block-level elements</p></td>&#13;
</tr>&#13;
<tr>&#13;
<td><p><strong>Computed value</strong></p></td>&#13;
<td><p>As specified</p></td>&#13;
</tr>&#13;
<tr>&#13;
<td><p><strong>Inherited</strong></p></td>&#13;
<td><p>Yes</p></td>&#13;
</tr>&#13;
<tr>&#13;
<td><p><strong>Animatable</strong></p></td>&#13;
<td><p>No</p></td>&#13;
</tr>&#13;
</tbody>&#13;
</table>&#13;
</div></aside>&#13;
&#13;
<p>As with <code>text-align</code>, the quickest way to understand how these values work is to examine <a data-type="xref" href="#differently_aligned_last_lines">Figure 15-7</a>.</p>&#13;
&#13;
<figure class="bordernone"><div class="figure" id="differently_aligned_last_lines">&#13;
<img alt="css5 1507" src="assets/css5_1507.png"/>&#13;
<h6><span class="label">Figure 15-7. </span>Differently aligned last lines</h6>&#13;
</div></figure>&#13;
&#13;
<p>The last lines of the elements are aligned independently of the rest of the elements, according to the elements’ <code>text-align-last</code> values.</p>&#13;
&#13;
<p>A close study of <a data-type="xref" href="#differently_aligned_last_lines">Figure 15-7</a> will reveal that there’s more at play than just the last lines of block-level elements. In fact, <code>text-align-last</code> applies to any line of text that immediately precedes a forced line break, whether or not that line break is triggered by the end of an element. Thus, a line break created by a <code>&lt;br&gt;</code> tag will make the line of text immediately before that break use the value of <code>text-align-last</code>.</p>&#13;
&#13;
<p>An interesting wrinkle arises with <code>text-align-last</code>: if the first line of text in an element is also the last line of text in the element, the value of <code>text-align-last</code> takes precedence over the value of <code>text-align</code>. Thus, the following styles will result in a centered paragraph, not a start-aligned paragraph:<a data-primary="" data-startref="ix_align_text" data-type="indexterm" id="idm45176054624256"/><a data-primary="" data-startref="ix_text_align_in_line" data-type="indexterm" id="idm45176054623280"/></p>&#13;
&#13;
<pre data-code-language="css" data-type="programlisting"><code class="nt">p</code> <code class="p">{</code><code class="k">text-align</code><code class="o">:</code> <code class="n">start</code><code class="p">;</code> <code class="k">text-align</code><code class="o">-</code><code class="n">last</code><code class="o">:</code> <code class="nb">center</code><code class="p">;}</code></pre>&#13;
&#13;
<pre data-code-language="html" data-type="programlisting"><code class="p">&lt;</code><code class="nt">p</code><code class="p">&gt;</code>A paragraph.<code class="p">&lt;/</code><code class="nt">p</code><code class="p">&gt;</code></pre>&#13;
</div></section>&#13;
&#13;
&#13;
&#13;
&#13;
&#13;
&#13;
&#13;
&#13;
<section data-pdf-bookmark="Word Spacing" data-type="sect2"><div class="sect2" id="word_spacing">&#13;
<h2>Word Spacing</h2>&#13;
&#13;
<p>The <code>word-spacing</code> property<a data-primary="spacing" data-secondary="word" data-type="indexterm" id="ix_space_word"/><a data-primary="word-spacing property" data-type="indexterm" id="ix_word_space_prop"/><a data-primary="text properties" data-secondary="word spacing" data-type="indexterm" id="ix_text_word_space"/> is used to modify interword spacing, accepting a positive or negative length. This length is <em>added</em> to the standard space between words. Therefore, the default value of <code>normal</code> is the same as setting a value of <code>0</code>.</p>&#13;
<aside data-type="sidebar" epub:type="sidebar"><div class="sidebar" id="word-spacing">&#13;
<h1>word-spacing</h1><table>&#13;
&#13;
<tbody>&#13;
<tr>&#13;
<td><p><strong>Values</strong></p></td>&#13;
<td><p>&lt;<em><code>length</code></em>&gt; | <code>normal</code></p></td>&#13;
</tr>&#13;
<tr>&#13;
<td><p><strong>Initial value</strong></p></td>&#13;
<td><p><code>normal</code></p></td>&#13;
</tr>&#13;
<tr>&#13;
<td><p><strong>Applies to</strong></p></td>&#13;
<td><p>All elements</p></td>&#13;
</tr>&#13;
<tr>&#13;
<td><p><strong>Computed value</strong></p></td>&#13;
<td><p>For <code>normal</code>, the absolute length <code>0</code>; otherwise, the absolute length</p></td>&#13;
</tr>&#13;
<tr>&#13;
<td><p><strong>Inherited</strong></p></td>&#13;
<td><p>Yes</p></td>&#13;
</tr>&#13;
<tr>&#13;
<td><p><strong>Animatable</strong></p></td>&#13;
<td><p>Yes</p></td>&#13;
</tr>&#13;
</tbody>&#13;
</table>&#13;
</div></aside>&#13;
&#13;
<p>If you supply a positive length value, the space between words will increase. Setting a negative value for <code>word-spacing</code> brings words closer together:</p>&#13;
&#13;
<pre data-code-language="css" data-type="programlisting"><code class="nt">p</code><code class="nc">.spread</code> <code class="p">{</code><code class="k">word-spacing</code><code class="o">:</code> <code class="m">0.5em</code><code class="p">;}</code>&#13;
<code class="nt">p</code><code class="nc">.tight</code> <code class="p">{</code><code class="k">word-spacing</code><code class="o">:</code> <code class="m">-0.5em</code><code class="p">;}</code>&#13;
<code class="nt">p</code><code class="nc">.default</code> <code class="p">{</code><code class="k">word-spacing</code><code class="o">:</code> <code class="n">normal</code><code class="p">;}</code>&#13;
<code class="nt">p</code><code class="nc">.zero</code> <code class="p">{</code><code class="k">word-spacing</code><code class="o">:</code> <code class="m">0</code><code class="p">;}</code></pre>&#13;
&#13;
<pre data-code-language="html" data-type="programlisting"><code class="p">&lt;</code><code class="nt">p</code> <code class="na">class</code><code class="o">=</code><code class="s">"spread"</code><code class="p">&gt;</code>The spaces—as in those between the “words”—in this paragraph&#13;
   will be increased by 0.5em.<code class="p">&lt;/</code><code class="nt">p</code><code class="p">&gt;</code>&#13;
<code class="p">&lt;</code><code class="nt">p</code> <code class="na">class</code><code class="o">=</code><code class="s">"tight"</code><code class="p">&gt;</code>The spaces—as in those between the “words”—in this paragraph&#13;
   will be increased by 0.5em.<code class="p">&lt;/</code><code class="nt">p</code><code class="p">&gt;</code>&#13;
<code class="p">&lt;</code><code class="nt">p</code> <code class="na">class</code><code class="o">=</code><code class="s">"default"</code><code class="p">&gt;</code>The spaces—as in those between the “words”—in this paragraph&#13;
   will be neither increased nor decreased.<code class="p">&lt;/</code><code class="nt">p</code><code class="p">&gt;</code>&#13;
<code class="p">&lt;</code><code class="nt">p</code> <code class="na">class</code><code class="o">=</code><code class="s">"zero"</code><code class="p">&gt;</code>The spaces—as in those between the “words”—in this paragraph&#13;
   will be neither increased nor decreased.<code class="p">&lt;/</code><code class="nt">p</code><code class="p">&gt;</code></pre>&#13;
&#13;
<p>Manipulating these settings has the effect shown in <a data-type="xref" href="#changing_the_space_between_words">Figure 15-8</a>.</p>&#13;
&#13;
<figure class="coderesult"><div class="figure" id="changing_the_space_between_words">&#13;
<img alt="css5 1508" src="assets/css5_1508.png"/>&#13;
<h6><span class="label">Figure 15-8. </span>Changing the space between words</h6>&#13;
</div></figure>&#13;
&#13;
<p>In CSS terms, a <em>word</em> is any string of nonwhitespace characters that is surrounded by whitespace of some kind. This means <code>word-spacing</code> is unlikely to work in any languages that employ pictographs, or non-Roman writing styles.  This is also why the em dashes in the previous example’s text don’t get space around them.  From the CSS point of view, “spaces—as” is a single word.<a data-primary="" data-startref="ix_text_word_space" data-type="indexterm" id="idm45176054437248"/><a data-primary="" data-startref="ix_word_space_prop" data-type="indexterm" id="idm45176054436272"/><a data-primary="" data-startref="ix_space_word" data-type="indexterm" id="idm45176054435328"/></p>&#13;
&#13;
<p>Use caution. The <code>word-spacing</code> property allows you to create very unreadable documents, as <a data-type="xref" href="#really_wide_word_spacing">Figure 15-9</a> illustrates.</p>&#13;
&#13;
<figure class="coderesult"><div class="figure" id="really_wide_word_spacing">&#13;
<img alt="css5 1509" src="assets/css5_1509.png"/>&#13;
<h6><span class="label">Figure 15-9. </span>Really wide word spacing</h6>&#13;
</div></figure>&#13;
</div></section>&#13;
&#13;
&#13;
&#13;
&#13;
&#13;
&#13;
&#13;
&#13;
<section class="less_space pagebreak-before" data-pdf-bookmark="Letter Spacing" data-type="sect2"><div class="sect2" id="letter_spacing">&#13;
<h2>Letter Spacing</h2>&#13;
&#13;
<p>Many of the issues you <a data-primary="text properties" data-secondary="letter spacing" data-type="indexterm" id="ix_text_space_letter"/><a data-primary="letter-spacing property" data-type="indexterm" id="idm45176054472832"/><a data-primary="spacing" data-secondary="letter" data-type="indexterm" id="ix_space_letter"/>encounter with <code>word-spacing</code> also occur with <code>letter-spacing</code>. The only real difference between the two is that <code>letter-spacing</code> modifies the space between characters or letters.</p>&#13;
<aside data-type="sidebar" epub:type="sidebar"><div class="sidebar" id="letter-spacing">&#13;
<h1>letter-spacing</h1><table>&#13;
&#13;
<tbody>&#13;
<tr>&#13;
<td><p><strong>Values</strong></p></td>&#13;
<td><p>&lt;<em><code>length</code></em>&gt; | <code>normal</code></p></td>&#13;
</tr>&#13;
<tr>&#13;
<td><p><strong>Initial value</strong></p></td>&#13;
<td><p><code>normal</code></p></td>&#13;
</tr>&#13;
<tr>&#13;
<td><p><strong>Applies to</strong></p></td>&#13;
<td><p>All elements</p></td>&#13;
</tr>&#13;
<tr>&#13;
<td><p><strong>Computed value</strong></p></td>&#13;
<td><p>For length values, the absolute length; otherwise, <code>normal</code></p></td>&#13;
</tr>&#13;
<tr>&#13;
<td><p><strong>Inherited</strong></p></td>&#13;
<td><p>Yes</p></td>&#13;
</tr>&#13;
<tr>&#13;
<td><p><strong>Animatable</strong></p></td>&#13;
<td><p>Yes</p></td>&#13;
</tr>&#13;
</tbody>&#13;
</table>&#13;
</div></aside>&#13;
&#13;
<p>As with the <code>word-spacing</code> property, the permitted values of <code>letter-spacing</code> include any length, though character-relative lengths like <code>em</code> (rather than root-relative lengths like <code>rem</code>) are recommended to ensure that the spacing is proportional to the font size.</p>&#13;
&#13;
<p>The default keyword is <code>normal</code>, which has the same effect as <code>letter-spacing: 0</code>. Any length value you enter will increase or decrease the space between letters by that amount. <a data-type="xref" href="#various_kinds_of_letter_spacing">Figure 15-10</a> shows the results of the following markup:</p>&#13;
&#13;
<pre data-code-language="css" data-type="programlisting"><code class="nt">p</code> <code class="p">{</code><code class="k">letter-spacing</code><code class="o">:</code> <code class="m">0</code><code class="p">;}</code>    <code class="c">/*  identical to 'normal'  */</code>&#13;
<code class="nt">p</code><code class="nc">.spacious</code> <code class="p">{</code><code class="k">letter-spacing</code><code class="o">:</code> <code class="m">0.25em</code><code class="p">;}</code>&#13;
<code class="nt">p</code><code class="nc">.tight</code> <code class="p">{</code><code class="k">letter-spacing</code><code class="o">:</code> <code class="err">−</code><code class="m">0.25em</code><code class="p">;}</code></pre>&#13;
&#13;
<pre data-code-language="html" data-type="programlisting"><code class="p">&lt;</code><code class="nt">p</code><code class="p">&gt;</code>The letters in this paragraph are spaced as normal.<code class="p">&lt;/</code><code class="nt">p</code><code class="p">&gt;</code>&#13;
<code class="p">&lt;</code><code class="nt">p</code> <code class="na">class</code><code class="o">=</code><code class="s">"spacious"</code><code class="p">&gt;</code>The letters in this paragraph are spread out a bit.<code class="p">&lt;/</code><code class="nt">p</code><code class="p">&gt;</code>&#13;
<code class="p">&lt;</code><code class="nt">p</code> <code class="na">class</code><code class="o">=</code><code class="s">"tight"</code><code class="p">&gt;</code>The letters in this paragraph are a bit smashed together.<code class="p">&lt;/</code><code class="nt">p</code><code class="p">&gt;</code></pre>&#13;
&#13;
<figure class="coderesult"><div class="figure" id="various_kinds_of_letter_spacing">&#13;
<img alt="css5 1510" src="assets/css5_1510.png"/>&#13;
<h6><span class="label">Figure 15-10. </span>Various kinds of letter spacing</h6>&#13;
</div></figure>&#13;
<div data-type="warning" epub:type="warning"><h6>Warning</h6>&#13;
<p>If a <a data-primary="fonts" data-secondary="ligatures" data-type="indexterm" id="idm45176054283136"/><a data-primary="ligatures" data-type="indexterm" id="idm45176054282128"/>page uses fonts with features like ligatures, and those features are enabled, altering letter or word spacing can effectively disable them. Browsers will not recalculate ligatures or other joins when letter spacing is altered.</p>&#13;
</div>&#13;
</div></section>&#13;
&#13;
&#13;
&#13;
&#13;
&#13;
&#13;
&#13;
&#13;
<section data-pdf-bookmark="Spacing and Alignment" data-type="sect2"><div class="sect2" id="spacing_and_alignment">&#13;
<h2>Spacing and Alignment</h2>&#13;
&#13;
<p>It’s <a data-primary="text-align property" data-type="indexterm" id="idm45176054279232"/><a data-primary="text properties" data-secondary="alignment within a line" data-type="indexterm" id="idm45176054278496"/>important to remember that space between words may be altered by the value of the property <code>text-align</code>. If an element is justified, the spaces between letters and words may be altered to fit the text along the full width of the line. This may in turn alter the spacing declared using <code>word-spacing</code>.</p>&#13;
&#13;
<p>If a length value is assigned to <code>letter-spacing</code>, that value cannot be changed by <code>text-align</code>; but if the value of <code>letter-spacing</code> is <code>normal</code>, inter-character spacing may be changed to justify the text. CSS does not specify how the spacing should be calculated, so user agents use their own algorithms.  To prevent <code>text-align</code> from altering letter spacing while keeping the default letter spacing, declare <code>letter-spacing: 0</code>.</p>&#13;
&#13;
<p>Note that <a data-primary="letter-spacing property" data-type="indexterm" id="idm45176054272544"/>computed values are inherited, so child elements with larger or smaller text will have the same word or letter spacing as their parent element.  You cannot define a scaling factor for <code>word-spacing</code> or <code>letter-spacing</code> to be inherited in place of the computed value (in contrast with <code>line-height</code>). As a result, you may run into problems such as those shown in <a data-type="xref" href="#inherited_letter_spacing">Figure 15-11</a>:</p>&#13;
&#13;
<pre data-code-language="css" data-type="programlisting"><code class="nt">p</code> <code class="p">{</code><code class="k">letter-spacing</code><code class="o">:</code> <code class="m">0.25em</code><code class="p">;</code> <code class="k">font-size</code><code class="o">:</code> <code class="m">20px</code><code class="p">;}</code>&#13;
<code class="nt">small</code> <code class="p">{</code><code class="k">font-size</code><code class="o">:</code> <code class="m">50%</code><code class="p">;}</code></pre>&#13;
&#13;
<pre data-code-language="html" data-type="programlisting"><code class="p">&lt;</code><code class="nt">p</code><code class="p">&gt;</code>This spacious paragraph features <code class="p">&lt;</code><code class="nt">small</code><code class="p">&gt;</code>tiny text that is just&#13;
as spacious<code class="p">&lt;/</code><code class="nt">small</code><code class="p">&gt;</code>, even though the author probably wanted the&#13;
spacing to be in proportion to the size of the text.<code class="p">&lt;/</code><code class="nt">p</code><code class="p">&gt;</code></pre>&#13;
&#13;
<figure class="coderesult"><div class="figure" id="inherited_letter_spacing">&#13;
<img alt="css5 1511" src="assets/css5_1511.png"/>&#13;
<h6><span class="label">Figure 15-11. </span>Inherited letter spacing</h6>&#13;
</div></figure>&#13;
&#13;
<p>As <code>inherit</code> inherits the ancestor’s letter-spacing computed length, the only way to achieve letter spacing that’s in proportion to the size of the text is to set it explicitly on each element, as follows:<a data-primary="" data-startref="ix_space_letter" data-type="indexterm" id="idm45176054224480"/><a data-primary="" data-startref="ix_text_space_letter" data-type="indexterm" id="idm45176054219360"/></p>&#13;
&#13;
<pre data-code-language="css" data-type="programlisting"><code class="nt">p</code> <code class="p">{</code><code class="k">letter-spacing</code><code class="o">:</code> <code class="m">0.25em</code><code class="p">;}</code>&#13;
<code class="nt">small</code> <code class="p">{</code><code class="k">font-size</code><code class="o">:</code> <code class="m">50%</code><code class="p">;</code> <code class="k">letter-spacing</code><code class="o">:</code> <code class="m">0.25em</code><code class="p">;}</code></pre>&#13;
&#13;
<p>And the same goes for word spacing.</p>&#13;
</div></section>&#13;
</div></section>&#13;
&#13;
&#13;
&#13;
&#13;
&#13;
&#13;
<section data-pdf-bookmark="Vertical Alignment" data-type="sect1"><div class="sect1" id="vertical_alignment">&#13;
<h1>Vertical Alignment</h1>&#13;
&#13;
<p>Now <a data-primary="text properties" data-secondary="alignment of lines in an element" data-type="indexterm" id="ix_text_align_in_elem"/><a data-primary="text properties" data-secondary="vertical alignment" data-type="indexterm" id="ix_text_vert_align"/><a data-primary="alignment" data-secondary="vertical" data-type="indexterm" id="ix_align_vert2"/><a data-primary="block direction (axis)" data-type="indexterm" id="ix_block_direct"/><a data-primary="alignment" data-secondary="text" data-type="indexterm" id="ix_align_text2"/><a data-primary="vertical formatting" data-secondary="alignment setting" data-type="indexterm" id="ix_vert_format_align2"/><a data-primary="vertical writing direction" data-type="indexterm" id="ix_vert_write_direct"/>that we’ve covered alignment along the inline direction, let’s move on to the vertical alignment of inline elements along the block direction—things like superscripting and vertical alignment (vertical with respect to the line of text, if the text is laid out &#13;
<span class="keep-together">horizontally).</span> Since the construction of lines is a complex topic that merits its own small book, we’ll just stick to a quick overview here.</p>&#13;
&#13;
&#13;
&#13;
&#13;
&#13;
&#13;
&#13;
&#13;
<section data-pdf-bookmark="Adjusting the Height of Lines" data-type="sect2"><div class="sect2" id="the_height_of_lines">&#13;
<h2>Adjusting the Height of Lines</h2>&#13;
&#13;
<p>The <a data-primary="text properties" data-secondary="line height" data-type="indexterm" id="ix_text_line_height"/>distance between lines can be affected by changing the height of a line.  Note that <em>height</em> here is with respect to the line of text itself, assuming that the longer axis of a line is <em>width</em>, even if it’s written vertically.  The property names we cover from here will reveal a strong bias toward Western languages and their writing directions; this is an artifact of the early days of CSS, when Western languages were the only ones that could be easily &#13;
<span class="keep-together">represented.</span></p>&#13;
&#13;
<p>The <code>line-height</code> property refers to the distance between the baselines of lines of text rather than the size of the font, and it determines the amount by which the height of each element’s box is increased or decreased. In the most basic cases, specifying <code>line-height</code> is a way to increase (or decrease) the vertical space between lines of text, but this is a misleadingly simple way of looking at how <code>line-height</code> works. <a data-primary="line-height property" data-type="indexterm" id="ix_line_height_prop2"/><a data-primary="leading" data-type="indexterm" id="idm45176054128640"/>This property controls the <em>leading</em>, which is the extra space between lines of text above and beyond the font’s size. In other words, the difference between the value of <code>line-height</code> and the size of the font is the leading.</p>&#13;
<aside data-type="sidebar" epub:type="sidebar"><div class="sidebar" id="line-height">&#13;
<h1>line-height</h1><table>&#13;
&#13;
<tbody>&#13;
<tr>&#13;
<td><p><strong>Values</strong></p></td>&#13;
<td><p>&lt;<em><code>number</code></em>&gt; | &lt;<em><code>length</code></em>&gt; | &lt;<em><code>percentage</code></em>&gt; | <code>normal</code></p></td>&#13;
</tr>&#13;
<tr>&#13;
<td><p><strong>Initial value</strong></p></td>&#13;
<td><p><code>normal</code></p></td>&#13;
</tr>&#13;
<tr>&#13;
<td><p><strong>Applies to</strong></p></td>&#13;
<td><p>All elements (but see text regarding replaced and block-level elements)</p></td>&#13;
</tr>&#13;
<tr>&#13;
<td><p><strong>Percentages</strong></p></td>&#13;
<td><p>Relative to the font size of the element</p></td>&#13;
</tr>&#13;
<tr>&#13;
<td><p><strong>Computed value</strong></p></td>&#13;
<td><p>For length and percentage values, the absolute value; otherwise, as specified</p></td>&#13;
</tr>&#13;
<tr>&#13;
<td><p><strong>Inherited</strong></p></td>&#13;
<td><p>Yes</p></td>&#13;
</tr>&#13;
<tr>&#13;
<td><p><strong>Animatable</strong></p></td>&#13;
<td><p>Yes</p></td>&#13;
</tr>&#13;
</tbody>&#13;
</table>&#13;
</div></aside>&#13;
&#13;
<p>When applied to a block-level element, <code>line-height</code> defines the <em>minimum</em> distance between text baselines within that element. Note that it defines a minimum, not an absolute value.  Baselines of text can wind up being pushed farther apart than the value of <code>line-height</code>, for example, if a line contains an inline image or form control that is taller than the declared line height.  The <code>line-height</code> property does not affect layout for replaced elements like images, but it still applies to them.</p>&#13;
&#13;
&#13;
&#13;
&#13;
&#13;
&#13;
&#13;
&#13;
&#13;
&#13;
<section data-pdf-bookmark="Constructing a line" data-type="sect3"><div class="sect3" id="constructing_a_line">&#13;
<h3>Constructing a line</h3>&#13;
&#13;
<p>As you <a data-primary="content area" data-secondary="inline-level elements" data-type="indexterm" id="idm45176054088944"/>learned in <a data-type="xref" href="ch06.html#basic-visual-formatting">Chapter 6</a>, every element in a line of text generates a <em>content area</em>, which is determined by the size of the font. This <a data-primary="boxes" data-secondary="element boxes" data-tertiary="inline boxes" data-type="indexterm" id="idm45176054086624"/><a data-primary="boxes" data-secondary="line boxes" data-type="indexterm" id="idm45176054085376"/><a data-primary="element boxes" data-secondary="inline boxes" data-type="indexterm" id="idm45176054084432"/><a data-primary="elements" data-secondary="inline-level" data-type="indexterm" id="idm45176054083488"/><a data-primary="inline-level elements" data-type="indexterm" id="idm45176054082544"/><a data-primary="line boxes" data-type="indexterm" id="idm45176054081872"/>content area, in turn, generates an <em>inline box</em> that is, in the absence of any other factors, exactly equal to the content area. The leading generated by <code>line-height</code> is one of the factors that increase or decrease the height of each inline box.</p>&#13;
&#13;
<p>To determine the <a data-primary="font-size property" data-secondary="leading determined by" data-type="indexterm" id="idm45176054079856"/>leading for a given element, subtract the computed value of <code>font-size</code> from the computed value of <code>line-height</code>. That value is the total amount of leading. And remember, it can be a negative number. The leading is then divided in half, and each half-leading is applied to the top and bottom of the content area. The result is the inline box for that element.  In this way, each line of text is centered within the line height as long as the height of the line isn’t forced beyond its minimum height by a replaced element or other factor.</p>&#13;
&#13;
<p>As an example, let’s say <code>font-size</code> (and therefore the content area) is 14 pixels tall, and <code>line-height</code> is computed to 18 pixels. The difference (4 pixels) is divided in half, and each half is applied to the top and bottom of the content area. This effectively centers the content by creating an inline box that is 18 pixels tall, with 2 extra pixels above and below the content area. This sounds like a roundabout way to describe how <code>line-height</code> works, but there are excellent reasons for the description.</p>&#13;
&#13;
<p>Once all of the inline boxes have been generated for a given line of content, they are then considered in the construction of the line box. A line box is exactly as tall as needed to enclose the top of the tallest inline box and the bottom of the lowest inline box.  <a data-type="xref" href="#line_box_diagram">Figure 15-12</a> shows a diagram of this process.</p>&#13;
&#13;
<figure class="bordernone"><div class="figure" id="line_box_diagram">&#13;
<img alt="css5 1512" src="assets/css5_1512.png"/>&#13;
<h6><span class="label">Figure 15-12. </span>Line-box diagram</h6>&#13;
</div></figure>&#13;
</div></section>&#13;
&#13;
&#13;
&#13;
&#13;
&#13;
&#13;
&#13;
&#13;
&#13;
&#13;
<section data-pdf-bookmark="Assigning values to line-height" data-type="sect3"><div class="sect3" id="assigning_values_to_line-height">&#13;
<h3>Assigning values to line-height</h3>&#13;
&#13;
<p>Let’s now consider the possible values of <code>line-height</code>. If you use the default value of &#13;
<span class="keep-together"><code>normal</code></span>, the user agent must calculate the space between lines. Values can vary by user agent, but the <code>normal</code> default is generally around 1.2 times the size of the font, which makes line boxes taller than the value of <code>font-size</code> for a given element.</p>&#13;
&#13;
<p>Many values are simple length measures (e.g., <code>18px</code> or <code>2em</code> ), but &lt;<em><code>number</code></em>&gt; values with no length unit are preferable in many situations.</p>&#13;
<div data-type="warning" epub:type="warning"><h6>Warning</h6>&#13;
<p>Be aware that even if you use a valid length measurement, such as <code>4cm</code>, the browser (or the operating system) may be using an incorrect metric for real-world measurements, so the line height may not show up as exactly 4 centimeters on your monitor.</p>&#13;
</div>&#13;
&#13;
<p>The <code>em</code>, <code>ex</code>, and percentage values are calculated with respect to the <code>font-size</code> of the element. The results of the following CSS and HTML are shown in <a data-type="xref" href="#simple_calculations_with_the_line-height">Figure 15-13</a>:</p>&#13;
&#13;
<pre data-code-language="css" data-type="programlisting"><code class="nt">body</code> <code class="p">{</code><code class="k">line-height</code><code class="o">:</code> <code class="m">18px</code><code class="p">;</code> <code class="k">font-size</code><code class="o">:</code> <code class="m">16px</code><code class="p">;}</code>&#13;
<code class="nt">p</code><code class="nc">.cl1</code> <code class="p">{</code><code class="k">line-height</code><code class="o">:</code> <code class="m">1.5em</code><code class="p">;}</code>&#13;
<code class="nt">p</code><code class="nc">.cl2</code> <code class="p">{</code><code class="k">font-size</code><code class="o">:</code> <code class="m">10px</code><code class="p">;</code> <code class="k">line-height</code><code class="o">:</code> <code class="m">150%</code><code class="p">;}</code>&#13;
<code class="nt">p</code><code class="nc">.cl3</code> <code class="p">{</code><code class="k">line-height</code><code class="o">:</code> <code class="m">0.33in</code><code class="p">;}</code></pre>&#13;
&#13;
<pre data-code-language="html" data-type="programlisting"><code class="p">&lt;</code><code class="nt">p</code><code class="p">&gt;</code>This paragraph inherits a 'line-height' of 18px from the body, as well as&#13;
a 'font-size' of 16px.<code class="p">&lt;/</code><code class="nt">p</code><code class="p">&gt;</code>&#13;
<code class="p">&lt;</code><code class="nt">p</code> <code class="na">class</code><code class="o">=</code><code class="s">"cl1"</code><code class="p">&gt;</code>This paragraph has a 'line-height' of 24px(16 * 1.5), so&#13;
it will have slightly more line-height than usual.<code class="p">&lt;/</code><code class="nt">p</code><code class="p">&gt;</code>&#13;
<code class="p">&lt;</code><code class="nt">p</code> <code class="na">class</code><code class="o">=</code><code class="s">"cl2"</code><code class="p">&gt;</code>This paragraph has a 'line-height' of 15px (10 * 150%), so&#13;
it will have slightly more line-height than usual.<code class="p">&lt;/</code><code class="nt">p</code><code class="p">&gt;</code>&#13;
<code class="p">&lt;</code><code class="nt">p</code> <code class="na">class</code><code class="o">=</code><code class="s">"cl3"</code><code class="p">&gt;</code>This paragraph has a 'line-height' of 0.33in, so it will have&#13;
slightly more line-height than usual.<code class="p">&lt;/</code><code class="nt">p</code><code class="p">&gt;</code></pre>&#13;
&#13;
<figure class="coderesult"><div class="figure" id="simple_calculations_with_the_line-height">&#13;
<img alt="css5 1513" src="assets/css5_1513.png"/>&#13;
<h6><span class="label">Figure 15-13. </span>Simple calculations with the <code>line-height</code> property</h6>&#13;
</div></figure>&#13;
</div></section>&#13;
&#13;
&#13;
&#13;
&#13;
&#13;
&#13;
&#13;
&#13;
&#13;
&#13;
<section data-pdf-bookmark="Understanding line-height and inheritance" data-type="sect3"><div class="sect3" id="line_height_and_inheritance">&#13;
<h3>Understanding line-height and inheritance</h3>&#13;
&#13;
<p>When the <code>line-height</code> is <a data-primary="inheritance" data-secondary="line-height" data-type="indexterm" id="idm45176053924224"/>inherited by one block-level element from another, things get a bit trickier. The <code>line-height</code> values inherit from the parent element as computed from the parent, not the child. The results of the following markup are shown in <a data-type="xref" href="#small_line-height_comma_large_font-size">Figure 15-14</a>. It probably wasn’t what the author had in mind:</p>&#13;
&#13;
<pre data-code-language="css" data-type="programlisting"><code class="nt">body</code> <code class="p">{</code><code class="k">font-size</code><code class="o">:</code> <code class="m">10px</code><code class="p">;}</code>&#13;
<code class="nt">div</code> <code class="p">{</code><code class="k">line-height</code><code class="o">:</code> <code class="m">1em</code><code class="p">;}</code>  <code class="c">/* computes to '10px' */</code>&#13;
<code class="nt">p</code> <code class="p">{</code><code class="k">font-size</code><code class="o">:</code> <code class="m">18px</code><code class="p">;}</code></pre>&#13;
&#13;
<pre data-code-language="html" data-type="programlisting"><code class="p">&lt;</code><code class="nt">div</code><code class="p">&gt;</code>&#13;
<code class="p">&lt;</code><code class="nt">p</code><code class="p">&gt;</code>This paragraph's 'font-size' is 18px, but the inherited 'line-height'&#13;
value is only 10px.  This may cause the lines of text to overlap each&#13;
other by a small amount.<code class="p">&lt;/</code><code class="nt">p</code><code class="p">&gt;</code>&#13;
<code class="p">&lt;/</code><code class="nt">div</code><code class="p">&gt;</code></pre>&#13;
&#13;
<figure class="coderesult"><div class="figure" id="small_line-height_comma_large_font-size">&#13;
<img alt="css5 1514" src="assets/css5_1514.png"/>&#13;
<h6><span class="label">Figure 15-14. </span>Small line-height, large font-size, slight problem</h6>&#13;
</div></figure>&#13;
&#13;
<p>Why are the lines so close together? Because the computed <code>line-height</code> value of <code>10px</code> was inherited by the paragraph from its parent <code>&lt;div&gt;</code>. One solution to the small <code>line-height</code> problem depicted in <a data-type="xref" href="#small_line-height_comma_large_font-size">Figure 15-14</a> is to set an explicit <code>line-height</code> for every element, but that’s not very practical. A better alternative is to specify a number, which actually sets a scaling factor:</p>&#13;
&#13;
<pre data-code-language="css" data-type="programlisting"><code class="nt">body</code> <code class="p">{</code><code class="k">font-size</code><code class="o">:</code> <code class="m">10px</code><code class="p">;}</code>&#13;
<code class="nt">div</code> <code class="p">{</code><code class="k">line-height</code><code class="o">:</code> <code class="m">1</code><code class="p">;}</code>&#13;
<code class="nt">p</code> <code class="p">{</code><code class="k">font-size</code><code class="o">:</code> <code class="m">18px</code><code class="p">;}</code></pre>&#13;
&#13;
<p>When you specify a number with no length unit, you cause the scaling factor to be an inherited value instead of a computed value. The number will be applied to the element and all of its child elements so that each element has a <code>line-height</code> calculated with respect to its own <code>font-size</code> (see <a data-type="xref" href="#using_line-height_factors_to_overcome_in">Figure 15-15</a>):</p>&#13;
&#13;
<pre data-code-language="css" data-type="programlisting"><code class="nt">div</code> <code class="p">{</code><code class="k">line-height</code><code class="o">:</code> <code class="m">1</code><code class="o">.</code><code class="m">5</code><code class="p">;}</code>&#13;
<code class="nt">p</code> <code class="p">{</code><code class="k">font-size</code><code class="o">:</code> <code class="m">18px</code><code class="p">;}</code></pre>&#13;
&#13;
<pre data-code-language="html" data-type="programlisting"><code class="p">&lt;</code><code class="nt">div</code><code class="p">&gt;</code>&#13;
<code class="p">&lt;</code><code class="nt">p</code><code class="p">&gt;</code>This paragraph's 'font-size' is 18px, and since the 'line-height'&#13;
set for the parent div is 1.5, the 'line-height' for this paragraph&#13;
is 27px (18 * 1.5).<code class="p">&lt;/</code><code class="nt">p</code><code class="p">&gt;</code>&#13;
<code class="p">&lt;/</code><code class="nt">div</code><code class="p">&gt;</code></pre>&#13;
&#13;
<figure class="coderesult"><div class="figure" id="using_line-height_factors_to_overcome_in">&#13;
<img alt="css5 1515" src="assets/css5_1515.png"/>&#13;
<h6><span class="label">Figure 15-15. </span>Using <code>line-height</code> factors to overcome inheritance problems</h6>&#13;
</div></figure>&#13;
&#13;
<p>Now that you have a basic grasp of how lines are constructed, let’s talk about vertically aligning elements relative to the line box—that is, displacing them along the block &#13;
<span class="keep-together">direction</span>.<a data-primary="" data-startref="ix_text_line_height" data-type="indexterm" id="idm45176053741088"/><a data-primary="" data-startref="ix_line_height_prop2" data-type="indexterm" id="idm45176053740080"/></p>&#13;
</div></section>&#13;
</div></section>&#13;
&#13;
&#13;
&#13;
&#13;
&#13;
&#13;
&#13;
&#13;
<section data-pdf-bookmark="Vertically Aligning Text" data-type="sect2"><div class="sect2" id="vertically_aligning_text">&#13;
<h2>Vertically Aligning Text</h2>&#13;
&#13;
<p>If you’ve ever used the <a data-primary="vertical-align property" data-secondary="in text" data-secondary-sortas="text" data-type="indexterm" id="ix_vert_align_prop_text"/>elements <code>&lt;sup&gt;</code> and <code>&lt;sub&gt;</code> (the superscript and subscript elements), or used the deprecated <code>align</code> attribute with an image, you’ve done some rudimentary vertical alignment.</p>&#13;
<div data-type="note" epub:type="note"><h6>Note</h6>&#13;
<p>Because of the property name <code>vertical-align</code>, this section will use the terms <em>vertical</em> and <em>horizontal</em> to refer to the block and inline directions of the text.</p>&#13;
</div>&#13;
<aside data-type="sidebar" epub:type="sidebar"><div class="sidebar" id="vertical-align">&#13;
<h1>vertical-align</h1><table>&#13;
&#13;
<tbody>&#13;
<tr>&#13;
<td><p><strong>Values</strong></p></td>&#13;
<td><p><code>baseline</code> | <code>sub</code> | <code>super</code> | <code>top</code> | <code>text-top</code> | <code>middle</code> | <code>bottom</code> | <span class="keep-together"><code>text-bottom</code></span> | &lt;<em><code>length</code></em>&gt; | &lt;<em><code>percentage</code></em>&gt;</p></td>&#13;
</tr>&#13;
<tr>&#13;
<td><p><strong>Initial value</strong></p></td>&#13;
<td><p><code>baseline</code></p></td>&#13;
</tr>&#13;
<tr>&#13;
<td><p><strong>Applies to</strong></p></td>&#13;
<td><p>Inline elements, the pseudo-elements <code>::first-letter</code> and <code>::first-line</code>, and <span class="keep-together">table cells</span></p></td>&#13;
</tr>&#13;
<tr>&#13;
<td><p><strong>Percentages</strong></p></td>&#13;
<td><p>Refer to the value of <code>line-height</code> for the element</p></td>&#13;
</tr>&#13;
<tr>&#13;
<td><p><strong>Computed value</strong></p></td>&#13;
<td><p>For percentage and length values, the absolute length; otherwise, as specified</p></td>&#13;
</tr>&#13;
<tr>&#13;
<td><p><strong>Inherited</strong></p></td>&#13;
<td><p>No</p></td>&#13;
</tr>&#13;
<tr>&#13;
<td><p><strong>Animatable</strong></p></td>&#13;
<td><p>&lt;<em><code>length</code></em>&gt;,  &lt;<em><code>percentage</code></em>&gt;</p></td>&#13;
</tr>&#13;
<tr>&#13;
<td><p><strong>Note</strong></p></td>&#13;
<td><p>When applied to table cells, only the values <code>baseline</code>, <code>top</code>, <code>middle</code>, and <code>bottom</code> are recognized</p></td>&#13;
</tr>&#13;
</tbody>&#13;
</table>&#13;
</div></aside>&#13;
&#13;
<p>The <code>vertical-align</code> property accepts any one of eight keywords, a percentage value, or a length value. The keywords are a mix of the familiar and unfamiliar: <code>baseline</code> (the default value), <code>sub</code>, <code>super</code>, <code>bottom</code>, <code>text-bottom</code>, <code>middle</code>, <code>top</code>, and <code>text-top</code>. We’ll examine how each keyword works in relation to inline elements.</p>&#13;
<div data-type="note" epub:type="note"><h6>Note</h6>&#13;
<p>Remember: <code>vertical-align</code> does <em>not</em> affect the alignment of content within a block-level element, just the alignment of inline content within a line of text or a table cell. This may change in the future, but as of mid-2022, proposals to widen its scope have yet to move forward.</p>&#13;
</div>&#13;
&#13;
&#13;
&#13;
&#13;
&#13;
&#13;
&#13;
&#13;
&#13;
&#13;
<section data-pdf-bookmark="Baseline alignment" data-type="sect3"><div class="sect3" id="baseline_alignment">&#13;
<h3>Baseline alignment</h3>&#13;
&#13;
<p>Using <code>vertical-align: baseline</code> forces<a data-primary="baselines" data-secondary="vertical alignment of text" data-type="indexterm" id="idm45176053680256"/> the baseline of an element to align with the baseline of its parent. Browsers, for the most part, do this anyway, since you’d probably expect the bottoms of all text elements in a line to be aligned.</p>&#13;
&#13;
<p>If a vertically aligned element doesn’t have a baseline—that is, if it’s an image, a form input, or another replaced element—then the bottom of the element is aligned with the baseline of its parent, as <a data-type="xref" href="#baseline_alignment_of_an_image">Figure 15-16</a> shows:</p>&#13;
&#13;
<pre class="less_space pagebreak-before" data-code-language="css" data-type="programlisting"><code class="nt">img</code> <code class="p">{</code><code class="k">vertical-align</code><code class="o">:</code> <code class="nb">baseline</code><code class="p">;}</code></pre>&#13;
&#13;
<pre data-code-language="html" data-type="programlisting"><code class="p">&lt;</code><code class="nt">p</code><code class="p">&gt;</code>The image found in this paragraph <code class="p">&lt;</code><code class="nt">img</code> <code class="na">src</code><code class="o">=</code><code class="s">"dot.gif"</code> <code class="na">alt</code><code class="o">=</code><code class="s">"A dot"</code> <code class="p">/&gt;</code> has its&#13;
bottom edge aligned with the baseline of the text in the paragraph.<code class="p">&lt;/</code><code class="nt">p</code><code class="p">&gt;</code></pre>&#13;
&#13;
<figure class="coderesult"><div class="figure" id="baseline_alignment_of_an_image">&#13;
<img alt="css5 1516" src="assets/css5_1516.png"/>&#13;
<h6><span class="label">Figure 15-16. </span>Baseline alignment of an image</h6>&#13;
</div></figure>&#13;
&#13;
<p>This alignment rule is important because it causes some web browsers to always put a replaced element’s bottom edge on the baseline, even if the line includes no other text. For example, let’s say you have an image in a table cell all by itself. The image may actually be on a baseline, but in some browsers, the space below the baseline causes a gap to appear beneath the image. <a data-primary="text properties" data-secondary="gap behavior in" data-type="indexterm" id="idm45176053628912"/><a data-primary="gaps" data-secondary="text-alignment behavior" data-type="indexterm" id="idm45176053627936"/>Other browsers will “shrink-wrap” the image with the table cell, and no gap will appear. The gap behavior is correct, despite its lack of appeal to most authors.</p>&#13;
<div data-type="note" epub:type="note"><h6>Note</h6>&#13;
<p>See the deeply aged and yet somehow still relevant article <a href="https://meyerweb.com/eric/articles/devedge/img-table-gaps">“Images, Tables, and Mysterious Gaps”</a> (2002) for a more detailed explanation of gap behavior and ways to work around it.</p>&#13;
</div>&#13;
</div></section>&#13;
&#13;
&#13;
&#13;
&#13;
&#13;
&#13;
&#13;
&#13;
&#13;
&#13;
<section data-pdf-bookmark="Superscripting and subscripting" data-type="sect3"><div class="sect3" id="superscripting_and_subscripting">&#13;
<h3>Superscripting and subscripting</h3>&#13;
&#13;
<p>The <a data-primary="subscripts" data-type="indexterm" id="idm45176053620096"/>declaration <code>vertical-align: sub</code> causes an element to be subscripted, meaning that its baseline (or bottom, if it’s a replaced element) is lowered with respect to its parent’s baseline. The specification doesn’t define the distance the element is lowered, so it may vary depending on the user agent.</p>&#13;
&#13;
<p>The <code>super</code> value<a data-primary="superscripts" data-type="indexterm" id="idm45176053617952"/> is the opposite of <code>sub</code>; it raises the element’s baseline (or bottom of a replaced element) with respect to the parent’s baseline. Again, the distance the text is raised depends on the user agent.</p>&#13;
&#13;
<p>Note that the values <code>sub</code> and <code>super</code> do <em>not</em> change the element’s font size, so subscripted or superscripted text will not become smaller (or larger). Instead, any text in the sub- or superscripted element will, by default, be the same size as text in the parent element, as illustrated by <a data-type="xref" href="#superscript_and_subscript_alignment">Figure 15-17</a>:</p>&#13;
&#13;
<pre data-code-language="css" data-type="programlisting"><code class="nt">span</code><code class="nc">.raise</code> <code class="p">{</code><code class="k">vertical-align</code><code class="o">:</code> <code class="nb">super</code><code class="p">;}</code>&#13;
<code class="nt">span</code><code class="nc">.lower</code> <code class="p">{</code><code class="k">vertical-align</code><code class="o">:</code> <code class="n">sub</code><code class="p">;}</code></pre>&#13;
&#13;
<pre data-code-language="html" data-type="programlisting"><code class="p">&lt;</code><code class="nt">p</code><code class="p">&gt;</code>This paragraph contains <code class="p">&lt;</code><code class="nt">span</code> <code class="na">class</code><code class="o">=</code><code class="s">"raise"</code><code class="p">&gt;</code>superscripted<code class="p">&lt;/</code><code class="nt">span</code><code class="p">&gt;</code>&#13;
and <code class="p">&lt;</code><code class="nt">span</code> <code class="na">class</code><code class="o">=</code><code class="s">"lower"</code><code class="p">&gt;</code>subscripted<code class="p">&lt;/</code><code class="nt">span</code><code class="p">&gt;</code> text.<code class="p">&lt;/</code><code class="nt">P</code><code class="p">&gt;</code></pre>&#13;
&#13;
<figure class="coderesult"><div class="figure" id="superscript_and_subscript_alignment">&#13;
<img alt="css5 1517" src="assets/css5_1517.png"/>&#13;
<h6><span class="label">Figure 15-17. </span>Superscript and subscript alignment</h6>&#13;
</div></figure>&#13;
<div data-type="note" epub:type="note"><h6>Note</h6>&#13;
<p>If you wish to make super- or subscripted text smaller than the text of its parent element, you can do so by using the <code>font-size</code> &#13;
<span class="keep-together">property.</span></p>&#13;
</div>&#13;
</div></section>&#13;
&#13;
&#13;
&#13;
&#13;
&#13;
&#13;
&#13;
&#13;
&#13;
&#13;
<section data-pdf-bookmark="Top and bottom alignment" data-type="sect3"><div class="sect3" id="bottom_feeding">&#13;
<h3>Top and bottom alignment</h3>&#13;
&#13;
<p>The <code>vertical-align: top</code> option <a data-primary="bottom keyword, vertical-align" data-type="indexterm" id="idm45176053530320"/><a data-primary="top keyword, vertical-align" data-type="indexterm" id="idm45176053529616"/>aligns the top of the element’s inline box with the top of the line box.  Similarly, <code>vertical-align: bottom</code> aligns the bottom of the element’s inline box with the bottom of the line box.  Thus, the following markup results in <a data-type="xref" href="#top_and_bottom_alignment">Figure 15-18</a>:</p>&#13;
&#13;
<pre data-code-language="css" data-type="programlisting"><code class="nc">.soarer</code> <code class="p">{</code><code class="k">vertical-align</code><code class="o">:</code> <code class="nb">top</code><code class="p">;}</code>&#13;
<code class="nc">.feeder</code> <code class="p">{</code><code class="k">vertical-align</code><code class="o">:</code> <code class="n">bottom</code><code class="p">;}</code></pre>&#13;
&#13;
<pre data-code-language="html" data-type="programlisting"><code class="p">&lt;</code><code class="nt">p</code><code class="p">&gt;</code>And in this paragraph, as before, we have&#13;
first a <code class="p">&lt;</code><code class="nt">img</code> <code class="na">src</code><code class="o">=</code><code class="s">"tall.gif"</code> <code class="na">alt</code><code class="o">=</code><code class="s">"tall"</code> <code class="na">class</code><code class="o">=</code><code class="s">"soarer"</code> <code class="p">/&gt;</code> image and&#13;
then a <code class="p">&lt;</code><code class="nt">img</code> <code class="na">src</code><code class="o">=</code><code class="s">"short.gif"</code> <code class="na">alt</code><code class="o">=</code><code class="s">"short"</code> <code class="na">class</code><code class="o">=</code><code class="s">"soarer"</code> <code class="p">/&gt;</code> image,&#13;
and then some text which is not tall.<code class="p">&lt;/</code><code class="nt">p</code><code class="p">&gt;</code>&#13;
&#13;
<code class="p">&lt;</code><code class="nt">p</code><code class="p">&gt;</code>This paragraph, as you can see, contains&#13;
first a <code class="p">&lt;</code><code class="nt">img</code> <code class="na">src</code><code class="o">=</code><code class="s">"tall.gif"</code> <code class="na">alt</code><code class="o">=</code><code class="s">"tall"</code> <code class="na">class</code><code class="o">=</code><code class="s">"feeder"</code> <code class="p">/&gt;</code> image and&#13;
then a <code class="p">&lt;</code><code class="nt">img</code> <code class="na">src</code><code class="o">=</code><code class="s">"short.gif"</code> <code class="na">alt</code><code class="o">=</code><code class="s">"short"</code> <code class="na">class</code><code class="o">=</code><code class="s">"feeder"</code> <code class="p">/&gt;</code> image,&#13;
and then some text that is not tall.<code class="p">&lt;/</code><code class="nt">p</code><code class="p">&gt;</code></pre>&#13;
&#13;
<figure class="coderesult"><div class="figure" id="top_and_bottom_alignment">&#13;
<img alt="css5 1518" src="assets/css5_1518.png"/>&#13;
<h6><span class="label">Figure 15-18. </span>Top and bottom alignment</h6>&#13;
</div></figure>&#13;
&#13;
<p>The second line of the first paragraph contains two inline elements whose top edges are aligned with each other. They’re also well above the baseline of the text.  The second paragraph shows the inverted case: two images whose bottoms are aligned and are well below the baseline of their line.  This is because in both cases, the sizes of the elements in the line have increased the line’s height beyond what the font’s size would normally create.</p>&#13;
&#13;
<p>If you want instead to align elements with the top or bottom edge of just the text in the line, <code>text-top</code> and <code>text-bottom</code> are the values you seek. For the purposes of these values, replaced elements, or any other kinds of nontext elements, are ignored. Instead, a <em>default</em> text box is considered. This default box is derived from the <code>font-size</code> of the parent element. The bottom of the aligned element’s inline box is then aligned with the bottom of the default text box. Thus, given the following markup, you get a result like the one shown in <a data-type="xref" href="#text-top_and_bottom_alignment">Figure 15-19</a>:</p>&#13;
&#13;
<pre data-code-language="css" data-type="programlisting"><code class="nt">img</code><code class="nc">.ttop</code> <code class="p">{</code><code class="k">vertical-align</code><code class="o">:</code> <code class="nb">text-top</code><code class="p">;}</code>&#13;
<code class="nt">img</code><code class="nc">.tbot</code> <code class="p">{</code><code class="k">vertical-align</code><code class="o">:</code> <code class="nb">text-bottom</code><code class="p">;}</code></pre>&#13;
&#13;
<pre data-code-language="html" data-type="programlisting"><code class="p">&lt;</code><code class="nt">p</code><code class="p">&gt;</code>Here: a <code class="p">&lt;</code><code class="nt">img</code> <code class="na">src</code><code class="o">=</code><code class="s">"tall.gif"</code> <code class="na">class</code><code class="o">=</code><code class="s">"tbot"</code> <code class="na">alt</code><code class="o">=</code><code class="s">"tall"</code> <code class="p">/&gt;</code> tall image,&#13;
and then a <code class="p">&lt;</code><code class="nt">img</code> <code class="na">src</code><code class="o">=</code><code class="s">"short.gif"</code> <code class="na">class</code><code class="o">=</code><code class="s">"tbot"</code> <code class="na">alt</code><code class="o">=</code><code class="s">"short"</code> <code class="p">/&gt;</code> image.<code class="p">&lt;/</code><code class="nt">p</code><code class="p">&gt;</code>&#13;
<code class="p">&lt;</code><code class="nt">p</code><code class="p">&gt;</code>Here: a <code class="p">&lt;</code><code class="nt">img</code> <code class="na">src</code><code class="o">=</code><code class="s">"tall.gif"</code> <code class="na">class</code><code class="o">=</code><code class="s">"ttop"</code> <code class="na">alt</code><code class="o">=</code><code class="s">"tall"</code><code class="p">&gt;</code> tall image,&#13;
and then a <code class="p">&lt;</code><code class="nt">img</code> <code class="na">src</code><code class="o">=</code><code class="s">"short.gif"</code> <code class="na">class</code><code class="o">=</code><code class="s">"ttop"</code> <code class="na">alt</code><code class="o">=</code><code class="s">"short"</code> <code class="p">/&gt;</code> image.<code class="p">&lt;/</code><code class="nt">p</code><code class="p">&gt;</code></pre>&#13;
&#13;
<figure class="coderesult"><div class="figure" id="text-top_and_bottom_alignment">&#13;
<img alt="css5 1519" src="assets/css5_1519.png"/>&#13;
<h6><span class="label">Figure 15-19. </span>Text-top and -bottom alignment</h6>&#13;
</div></figure>&#13;
</div></section>&#13;
&#13;
&#13;
&#13;
&#13;
&#13;
&#13;
&#13;
&#13;
&#13;
&#13;
<section data-pdf-bookmark="Middle alignment" data-type="sect3"><div class="sect3" id="middle_alignment">&#13;
<h3>Middle alignment</h3>&#13;
&#13;
<p>The <a data-primary="middle keyword, vertical-align" data-type="indexterm" id="idm45176053278448"/>value <code>middle</code> is usually (but not always) applied to images. It does not have the exact effect you might assume, given its name. The <code>middle</code> value aligns the middle of an inline element’s box with a point that is <code>0.5ex</code> above the baseline of the parent element, where <code>1ex</code> is defined relative to the <code>font-size</code> for the parent element. <a data-type="xref" href="#precise_detail_of_middle_alignment">Figure 15-20</a> shows this in more detail.</p>&#13;
&#13;
<figure><div class="figure" id="precise_detail_of_middle_alignment">&#13;
<img alt="css5 1520" src="assets/css5_1520.png"/>&#13;
<h6><span class="label">Figure 15-20. </span>Precise detail of middle alignment</h6>&#13;
</div></figure>&#13;
&#13;
<p>Since most user agents treat <code>1ex</code> as one-half em, <code>middle</code> usually aligns the vertical midpoint of an element with a point one-quarter em above the parent’s baseline, though this is not a defined distance and so can vary from one user agent to another.</p>&#13;
</div></section>&#13;
&#13;
&#13;
&#13;
&#13;
&#13;
&#13;
&#13;
&#13;
&#13;
&#13;
<section data-pdf-bookmark="Percentages" data-type="sect3"><div class="sect3" id="text_percentages">&#13;
<h3>Percentages</h3>&#13;
&#13;
<p>Percentages don’t let you simulate <code>align="middle"</code> for images. Instead, setting a percentage value for <code>vertical-align</code> raises or lowers the baseline of the element (or the bottom edge of a replaced element) by the amount declared, with respect to the parent’s baseline. (The percentage you specify is calculated as a percentage of <code>line-height</code> for the element, <em>not</em> its parent.) Positive percentage values raise the element, and negative values lower it.</p>&#13;
&#13;
<p>Depending on how the text is raised or lowered, it can appear to be placed in adjacent lines, as shown in <a data-type="xref" href="#percentages_and_fun_effects">Figure 15-21</a>, so take care when using percentage values:</p>&#13;
&#13;
<pre data-code-language="css" data-type="programlisting"><code class="nt">sub</code> <code class="p">{</code><code class="k">vertical-align</code><code class="o">:</code> <code class="err">−</code><code class="m">100%</code><code class="p">;}</code>&#13;
<code class="nt">sup</code> <code class="p">{</code><code class="k">vertical-align</code><code class="o">:</code> <code class="m">100%</code><code class="p">;}</code></pre>&#13;
&#13;
<pre data-code-language="html" data-type="programlisting"><code class="p">&lt;</code><code class="nt">p</code><code class="p">&gt;</code>We can either <code class="p">&lt;</code><code class="nt">sup</code><code class="p">&gt;</code>soar to new heights<code class="p">&lt;/</code><code class="nt">sup</code><code class="p">&gt;</code> or, instead,&#13;
<code class="p">&lt;</code><code class="nt">sub</code><code class="p">&gt;</code>sink into despair...<code class="p">&lt;/</code><code class="nt">sub</code><code class="p">&gt;&lt;/</code><code class="nt">p</code><code class="p">&gt;</code></pre>&#13;
&#13;
<figure class="coderesult"><div class="figure" id="percentages_and_fun_effects">&#13;
<img alt="css5 1521" src="assets/css5_1521.png"/>&#13;
<h6><span class="label">Figure 15-21. </span>Percentages and fun effects</h6>&#13;
</div></figure>&#13;
</div></section>&#13;
&#13;
&#13;
&#13;
&#13;
&#13;
&#13;
&#13;
&#13;
&#13;
&#13;
<section data-pdf-bookmark="Length alignment" data-type="sect3"><div class="sect3" id="length_alignment">&#13;
<h3>Length alignment</h3>&#13;
&#13;
<p>Finally, let’s consider vertical alignment with a specific length. The <code>vertical-align</code> option is very basic: it shifts an element up or down by the declared distance. Thus, <code>vertical-align: 5px;</code> will shift an element upward 5 pixels from its unaligned placement. Negative length values shift the element downward.</p>&#13;
&#13;
<p>It’s important to realize that vertically aligned text does not become part of another line, nor does it overlap text in other lines. Consider <a data-type="xref" href="#inline_alignments_can_cause_lines_to">Figure 15-22</a>, in which some vertically aligned text appears in the middle of a paragraph.</p>&#13;
&#13;
<figure class="coderesult"><div class="figure" id="inline_alignments_can_cause_lines_to">&#13;
<img alt="css5 1522" src="assets/css5_1522.png"/>&#13;
<h6><span class="label">Figure 15-22. </span>Vertical alignments can cause lines to get taller</h6>&#13;
</div></figure>&#13;
&#13;
<p>As you can see, any vertically aligned element can affect the height of the line. Recall the description of a line box, which is exactly as tall as necessary to enclose the top of the tallest inline box and the bottom of the lowest inline box. This includes inline boxes that have been shifted up or down by vertical alignment.<a data-primary="" data-startref="ix_align_text2" data-type="indexterm" id="idm45176053151856"/><a data-primary="" data-startref="ix_align_vert2" data-type="indexterm" id="idm45176053150880"/><a data-primary="" data-startref="ix_block_direct" data-type="indexterm" id="idm45176053149936"/><a data-primary="" data-startref="ix_text_align_in_elem" data-type="indexterm" id="idm45176053148992"/><a data-primary="" data-startref="ix_text_vert_align" data-type="indexterm" id="idm45176053148048"/><a data-primary="" data-startref="ix_vert_format_align2" data-type="indexterm" id="idm45176053147104"/><a data-primary="" data-startref="ix_vert_write_direct" data-type="indexterm" id="idm45176053146160"/><a data-primary="" data-startref="ix_vert_align_prop_text" data-type="indexterm" id="idm45176053145216"/></p>&#13;
</div></section>&#13;
</div></section>&#13;
</div></section>&#13;
&#13;
&#13;
&#13;
&#13;
&#13;
&#13;
<section data-pdf-bookmark="Text Transformation" data-type="sect1"><div class="sect1" id="text_transformation">&#13;
<h1>Text Transformation</h1>&#13;
&#13;
<p>With the <a data-primary="text-transform property" data-type="indexterm" id="ix_text_transform_prop"/><a data-primary="transformation, text properties" data-type="indexterm" id="ix_transform_text"/><a data-primary="text properties" data-secondary="transformations" data-type="indexterm" id="ix_text_transform2"/>alignment properties covered, let’s look at ways to manipulate the capitalization of text by using the property <code>text-transform</code>.</p>&#13;
<aside data-type="sidebar" epub:type="sidebar"><div class="sidebar" id="text-transform">&#13;
<h1>text-transform</h1><table>&#13;
&#13;
<tbody>&#13;
<tr>&#13;
<td><p><strong>Values</strong></p></td>&#13;
<td><p><code>uppercase</code> | <code>lowercase</code> | <code>capitalize</code> | <code>full-width</code> | <br/><code>full-size-kana</code> | <code>none</code></p></td>&#13;
</tr>&#13;
<tr>&#13;
<td><p><strong>Initial value</strong></p></td>&#13;
<td><p><code>none</code></p></td>&#13;
</tr>&#13;
<tr>&#13;
<td><p><strong>Applies to</strong></p></td>&#13;
<td><p>All elements</p></td>&#13;
</tr>&#13;
<tr>&#13;
<td><p><strong>Computed value</strong></p></td>&#13;
<td><p>As specified</p></td>&#13;
</tr>&#13;
<tr>&#13;
<td><p><strong>Inherited</strong></p></td>&#13;
<td><p>Yes</p></td>&#13;
</tr>&#13;
<tr>&#13;
<td><p><strong>Animatable</strong></p></td>&#13;
<td><p>No</p></td>&#13;
</tr>&#13;
<tr>&#13;
<td><p><strong>Notes</strong></p></td>&#13;
<td><p><code>full-width</code> and <code>full-size-kana</code> are supported only in Firefox as of mid-2022</p></td>&#13;
</tr>&#13;
</tbody>&#13;
</table>&#13;
</div></aside>&#13;
&#13;
<p>The default value <code>none</code> leaves the text alone and uses whatever capitalization exists in the source document. As their names imply, <code>uppercase</code> and <code>lowercase</code> convert text into all upper- or lowercase characters. The <code>full-width</code> value forces the writing of a character inside a square, as if on a typographical grid.</p>&#13;
<div data-type="warning" epub:type="warning"><h6>Warning</h6>&#13;
<p>Accessibility note: some <a data-primary="accessibility issues" data-secondary="all-uppercase text and screen readers" data-type="indexterm" id="idm45176053098048"/>screen readers will read all-uppercase text one letter at a time, as if spelling out an acronym, even if the source text is lowercase or mixed-case and the uppercasing is only enforced via CSS. For this reason, uppercasing text via CSS should be approached with caution.</p>&#13;
</div>&#13;
&#13;
<p>Finally, the <code>capitalize</code> value<a data-primary="text properties" data-secondary="capitalization" data-type="indexterm" id="ix_text_capital"/><a data-primary="capitalize keyword, text transform" data-type="indexterm" id="ix_capital_text"/> capitalizes only the first letter of each word (where a <em>word</em> is defined as a string of adjacent characters surrounded by whitespace). <a data-type="xref" href="#various_kinds_of_text_transformation">Figure 15-23</a> illustrates each of these settings in a variety of ways:</p>&#13;
&#13;
<pre data-code-language="css" data-type="programlisting"><code class="nt">h1</code> <code class="p">{</code><code class="k">text-transform</code><code class="o">:</code> <code class="nb">capitalize</code><code class="p">;}</code>&#13;
<code class="nt">strong</code> <code class="p">{</code><code class="k">text-transform</code><code class="o">:</code> <code class="nb">uppercase</code><code class="p">;}</code>&#13;
<code class="nt">p</code><code class="nc">.cummings</code> <code class="p">{</code><code class="k">text-transform</code><code class="o">:</code> <code class="nb">lowercase</code><code class="p">;}</code>&#13;
<code class="nt">p</code><code class="nc">.full</code> <code class="p">{</code><code class="k">text-transform</code><code class="o">:</code> <code class="n">full</code><code class="o">-</code><code class="n">width</code><code class="p">;}</code>&#13;
<code class="nt">p</code><code class="nc">.raw</code> <code class="p">{</code><code class="k">text-transform</code><code class="o">:</code> <code class="nb">none</code><code class="p">;}</code></pre>&#13;
&#13;
<pre data-code-language="html" data-type="programlisting"><code class="p">&lt;</code><code class="nt">h1</code><code class="p">&gt;</code>The heading-one at the beginninG<code class="p">&lt;/</code><code class="nt">h1</code><code class="p">&gt;</code>&#13;
<code class="p">&lt;</code><code class="nt">p</code><code class="p">&gt;</code>&#13;
By default, text is displayed in the capitalization it has in the source&#13;
document, but <code class="p">&lt;</code><code class="nt">strong</code><code class="p">&gt;</code>it is possible to change this<code class="p">&lt;/</code><code class="nt">strong</code><code class="p">&gt;</code> using&#13;
the property 'text-transform'.&#13;
<code class="p">&lt;/</code><code class="nt">p</code><code class="p">&gt;</code>&#13;
<code class="p">&lt;</code><code class="nt">p</code> <code class="na">class</code><code class="o">=</code><code class="s">"cummings"</code><code class="p">&gt;</code>&#13;
For example, one could Create TEXT such as might have been Written by&#13;
the late Poet E.E.Cummings.&#13;
<code class="p">&lt;/</code><code class="nt">p</code><code class="p">&gt;</code>&#13;
<code class="p">&lt;</code><code class="nt">p</code> <code class="na">class</code><code class="o">=</code><code class="s">"full"</code><code class="p">&gt;</code>&#13;
If you need to align characters as if in a grid, as is often done in CJKV&#13;
languages, you can use 'full-width' to do so.&#13;
<code class="p">&lt;/</code><code class="nt">p</code><code class="p">&gt;</code>&#13;
<code class="p">&lt;</code><code class="nt">p</code> <code class="na">class</code><code class="o">=</code><code class="s">"raw"</code><code class="p">&gt;</code>&#13;
If you feel the need to Explicitly Declare the transformation of text&#13;
to be 'none', that can be done as well.&#13;
<code class="p">&lt;/</code><code class="nt">p</code><code class="p">&gt;</code></pre>&#13;
&#13;
<figure class="coderesult"><div class="figure" id="various_kinds_of_text_transformation">&#13;
<img alt="css5 1523" src="assets/css5_1523.png"/>&#13;
<h6><span class="label">Figure 15-23. </span>Various kinds of text transformation</h6>&#13;
</div></figure>&#13;
<div data-type="note" epub:type="note"><h6>Note</h6>&#13;
<p>As <a data-primary="CJK or CJKV text characters" data-type="indexterm" id="idm45176052997904"/>noted in <a data-type="xref" href="ch06.html#basic-visual-formatting">Chapter 6</a>, <em>CJK</em> stands for <em>Chinese/Japanese/Korean</em>.  CJK characters take up the majority of the entire Unicode code space, including approximately 70,000 Han characters.  You may sometimes come across the abbreviation <em>CJKV</em>, which adds <em>Vietnamese</em> to the mix.</p>&#13;
</div>&#13;
&#13;
<p>Different user agents may have different ways of deciding where words begin and, as a result, which letters are capitalized. For example, the text “heading-one” in the <code>&lt;h1&gt;</code> element, shown in <a data-type="xref" href="#various_kinds_of_text_transformation">Figure 15-23</a>, could be rendered in one of two ways: “Heading-one” or “Heading-One.” CSS does not say which is correct, so either is possible.</p>&#13;
&#13;
<p>You may have also noticed that the last letter in the <code>&lt;h1&gt;</code> element in <a data-type="xref" href="#various_kinds_of_text_transformation">Figure 15-23</a> is still uppercase. This is correct: when applying a <code>text-transform</code> of <code>capitalize</code>, CSS requires user agents to make sure only the first letter of each word is capitalized. They can ignore the rest of the word.</p>&#13;
&#13;
<p>As a property, <code>text-transform</code> may seem minor, but it’s very useful if you suddenly decide to capitalize all your <code>&lt;h1&gt;</code> elements. Instead of individually changing the content of all your <code>&lt;h1&gt;</code> elements, you can just use <code>text-transform</code> to make the change for you:</p>&#13;
&#13;
<pre data-code-language="css" data-type="programlisting"><code class="nt">h1</code> <code class="p">{</code><code class="k">text-transform</code><code class="o">:</code> <code class="nb">uppercase</code><code class="p">;}</code></pre>&#13;
&#13;
<pre data-code-language="html" data-type="programlisting"><code class="p">&lt;</code><code class="nt">h1</code><code class="p">&gt;</code>This is an H1 element<code class="p">&lt;/</code><code class="nt">h1</code><code class="p">&gt;</code></pre>&#13;
&#13;
<p>The advantages of using <code>text-transform</code> are twofold. First, you need to write only a single rule to make this change, rather than changing the <code>&lt;h1&gt;</code> itself. Second, if you decide later to switch from all capitals back to initial capitals, the change is even easier:</p>&#13;
&#13;
<pre data-code-language="css" data-type="programlisting"><code class="nt">h1</code> <code class="p">{</code><code class="k">text-transform</code><code class="o">:</code> <code class="nb">capitalize</code><code class="p">;}</code></pre>&#13;
&#13;
<p>Remember that <code>capitalize</code> is a simple letter substitution at the beginning of each “word.”  CSS doesn’t check for grammar, so common headline-capitalization conventions, such as leaving articles (<em>a</em>, <em>an</em>, <em>the</em>) all lowercase, won’t be enforced.</p>&#13;
&#13;
<p>Different languages have different rules for which letters should be capitalized. The <code>text-transform</code> property takes into account language-specific case mappings.<a data-primary="" data-startref="ix_capital_text" data-type="indexterm" id="idm45176052926752"/><a data-primary="" data-startref="ix_text_capital" data-type="indexterm" id="idm45176052925776"/></p>&#13;
&#13;
<p>The <code>full-width</code> option <a data-primary="full-width keyword, text-transform" data-type="indexterm" id="idm45176052869504"/>forces the writing of a character inside a square. Most characters you can type on a keyboard come in both normal width and full width, with different Unicode code points. The full-width version is used when <code>full-width</code> is set and supported to mix them smoothly with Asian ideographic characters, allowing ideograms and Latin scripts to be aligned.</p>&#13;
&#13;
<p>Generally used with <code>&lt;ruby&gt;</code> annotation text, <code>full-size-kana</code> converts all small Kana characters to the equivalent full-size Kana, to compensate for legibility issues at the small font sizes typically used in Ruby.<a data-primary="" data-startref="ix_text_transform2" data-type="indexterm" id="idm45176052866976"/><a data-primary="" data-startref="ix_text_transform_prop" data-type="indexterm" id="idm45176052866000"/><a data-primary="" data-startref="ix_transform_text" data-type="indexterm" id="idm45176052865056"/></p>&#13;
</div></section>&#13;
&#13;
&#13;
&#13;
&#13;
&#13;
&#13;
<section data-pdf-bookmark="Text Decoration" data-type="sect1"><div class="sect1" id="text_decoration">&#13;
<h1>Text Decoration</h1>&#13;
&#13;
<p>Next we <a data-primary="text properties" data-secondary="text decoration" data-type="indexterm" id="ix_text_decor"/>come to the topic of text decorations, and how we can affect them with various properties.  The simplest text decoration, and the one that can be controlled the most, is an underline. CSS also supports overlines, line-throughs, and even the wavy underlines you see in word processing programs to flag errors of spelling or grammar.</p>&#13;
&#13;
<p>We’ll start with the various individual properties, and then tie it all up with a shorthand property, <code>text-decoration</code>, that covers them all.</p>&#13;
&#13;
&#13;
&#13;
&#13;
&#13;
&#13;
&#13;
&#13;
<section data-pdf-bookmark="Setting Text Decoration Line Placement" data-type="sect2"><div class="sect2" id="text_decoration_line_placement">&#13;
<h2>Setting Text Decoration Line Placement</h2>&#13;
&#13;
<p>With the <a data-primary="text-decoration-line property" data-type="indexterm" id="ix_text_decor_line_prop"/>property <code>text-decoration-line</code>, you can set the location of one or more line decorations on a run of text.  The most familiar decoration may be underlining, thanks to all the hyperlinks out there, but CSS has three possible visible decoration line values (plus an unsupported fourth that wouldn’t draw a line at all even if it <em>was</em> supported).</p>&#13;
<aside data-type="sidebar" epub:type="sidebar"><div class="sidebar" id="text-decoration-line">&#13;
<h1>text-decoration-line</h1><table>&#13;
&#13;
<tbody>&#13;
<tr>&#13;
<td><p><strong>Values</strong></p></td>&#13;
<td><p><code>none</code> | [ <code>underline</code> ‖ <code>overline</code> ‖ <code>line-through</code> ‖ <code>blink</code> ]</p></td>&#13;
</tr>&#13;
<tr>&#13;
<td><p><strong>Initial value</strong></p></td>&#13;
<td><p><code>none</code></p></td>&#13;
</tr>&#13;
<tr>&#13;
<td><p><strong>Applies to</strong></p></td>&#13;
<td><p>All elements</p></td>&#13;
</tr>&#13;
<tr>&#13;
<td><p><strong>Computed value</strong></p></td>&#13;
<td><p>As specified</p></td>&#13;
</tr>&#13;
<tr>&#13;
<td><p><strong>Inherited</strong></p></td>&#13;
<td><p>No</p></td>&#13;
</tr>&#13;
<tr>&#13;
<td><p><strong>Animatable</strong></p></td>&#13;
<td><p>No</p></td>&#13;
</tr>&#13;
<tr>&#13;
<td><p><strong>Notes</strong></p></td>&#13;
<td><p>The <code>blink</code> value is deprecated, with all browsers treating it as <code>none</code> as of early 2022</p></td>&#13;
</tr>&#13;
</tbody>&#13;
</table>&#13;
</div></aside>&#13;
&#13;
<p>The <a data-primary="underlining text" data-type="indexterm" id="idm45176052822000"/>values are relatively self-documenting: <code>underline</code> places a line under the text, where <em>under</em> means “below the text in the block direction.”  The <code>overline</code> value is the mirror image, putting the line above the text in the block direction. The <code>line-through</code> value draws a line through the middle of the text.</p>&#13;
&#13;
<p>Let’s see what these decorations look like in practice.  The following code is illustrated in <a data-type="xref" href="#various_kinds_of_text_decoration">Figure 15-24</a>:</p>&#13;
&#13;
<pre data-code-language="css" data-type="programlisting"><code class="nt">p</code><code class="nc">.one</code> <code class="p">{</code><code class="k">text-decoration</code><code class="o">:</code> <code class="nb">underline</code><code class="p">;}</code>&#13;
<code class="nt">p</code><code class="nc">.two</code> <code class="p">{</code><code class="k">text-decoration</code><code class="o">:</code> <code class="nb">overline</code><code class="p">;}</code>&#13;
<code class="nt">p</code><code class="nc">.three</code> <code class="p">{</code><code class="k">text-decoration</code><code class="o">:</code> <code class="nb">line-through</code><code class="p">;}</code>&#13;
<code class="nt">p</code><code class="nc">.four</code> <code class="p">{</code><code class="k">text-decoration</code><code class="o">:</code> <code class="nb">none</code><code class="p">;}</code></pre>&#13;
&#13;
<figure class="coderesult"><div class="figure" id="various_kinds_of_text_decoration">&#13;
<img alt="css5 1524" src="assets/css5_1524.png"/>&#13;
<h6><span class="label">Figure 15-24. </span>Various kinds of text decoration</h6>&#13;
</div></figure>&#13;
&#13;
<p>The value <code>none</code> turns off any decoration that might otherwise have been applied to an element. For example, links are usually underlined by default. If you want to suppress the underlining of hyperlinks, you can use the following CSS rule to do so:</p>&#13;
&#13;
<pre data-code-language="css" data-type="programlisting"><code class="nt">a</code> <code class="p">{</code><code class="k">text-decoration</code><code class="o">:</code> <code class="nb">none</code><code class="p">;}</code></pre>&#13;
&#13;
<p>If you explicitly turn off link underlining with this sort of rule, the only visual difference between the anchors and normal text will be their color (at least by default, though there’s no ironclad guarantee that there will be a difference in their colors). Relying on color alone as the difference between regular text and links within that text is not enough to differentiate links from the rest of the text, negatively impacting user experience and making your content inaccessible to many users.</p>&#13;
<div data-type="note" epub:type="note"><h6>Note</h6>&#13;
<p>Bear in mind that many users will be annoyed when they realize you’ve turned off link underlining, especially within blocks of text. If your links aren’t underlined, users will have a hard time finding hyperlinks in your documents, and finding them can be next to impossible for users with one form or another of color blindness.</p>&#13;
</div>&#13;
&#13;
<p>That’s really all there is to <code>text-decoration-line</code>.  The more veteran among you may recognize this is what <code>text-decoration</code> itself used to do, but times have moved on and there’s much, much more we can do with decorations besides just place them, so these values were shifted to <code>text-decoration-line</code>.<a data-primary="" data-startref="ix_text_decor_line_prop" data-type="indexterm" id="idm45176052786144"/></p>&#13;
</div></section>&#13;
&#13;
&#13;
&#13;
&#13;
&#13;
&#13;
&#13;
&#13;
<section data-pdf-bookmark="Setting Text Decoration Color" data-type="sect2"><div class="sect2" id="setting_text_decoration_color">&#13;
<h2>Setting Text Decoration Color</h2>&#13;
&#13;
<p>By default, the <a data-primary="colors" data-secondary="text decoration" data-type="indexterm" id="idm45176052783280"/>color of a text decoration will match the color of the text.  <a data-primary="text-decoration-color property" data-type="indexterm" id="idm45176052742464"/>If you need to change that, <code>text-decoration-color</code> is here to help.</p>&#13;
<aside data-type="sidebar" epub:type="sidebar"><div class="sidebar" id="text-decoration-color">&#13;
<h1>text-decoration-color</h1><table>&#13;
&#13;
<tbody>&#13;
<tr>&#13;
<td><p><strong>Values</strong></p></td>&#13;
<td><p>&lt;<em><code>color</code></em>&gt; | <code>currentcolor</code></p></td>&#13;
</tr>&#13;
<tr>&#13;
<td><p><strong>Initial value</strong></p></td>&#13;
<td><p><code>currentcolor</code></p></td>&#13;
</tr>&#13;
<tr>&#13;
<td><p><strong>Applies to</strong></p></td>&#13;
<td><p>All elements</p></td>&#13;
</tr>&#13;
<tr>&#13;
<td><p><strong>Computed value</strong></p></td>&#13;
<td><p>The computed color</p></td>&#13;
</tr>&#13;
<tr>&#13;
<td><p><strong>Inherited</strong></p></td>&#13;
<td><p>No</p></td>&#13;
</tr>&#13;
<tr>&#13;
<td><p><strong>Animatable</strong></p></td>&#13;
<td><p>Yes</p></td>&#13;
</tr>&#13;
</tbody>&#13;
</table>&#13;
</div></aside>&#13;
&#13;
<p>You can use any valid color value for <code>text-decoration-color</code>, including the keyword <code>currentcolor</code> (which is the default).  Suppose you want to make it clear that stricken text really is stricken.  That would go something like this:</p>&#13;
&#13;
<pre data-code-language="css" data-type="programlisting"><code class="nt">del</code><code class="o">,</code> <code class="nt">strike</code><code class="o">,</code> <code class="nc">.removed</code> <code class="p">{</code>&#13;
	<code class="k">text-decoration-line</code><code class="o">:</code> <code class="nb">line-through</code><code class="p">;</code>&#13;
	<code class="k">text-decoration-color</code><code class="o">:</code> <code class="nb">red</code><code class="p">;</code>&#13;
<code class="p">}</code></pre>&#13;
&#13;
<p>Thus, not only will the elements shown get a line-through decoration, but the line will also be colored red.  The text itself will not be red unless you change that as well by using the <code>color</code> property.</p>&#13;
<div data-type="note" epub:type="note"><h6>Note</h6>&#13;
<p>Remember to keep the color contrast between decorations and the base text sufficiently high to remain accessible.  It’s also generally a bad idea to use color alone to convey meaning, as in “check the links with red underlines for more information!”</p>&#13;
</div>&#13;
</div></section>&#13;
&#13;
&#13;
&#13;
&#13;
&#13;
&#13;
&#13;
&#13;
<section data-pdf-bookmark="Setting Text Decoration Thickness" data-type="sect2"><div class="sect2" id="setting_text_decoration_thickness">&#13;
<h2>Setting Text Decoration Thickness</h2>&#13;
&#13;
<p>With the <a data-primary="text-decoration-thickness property" data-type="indexterm" id="idm45176052684336"/>property <code>text-decoration-thickness</code>, you can change the stroke thickness of a text decoration to something beefier, or possibly less beefy, than usual.</p>&#13;
<aside data-type="sidebar" epub:type="sidebar"><div class="sidebar" id="text-decoration-thickness">&#13;
<h1>text-decoration-thickness</h1><table>&#13;
&#13;
<tbody>&#13;
<tr>&#13;
<td><p><strong>Values</strong></p></td>&#13;
<td><p>&lt;<em><code>length</code></em>&gt; |  &lt;<em><code>percentage</code></em>&gt; | <code>from-font</code> | <code>auto</code></p></td>&#13;
</tr>&#13;
<tr>&#13;
<td><p><strong>Initial value</strong></p></td>&#13;
<td><p><code>auto</code></p></td>&#13;
</tr>&#13;
<tr>&#13;
<td><p><strong>Applies to</strong></p></td>&#13;
<td><p>All elements</p></td>&#13;
</tr>&#13;
<tr>&#13;
<td><p><strong>Computed value</strong></p></td>&#13;
<td><p>As declared</p></td>&#13;
</tr>&#13;
<tr>&#13;
<td><p><strong>Percentages</strong></p></td>&#13;
<td><p>Refer to the <code>font-size</code> of the element</p></td>&#13;
</tr>&#13;
<tr>&#13;
<td><p><strong>Inherited</strong></p></td>&#13;
<td><p>No</p></td>&#13;
</tr>&#13;
<tr>&#13;
<td><p><strong>Animatable</strong></p></td>&#13;
<td><p>Yes</p></td>&#13;
</tr>&#13;
<tr>&#13;
<td><p><strong>Notes</strong></p></td>&#13;
<td><p>Was <code>text-decoration-width</code> until a name change in 2019</p></td>&#13;
</tr>&#13;
</tbody>&#13;
</table>&#13;
</div></aside>&#13;
&#13;
<p>Supplying a length value sets the thickness of the decoration to that length; thus, <code>text-decoration-thickness: 3px</code> sets the decoration to be 3 pixels thick, no matter how big or small the text itself might be.  A better approach is generally to use an em-based value or jump straight to using a percentage value, since percentages are calculated with respect to the value of <code>1em</code> for the element.  Thus, <code>text-decoration-thickness: 10%</code> would yield a decoration thickness of 1.6 pixels in a font whose computed font size is 16 pixels, but 4 pixels for a 40-pixel font size.  The following code shows a few examples, which are illustrated in <a data-type="xref" href="#various_decoration_thicknesses">Figure 15-25</a>:</p>&#13;
&#13;
<pre data-code-language="css" data-type="programlisting"><code class="nt">h1</code><code class="o">,</code> <code class="nt">p</code> <code class="p">{</code><code class="k">text-decoration-line</code><code class="o">:</code> <code class="nb">underline</code><code class="p">;}</code>&#13;
<code class="nc">.tiny</code> <code class="p">{</code><code class="k">text-decoration</code><code class="o">-</code><code class="n">thickness</code><code class="o">:</code> <code class="m">1px</code><code class="p">;}</code>&#13;
<code class="nc">.embased</code> <code class="p">{</code><code class="k">text-decoration</code><code class="o">-</code><code class="n">thickness</code><code class="o">:</code> <code class="m">0.333em</code><code class="p">;}</code>&#13;
<code class="nc">.percent</code> <code class="p">{</code><code class="k">text-decoration</code><code class="o">-</code><code class="n">thickness</code><code class="o">:</code> <code class="m">10%</code><code class="p">;}</code></pre>&#13;
&#13;
<figure class="coderesult"><div class="figure" id="various_decoration_thicknesses">&#13;
<img alt="css5 1525" src="assets/css5_1525.png"/>&#13;
<h6><span class="label">Figure 15-25. </span>Various decoration thicknesses</h6>&#13;
</div></figure>&#13;
&#13;
<p>The keyword <code>from-font</code> is interesting because it allows the browser to consult the font file to see whether it defines a preferred decoration thickness; if it does, the browser uses that thickness.  If the font file doesn’t recommend a thickness, the browser falls back to the <code>auto</code> behavior and picks whatever thickness it thinks appropriate, using inscrutable reasoning known only to itself.</p>&#13;
</div></section>&#13;
&#13;
&#13;
&#13;
&#13;
&#13;
&#13;
&#13;
&#13;
<section data-pdf-bookmark="Setting Text Decoration Style" data-type="sect2"><div class="sect2" id="setting_text_decoration_style">&#13;
<h2>Setting Text Decoration Style</h2>&#13;
&#13;
<p>Thus far, we’ve <a data-primary="text-decoration-style property" data-type="indexterm" id="idm45176052576656"/>shown a lot of straight, single lines.  If you’re yearning for something beyond that hidebound approach,  <code>text-decoration-style</code> provides alternatives.</p>&#13;
<aside data-type="sidebar" epub:type="sidebar"><div class="sidebar" id="text-decoration-style">&#13;
<h1>text-decoration-style</h1><table>&#13;
&#13;
<tbody>&#13;
<tr>&#13;
<td><p><strong>Values</strong></p></td>&#13;
<td><p><code>solid</code> | <code>double</code> | <code>dotted</code> | <code>dashed</code> | <code>wavy</code></p></td>&#13;
</tr>&#13;
<tr>&#13;
<td><p><strong>Initial value</strong></p></td>&#13;
<td><p><code>solid</code></p></td>&#13;
</tr>&#13;
<tr>&#13;
<td><p><strong>Applies to</strong></p></td>&#13;
<td><p>All elements</p></td>&#13;
</tr>&#13;
<tr>&#13;
<td><p><strong>Computed value</strong></p></td>&#13;
<td><p>As declared</p></td>&#13;
</tr>&#13;
<tr>&#13;
<td><p><strong>Inherited</strong></p></td>&#13;
<td><p>No</p></td>&#13;
</tr>&#13;
<tr>&#13;
<td><p><strong>Animatable</strong></p></td>&#13;
<td><p>No</p></td>&#13;
</tr>&#13;
</tbody>&#13;
</table>&#13;
</div></aside>&#13;
&#13;
<p>The exact result will depend on the value you pick and the browser you use to view the results, but the renderings of these decoration styles should be at least similar to those shown in <a data-type="xref" href="#various_decoration_styles">Figure 15-26</a>, which is the output of the following code:</p>&#13;
&#13;
<pre data-code-language="css" data-type="programlisting"><code class="nt">p</code> <code class="p">{</code><code class="k">text-decoration-line</code><code class="o">:</code> <code class="nb">underline</code><code class="p">;</code> <code class="k">text-decoration</code><code class="o">-</code><code class="n">thickness</code><code class="o">:</code> <code class="m">0.1em</code><code class="p">;}</code>&#13;
<code class="nt">p</code><code class="nc">.one</code> <code class="p">{</code><code class="k">text-decoration-style</code><code class="o">:</code> <code class="nb">solid</code><code class="p">;}</code>&#13;
<code class="nt">p</code><code class="nc">.two</code> <code class="p">{</code><code class="k">text-decoration-style</code><code class="o">:</code> <code class="nb">double</code><code class="p">;}</code>&#13;
<code class="nt">p</code><code class="nc">.three</code> <code class="p">{</code><code class="k">text-decoration-style</code><code class="o">:</code> <code class="nb">dotted</code><code class="p">;}</code>&#13;
<code class="nt">p</code><code class="nc">.four</code> <code class="p">{</code><code class="k">text-decoration-style</code><code class="o">:</code> <code class="nb">dashed</code><code class="p">;}</code>&#13;
<code class="nt">p</code><code class="nc">.five</code> <code class="p">{</code><code class="k">text-decoration-style</code><code class="o">:</code> <code class="n">wavy</code><code class="p">;}</code></pre>&#13;
&#13;
<figure class="coderesult"><div class="figure" id="various_decoration_styles">&#13;
<img alt="css5 1526" src="assets/css5_1526.png"/>&#13;
<h6><span class="label">Figure 15-26. </span>Various decoration styles</h6>&#13;
</div></figure>&#13;
&#13;
<p>We increased the decoration thickness for <a data-type="xref" href="#various_decoration_styles">Figure 15-26</a> in order to improve legiblility; the default sizing can make some of the more complex decorations, like <code>dotted</code>, difficult to see.</p>&#13;
</div></section>&#13;
&#13;
&#13;
&#13;
&#13;
&#13;
&#13;
&#13;
&#13;
<section data-pdf-bookmark="Using the Text Decoration Shorthand Property" data-type="sect2"><div class="sect2" id="the_text_decoration_shorthand_property">&#13;
<h2>Using the Text Decoration Shorthand Property</h2>&#13;
&#13;
<p>When you just <a data-primary="text-decoration property" data-type="indexterm" id="idm45176052473360"/>want to set a text decoration’s position, color, thickness, and style in one handy declaration, <code>text-decoration</code> is the way to go.</p>&#13;
<aside data-type="sidebar" epub:type="sidebar"><div class="sidebar" id="text-decoration">&#13;
<h1>text-decoration</h1><table>&#13;
&#13;
<tbody>&#13;
<tr>&#13;
<td><p><strong>Values</strong></p></td>&#13;
<td><p>&lt;<em><code>text-decoration-line</code></em>&gt; ‖ &lt;<em><code>text-decoration-style</code></em>&gt; ‖ &lt;<code><em>text-decoration-color</em></code>&gt; ‖ <span class="keep-together">&lt;<code><em>text-decoration-thickness</em></code>&gt;</span></p></td>&#13;
</tr>&#13;
<tr>&#13;
<td><p><strong>Initial value</strong></p></td>&#13;
<td><p>See individual properties</p></td>&#13;
</tr>&#13;
<tr>&#13;
<td><p><strong>Applies to</strong></p></td>&#13;
<td><p>All elements</p></td>&#13;
</tr>&#13;
<tr>&#13;
<td><p><strong>Computed value</strong></p></td>&#13;
<td><p>As specified</p></td>&#13;
</tr>&#13;
<tr>&#13;
<td><p><strong>Inherited</strong></p></td>&#13;
<td><p>No</p></td>&#13;
</tr>&#13;
<tr>&#13;
<td><p><strong>Animatable</strong></p></td>&#13;
<td><p>As allowed by individual properties</p></td>&#13;
</tr>&#13;
</tbody>&#13;
</table>&#13;
</div></aside>&#13;
&#13;
<p>With the <code>text-decoration</code> shorthand property, you can bring everything into one place, like so:</p>&#13;
&#13;
<pre data-code-language="css" data-type="programlisting"><code class="nt">h2</code> <code class="p">{</code><code class="k">text-decoration</code><code class="o">:</code> <code class="nb">overline</code> <code class="nb">purple</code> <code class="m">10%</code><code class="p">;}</code>&#13;
<code class="nt">a</code><code class="nd">:any-link</code> <code class="p">{</code><code class="k">text-decoration</code><code class="o">:</code> <code class="nb">underline</code> <code class="n">currentcolor</code> <code class="n">from</code><code class="o">-</code><code class="k">font</code><code class="p">;}</code></pre>&#13;
&#13;
<p>Be careful, though: if you have two different decorations matched to the same element, the value of the rule that wins out will completely replace the value of the loser. Consider the following:</p>&#13;
&#13;
<pre data-code-language="css" data-type="programlisting"><code class="nt">h2</code><code class="nc">.stricken</code> <code class="p">{</code><code class="k">text-decoration</code><code class="o">:</code> <code class="nb">line-through</code> <code class="n">wavy</code><code class="p">;}</code>&#13;
<code class="nt">h2</code> <code class="p">{</code><code class="k">text-decoration</code><code class="o">:</code> <code class="nb">underline</code> <code class="nb">overline</code> <code class="nb">double</code><code class="p">;}</code></pre>&#13;
&#13;
<p>Given these rules, any <code>&lt;h2&gt;</code> element with a class of <code>stricken</code> will have only a wavy line-through decoration. The doubled underline and overline decorations are lost, since shorthand values replace one another instead of accumulating.</p>&#13;
&#13;
<p>Note also that because of the way the decoration properties work, you can set the color and style only once per element, even if you have multiple decorations.  For example, the following is valid, setting both the under- and overlines to be green and dotted:</p>&#13;
&#13;
<pre data-code-language="css" data-type="programlisting"><code class="k">text-decoration</code><code class="o">:</code> <code class="nb">dotted</code> <code class="nb">green</code> <code class="nb">underline</code> <code class="nb">overline</code><code class="p">;</code></pre>&#13;
&#13;
<p>If you instead want the overline to be a different color than the underline, or set each to have its own style, you’d need to apply each to a separate element, something like this:</p>&#13;
&#13;
<pre data-code-language="css" data-type="programlisting"><code class="nt">p</code> <code class="p">{</code><code class="k">text-decoration</code><code class="o">:</code> <code class="nb">dotted</code> <code class="nb">green</code> <code class="nb">overline</code><code class="p">;}</code>&#13;
<code class="nt">p</code> <code class="o">&gt;</code> <code class="nt">span</code><code class="nd">:first-child</code> <code class="p">{</code><code class="k">text-decoration</code><code class="o">:</code> <code class="nb">silver</code> <code class="nb">dashed</code> <code class="nb">underline</code><code class="p">;}</code></pre>&#13;
&#13;
<pre data-code-language="xml" data-type="programlisting"><code class="nt">&lt;p&gt;&lt;span&gt;</code>All<code class="w"> </code>this<code class="w"> </code>text<code class="w"> </code>will<code class="w"> </code>have<code class="w"> </code>differing<code class="w"> </code>text<code class="w"> </code>decorations.<code class="nt">&lt;/span&gt;&lt;/p&gt;</code><code class="w"/></pre>&#13;
</div></section>&#13;
&#13;
&#13;
&#13;
&#13;
&#13;
&#13;
&#13;
&#13;
<section data-pdf-bookmark="Offsetting Underlines" data-type="sect2"><div class="sect2" id="offsetting_underlines">&#13;
<h2>Offsetting Underlines</h2>&#13;
&#13;
<p>Along with <a data-primary="text-underline-offset" data-type="indexterm" id="idm45176052283120"/><a data-primary="offsets" data-secondary="text-underline-offset" data-type="indexterm" id="idm45176052282384"/>all the <code>text-decoration</code> properties, a related property allows you to change the distance between an underline (and <em>only</em> an underline) and the text that the underline decorates: <code>text-underline-offset</code>.</p>&#13;
<aside data-type="sidebar" epub:type="sidebar"><div class="sidebar" id="text-underline-offset">&#13;
<h1>text-underline-offset</h1><table>&#13;
&#13;
<tbody>&#13;
<tr>&#13;
<td><p><strong>Values</strong></p></td>&#13;
<td><p>&lt;<em><code>length</code></em>&gt; |  &lt;<em><code>percentage</code></em>&gt; | <code>auto</code></p></td>&#13;
</tr>&#13;
<tr>&#13;
<td><p><strong>Initial value</strong></p></td>&#13;
<td><p><code>auto</code></p></td>&#13;
</tr>&#13;
<tr>&#13;
<td><p><strong>Applies to</strong></p></td>&#13;
<td><p>All elements</p></td>&#13;
</tr>&#13;
<tr>&#13;
<td><p><strong>Computed value</strong></p></td>&#13;
<td><p>As specified</p></td>&#13;
</tr>&#13;
<tr>&#13;
<td><p><strong>Percentages</strong></p></td>&#13;
<td><p>Refer to the <code>font-size</code> of the element</p></td>&#13;
</tr>&#13;
<tr>&#13;
<td><p><strong>Inherited</strong></p></td>&#13;
<td><p>No</p></td>&#13;
</tr>&#13;
<tr>&#13;
<td><p><strong>Animatable</strong></p></td>&#13;
<td><p>Yes</p></td>&#13;
</tr>&#13;
</tbody>&#13;
</table>&#13;
</div></aside>&#13;
&#13;
<p>You might wish that, say, underlines on hyperlinks were a little farther away from the text’s baseline, so that they’re a little more obvious to the user.  Setting a length value like <code>3px</code> will put the underline 3 pixels below the text’s baseline.  See <a data-type="xref" href="#various_underline_offsets">Figure 15-27</a> for the results of the following CSS:</p>&#13;
&#13;
<pre data-code-language="css" data-type="programlisting"><code class="nt">p</code> <code class="p">{</code><code class="k">text-decoration-line</code><code class="o">:</code> <code class="nb">underline</code><code class="p">;}</code>&#13;
<code class="nt">p</code><code class="nc">.one</code> <code class="p">{</code><code class="nb">text</code><code class="o">-</code><code class="nb">underline</code><code class="o">-</code><code class="n">offset</code><code class="o">:</code> <code class="nb">auto</code><code class="p">;}</code>&#13;
<code class="nt">p</code><code class="nc">.two</code> <code class="p">{</code><code class="nb">text</code><code class="o">-</code><code class="nb">underline</code><code class="o">-</code><code class="n">offset</code><code class="o">:</code> <code class="m">2px</code><code class="p">;}</code>&#13;
<code class="nt">p</code><code class="nc">.three</code> <code class="p">{</code><code class="nb">text</code><code class="o">-</code><code class="nb">underline</code><code class="o">-</code><code class="n">offset</code><code class="o">:</code> <code class="m">-2px</code><code class="p">;}</code>&#13;
<code class="nt">p</code><code class="nc">.four</code> <code class="p">{</code><code class="nb">text</code><code class="o">-</code><code class="nb">underline</code><code class="o">-</code><code class="n">offset</code><code class="o">:</code> <code class="m">0.5em</code><code class="p">;}</code>&#13;
<code class="nt">p</code><code class="nc">.five</code> <code class="p">{</code><code class="nb">text</code><code class="o">-</code><code class="nb">underline</code><code class="o">-</code><code class="n">offset</code><code class="o">:</code> <code class="m">15%</code><code class="p">;}</code></pre>&#13;
&#13;
<figure class="coderesult"><div class="figure" id="various_underline_offsets">&#13;
<img alt="css5 1527" src="assets/css5_1527.png"/>&#13;
<h6><span class="label">Figure 15-27. </span>Various underline offsets</h6>&#13;
</div></figure>&#13;
&#13;
<p>As illustrated in <a data-type="xref" href="#various_underline_offsets">Figure 15-27</a>, the value defines an offset from the text’s baseline, either positive (downward along the block axis) or negative (upward along the block axis).</p>&#13;
&#13;
<p>As with <code>text-decoration-thickness</code>, percentage values for <code>text-underline-offset</code> are calculated with respect to the value of <code>1em</code> for the element.  Thus, <code>text-underline-offset: 10%</code> would cause an offset of 1.6 pixels in a font whose computed font size is &#13;
<span class="keep-together">16 pixels.</span></p>&#13;
<div data-type="warning" epub:type="warning"><h6>Warning</h6>&#13;
<p>As of late 2022, only Firefox supports percentage values for <code>text-underline-offset</code>, which is odd given that percentage values are a percent of 1 em in the element’s font.  The workaround is to use em length values, such as 0.1em for 10%.</p>&#13;
</div>&#13;
</div></section>&#13;
&#13;
&#13;
&#13;
&#13;
&#13;
&#13;
&#13;
&#13;
<section data-pdf-bookmark="Skipping Ink" data-type="sect2"><div class="sect2" id="skipping_ink">&#13;
<h2>Skipping Ink</h2>&#13;
&#13;
<p>An <a data-primary="skipping ink, text decoration" data-type="indexterm" id="ix_skip_ink"/><a data-primary="text-decoration-skip-ink property" data-type="indexterm" id="ix_text_decor_skip"/>unaddressed aspect of the past few sections has been: how exactly do browsers draw decorations over text, and more precisely, decide when to “skip over” parts of the text?  This is known as <em>skipping ink</em>, and the approach a browser takes can be altered with the property <code>text-decoration-skip-ink</code>.</p>&#13;
<aside data-type="sidebar" epub:type="sidebar"><div class="sidebar" id="text-decoration-skip-ink">&#13;
<h1>text-decoration-skip-ink</h1><table>&#13;
&#13;
<tbody>&#13;
<tr>&#13;
<td><p><strong>Values</strong></p></td>&#13;
<td><p><code>all</code> | <code>none</code> | <code>auto</code></p></td>&#13;
</tr>&#13;
<tr>&#13;
<td><p><strong>Initial value</strong></p></td>&#13;
<td><p><code>auto</code></p></td>&#13;
</tr>&#13;
<tr>&#13;
<td><p><strong>Applies to</strong></p></td>&#13;
<td><p>All elements</p></td>&#13;
</tr>&#13;
<tr>&#13;
<td><p><strong>Computed value</strong></p></td>&#13;
<td><p>As specified</p></td>&#13;
</tr>&#13;
<tr>&#13;
<td><p><strong>Inherited</strong></p></td>&#13;
<td><p>No</p></td>&#13;
</tr>&#13;
<tr>&#13;
<td><p><strong>Animatable</strong></p></td>&#13;
<td><p>No</p></td>&#13;
</tr>&#13;
</tbody>&#13;
</table>&#13;
</div></aside>&#13;
&#13;
<p>When ink skipping is turned on, the decoration is interrupted wherever it would cross over the shapes of the text.  Usually, this means a small gap between the decoration and the text glyphs.  See <a data-type="xref" href="#ink-skipping_approaches">Figure 15-28</a> for a close-up illustration of the differences in ink-skipping approaches.</p>&#13;
&#13;
<figure><div class="figure" id="ink-skipping_approaches">&#13;
<img alt="css5 1528" src="assets/css5_1528.png"/>&#13;
<h6><span class="label">Figure 15-28. </span>Ink-skipping approaches</h6>&#13;
</div></figure>&#13;
&#13;
<p>The three values are defined as follows:</p>&#13;
<dl>&#13;
<dt><code>auto</code> (the default)</dt>&#13;
<dd>&#13;
<p>The browser <em>may</em> interrupt under- and overlines where the line would cross the text glyphs, with a little space between the line and the glyphs.  Furthermore, browsers <em>should</em> consider the glyphs used for the text, since some glyphs may call for ink skipping while others may not.</p>&#13;
</dd>&#13;
<dt><code>all</code></dt>&#13;
<dd>&#13;
<p>Browsers <em>must</em> interrupt under- and overlines where the line would cross the text glyphs, with a little space between the line and the glyphs.  However, as of mid-2022, only Firefox supports this value.</p>&#13;
</dd>&#13;
<dt><code>none</code></dt>&#13;
<dd>&#13;
<p>The browser <em>must not</em> interrupt under- and overlines where the line would cross the text glyphs, but instead draw a continuous line even though it may be drawn over parts of the text glyphs.</p>&#13;
</dd>&#13;
</dl>&#13;
&#13;
<p>As shown in <a data-type="xref" href="#ink-skipping_approaches">Figure 15-28</a>, <code>auto</code> can sometimes mean differences depending on the language, font, or based on other factors.  You’re really just telling the browser to do whatever it thinks is best.</p>&#13;
<div data-type="note" epub:type="note"><h6>Note</h6>&#13;
<p>While this property’s name begins with the label <code>text-decoration-</code>, it is <em>not</em> a property covered by the <code>text-decoration</code> shorthand property.  That’s why it’s being discussed here, after the shorthand, and not before.<a data-primary="" data-startref="ix_text_decor_skip" data-type="indexterm" id="idm45176052106960"/><a data-primary="" data-startref="ix_skip_ink" data-type="indexterm" id="idm45176052105984"/></p>&#13;
</div>&#13;
</div></section>&#13;
&#13;
&#13;
&#13;
&#13;
&#13;
&#13;
&#13;
&#13;
<section data-pdf-bookmark="Understanding Weird Decorations" data-type="sect2"><div class="sect2" id="weird_decorations">&#13;
<h2>Understanding Weird Decorations</h2>&#13;
&#13;
<p>Now, let’s <a data-primary="inheritance" data-secondary="text decoration's lack of" data-type="indexterm" id="idm45176052102720"/>look into the unusual side of <code>text-decoration</code>. The first oddity is that <code>text-decoration</code> is <em>not</em> inherited. No inheritance implies that any decoration lines drawn with the text—whether under, over, or through it—will always be the same color. This is true even if the descendant elements are a different color, as depicted in <a data-type="xref" href="#color_consistency_in_underlines">Figure 15-29</a>:</p>&#13;
&#13;
<pre data-code-language="css" data-type="programlisting"><code class="nt">p</code> <code class="p">{</code><code class="k">text-decoration</code><code class="o">:</code> <code class="nb">underline</code><code class="p">;</code> <code class="k">color</code><code class="o">:</code> <code class="nb">black</code><code class="p">;}</code>&#13;
<code class="nt">strong</code> <code class="p">{</code><code class="k">color</code><code class="o">:</code> <code class="nb">gray</code><code class="p">;}</code></pre>&#13;
&#13;
<pre data-code-language="html" data-type="programlisting"><code class="p">&lt;</code><code class="nt">p</code><code class="p">&gt;</code>This paragraph, which is black and has a black underline, also contains&#13;
<code class="p">&lt;</code><code class="nt">strong</code><code class="p">&gt;</code>strongly emphasized text<code class="p">&lt;/</code><code class="nt">strong</code><code class="p">&gt;</code> that has the black underline&#13;
beneath it as well.<code class="p">&lt;/</code><code class="nt">p</code><code class="p">&gt;</code></pre>&#13;
&#13;
<figure class="coderesult"><div class="figure" id="color_consistency_in_underlines">&#13;
<img alt="css5 1529" src="assets/css5_1529.png"/>&#13;
<h6><span class="label">Figure 15-29. </span>Color consistency in underlines</h6>&#13;
</div></figure>&#13;
&#13;
<p>Why is this so? Because the value of <code>text-decoration</code> is not inherited, the <code>&lt;strong&gt;</code> element assumes a default value of <code>none</code>. Therefore, the <code>&lt;strong&gt;</code> element has <em>no</em> underline. Now, there is very clearly a line under the <code>&lt;strong&gt;</code> element, so it seems silly to say that it has none. Nevertheless, it doesn’t. What you see under the <code>&lt;strong&gt;</code> element is the paragraph’s underline, which is effectively “spanning” the <code>&lt;strong&gt;</code> element. You can see it more clearly if you alter the styles for the boldfaced element, like this:</p>&#13;
&#13;
<pre data-code-language="css" data-type="programlisting"><code class="nt">p</code> <code class="p">{</code><code class="k">text-decoration</code><code class="o">:</code> <code class="nb">underline</code><code class="p">;</code> <code class="k">color</code><code class="o">:</code> <code class="nb">black</code><code class="p">;}</code>&#13;
<code class="nt">strong</code> <code class="p">{</code><code class="k">color</code><code class="o">:</code> <code class="nb">gray</code><code class="p">;</code> <code class="k">text-decoration</code><code class="o">:</code> <code class="nb">none</code><code class="p">;}</code></pre>&#13;
&#13;
<pre data-code-language="html" data-type="programlisting"><code class="p">&lt;</code><code class="nt">p</code><code class="p">&gt;</code>This paragraph, which is black and has a black underline, also contains&#13;
<code class="p">&lt;</code><code class="nt">strong</code><code class="p">&gt;</code>strongly emphasized text<code class="p">&lt;/</code><code class="nt">strong</code><code class="p">&gt;</code> that has the black underline beneath&#13;
it as well.<code class="p">&lt;/</code><code class="nt">p</code><code class="p">&gt;</code></pre>&#13;
&#13;
<p>The result is identical to the one shown in <a data-type="xref" href="#color_consistency_in_underlines">Figure 15-29</a>, since all you’ve done is to explicitly declare what was already the case. In other words, there is no way to “turn off” the decoration generated by a parent element.</p>&#13;
&#13;
<p>There is a way to <a data-primary="colors" data-secondary="text decoration" data-type="indexterm" id="idm45176051985680"/>change the color of a decoration without violating the specification. As you’ll recall, setting a text decoration on an element means that the entire element has the same color decoration, even if child elements have different colors. To match the decoration color with an element, you must explicitly declare its decoration, as follows:</p>&#13;
&#13;
<pre data-code-language="css" data-type="programlisting"><code class="nt">p</code> <code class="p">{</code><code class="k">text-decoration</code><code class="o">:</code> <code class="nb">underline</code><code class="p">;</code> <code class="k">color</code><code class="o">:</code> <code class="nb">black</code><code class="p">;}</code>&#13;
<code class="nt">strong</code> <code class="p">{</code><code class="k">color</code><code class="o">:</code> <code class="nb">silver</code><code class="p">;</code> <code class="k">text-decoration</code><code class="o">:</code> <code class="nb">underline</code><code class="p">;}</code> <code class="c">/*could also use 'inherit'*/</code></pre>&#13;
&#13;
<pre data-code-language="html" data-type="programlisting"><code class="p">&lt;</code><code class="nt">p</code><code class="p">&gt;</code>This paragraph, which is black and has a black underline, also contains&#13;
<code class="p">&lt;</code><code class="nt">strong</code><code class="p">&gt;</code>strongly emphasized text<code class="p">&lt;/</code><code class="nt">strong</code><code class="p">&gt;</code> that has the black underline&#13;
beneath it as well, but whose gray underline overlays the black underline&#13;
of its parent.<code class="p">&lt;/</code><code class="nt">p</code><code class="p">&gt;</code></pre>&#13;
&#13;
<p>In <a data-type="xref" href="#overcoming_the_default_behavior_of_under">Figure 15-30</a>, the <code>&lt;strong&gt;</code> element is set to be gray and to have an underline. The gray underline visually “overwrites” the parent’s black underline, so the decoration’s color matches the color of the <code>&lt;strong&gt;</code> element.  The black underline is still there; the gray underline is just hiding it. If you move the gray underline with <code>text-underline-offset</code>  or make the parent’s <code>text-decoration-thickness</code> wider than its child, both underlines will be visible.</p>&#13;
&#13;
<figure class="coderesult"><div class="figure" id="overcoming_the_default_behavior_of_under">&#13;
<img alt="css5 1530" src="assets/css5_1530.png"/>&#13;
<h6><span class="label">Figure 15-30. </span>Overcoming the default behavior of underlines</h6>&#13;
</div></figure>&#13;
&#13;
<p>When <code>text-decoration</code> is <a data-primary="vertical-align property" data-secondary="in text" data-secondary-sortas="text" data-type="indexterm" id="idm45176051865392"/>combined with <code>vertical-align</code>, even stranger things can happen. <a data-type="xref" href="#correct_comma_although_strange_comma_dec">Figure 15-31</a> shows one of these oddities. Since the <code>&lt;sup&gt;</code> element has no decoration of its own, but it is elevated within an overlined element, the overline should cut through the middle of the <code>&lt;sup&gt;</code> element:</p>&#13;
&#13;
<pre data-code-language="css" data-type="programlisting"><code class="nt">p</code> <code class="p">{</code><code class="k">text-decoration</code><code class="o">:</code> <code class="nb">overline</code><code class="p">;</code> <code class="k">font-size</code><code class="o">:</code> <code class="m">12pt</code><code class="p">;}</code>&#13;
<code class="nt">sup</code> <code class="p">{</code><code class="k">vertical-align</code><code class="o">:</code> <code class="m">50%</code><code class="p">;</code> <code class="k">font-size</code><code class="o">:</code> <code class="m">12pt</code><code class="p">;}</code></pre>&#13;
&#13;
<figure class="coderesult"><div class="figure" id="correct_comma_although_strange_comma_dec">&#13;
<img alt="css5 1531" src="assets/css5_1531.png"/>&#13;
<h6><span class="label">Figure 15-31. </span>Correct, although strange, decorative behavior</h6>&#13;
</div></figure>&#13;
&#13;
<p>But not all browsers do this.  As of mid-2022, Chrome pushes the overline up so it is drawn across the top of the superscript, whereas others do not.<a data-primary="" data-startref="ix_text_decor" data-type="indexterm" id="idm45176051824416"/></p>&#13;
</div></section>&#13;
</div></section>&#13;
&#13;
&#13;
&#13;
&#13;
&#13;
&#13;
<section data-pdf-bookmark="Text Rendering" data-type="sect1"><div class="sect1" id="text_rendering">&#13;
<h1>Text Rendering</h1>&#13;
&#13;
<p>A recent <a data-primary="text-rendering property" data-type="indexterm" id="ix_text_render"/>addition to CSS is <code>text-rendering</code>, which is actually an SVG property that’s treated as CSS by supporting user agents. It lets you indicate what the user agent should prioritize when displaying text.</p>&#13;
<aside data-type="sidebar" epub:type="sidebar"><div class="sidebar" id="text-rendering">&#13;
<h1>text-rendering</h1><table>&#13;
&#13;
<tbody>&#13;
<tr>&#13;
<td><p><strong>Values</strong></p></td>&#13;
<td><p><code>auto</code> | <code>optimizeSpeed</code> | <code>optimizeLegibility</code> | <code>geometricPrecision</code></p></td>&#13;
</tr>&#13;
<tr>&#13;
<td><p><strong>Initial value</strong></p></td>&#13;
<td><p><code>auto</code></p></td>&#13;
</tr>&#13;
<tr>&#13;
<td><p><strong>Applies to</strong></p></td>&#13;
<td><p>All elements</p></td>&#13;
</tr>&#13;
<tr>&#13;
<td><p><strong>Inherited</strong></p></td>&#13;
<td><p>Yes</p></td>&#13;
</tr>&#13;
<tr>&#13;
<td><p><strong>Animatable</strong></p></td>&#13;
<td><p>Yes</p></td>&#13;
</tr>&#13;
</tbody>&#13;
</table>&#13;
</div></aside>&#13;
&#13;
<p>The <a data-primary="rendering speed and legibility of text" data-type="indexterm" id="idm45176051806656"/><a data-primary="optimizeSpeed keyword, text-rendering" data-type="indexterm" id="idm45176051782656"/>values <code>optimizeSpeed</code> and <code>optimizeLegibility</code> indicate that drawing speed should be favored over the use of legibility features like kerning and ligatures (for <code>optimizeSpeed</code>) or that such legibility features should be used even if that slows text rendering (for <code>optimizeLegibility</code>).</p>&#13;
&#13;
<p>The <a data-primary="text properties" data-secondary="rendering speed and legibility" data-type="indexterm" id="idm45176051779888"/><a data-primary="optimizeLegibility keyword, text-rendering" data-type="indexterm" id="idm45176051779040"/>precise legibility features that are used with <code>optimizeLegibility</code> are not explicitly defined, and the text rendering often depends on the operating system on which the user agent is running, so the exact results may vary. <a data-type="xref" href="#optimized_legibility">Figure 15-32</a> shows text optimized for speed and then optimized for legibility.</p>&#13;
&#13;
<figure><div class="figure" id="optimized_legibility">&#13;
<img alt="css5 1532" src="assets/css5_1532.png"/>&#13;
<h6><span class="label">Figure 15-32. </span>Different optimizations</h6>&#13;
</div></figure>&#13;
&#13;
<p>As you can see in <a data-type="xref" href="#optimized_legibility">Figure 15-32</a>, the differences between the two optimizations are objectively rather small, but they can have a noticeable impact on readability.</p>&#13;
<div data-type="note" epub:type="note"><h6>Note</h6>&#13;
<p>Some user agents will always optimize for legibility, even when optimizing for speed.  This is likely an effect of rendering speeds having gotten so fast in the past few years.</p>&#13;
</div>&#13;
&#13;
<p>The <a data-primary="geometricPrecision keyword, text-rendering" data-type="indexterm" id="idm45176051772160"/>value <code>geometricPrecision</code>, on the other hand, directs the user agent to draw the text as precisely as possible, such that it could be scaled up or down with no loss of fidelity. You might think that this is always the case, but not so. Some fonts change kerning or ligature effects at different text sizes, for example, providing more kerning space at smaller sizes and tightening up the kerning space as the size is increased. With <code>geometricPrecision</code>, those hints are ignored as the text size changes. If it helps, think of it as the user agent drawing the text as though all the text is a series of SVG paths, not font glyphs.</p>&#13;
&#13;
<p>Even by the usual <a data-primary="SVG format" data-secondary="text rendering and" data-type="indexterm" id="idm45176051769952"/>standard of web standards, the value <code>auto</code> is pretty vaguely defined in SVG:</p>&#13;
<blockquote>&#13;
<p>The user agent shall make appropriate trade-offs to balance speed, legibility and geometric precision, but with legibility given more importance than speed and geometric precision.</p></blockquote>&#13;
&#13;
<p>That’s it: user agents get to do what they think is appropriate, leaning toward legibility.<a data-primary="" data-startref="ix_text_render" data-type="indexterm" id="idm45176051767200"/></p>&#13;
</div></section>&#13;
&#13;
&#13;
&#13;
&#13;
&#13;
&#13;
<section data-pdf-bookmark="Text Shadows" data-type="sect1"><div class="sect1" id="text_shadows">&#13;
<h1>Text Shadows</h1>&#13;
&#13;
<p>Sometimes you just <a data-primary="text-shadow property" data-type="indexterm" id="ix_text_shadow_prop"/><a data-primary="shadows" data-secondary="text" data-type="indexterm" id="ix_shadow_text"/><a data-primary="text properties" data-secondary="shadows" data-type="indexterm" id="ix_text_shadow"/><a data-primary="drop shadow for text" data-type="indexterm" id="ix_drop_shadow"/>really need your text to cast a shadow, like when text overlaps a multicolored background.  That’s where <code>text-shadow</code> comes in.  The syntax might look a little wacky at first, but it should become clear enough with just a little practice.</p>&#13;
<aside data-type="sidebar" epub:type="sidebar"><div class="sidebar" id="text-shadow">&#13;
<h1>text-shadow</h1><table>&#13;
&#13;
<tbody>&#13;
<tr>&#13;
<td><p><strong>Values</strong></p></td>&#13;
<td><p><code>none</code> | [ &lt;<em><code>length</code></em>&gt; ‖  &lt;<em><code>length</code></em>&gt;  &lt;<em><code>length</code></em>&gt;  &lt;<em><code>color</code></em>&gt;?]#</p></td>&#13;
</tr>&#13;
<tr>&#13;
<td><p><strong>Initial value</strong></p></td>&#13;
<td><p><code>none</code></p></td>&#13;
</tr>&#13;
<tr>&#13;
<td><p><strong>Applies to</strong></p></td>&#13;
<td><p>All elements</p></td>&#13;
</tr>&#13;
<tr>&#13;
<td><p><strong>Inherited</strong></p></td>&#13;
<td><p>No</p></td>&#13;
</tr>&#13;
<tr>&#13;
<td><p><strong>Animatable</strong></p></td>&#13;
<td><p>Yes</p></td>&#13;
</tr>&#13;
</tbody>&#13;
</table>&#13;
</div></aside>&#13;
&#13;
<p>The default is to not have a drop shadow for text. Otherwise, you can define one or more shadows. Each shadow is defined by an optional color and three length values, the last of which is also optional.</p>&#13;
&#13;
<p>The <a data-primary="currentcolor keyword" data-type="indexterm" id="idm45176051745024"/>color sets the shadow’s color so it’s possible to define green, purple, or even white shadows. If the color is omitted, the shadow defaults to the color keyword <code>currentcolor</code>, making it the same color as the text itself.</p>&#13;
&#13;
<p>Using <code>currentcolor</code> as a default color may seem counterintuitive, as you might think shadows are purely decorative, but shadows can be used to improve legibility. A small shadow can make very thin text more legible. Defaulting to <code>currentcolor</code> allows adding thickness via a shadow that will always match the color of the text.</p>&#13;
&#13;
<p>In addition to improving accessibility by making thin text thicker, shadows can be used to improve color contrast with a multicolored background. For example, if you have white text on a mostly dark black-and-white photo, adding a black shadow to the white text makes the edges of the white text visible even if the text is laid over white portions of the image.</p>&#13;
&#13;
<p>The first two length values determine the offset distance of the shadow from the text; the first is the horizontal offset, and the second is the vertical offset. To define a solid, unblurred green shadow offset 5 pixels to the right and half an em down from the text, as shown in&#13;
<a data-type="xref" href="#simple_shadows">Figure 15-33</a>, you could write either of the following:</p>&#13;
&#13;
<pre data-code-language="css" data-type="programlisting"><code class="k">text-shadow</code><code class="o">:</code> <code class="nb">green</code> <code class="m">5px</code> <code class="m">0.5em</code><code class="p">;</code>&#13;
<code class="k">text-shadow</code><code class="o">:</code> <code class="m">5px</code> <code class="m">0.5em</code> <code class="nb">green</code><code class="p">;</code></pre>&#13;
&#13;
<p>Negative lengths cause the shadow to be offset to the left and upward from the original text. The following, also shown in <a data-type="xref" href="#simple_shadows">Figure 15-33</a>, places a light-blue shadow 5 pixels to the left and half an em above the text:</p>&#13;
&#13;
<pre data-code-language="css" data-type="programlisting"><code class="k">text-shadow</code><code class="o">:</code> <code class="nb">rgb</code><code class="p">(</code><code class="m">128</code><code class="o">,</code><code class="m">128</code><code class="o">,</code><code class="m">255</code><code class="p">)</code> <code class="err">−</code><code class="m">5px</code> <code class="err">−</code><code class="m">0.5em</code><code class="p">;</code></pre>&#13;
&#13;
<figure><div class="figure" id="simple_shadows">&#13;
<img alt="css5 1533" src="assets/css5_1533.png"/>&#13;
<h6><span class="label">Figure 15-33. </span>Simple shadows</h6>&#13;
</div></figure>&#13;
&#13;
<p>While the offset may make the text take more visual space, shadows have no effect on line height and therefore no impact on the box model.</p>&#13;
&#13;
<p>The <a data-primary="blur radius" data-secondary="text shadow" data-type="indexterm" id="idm45176051678448"/>optional third length value defines a blur radius for the shadow. The <em>blur radius</em> is defined as the distance from the shadow’s outline to the edge of the blurring effect. A radius of 2 pixels would result in blurring that fills the space between the shadow’s outline and the edge of the blurring. The exact blurring method is not defined, so different user agents might employ different effects. As an example, the following styles are rendered as shown in <a data-type="xref" href="#dropping_shadows_all_over">Figure 15-34</a>:</p>&#13;
&#13;
<pre data-code-language="css" data-type="programlisting"><code class="nt">p</code><code class="nc">.cl1</code> <code class="p">{</code><code class="k">color</code><code class="o">:</code> <code class="nb">black</code><code class="p">;</code> <code class="k">text-shadow</code><code class="o">:</code> <code class="nb">gray</code> <code class="m">2px</code> <code class="m">2px</code> <code class="m">4px</code><code class="p">;}</code>&#13;
<code class="nt">p</code><code class="nc">.cl2</code> <code class="p">{</code><code class="k">color</code><code class="o">:</code> <code class="nb">white</code><code class="p">;</code> <code class="k">text-shadow</code><code class="o">:</code> <code class="m">0</code> <code class="m">0</code> <code class="m">4px</code> <code class="nb">black</code><code class="p">;}</code>&#13;
<code class="nt">p</code><code class="nc">.cl3</code> <code class="p">{</code><code class="k">color</code><code class="o">:</code> <code class="nb">black</code><code class="p">;</code>&#13;
       <code class="k">text-shadow</code><code class="o">:</code> <code class="m">1em</code> <code class="m">0.5em</code> <code class="m">5px</code> <code class="nb">red</code><code class="o">,</code>&#13;
	            <code class="err">−</code><code class="m">0.5em</code> <code class="err">−</code><code class="m">1em</code> <code class="n">hsla</code><code class="p">(</code><code class="m">100</code><code class="o">,</code><code class="m">75%</code><code class="o">,</code><code class="m">25%</code><code class="o">,</code><code class="m">0</code><code class="o">.</code><code class="m">33</code><code class="p">);}</code></pre>&#13;
&#13;
<figure><div class="figure" id="dropping_shadows_all_over">&#13;
<img alt="css5 1534" src="assets/css5_1534.png"/>&#13;
<h6><span class="label">Figure 15-34. </span>Dropping shadows all over</h6>&#13;
</div></figure>&#13;
<div data-type="warning" epub:type="warning"><h6>Warning</h6>&#13;
<p>Large <a data-primary="performance issues" data-secondary="text shadows" data-type="indexterm" id="idm45176051613360"/>numbers of text shadows, or text shadows with very large blur values, can create performance slowdowns, particularly when animated in low-power and CPU-constrained situations such as mobile devices. Test thoroughly before deploying public designs that use text shadows.<a data-primary="" data-startref="ix_drop_shadow" data-type="indexterm" id="idm45176051612224"/><a data-primary="" data-startref="ix_shadow_text" data-type="indexterm" id="idm45176051611280"/><a data-primary="" data-startref="ix_text_shadow" data-type="indexterm" id="idm45176051610336"/><a data-primary="" data-startref="ix_text_shadow_prop" data-type="indexterm" id="idm45176051609392"/></p>&#13;
</div>&#13;
</div></section>&#13;
&#13;
&#13;
&#13;
&#13;
&#13;
&#13;
<section data-pdf-bookmark="Text Emphasis" data-type="sect1"><div class="sect1" id="text-emphasis">&#13;
<h1>Text Emphasis</h1>&#13;
&#13;
<p>Another way to <a data-primary="emphasis marks, text" data-type="indexterm" id="ix_emph_mark_text"/><a data-primary="text properties" data-secondary="emphasis marks" data-type="indexterm" id="ix_text_emph_mark"/>call out text is by adding emphasis marks to each character.  This is more common in ideographic languages like Chinese or Mongolian, but these marks can be added to any language’s text with CSS.  CSS has three text-emphasis properties similar to those for text decorations, and then a shorthand that conflates two of them.</p>&#13;
&#13;
&#13;
&#13;
&#13;
&#13;
&#13;
&#13;
&#13;
<section data-pdf-bookmark="Setting Emphasis Style" data-type="sect2"><div class="sect2" id="setting_emphasis_style">&#13;
<h2>Setting Emphasis Style</h2>&#13;
&#13;
<p>The <a data-primary="text-emphasis-style property" data-type="indexterm" id="ix_text_emph_style_prop"/>most important of the three properties sets the type of emphasis mark, allowing you to pick from a list of common types or supply your own mark as a text string.</p>&#13;
<aside data-type="sidebar" epub:type="sidebar"><div class="sidebar" id="idm45176051600560">&#13;
<h1>text-emphasis-style</h1><table>&#13;
&#13;
<tbody>&#13;
<tr>&#13;
<td><p><strong>Values</strong></p></td>&#13;
<td><p><code>none</code> | [ [ <code>filled</code> | <code>open</code> ] ‖ [ <code>dot</code> | <code>circle</code> | <code>double-circle</code> | <code>triangle</code> | <code>sesame</code> ] ] |  &lt;<em><code>string</code></em>&gt;</p></td>&#13;
</tr>&#13;
<tr>&#13;
<td><p><strong>Initial value</strong></p></td>&#13;
<td><p><code>none</code></p></td>&#13;
</tr>&#13;
<tr>&#13;
<td><p><strong>Applies to</strong></p></td>&#13;
<td><p>Text</p></td>&#13;
</tr>&#13;
<tr>&#13;
<td><p><strong>Computed value</strong></p></td>&#13;
<td><p>As declared, or <code>none</code> if nothing is declared</p></td>&#13;
</tr>&#13;
<tr>&#13;
<td><p><strong>Inherited</strong></p></td>&#13;
<td><p>Yes</p></td>&#13;
</tr>&#13;
<tr>&#13;
<td><p><strong>Animatable</strong></p></td>&#13;
<td><p>No</p></td>&#13;
</tr>&#13;
<tr>&#13;
<td><p><strong>Note</strong></p></td>&#13;
<td><p>As of mid-2022, most browsers support this as only <code>-webkit-text-emphasis-style</code>, except Firefox, which supports only <code>text-emphasis-style</code></p></td>&#13;
</tr>&#13;
</tbody>&#13;
</table>&#13;
</div></aside>&#13;
&#13;
<p class="pagebreak-before">By default, text has no emphasis marks, or <code>none</code>. Alternatively, emphasis marks can be one of five shapes: <code>dot</code>, <code>circle</code>, <code>double-circle</code>,  <code>triangle</code>, or <code>sesame</code>. Those shapes can be set as <code>filled</code>, which is the default; or <code>open</code>, which renders them as unfilled outlines.  These are summarized in <a data-type="xref" href="#predefined_emphasis_marks">Table 15-1</a>, and examples are shown in <a data-type="xref" href="#various_emphasis_marks">Figure 15-35</a>.</p>&#13;
<table id="predefined_emphasis_marks">&#13;
<caption><span class="label">Table 15-1. </span>The predefined emphasis marks</caption>&#13;
<thead>&#13;
<tr>&#13;
<th>Shape</th>&#13;
<th><code>filled</code></th>&#13;
<th><code>open</code></th>&#13;
</tr>&#13;
</thead>&#13;
<tbody>&#13;
<tr>&#13;
<td><p>Sesame</p></td>&#13;
<td><p><img src="assets/sesame_filled.png"/> (U+FE45)</p></td>&#13;
<td><p><img src="assets/sesame_open.png"/> (U+FE46)</p></td>&#13;
</tr>&#13;
<tr>&#13;
<td><p>Dot</p></td>&#13;
<td><p>• (U+2022)</p></td>&#13;
<td><p>◦ (U+25E6)</p></td>&#13;
</tr>&#13;
<tr>&#13;
<td><p>Circle</p></td>&#13;
<td><p>● (U+25CF)</p></td>&#13;
<td><p>○ (U+25CB)</p></td>&#13;
</tr>&#13;
<tr>&#13;
<td><p>Double-circle</p></td>&#13;
<td><p>◉ (U+25C9)</p></td>&#13;
<td><p>◎ (U+25CE)</p></td>&#13;
</tr>&#13;
<tr>&#13;
<td><p>Triangle</p></td>&#13;
<td><p>▲ (U+25B2)</p></td>&#13;
<td><p>△ (U+25B3)</p></td>&#13;
</tr>&#13;
</tbody>&#13;
</table>&#13;
&#13;
<p>The sesame is the most common mark used in vertical writing modes; the circle is the usual default in horizontal writing modes.</p>&#13;
&#13;
<p>If the emphasis marks will not fit into the current text line’s height, they will cause the height of that line of text to be increased until they fit without overlapping other lines. Unlike text decorations and text shadows, text emphasis marks <em>do</em> affect the line height.</p>&#13;
&#13;
<p>If none of the predefined marks work in your specific situation, you can supply your own character as a string (a single character in single or double quotes).  However, be careful: if the string is more than a single character, it may be reduced to the first character in the string by the browser.  Thus, <code>text-emphasis-style: 'cool'</code> may result in the browser displaying only the <code>c</code> as a mark, as shown in <a data-type="xref" href="#various_emphasis_marks">Figure 15-35</a>.  Furthermore, the string symbols may or may not be rotated to match writing direction in vertical languages.</p>&#13;
&#13;
<p>Here are some examples of setting emphasis marks:</p>&#13;
&#13;
<pre data-code-language="css" data-type="programlisting"><code class="nt">h1</code> <code class="nt">em</code> <code class="p">{</code><code class="k">text-emphasis-style</code><code class="o">:</code> <code class="n">triangle</code><code class="p">;}</code>&#13;
<code class="nt">strong</code> <code class="nt">a</code><code class="nd">:any-link</code> <code class="p">{</code><code class="k">text-emphasis-style</code><code class="o">:</code> <code class="n">filled</code> <code class="n">sesame</code><code class="p">;}</code>&#13;
<code class="nt">strong</code><code class="nc">.callout</code> <code class="p">{</code><code class="k">text-emphasis-style</code><code class="o">:</code> <code class="n">open</code> <code class="nb">double</code><code class="o">-</code><code class="nb">circle</code><code class="p">;}</code></pre>&#13;
&#13;
<p>A key difference between text emphasis and text decoration is that unlike decoration, emphasis is inherited.  In other words, if you set a style of <code>filled sesame</code> on a paragraph, and that paragraph has child elements like links, those child elements will inherit the &#13;
<span class="keep-together"><code>filled sesame</code></span> value.</p>&#13;
&#13;
<p>Another difference is that every glyph (character or other symbol) gets its own mark, and these marks are centered on the glyph.  Thus, in proportional fonts like those seen in <a data-type="xref" href="#various_emphasis_marks">Figure 15-35</a>, the marks will have different separations between them depending on which two glyphs are next to each other.</p>&#13;
&#13;
<figure><div class="figure" id="various_emphasis_marks">&#13;
<img alt="css5 1535" src="assets/css5_1535.png"/>&#13;
<h6><span class="label">Figure 15-35. </span>Various emphasis marks</h6>&#13;
</div></figure>&#13;
&#13;
<p>The CSS specification recommends that emphasis marks be half the size of the text’s font size, as if they were given <code>font-size: 50%</code>.  They should otherwise use the same text styles as the text; thus, if the text is boldfaced, the emphasis marks should be as well.  They should also use the text’s color, unless overridden with the next property we’ll cover.<a data-primary="" data-startref="ix_text_emph_style_prop" data-type="indexterm" id="idm45176051473424"/></p>&#13;
</div></section>&#13;
&#13;
&#13;
&#13;
&#13;
&#13;
&#13;
&#13;
&#13;
<section data-pdf-bookmark="Changing Emphasis Color" data-type="sect2"><div class="sect2" id="changing_emphasis_color">&#13;
<h2>Changing Emphasis Color</h2>&#13;
&#13;
<p>If you <a data-primary="colors" data-secondary="emphasis marks" data-type="indexterm" id="idm45176051470640"/><a data-primary="text-emphasis-color property" data-type="indexterm" id="idm45176051469632"/>wish to have emphasis marks be a different color than the text they’re marking, <code>text-emphasis-color</code> is here for you.</p>&#13;
<aside data-type="sidebar" epub:type="sidebar"><div class="sidebar" id="idm45176051468352">&#13;
<h1>text-emphasis-color</h1><table>&#13;
&#13;
<tbody>&#13;
<tr>&#13;
<td><p><strong>Values</strong></p></td>&#13;
<td><p>&lt;<em><code>color</code></em>&gt;</p></td>&#13;
</tr>&#13;
<tr>&#13;
<td><p><strong>Initial value</strong></p></td>&#13;
<td><p><code>currentcolor</code></p></td>&#13;
</tr>&#13;
<tr>&#13;
<td><p><strong>Applies to</strong></p></td>&#13;
<td><p>Text</p></td>&#13;
</tr>&#13;
<tr>&#13;
<td><p><strong>Computed value</strong></p></td>&#13;
<td><p>The computed color</p></td>&#13;
</tr>&#13;
<tr>&#13;
<td><p><strong>Inherited</strong></p></td>&#13;
<td><p>Yes</p></td>&#13;
</tr>&#13;
<tr>&#13;
<td><p><strong>Animatable</strong></p></td>&#13;
<td><p>No</p></td>&#13;
</tr>&#13;
<tr>&#13;
<td><p><strong>Note</strong></p></td>&#13;
<td><p>As of mid-2022, most browsers support this as only <code>-webkit-text-emphasis-color</code>, except Firefox, which supports only <code>text-emphasis-color</code></p></td>&#13;
</tr>&#13;
</tbody>&#13;
</table>&#13;
</div></aside>&#13;
&#13;
<p>The default value, as is often the case with color-related properties, is <code>currentcolor</code>.  That ensures that emphasis marks will match the color of the text by default.  To change it, you can do things like the following:</p>&#13;
&#13;
<pre data-code-language="css" data-type="programlisting"><code class="nt">strong</code> <code class="p">{</code><code class="k">text-emphasis-style</code><code class="o">:</code> <code class="n">filled</code> <code class="n">triangle</code><code class="p">;}</code>&#13;
<code class="nt">p</code><code class="nc">.one</code> <code class="nt">strong</code> <code class="p">{</code><code class="k">text-emphasis-color</code><code class="o">:</code> <code class="nb">gray</code><code class="p">;}</code>&#13;
<code class="nt">p</code><code class="nc">.two</code> <code class="nt">strong</code> <code class="p">{</code><code class="k">text-emphasis-color</code><code class="o">:</code> <code class="n">hsl</code><code class="p">(</code><code class="m">0</code> <code class="m">0%</code> <code class="m">50%</code><code class="p">);}</code>&#13;
<code class="c">/* these will yield the same visual result */</code></pre>&#13;
</div></section>&#13;
&#13;
&#13;
&#13;
&#13;
&#13;
&#13;
&#13;
&#13;
<section data-pdf-bookmark="Placing Emphasis Marks" data-type="sect2"><div class="sect2" id="placing_emphasis_marks">&#13;
<h2>Placing Emphasis Marks</h2>&#13;
&#13;
<p>Thus far, we’ve <a data-primary="text-emphasis-position property" data-type="indexterm" id="idm45176051388832"/>shown emphasis marks in specific positions: above each glyph in horizontal text, and to the right of each glyph in vertical text.  These are the default CSS values, but not always the preferred placement. The <code>text-emphasis-position</code> property allows you to change where marks are placed.</p>&#13;
<aside data-type="sidebar" epub:type="sidebar"><div class="sidebar" id="idm45176051387488">&#13;
<h1>text-emphasis-position</h1><table>&#13;
&#13;
<tbody>&#13;
<tr>&#13;
<td><p><strong>Values</strong></p></td>&#13;
<td><p>[ <code>over</code> | <code>under</code> ] &amp;&amp; [ <code>right</code> | <code>left</code> ]</p></td>&#13;
</tr>&#13;
<tr>&#13;
<td><p><strong>Initial value</strong></p></td>&#13;
<td><p><code>over right</code></p></td>&#13;
</tr>&#13;
<tr>&#13;
<td><p><strong>Applies to</strong></p></td>&#13;
<td><p>Text</p></td>&#13;
</tr>&#13;
<tr>&#13;
<td><p><strong>Computed value</strong></p></td>&#13;
<td><p>As declared</p></td>&#13;
</tr>&#13;
<tr>&#13;
<td><p><strong>Inherited</strong></p></td>&#13;
<td><p>Yes</p></td>&#13;
</tr>&#13;
<tr>&#13;
<td><p><strong>Animatable</strong></p></td>&#13;
<td><p>No</p></td>&#13;
</tr>&#13;
<tr>&#13;
<td><p><strong>Note</strong></p></td>&#13;
<td><p>As of mid-2022, most browsers support this only in the form <code>-webkit-text-emphasis-position</code>, except Firefox, which supports only <code>text-emphasis-position</code></p></td>&#13;
</tr>&#13;
</tbody>&#13;
</table>&#13;
</div></aside>&#13;
&#13;
<p>The values <code>over</code> and <code>under</code> are applied only when the typographic mode is horizontal.  Similarly, <code>right</code> and <code>left</code> are used only when the typographic mode is vertical.</p>&#13;
&#13;
<p>This can be <a data-primary="CJK or CJKV text characters" data-type="indexterm" id="idm45176051345696"/>important in some Eastern languages.  For example, Chinese, Japanese, Korean, and Mongolian all prefer to have marks to the right when the text is written vertically.  They diverge on horizontal text: Chinese prefers marks below the text, and the rest prefer above the text, when it’s horizontal.  Thus you might write something like this in a stylesheet:</p>&#13;
&#13;
<pre data-code-language="css" data-type="programlisting"><code class="nd">:lang</code><code class="o">(</code><code class="nt">cn</code><code class="o">)</code> <code class="p">{</code><code class="k">text-emphasis-position</code><code class="o">:</code> <code class="n">under</code> <code class="nb">right</code><code class="p">;}</code></pre>&#13;
&#13;
<p>This would override the default <code>over right</code> when the text is marked as being Chinese, applying <code>under right</code> instead.</p>&#13;
</div></section>&#13;
&#13;
&#13;
&#13;
&#13;
&#13;
&#13;
&#13;
&#13;
<section data-pdf-bookmark="Using the text-emphasis Shorthand" data-type="sect2"><div class="sect2" id="text_emphasis_shorthand">&#13;
<h2>Using the text-emphasis Shorthand</h2>&#13;
&#13;
<p>A <a data-primary="text-emphasis property" data-type="indexterm" id="idm45176051324400"/>shorthand option exists for the <code>text-emphasis</code> properties, but it brings together only style and color.</p>&#13;
<aside data-type="sidebar" epub:type="sidebar"><div class="sidebar" id="idm45176051323136">&#13;
<h1>text-emphasis</h1><table>&#13;
&#13;
<tbody>&#13;
<tr>&#13;
<td><p><strong>Values</strong></p></td>&#13;
<td><p>&lt;<code><em>text-emphasis-style</em></code>&gt; ‖ &lt;<code><em>text-emphasis-color</em></code>&gt;</p></td>&#13;
</tr>&#13;
<tr>&#13;
<td><p><strong>Initial value</strong></p></td>&#13;
<td><p>See individual properties</p></td>&#13;
</tr>&#13;
<tr>&#13;
<td><p><strong>Applies to</strong></p></td>&#13;
<td><p>Text</p></td>&#13;
</tr>&#13;
<tr>&#13;
<td><p><strong>Computed value</strong></p></td>&#13;
<td><p>See individual properties</p></td>&#13;
</tr>&#13;
<tr>&#13;
<td><p><strong>Inherited</strong></p></td>&#13;
<td><p>Yes</p></td>&#13;
</tr>&#13;
<tr>&#13;
<td><p><strong>Animatable</strong></p></td>&#13;
<td><p>No</p></td>&#13;
</tr>&#13;
<tr>&#13;
<td><p><strong>Note</strong></p></td>&#13;
<td><p>As of mid-2022, most browsers support this only in the form <code>-webkit-text-emphasis-position</code>, except Firefox, which supports only <code>text-emphasis-position</code></p></td>&#13;
</tr>&#13;
</tbody>&#13;
</table>&#13;
</div></aside>&#13;
&#13;
<p>The reason <code>text-emphasis-position</code> is not included in the <code>text-emphasis</code> shorthand is so that it can (indeed must) be inherited separately.  Therefore, the style and color of the marks can be changed via <code>text-emphasis</code> without overriding the position in the process.</p>&#13;
&#13;
<p>As <a data-primary="typographic character unit" data-type="indexterm" id="idm45176051290672"/>stated earlier, each character or ideogram or other glyph—what CSS calls a <em>typographic character unit</em>—gets its own emphasis mark.  That is roughly correct, but exceptions occur.  The following character units do <em>not</em> get emphasis marks:</p>&#13;
&#13;
<ul>&#13;
<li>&#13;
<p>Word separators such as spaces, or any other Unicode separator character</p>&#13;
</li>&#13;
<li>&#13;
<p>Punctuation characters, such as commas, full stops, and parentheses</p>&#13;
</li>&#13;
<li>&#13;
<p>Unicode symbols corresponding to control codes, or any unassigned characters</p>&#13;
</li>&#13;
</ul>&#13;
</div></section>&#13;
&#13;
&#13;
&#13;
&#13;
&#13;
&#13;
&#13;
&#13;
<section data-pdf-bookmark="Setting Text Drawing Order" data-type="sect2"><div class="sect2" id="text_drawing_order">&#13;
<h2>Setting Text Drawing Order</h2>&#13;
&#13;
<p>Browsers are <a data-primary="drawing order, text" data-type="indexterm" id="idm45176051284288"/>supposed to use a specific order to draw the text decorations, shadows, and emphasis marks we’ve discussed previously, along with the text itself.  These are drawn in the following order, from bottommost (furthest away from the user) to topmost (closest to the user):</p>&#13;
<ol>&#13;
<li>&#13;
<p>Shadows (<code>text-shadow</code>)</p>&#13;
</li>&#13;
<li>&#13;
<p>Underlines (<code>text-decoration</code>)</p>&#13;
</li>&#13;
<li>&#13;
<p>Overlines (<code>text-decoration</code>)</p>&#13;
</li>&#13;
<li>&#13;
<p>The actual text</p>&#13;
</li>&#13;
<li>&#13;
<p>Emphasis marks (<code>text-emphasis</code>)</p>&#13;
</li>&#13;
<li>&#13;
<p>Line-through (<code>text-decoration</code>)</p>&#13;
</li>&#13;
&#13;
</ol>&#13;
&#13;
<p>Thus, the drop shadows of the text are placed behind everything else.  Underlines and overlines go behind the text.  Emphasis marks and line-throughs go on top of the text.  Note that if you have top text-emphasis marks and an overline, the emphasis marks will be drawn on top of the overline, obfuscating the overline where they overlap.<a data-primary="" data-startref="ix_text_emph_mark" data-type="indexterm" id="idm45176051274912"/><a data-primary="" data-startref="ix_emph_mark_text" data-type="indexterm" id="idm45176051273936"/></p>&#13;
</div></section>&#13;
</div></section>&#13;
&#13;
&#13;
&#13;
&#13;
&#13;
&#13;
<section data-pdf-bookmark="Whitespace" data-type="sect1"><div class="sect1" id="handling_whitespace">&#13;
<h1>Whitespace</h1>&#13;
&#13;
<p>Now that we’ve <a data-primary="white-space property" data-type="indexterm" id="ix_white_space_prop"/><a data-primary="text properties" data-secondary="whitespace, handling" data-type="indexterm" id="ix_text_white_space"/><a data-primary="whitespace" data-secondary="in text" data-secondary-sortas="text" data-type="indexterm" id="ix_whitespace_handling"/>covered a variety of ways to style, decorate, and otherwise enhance the text, let’s talk about the property <code>white-space</code>, which affects the user agent’s handling of space, newline, and tab characters within the document source.</p>&#13;
<aside data-type="sidebar" epub:type="sidebar"><div class="sidebar" id="white-space">&#13;
<h1>white-space</h1><table>&#13;
&#13;
<tbody>&#13;
<tr>&#13;
<td><p><strong>Values</strong></p></td>&#13;
<td><p><code>normal</code> | <code>nowrap</code> | <code>pre</code> | <code>pre-wrap</code> | <code>pre-line</code> | <code>break-spaces</code></p></td>&#13;
</tr>&#13;
<tr>&#13;
<td><p><strong>Initial value</strong></p></td>&#13;
<td><p><code>normal</code></p></td>&#13;
</tr>&#13;
<tr>&#13;
<td><p><strong>Applies to</strong></p></td>&#13;
<td><p>All elements</p></td>&#13;
</tr>&#13;
<tr>&#13;
<td><p><strong>Computed value</strong></p></td>&#13;
<td><p>As declared</p></td>&#13;
</tr>&#13;
<tr>&#13;
<td><p><strong>Inherited</strong></p></td>&#13;
<td><p>No</p></td>&#13;
</tr>&#13;
<tr>&#13;
<td><p><strong>Animatable</strong></p></td>&#13;
<td><p>No</p></td>&#13;
</tr>&#13;
</tbody>&#13;
</table>&#13;
</div></aside>&#13;
&#13;
<p>By using the <code>white-space</code> property, you can affect how a browser treats the whitespace between words and lines of text. To a certain extent, default HTML handling already does this: it collapses any whitespace down to a single space. So given the following markup, the rendering in a web browser would show only one space between each word and ignore the line feed in the elements:</p>&#13;
&#13;
<pre data-code-language="html" data-type="programlisting"><code class="p">&lt;</code><code class="nt">p</code><code class="p">&gt;</code>This    paragraph   has     many spaces        in it.<code class="p">&lt;/</code><code class="nt">p</code><code class="p">&gt;</code></pre>&#13;
&#13;
<p>You can explicitly set this default behavior with the following declaration:</p>&#13;
&#13;
<pre data-code-language="css" data-type="programlisting"><code class="nt">p</code> <code class="p">{</code><code class="k">white-space</code><code class="o">:</code> <code class="n">normal</code><code class="p">;}</code></pre>&#13;
&#13;
<p>This rule tells the browser to do as browsers have always done: discard extra whitespace. Given this value, line-feed characters (carriage returns) are converted into spaces, and any sequence of more than one space in a row is converted to a single space.</p>&#13;
&#13;
<p>Should you set <code>white-space</code> to <code>pre</code>, however, the whitespace in an affected element is treated as though the elements were HTML <code>&lt;pre&gt;</code> elements; whitespace is <em>not</em> ignored, as shown in <a data-type="xref" href="#honoring_the_spaces_in_markup">Figure 15-36</a>:</p>&#13;
&#13;
<pre data-code-language="css" data-type="programlisting"><code class="nt">p</code> <code class="p">{</code><code class="k">white-space</code><code class="o">:</code> <code class="n">pre</code><code class="p">;}</code></pre>&#13;
&#13;
<pre data-code-language="html" data-type="programlisting"><code class="p">&lt;</code><code class="nt">p</code><code class="p">&gt;</code>This    paragraph   has     many&#13;
    spaces        in it.<code class="p">&lt;/</code><code class="nt">p</code><code class="p">&gt;</code></pre>&#13;
&#13;
<figure class="coderesult"><div class="figure" id="honoring_the_spaces_in_markup">&#13;
<img alt="css5 1536" src="assets/css5_1536.png"/>&#13;
<h6><span class="label">Figure 15-36. </span>Honoring the spaces in markup</h6>&#13;
</div></figure>&#13;
&#13;
<p>With a <code>white-space</code> value of <code>pre</code>, the browser will pay attention to extra spaces and even carriage returns. In this respect, any element can be made to act like a <code>&lt;pre&gt;</code> element.</p>&#13;
&#13;
<p>The <a data-primary="wrapping text" data-type="indexterm" id="idm45176051154288"/>opposite value is <code>nowrap</code>, which prevents text from wrapping within an element, except wherever you use a <code>&lt;br&gt;</code> element. When text can’t wrap and it gets too wide for its container, a horizontal scrollbar will appear by default (this can be changed using the <code>overflow</code> property).  The effects of the following markup are shown in <a data-type="xref" href="#suppressing_line_wrapping_with_the_white">Figure 15-37</a>:</p>&#13;
&#13;
<pre data-code-language="html" data-type="programlisting"><code class="p">&lt;</code><code class="nt">p</code> <code class="na">style</code><code class="o">=</code><code class="s">"white-space: nowrap;"</code><code class="p">&gt;</code>This paragraph is not allowed to wrap,&#13;
which means that the only way to end a line is to insert a line-break&#13;
element.  If no such element is inserted, then the line will go forever,&#13;
forcing the user to scroll horizontally to read whatever can't be&#13;
initially displayed <code class="p">&lt;</code><code class="nt">br</code><code class="p">/&gt;</code>in the browser window.<code class="p">&lt;/</code><code class="nt">p</code><code class="p">&gt;</code></pre>&#13;
&#13;
<figure class="coderesult"><div class="figure" id="suppressing_line_wrapping_with_the_white">&#13;
<img alt="css5 1537" src="assets/css5_1537.png"/>&#13;
<h6><span class="label">Figure 15-37. </span>Suppressing line wrapping with the <code>white-space</code> property</h6>&#13;
</div></figure>&#13;
&#13;
<p>If an element is set to <code>pre-wrap</code>, text within that element has whitespace sequences preserved, but text lines are wrapped normally. With this value, generated linebreaks as well as those found in the source markup are both honored.</p>&#13;
&#13;
<p>The <code>pre-line</code> value is <a data-primary="breaks" data-secondary="line" data-type="indexterm" id="idm45176051109856"/><a data-primary="line breaks" data-type="indexterm" id="idm45176051108848"/><a data-primary="text properties" data-secondary="line breaks" data-type="indexterm" id="idm45176051107312"/>the opposite of <code>pre-wrap</code> and causes whitespace sequences to collapse as in normal text but honors new lines.</p>&#13;
&#13;
<p>The <code>break-spaces</code> value is similar to <code>pre-wrap</code>, except that all whitespace is preserved, even at the end of the line, with a line-break opportunity after each whitespace character. These spaces take up space and do not hang, and thus affect the box’s intrinsic sizes (min-content size and max-content size).</p>&#13;
&#13;
<p><a data-type="xref" href="#white-space_properties">Table 15-2</a> summarizes the behaviors of the various <code>white-space</code> properties.</p>&#13;
<table id="white-space_properties">&#13;
<caption><span class="label">Table 15-2. </span><code>white-space</code> properties</caption>&#13;
<thead>&#13;
<tr>&#13;
<th>Value</th>&#13;
<th>Whitespace</th>&#13;
<th>Line feeds</th>&#13;
<th>Auto line wrapping</th>&#13;
<th>Trailing whitespace</th>&#13;
</tr>&#13;
</thead>&#13;
<tbody>&#13;
<tr>&#13;
<td><p><code>pre-line</code></p></td>&#13;
<td><p>Collapsed</p></td>&#13;
<td><p>Honored</p></td>&#13;
<td><p>Allowed</p></td>&#13;
<td><p>Removed</p></td>&#13;
</tr>&#13;
<tr>&#13;
<td><p><code>normal</code></p></td>&#13;
<td><p>Collapsed</p></td>&#13;
<td><p>Ignored</p></td>&#13;
<td><p>Allowed</p></td>&#13;
<td><p>Removed</p></td>&#13;
</tr>&#13;
<tr>&#13;
<td><p><code>nowrap</code></p></td>&#13;
<td><p>Collapsed</p></td>&#13;
<td><p>Ignored</p></td>&#13;
<td><p>Prevented</p></td>&#13;
<td><p>Removed</p></td>&#13;
</tr>&#13;
<tr>&#13;
<td><p><code>pre</code></p></td>&#13;
<td><p>Preserved</p></td>&#13;
<td><p>Honored</p></td>&#13;
<td><p>Prevented</p></td>&#13;
<td><p>Preserved</p></td>&#13;
</tr>&#13;
<tr>&#13;
<td><p><code>pre-wrap</code></p></td>&#13;
<td><p>Preserved</p></td>&#13;
<td><p>Honored</p></td>&#13;
<td><p>Allowed</p></td>&#13;
<td><p>Hanging</p></td>&#13;
</tr>&#13;
<tr>&#13;
<td><p><code>break-spaces</code></p></td>&#13;
<td><p>Preserved</p></td>&#13;
<td><p>Honored</p></td>&#13;
<td><p>Allowed</p></td>&#13;
<td><p>Wrap</p></td>&#13;
</tr>&#13;
</tbody>&#13;
</table>&#13;
&#13;
<p>Consider the following markup, which has line-feed (e.g., return) characters to break lines, plus the end of each line has several extra space characters that aren’t visible in the markup.  The results are illustrated in <a data-type="xref" href="#three_different_ways_to_handle_whitespace">Figure 15-38</a>:</p>&#13;
&#13;
<pre data-code-language="html" data-type="programlisting"><code class="p">&lt;</code><code class="nt">p</code> <code class="na">style</code><code class="o">=</code><code class="s">"white-space: pre-wrap;"</code><code class="p">&gt;</code>&#13;
This  paragraph      has  a  great   many   s p a c e s   within  its textual&#13;
  content,   but their    preservation     will    not    prevent   line&#13;
    wrapping or line breaking.&#13;
<code class="p">&lt;/</code><code class="nt">p</code><code class="p">&gt;</code>&#13;
<code class="p">&lt;</code><code class="nt">p</code> <code class="na">style</code><code class="o">=</code><code class="s">"white-space: pre-line;"</code><code class="p">&gt;</code>&#13;
This  paragraph      has  a  great   many   s p a c e s   within  its textual&#13;
  content,   but their collapse  will    not    prevent   line&#13;
    wrapping or line breaking.&#13;
<code class="p">&lt;</code><code class="nt">p</code> <code class="na">style</code><code class="o">=</code><code class="s">"white-space: break-spaces;"</code><code class="p">&gt;</code>&#13;
This  paragraph      has  a  great   many   s p a c e s   within  its textual&#13;
  content,   but their preservation  will    not    prevent   line&#13;
    wrapping or line breaking.&#13;
<code class="p">&lt;/</code><code class="nt">p</code><code class="p">&gt;</code></pre>&#13;
&#13;
<figure class="coderesult"><div class="figure" id="three_different_ways_to_handle_whitespace">&#13;
<img alt="css5 1538" src="assets/css5_1538.png"/>&#13;
<h6><span class="label">Figure 15-38. </span>Three ways to handle whitespace</h6>&#13;
</div></figure>&#13;
&#13;
<p>Notice that the third paragraph has a blank line between the first and second lines of text.  This is because a line wrap was performed between two adjacent blank spaces at the end of the line in the source markup.  This didn’t happen for <code>pre-wrap</code> or <code>pre-line</code>, because those <code>white-space</code> values don’t allow hanging space to create line-wrap opportunities. The <code>break-spaces</code> value does.</p>&#13;
&#13;
<p>Whitespace impacts several properties, including <code>tab-size</code>, which has no effect when the <code>white-space</code> property is set to a value in which whitespace is not maintained; and <code>overflow-wrap</code>, which has an effect only when <code>white-space</code> allows wrapping.<a data-primary="" data-startref="ix_white_space_prop" data-type="indexterm" id="idm45176051030208"/></p>&#13;
&#13;
&#13;
&#13;
&#13;
&#13;
&#13;
&#13;
&#13;
<section data-pdf-bookmark="Setting Tab Sizes" data-type="sect2"><div class="sect2" id="setting_tab_sizes">&#13;
<h2>Setting Tab Sizes</h2>&#13;
&#13;
<p>Since <a data-primary="tab-size property" data-type="indexterm" id="idm45176051027264"/>whitespace is preserved in some values of <code>white-space</code>, it stands to reason that tabs (i.e., Unicode code point 0009) will be displayed as, well, tabs. But how many spaces should each tab equal? That’s where <code>tab-size</code> comes in.</p>&#13;
<aside data-type="sidebar" epub:type="sidebar"><div class="sidebar" id="tab-size">&#13;
<h1>tab-size</h1><table>&#13;
&#13;
<tbody>&#13;
<tr>&#13;
<td><p><strong>Values</strong></p></td>&#13;
<td><p>&lt;<em><code>length</code></em>&gt; |  &lt;<em><code>integer</code></em>&gt;</p></td>&#13;
</tr>&#13;
<tr>&#13;
<td><p><strong>Initial value</strong></p></td>&#13;
<td><p><code>8</code></p></td>&#13;
</tr>&#13;
<tr>&#13;
<td><p><strong>Applies to</strong></p></td>&#13;
<td><p>Block elements</p></td>&#13;
</tr>&#13;
<tr>&#13;
<td><p><strong>Computed value</strong></p></td>&#13;
<td><p>The absolute-length equivalent of the specified value</p></td>&#13;
</tr>&#13;
<tr>&#13;
<td><p><strong>Inherited</strong></p></td>&#13;
<td><p>Yes</p></td>&#13;
</tr>&#13;
<tr>&#13;
<td><p><strong>Animatable</strong></p></td>&#13;
<td><p>Yes</p></td>&#13;
</tr>&#13;
</tbody>&#13;
</table>&#13;
</div></aside>&#13;
&#13;
<p>By default, when whitespace is preserved, as with <code>white-space</code> values of <code>pre</code>, <code>pre-wrap</code>, and <code>break-spaces</code>, any tab character will be treated the same as eight spaces in a row, including any effects from <code>letter-spacing</code> and <code>word-spacing</code>. You can alter that by using a different integer value.  Thus, <code>tab-size: 4</code> will cause each tab to be rendered as if it were four spaces in a row.  Negative values are not allowed for <code>tab-size</code>.</p>&#13;
&#13;
<p>If a length value is supplied, each tab is rendered using that length. For example, <code>tab-size: 10px</code> will cause a sequence of three tabs to be rendered as 30 pixels of whitespace. Some effects of <code>tab-size</code> are illustrated in <a data-type="xref" href="#differing_tab_lengths">Figure 15-39</a>.</p>&#13;
&#13;
<figure class="coderesult"><div class="figure" id="differing_tab_lengths">&#13;
<img alt="css5 1539" src="assets/css5_1539.png"/>&#13;
<h6><span class="label">Figure 15-39. </span>Differing tab lengths</h6>&#13;
</div></figure>&#13;
&#13;
<p>Remember that <code>tab-size</code> is effectively ignored when the value of <code>white-space</code> causes whitespace to be collapsed (see <a data-type="xref" href="#white-space_properties">Table 15-2</a>). The value will still be computed in such cases, but there will be no visible effect no matter how many tabs appear in the source.<a data-primary="" data-startref="ix_whitespace_handling" data-type="indexterm" id="idm45176050975504"/><a data-primary="" data-startref="ix_text_white_space" data-type="indexterm" id="idm45176050974560"/></p>&#13;
</div></section>&#13;
</div></section>&#13;
&#13;
&#13;
&#13;
&#13;
&#13;
&#13;
<section data-pdf-bookmark="Wrapping and Hyphenation" data-type="sect1"><div class="sect1" id="wrapping_and_hyphenation">&#13;
<h1>Wrapping and Hyphenation</h1>&#13;
&#13;
<p>Handling <a data-primary="wrapping text" data-type="indexterm" id="ix_wrap_text_ch15"/>whitespace is all well and good, but it’s a lot more common to want to influence the way the visible characters are handled when it comes to line wrapping.  A few properties can influence where line wrapping is allowed, as well as enable hyphenation support.</p>&#13;
&#13;
&#13;
&#13;
&#13;
&#13;
&#13;
&#13;
&#13;
<section data-pdf-bookmark="Hyphenation" data-type="sect2"><div class="sect2" id="hyphenation">&#13;
<h2>Hyphenation</h2>&#13;
&#13;
<p>Hyphens <a data-primary="text properties" data-secondary="hyphenation" data-type="indexterm" id="ix_text_hyphens"/><a data-primary="hyphens property" data-type="indexterm" id="ix_hyphens_prop"/>can be very useful when displaying long words and short line lengths, such as blog posts on mobile devices and portions of <em>The Economist</em>. Authors can always insert their own hyphenation hints by using the Unicode character <em>U+00AD SOFT HYPHEN</em> (or, in HTML, <code>&amp;shy;</code>), but CSS also offers a way to enable hyphenation without littering up the document with hints.</p>&#13;
<aside data-type="sidebar" epub:type="sidebar"><div class="sidebar" id="hyphens">&#13;
<h1>hyphens</h1><table>&#13;
&#13;
<tbody>&#13;
<tr>&#13;
<td><p><strong>Values</strong></p></td>&#13;
<td><p><code>manual</code> | <code>auto</code> | <code>none</code></p></td>&#13;
</tr>&#13;
<tr>&#13;
<td><p><strong>Initial value</strong></p></td>&#13;
<td><p><code>manual</code></p></td>&#13;
</tr>&#13;
<tr>&#13;
<td><p><strong>Applies to</strong></p></td>&#13;
<td><p>All elements</p></td>&#13;
</tr>&#13;
<tr>&#13;
<td><p><strong>Computed value</strong></p></td>&#13;
<td><p>As specified</p></td>&#13;
</tr>&#13;
<tr>&#13;
<td><p><strong>Inherited</strong></p></td>&#13;
<td><p>Yes</p></td>&#13;
</tr>&#13;
<tr>&#13;
<td><p><strong>Animatable</strong></p></td>&#13;
<td><p>No</p></td>&#13;
</tr>&#13;
</tbody>&#13;
</table>&#13;
</div></aside>&#13;
&#13;
<p>With the default value of <code>manual</code>, hyphens are inserted only where manually inserted hyphenation markers occur in the document, such as U+00AD or <code>&amp;shy;</code>. Otherwise, no hyphenation occurs. The value <code>none</code>, on the other hand, suppresses any hyphenation, even if manual break markers are present; thus, U+00AD and <code>&amp;shy;</code> are ignored.</p>&#13;
<div data-type="tip"><h6>Tip</h6>&#13;
<p>The <code>&lt;wbr&gt;</code> element does not introduce a hyphen at the line-break point. To make a hyphen appear only at the end of a line, use the soft hyphen character entity (<code>&amp;shy;</code>) instead.</p>&#13;
</div>&#13;
&#13;
<p>The far <a data-primary="line breaks" data-type="indexterm" id="idm45176050946448"/><a data-primary="text properties" data-secondary="line breaks" data-type="indexterm" id="idm45176050945744"/><a data-primary="breaks" data-secondary="line" data-type="indexterm" id="idm45176050944768"/>more interesting (and potentially inconsistent) value is <code>auto</code>, which permits the browser to insert hyphens and break words at “appropriate” places inside words, even where no manually inserted hyphenation breaks exist. But what constitutes a <em>word</em>? And, under what circumstances is it appropriate to hyphenate a word? Both are language dependent. User agents are supposed to prefer manually inserted hyphen breaks to automatically determined breaks, but there are no guarantees. An illustration of hyphenation, or the suppression thereof, in the following example is shown in <a data-type="xref" href="#hyphenation_results">Figure 15-40</a>:</p>&#13;
&#13;
<pre data-code-language="css" data-type="programlisting"><code class="nc">.cl01</code> <code class="p">{</code><code class="k">hyphens</code><code class="o">:</code> <code class="nb">auto</code><code class="p">;}</code>&#13;
<code class="nc">.cl02</code> <code class="p">{</code><code class="k">hyphens</code><code class="o">:</code> <code class="n">manual</code><code class="p">;}</code>&#13;
<code class="nc">.cl03</code> <code class="p">{</code><code class="k">hyphens</code><code class="o">:</code> <code class="nb">none</code><code class="p">;}</code></pre>&#13;
&#13;
<pre data-code-language="html" data-type="programlisting"><code class="p">&lt;</code><code class="nt">p</code> <code class="na">class</code><code class="o">=</code><code class="s">"cl01"</code><code class="p">&gt;</code>Supercalifragilisticexpialidocious&#13;
  antidisestablishmentarianism.<code class="p">&lt;/</code><code class="nt">p</code><code class="p">&gt;</code>&#13;
<code class="p">&lt;</code><code class="nt">p</code> <code class="na">class</code><code class="o">=</code><code class="s">"cl02"</code><code class="p">&gt;</code>Supercalifragilisticexpialidocious&#13;
  antidisestablishmentarianism.<code class="p">&lt;/</code><code class="nt">p</code><code class="p">&gt;</code>&#13;
<code class="p">&lt;</code><code class="nt">p</code> <code class="na">class</code><code class="o">=</code><code class="s">"cl02"</code><code class="p">&gt;</code>Super<code class="ni">&amp;shy;</code>cali<code class="ni">&amp;shy;</code>fragi<code class="ni">&amp;shy;</code>listic<code class="ni">&amp;shy;</code>expi<code class="ni">&amp;shy;</code>ali<code class="ni">&amp;shy;</code>&#13;
docious anti<code class="ni">&amp;shy;</code>dis<code class="ni">&amp;shy;</code>establish<code class="ni">&amp;shy;</code>ment<code class="ni">&amp;shy;</code>arian<code class="ni">&amp;shy;</code>ism.<code class="p">&lt;/</code><code class="nt">p</code><code class="p">&gt;</code>&#13;
<code class="p">&lt;</code><code class="nt">p</code> <code class="na">class</code><code class="o">=</code><code class="s">"cl03"</code><code class="p">&gt;</code>Super<code class="ni">&amp;shy;</code>cali<code class="ni">&amp;shy;</code>fragi<code class="ni">&amp;shy;</code>listic<code class="ni">&amp;shy;</code>expi<code class="ni">&amp;shy;</code>ali<code class="ni">&amp;shy;</code>&#13;
docious anti<code class="ni">&amp;shy;</code>dis<code class="ni">&amp;shy;</code>establish<code class="ni">&amp;shy;</code>ment<code class="ni">&amp;shy;</code>arian<code class="ni">&amp;shy;</code>ism.<code class="p">&lt;/</code><code class="nt">p</code><code class="p">&gt;</code></pre>&#13;
&#13;
<figure><div class="figure" id="hyphenation_results">&#13;
<img alt="css5 1540" src="assets/css5_1540.png"/>&#13;
<h6><span class="label">Figure 15-40. </span>Hyphenation results</h6>&#13;
</div></figure>&#13;
&#13;
<p>Because hyphenation is language dependent, and because the CSS specifications do not define precise (or even vague) rules for user agents, hyphenation may differ by browser.</p>&#13;
&#13;
<p>If you do choose to hyphenate, be careful about the elements to which you apply the hyphenation. The <code>hyphens</code> property is inherited, so declaring <code>body {hyphens: auto;}</code> will apply hyphenation to everything in your document—including text areas, code samples, block quotes, and so on. Blocking automatic hyphenation at the level of those elements is probably a good idea, using rules that are something like this:</p>&#13;
&#13;
<pre data-code-language="css" data-type="programlisting"><code class="nt">body</code> <code class="p">{</code><code class="k">hyphens</code><code class="o">:</code> <code class="nb">auto</code><code class="p">;}</code>&#13;
<code class="nt">code</code><code class="o">,</code> <code class="nt">var</code><code class="o">,</code> <code class="nt">kbd</code><code class="o">,</code> <code class="nt">samp</code><code class="o">,</code> <code class="nt">tt</code><code class="o">,</code> <code class="nt">dir</code><code class="o">,</code> <code class="nt">listing</code><code class="o">,</code> <code class="nt">plaintext</code><code class="o">,</code> <code class="nt">xmp</code><code class="o">,</code> <code class="nt">abbr</code><code class="o">,</code> <code class="nt">acronym</code><code class="o">,</code>&#13;
<code class="nt">blockquote</code><code class="o">,</code> <code class="nt">q</code><code class="o">,</code> <code class="nt">textarea</code><code class="o">,</code> <code class="nt">input</code><code class="o">,</code> <code class="nt">option</code> <code class="p">{</code><code class="k">hyphens</code><code class="o">:</code> <code class="n">manual</code><code class="p">;}</code></pre>&#13;
&#13;
<p>It’s usually a good idea to suppress hyphenation in code samples and code blocks, especially in languages that use hyphens in things like property and value names. (Ahem.) Similar logic holds for keyboard input text—you likely don’t want a stray dash getting into your Unix command-line examples! And so on down the line. If you decide that you want to hyphenate some of these elements, just remove them from the selector.</p>&#13;
<div data-type="note" epub:type="note"><h6>Note</h6>&#13;
<p>It is strongly <a data-primary="lang attribute, HTML" data-type="indexterm" id="idm45176050749792"/>advised to set the <code>lang</code> attribute on HTML elements to enable hyphenation support and improve accessibility. As of mid-2022, <code>hyphens</code> is supported in Firefox for 30+ languages, Safari supports many European languages, but Chrome-related browsers support only English.</p>&#13;
</div>&#13;
&#13;
<p>Hyphens can be suppressed by the effects of other properties. For example, <code>word-break</code> affects the way soft wrapping of text is calculated in various languages, determining whether line breaks appear where text would otherwise overflow its content box.<a data-primary="" data-startref="ix_hyphens_prop" data-type="indexterm" id="idm45176050747088"/><a data-primary="" data-startref="ix_text_hyphens" data-type="indexterm" id="idm45176050718576"/></p>&#13;
</div></section>&#13;
&#13;
&#13;
&#13;
&#13;
&#13;
&#13;
&#13;
&#13;
<section data-pdf-bookmark="Word Breaking" data-type="sect2"><div class="sect2" id="word_breaking">&#13;
<h2>Word Breaking</h2>&#13;
&#13;
<p>When a <a data-primary="text properties" data-secondary="word breaking" data-type="indexterm" id="ix_text_break_word"/><a data-primary="word-break property" data-type="indexterm" id="ix_word_break_prop"/><a data-primary="soft-wrapping of text" data-type="indexterm" id="idm45176050713632"/><a data-primary="breaks" data-secondary="word" data-type="indexterm" id="ix_break_word"/><a data-primary="hard-wrapping of text" data-type="indexterm" id="idm45176050711776"/>run of text is too long to fit into a single line, it is <em>soft wrapped</em>. This is in contrast to <em>hard wraps</em>, which include line-feed characters and <code>&lt;br&gt;</code> elements. Where the text is soft wrapped is determined by the user agent, but <code>word-break</code> lets authors influence that decision making.</p>&#13;
<aside data-type="sidebar" epub:type="sidebar"><div class="sidebar" id="word-break">&#13;
<h1>word-break</h1><table>&#13;
&#13;
<tbody>&#13;
<tr>&#13;
<td><p><strong>Values</strong></p></td>&#13;
<td><p><code>normal</code> | <code>break-all</code> | <code>keep-all</code> | <code>break-word</code></p></td>&#13;
</tr>&#13;
<tr>&#13;
<td><p><strong>Initial value</strong></p></td>&#13;
<td><p><code>normal</code></p></td>&#13;
</tr>&#13;
<tr>&#13;
<td><p><strong>Applies to</strong></p></td>&#13;
<td><p>Text</p></td>&#13;
</tr>&#13;
<tr>&#13;
<td><p><strong>Computed value</strong></p></td>&#13;
<td><p>As specified</p></td>&#13;
</tr>&#13;
<tr>&#13;
<td><p><strong>Inherited</strong></p></td>&#13;
<td><p>Yes</p></td>&#13;
</tr>&#13;
<tr>&#13;
<td><p><strong>Animatable</strong></p></td>&#13;
<td><p>No</p></td>&#13;
</tr>&#13;
<tr>&#13;
<td><p><strong>Note</strong></p></td>&#13;
<td><p><code>break-word</code> is a legacy value and has been deprecated</p></td>&#13;
</tr>&#13;
</tbody>&#13;
</table>&#13;
</div></aside>&#13;
&#13;
<p>The default value of <code>normal</code> means that text should be wrapped as it always has been. In practical terms, this means that text is broken between words, though the definition of a word varies by language. In Latin-derived languages like English, this is almost always a space between letter sequences (e.g., words) or at hyphens. In ideographic languages like Japanese, each symbol can be a complete word, so breaks can occur between any two symbols. In other ideographic languages, though, the soft-wrap points may be limited to appear between sequences of symbols that are not space separated.  Again, that’s all by default and is the way browsers have handled text for years.</p>&#13;
&#13;
<p>If you apply the value <code>break-all</code>, soft wrapping can (and will) occur between any two characters, even if they are in the middle of a word. With this value, no hyphens are shown, even if the soft wrapping occurs at a hyphenation point (see <a data-type="xref" href="#hyphenation">“Hyphenation”</a>). Note that values of the <code>line-break</code> property (described next) can affect the behavior of <code>break-all</code> in ideographic text.</p>&#13;
&#13;
<p>The <code>keep-all</code> value, on the other hand, suppresses soft wrapping between characters, even in ideographic languages where each symbol is a word. Thus, in Japanese, a sequence of symbols with no whitespace will not be soft wrapped, even if this means the text line will exceed the length of its element. (This behavior is similar to <code>white-space: pre</code>.)</p>&#13;
&#13;
<p><a data-type="xref" href="#altering_word_breaking_behavior">Figure 15-41</a> shows a few examples of <code>word-break</code> values, and <a data-type="xref" href="#word-breaking_behavior">Table 15-3</a> summarizes the effects of each value.</p>&#13;
&#13;
<figure><div class="figure" id="altering_word_breaking_behavior">&#13;
<img alt="css5 1541" src="assets/css5_1541.png"/>&#13;
<h6><span class="label">Figure 15-41. </span>Altering word-breaking behavior</h6>&#13;
</div></figure>&#13;
<table id="word-breaking_behavior">&#13;
<caption><span class="label">Table 15-3. </span>Word-breaking behavior</caption>&#13;
<thead>&#13;
<tr>&#13;
<th>Value</th>&#13;
<th>Non-CJK</th>&#13;
<th>CJK</th>&#13;
<th>Hyphenation permitted</th>&#13;
</tr>&#13;
</thead>&#13;
<tbody>&#13;
<tr>&#13;
<td><p><code>normal</code></p></td>&#13;
<td><p>As usual</p></td>&#13;
<td><p>As usual</p></td>&#13;
<td><p>Yes</p></td>&#13;
</tr>&#13;
<tr>&#13;
<td><p><code>break-all</code></p></td>&#13;
<td><p>After any character</p></td>&#13;
<td><p>After any character</p></td>&#13;
<td><p>No</p></td>&#13;
</tr>&#13;
<tr>&#13;
<td><p><code>keep-all</code></p></td>&#13;
<td><p>As usual</p></td>&#13;
<td><p>Around sequences</p></td>&#13;
<td><p>Yes</p></td>&#13;
</tr>&#13;
</tbody>&#13;
</table>&#13;
&#13;
<p>As noted previously, the value <code>break-word</code> has been deprecated, although it is supported by all known browsers as of mid-2022. When used, it has the same effect as <code>{word-break: normal; overflow-wrap: anywhere;}</code>, even if <code>overflow-wrap</code> has a different value. (We’ll cover <code>overflow-wrap</code> in <a data-type="xref" href="#wrapping_text">“Wrapping Text”</a>.)<a data-primary="" data-startref="ix_break_word" data-type="indexterm" id="idm45176050667776"/><a data-primary="" data-startref="ix_text_break_word" data-type="indexterm" id="idm45176050666800"/><a data-primary="" data-startref="ix_word_break_prop" data-type="indexterm" id="idm45176050665856"/></p>&#13;
</div></section>&#13;
&#13;
&#13;
&#13;
&#13;
&#13;
&#13;
&#13;
&#13;
<section class="less_space pagebreak-before" data-pdf-bookmark="Line Breaking" data-type="sect2"><div class="sect2" id="line_breaking">&#13;
<h2>Line Breaking</h2>&#13;
&#13;
<p>If your <a data-primary="line breaks" data-type="indexterm" id="ix_line_breaks"/><a data-primary="text properties" data-secondary="line breaks" data-type="indexterm" id="ix_text_line_breaks"/><a data-primary="breaks" data-secondary="line" data-type="indexterm" id="ix_break_line"/><a data-primary="line-break property" data-type="indexterm" id="ix_line_break_prop"/>interests run to CJK text, then in addition to <code>word-break</code>, you will also want to get to know <code>line-break</code>.</p>&#13;
<aside data-type="sidebar" epub:type="sidebar"><div class="sidebar" id="line-break">&#13;
<h1>line-break</h1><table>&#13;
&#13;
<tbody>&#13;
<tr>&#13;
<td><p><strong>Values</strong></p></td>&#13;
<td><p><code>auto</code> | <code>loose</code> | <code>normal</code> | <code>strict</code> | <code>anywhere</code></p></td>&#13;
</tr>&#13;
<tr>&#13;
<td><p><strong>Initial value</strong></p></td>&#13;
<td><p><code>auto</code></p></td>&#13;
</tr>&#13;
<tr>&#13;
<td><p><strong>Applies to</strong></p></td>&#13;
<td><p>All elements</p></td>&#13;
</tr>&#13;
<tr>&#13;
<td><p><strong>Computed value</strong></p></td>&#13;
<td><p>As specified</p></td>&#13;
</tr>&#13;
<tr>&#13;
<td><p><strong>Inherited</strong></p></td>&#13;
<td><p>Yes</p></td>&#13;
</tr>&#13;
<tr>&#13;
<td><p><strong>Animatable</strong></p></td>&#13;
<td><p>Yes</p></td>&#13;
</tr>&#13;
</tbody>&#13;
</table>&#13;
</div></aside>&#13;
&#13;
<p>As you just saw, <code>word-break</code> can affect the way lines of text are soft wrapped in <a data-primary="CJK or CJKV text characters" data-type="indexterm" id="idm45176050641648"/>CJK text. The <code>line-break</code> property also affects such soft wrapping, specifically how wrapping is handled around CJK-specific symbols and around non-CJK punctuation (such as exclamation points, hyphens, and ellipses) that appears in text declared to be CJK.</p>&#13;
&#13;
<p>In other words, <code>line-break</code> applies to certain CJK characters all the time, regardless of the content’s declared language. If you throw some CJK characters into a paragraph of English text, <code>line-break</code> will still apply to them, but not to anything else in the text. Conversely, if you declare content to be in a CJK language, <code>line-break</code> will continue to apply to those CJK characters <em>plus</em> a number of non-CJK characters within the CJK text. These include punctuation marks, currency symbols, and a few other symbols.</p>&#13;
&#13;
<p>No authoritative list exists of which characters are affected and which are not, but <a href="http://w3.org/TR/css3-text/#line-break">the specification</a> provides a list of recommended symbols and behaviors around those symbols.</p>&#13;
&#13;
<p>The default value <code>auto</code> allows user agents to soft wrap text as they like, and more importantly lets user agents vary line breaking based on the situation. For example, the user agent can use looser line-breaking rules for short lines of text and stricter rules for long lines. In effect, <code>auto</code> allows the user agent to switch among the <code>loose</code>, <code>normal</code>, and <code>strict</code> values as needed, possibly even on a line-by-line basis within a single element.</p>&#13;
&#13;
<p>You can perhaps infer that those other values have the following general meanings:</p>&#13;
<dl>&#13;
<dt><code>loose</code></dt>&#13;
<dd>&#13;
<p>This <a data-primary="loose keyword, line-break" data-type="indexterm" id="idm45176050632032"/>value imposes the “least restrictive” rules for wrapping text, and is meant for use when line lengths are short, such as in newspapers.</p>&#13;
</dd>&#13;
<dt><code>normal</code></dt>&#13;
<dd>&#13;
<p>This value imposes the “most common” rules for wrapping text. What exactly “most common” means is not precisely defined, though there is the aforementioned list of recommended behaviors.</p>&#13;
</dd>&#13;
<dt><code>strict</code></dt>&#13;
<dd>&#13;
<p>This <a data-primary="strict keyword, line-break" data-type="indexterm" id="idm45176050628352"/>value imposes the “most stringent” rules for wrapping text. Again, this is not precisely defined.</p>&#13;
</dd>&#13;
<dt><code>anywhere</code></dt>&#13;
<dd>&#13;
<p>This <a data-primary="anywhere keyword, line-break" data-type="indexterm" id="idm45176050626000"/>value creates a line-breaking opportunity around every typographic unit, including whitespace and punctuation marks.  A soft wrap can even happen in the middle of a word, and hyphenation is not applied in such circumstances.<a data-primary="" data-startref="ix_line_break_prop" data-type="indexterm" id="idm45176050625168"/></p>&#13;
</dd>&#13;
</dl>&#13;
</div></section>&#13;
&#13;
&#13;
&#13;
&#13;
&#13;
&#13;
&#13;
&#13;
<section data-pdf-bookmark="Wrapping Text" data-type="sect2"><div class="sect2" id="wrapping_text">&#13;
<h2>Wrapping Text</h2>&#13;
&#13;
<p>After all that <a data-primary="text properties" data-secondary="wrapping text" data-type="indexterm" id="ix_text_wrap"/><a data-primary="overflow-wrap property" data-type="indexterm" id="ix_overflow_wrap_prop"/><a data-primary="soft-wrapping of text" data-type="indexterm" id="idm45176050620032"/>information about hyphenation and soft wrapping, what happens when text overflows its container anyway? That’s what <code>overflow-wrap</code> addresses.</p>&#13;
&#13;
<p>Originally called <code>word-wrap</code>, the <code>overflow-wrap</code> property applies to inline elements, setting whether the browser should insert line breaks within otherwise unbreakable strings in order to prevent text from overflowing its line box.  In contrast to <code>word-break</code>, <code>overflow-wrap</code> will create a break only if an entire word cannot be placed on its own line without overflowing.</p>&#13;
<aside data-type="sidebar" epub:type="sidebar"><div class="sidebar" id="overflow-wrap">&#13;
<h1>overflow-wrap</h1><table>&#13;
&#13;
<tbody>&#13;
<tr>&#13;
<td><p><strong>Values</strong></p></td>&#13;
<td><p><code>normal</code> | <code>break-word</code> | <code>anywhere</code></p></td>&#13;
</tr>&#13;
<tr>&#13;
<td><p><strong>Initial value</strong></p></td>&#13;
<td><p><code>normal</code></p></td>&#13;
</tr>&#13;
<tr>&#13;
<td><p><strong>Applies to</strong></p></td>&#13;
<td><p>All elements</p></td>&#13;
</tr>&#13;
<tr>&#13;
<td><p><strong>Computed value</strong></p></td>&#13;
<td><p>As specified</p></td>&#13;
</tr>&#13;
<tr>&#13;
<td><p><strong>Inherited</strong></p></td>&#13;
<td><p>Yes</p></td>&#13;
</tr>&#13;
<tr>&#13;
<td><p><strong>Animatable</strong></p></td>&#13;
<td><p>Yes</p></td>&#13;
</tr>&#13;
</tbody>&#13;
</table>&#13;
</div></aside>&#13;
&#13;
<p>This property is less straightforward than it first appears, because its primary effect is to change how word wrapping and minimum-content sizing (which we haven’t even had a chance to discuss yet) interact in trying to avoid overflow at the ends of text lines.</p>&#13;
<div data-type="note" epub:type="note"><h6>Note</h6>&#13;
<p>The <code>overflow-wrap</code> <a data-primary="whitespace" data-secondary="in text" data-secondary-sortas="text" data-type="indexterm" id="idm45176050600224"/><a data-primary="white-space property" data-type="indexterm" id="idm45176050598944"/>property can operate only if the value of <code>white-space</code> allows line wrapping. If it does not (e.g., with the value <code>pre</code>), <code>overflow-wrap</code> has no effect.</p>&#13;
</div>&#13;
&#13;
<p>If the default value of <code>normal</code> is in effect, wrapping happens as normal—between words or as directed by the language.  If a word is longer than the width of the element containing it, the word will “spill out” of the element box, just as on the classic CSS IS AWESOME coffee mug.  (Google it if you haven’t seen it before.  It’s worth the chuckle.)</p>&#13;
&#13;
<p>If the <code>break-word</code> value is applied, wrapping can happen in the middle of words, with no hyphen placed at the site of the wrapping, but this will happen so that line lengths will be as wide as the element’s width.  In other words, if the <code>width</code> property of the element is given the value <code>min-content</code>, the “minimum content” calculations will assume that content strings must be as long as possible.</p>&#13;
&#13;
<p>By contrast, when <code>anywhere</code> is set, the “minimum content” calculations will take line-wrapping opportunities into account.  This means, in effect, that the minimum-content width will be the width of the widest character in the element’s content.  Only when two skinny characters are next to each other will they have a chance to be on the same line together, and in a monospace font every line of text will be a single character.  <a data-type="xref" href="#overflow_wrapping">Figure 15-42</a> illustrates the difference between these three values.</p>&#13;
&#13;
<figure><div class="figure" id="overflow_wrapping">&#13;
<img alt="css5 1542" src="assets/css5_1542.png"/>&#13;
<h6><span class="label">Figure 15-42. </span>Overflow wrapping for <code>width: min-content</code></h6>&#13;
</div></figure>&#13;
&#13;
<p>If the value of <code>width</code> is something other than <code>min-content</code>, then <code>break-word</code> and <code>anywhere</code> will have the same results. Really, the only difference between the two values is that with <code>anywhere</code>, soft-wrap opportunities introduced by the word break are considered when calculating min-content intrinsic sizes. With <code>break-word</code>, they are not considered.</p>&#13;
&#13;
<p>While <code>overflow-wrap: break-word</code> may appear very similar to <code>word-break: break-all</code>, they are not the same. To see why, compare the second box in <a data-type="xref" href="#overflow_wrapping">Figure 15-42</a> to the top-middle box in <a data-type="xref" href="#altering_word_breaking_behavior">Figure 15-41</a>. As it shows, <code>overflow-wrap</code> kicks in only if content actually overflows; thus, when there is an opportunity to use whitespace in the source to wrap lines, <code>overflow-wrap</code> will take it. By contrast, <code>word-break: break-all</code> will cause wrapping when content reaches the wrapping edge, regardless of any whitespace that comes earlier in the line.</p>&#13;
&#13;
<p>Once upon a time there was a property called <code>word-wrap</code> that did exactly what <code>overflow-wrap</code> does. The two are so identical that the specification explicitly states that user agents “must treat <code>word-wrap</code> as an alternate name for the <code>overflow-wrap</code> property, as if it were a shorthand of <code>overflow-wrap</code>.”<a data-primary="" data-startref="ix_line_breaks" data-type="indexterm" id="idm45176050579696"/><a data-primary="" data-startref="ix_text_line_breaks" data-type="indexterm" id="idm45176050578688"/><a data-primary="" data-startref="ix_break_line" data-type="indexterm" id="idm45176050577744"/><a data-primary="" data-startref="ix_overflow_wrap_prop" data-type="indexterm" id="idm45176050576800"/></p>&#13;
</div></section>&#13;
</div></section>&#13;
&#13;
&#13;
&#13;
&#13;
&#13;
&#13;
<section data-pdf-bookmark="Writing Modes" data-type="sect1"><div class="sect1" id="writing_modes_section">&#13;
<h1>Writing Modes</h1>&#13;
&#13;
<p>Earlier, we <a data-primary="language flow direction" data-type="indexterm" id="ix_lang_flow_dir"/><a data-primary="text properties" data-secondary="writing modes (flow direction)" data-type="indexterm" id="ix_text_write_mode"/>discussed inline direction and introduced the topic of reading direction.  You’ve already seen numerous benefits of including the <code>lang</code> attribute in your HTML, from being able to style based on language selectors, to allowing the user agent to hyphenate.  Generally, you should let the user agent handle the direction of text based on the language attribute, but CSS does provide properties for the rare occasions when an override is necessary.</p>&#13;
&#13;
&#13;
&#13;
&#13;
&#13;
&#13;
&#13;
&#13;
<section data-pdf-bookmark="Setting Writing Modes" data-type="sect2"><div class="sect2" id="setting_writing_modes">&#13;
<h2>Setting Writing Modes</h2>&#13;
&#13;
<p>The <a data-primary="writing-mode property" data-type="indexterm" id="ix_write_mode_prop"/>property used for specifying one of five available writing modes is, of all things, <code>writing-mode</code>.  This property sets the block-flow direction of the element, which determines how boxes are stacked together.</p>&#13;
<aside data-type="sidebar" epub:type="sidebar"><div class="sidebar" id="writing-mode">&#13;
<h1>writing-mode</h1><table>&#13;
&#13;
<tbody>&#13;
<tr>&#13;
<td><p><strong>Values</strong></p></td>&#13;
<td><p><code>horizontal-tb</code> | <code>vertical-rl</code> | <code>vertical-lr</code> | <code>sideways-rl</code> | <code>sideways-lr</code></p></td>&#13;
</tr>&#13;
<tr>&#13;
<td><p><strong>Initial value</strong></p></td>&#13;
<td><p><code>horizontal-tb</code></p></td>&#13;
</tr>&#13;
<tr>&#13;
<td><p><strong>Applies to</strong></p></td>&#13;
<td><p>All elements except table row groups, table column groups, table rows, table columns, Ruby base containers, and Ruby annotation containers</p></td>&#13;
</tr>&#13;
<tr>&#13;
<td><p><strong>Computed value</strong></p></td>&#13;
<td><p>As specified</p></td>&#13;
</tr>&#13;
<tr>&#13;
<td><p><strong>Inherited</strong></p></td>&#13;
<td><p>Yes</p></td>&#13;
</tr>&#13;
<tr>&#13;
<td><p><strong>Animatable</strong></p></td>&#13;
<td><p>Yes</p></td>&#13;
</tr>&#13;
</tbody>&#13;
</table>&#13;
</div></aside>&#13;
&#13;
<p>The default value, <code>horizontal-tb</code>, means “a horizontal inline direction, and a top-to-bottom block direction.”  This covers all Western and some Middle Eastern languages, which may differ in the direction of their horizontal writing.  The other two values offer a vertical inline direction, and either an RTL or LTR block direction.</p>&#13;
&#13;
<p>The <code>sideways-rl</code> and <code>sideways-lr</code> values take horizontal text and turn its flow “sideways,” with the direction the text runs either going right to left (for <code>sidewyas-rl</code>) or left to right (for <code>sideways-lr</code>).  The difference between these values and the vertical values is that the text is turned whichever way is necessary to make the text read naturally.</p>&#13;
&#13;
<p><a data-type="xref" href="#writing_modes">Figure 15-43</a> illustrates all five values.</p>&#13;
&#13;
<figure><div class="figure" id="writing_modes">&#13;
<img alt="css5 1543" src="assets/css5_1543.png"/>&#13;
<h6><span class="label">Figure 15-43. </span>Writing modes</h6>&#13;
</div></figure>&#13;
&#13;
<p>Notice how the lines are strung together in the two <code>vertical-</code> examples.  If you tilt your head to the right, the text in <code>vertical-rl</code> is at least readable.  The text in <code>vertical-lr</code>, on the other hand, is difficult to read because it appears to flow from bottom to top, at least when arranging English text.  This is not a problem in languages that use <code>vertical-lr</code> flow, such as forms of Japanese.</p>&#13;
&#13;
<p>In vertical writing modes, the block direction is horizontal, which means vertical alignment of inline elements causes them to move horizontally.  This is illustrated in <a data-type="xref" href="#writing_modes_vertical_align">Figure 15-44</a>.</p>&#13;
&#13;
<figure class="bordernone"><div class="figure" id="writing_modes_vertical_align">&#13;
<img alt="css5 1544" src="assets/css5_1544.png"/>&#13;
<h6><span class="label">Figure 15-44. </span>Writing modes and “vertical” alignment</h6>&#13;
</div></figure>&#13;
&#13;
<p>All the super- and subscript elements cause horizontal shifts, both of themselves and the placement of the lines they occupy, even though the property used to move them is <code>vertical-align</code>.  As described earlier, the vertical displacement is with respect to the line box, where the box’s baseline is defined as horizontal—even when it’s being drawn &#13;
<span class="keep-together">vertically.</span></p>&#13;
&#13;
<p>Confused?  It’s OK.  Writing modes are likely to confuse you, because they’re such a different way of thinking <em>and</em> because old assumptions in the CSS specification clash with the new capabilities.  If vertical writing modes had been supported from the outset, <code>vertical-align</code> would likely have a different name—<code>inline-align</code> or something like that.  (Maybe one day that will happen.)<a data-primary="" data-startref="ix_write_mode_prop" data-type="indexterm" id="idm45176050536720"/></p>&#13;
</div></section>&#13;
&#13;
&#13;
&#13;
&#13;
&#13;
&#13;
&#13;
&#13;
<section data-pdf-bookmark="Changing Text Orientation" data-type="sect2"><div class="sect2" id="changing_text_orientation">&#13;
<h2>Changing Text Orientation</h2>&#13;
&#13;
<p>Once you’ve <a data-primary="text-orientation property" data-type="indexterm" id="idm45176050534048"/>settled on a writing mode, you may decide you want to change the orientation of characters within those lines of text.  You might want to do this for various reasons, not the least of which is using different writing systems that are commingled, such as &#13;
<span class="keep-together">Japanese</span> text with English words or numbers mixed in.  In these cases, <code>text-orientation</code> is the answer.</p>&#13;
<aside data-type="sidebar" epub:type="sidebar"><div class="sidebar" id="text-orientation">&#13;
<h1>text-orientation</h1><table>&#13;
&#13;
<tbody>&#13;
<tr>&#13;
<td><p><strong>Values</strong></p></td>&#13;
<td><p><code>mixed</code> | <code>upright</code> | <code>sideways</code></p></td>&#13;
</tr>&#13;
<tr>&#13;
<td><p><strong>Initial value</strong></p></td>&#13;
<td><p><code>mixed</code></p></td>&#13;
</tr>&#13;
<tr>&#13;
<td><p><strong>Applies to</strong></p></td>&#13;
<td><p>All elements except table row groups, table rows, table column groups, and table columns</p></td>&#13;
</tr>&#13;
<tr>&#13;
<td><p><strong>Computed value</strong></p></td>&#13;
<td><p>As specified</p></td>&#13;
</tr>&#13;
<tr>&#13;
<td><p><strong>Inherited</strong></p></td>&#13;
<td><p>Yes</p></td>&#13;
</tr>&#13;
<tr>&#13;
<td><p><strong>Animatable</strong></p></td>&#13;
<td><p>Yes</p></td>&#13;
</tr>&#13;
</tbody>&#13;
</table>&#13;
</div></aside>&#13;
&#13;
<p>The <code>text-orientation</code> property affects the way characters are oriented.  What that means is best illustrated by the following styles, rendered in <a data-type="xref" href="#writing_modes_text_orientation">Figure 15-45</a>:</p>&#13;
&#13;
<pre data-code-language="css" data-type="programlisting"><code class="nc">.verts</code> <code class="p">{</code><code class="k">writing-mode</code><code class="o">:</code> <code class="n">vertical</code><code class="o">-</code><code class="n">lr</code><code class="p">;}</code>&#13;
<code class="nf">#one</code> <code class="p">{</code><code class="nb">text</code><code class="o">-</code><code class="n">orientation</code><code class="o">:</code> <code class="n">mixed</code><code class="p">;}</code>&#13;
<code class="nf">#two</code> <code class="p">{</code><code class="nb">text</code><code class="o">-</code><code class="n">orientation</code><code class="o">:</code> <code class="n">upright</code><code class="p">;}</code>&#13;
<code class="nf">#thr</code> <code class="p">{</code><code class="nb">text</code><code class="o">-</code><code class="n">orientation</code><code class="o">:</code> <code class="n">sideways</code><code class="p">;}</code></pre>&#13;
&#13;
<figure><div class="figure" id="writing_modes_text_orientation">&#13;
<img alt="css5 1545" src="assets/css5_1545.png"/>&#13;
<h6><span class="label">Figure 15-45. </span>Text orientation</h6>&#13;
</div></figure>&#13;
&#13;
<p>Across the top of <a data-type="xref" href="#writing_modes_text_orientation">Figure 15-45</a> is a basically unstyled paragraph of mixed Japanese and English text.  Below that are three copies of that paragraph, using the writing mode <code>vertical-lr</code>.  In the first, <code>text-orientation: mixed</code> writes the horizontal-script characters (the English) sideways, and the vertical-script characters (the Japanese) upright.  In the second, all characters are <code>upright</code>, including the English characters.  In the third, all characters are <code>sideways</code>, including the Japanese characters.</p>&#13;
<div data-type="warning" epub:type="warning"><h6>Warning</h6>&#13;
<p>As of mid-2022, <code>sideways</code> is not supported by Chromium &#13;
<span class="keep-together">browsers.</span></p>&#13;
</div>&#13;
</div></section>&#13;
&#13;
&#13;
&#13;
&#13;
&#13;
&#13;
&#13;
&#13;
<section data-pdf-bookmark="Combining Characters" data-type="sect2"><div class="sect2" id="combining_characters">&#13;
<h2>Combining Characters</h2>&#13;
&#13;
<p>Only <a data-primary="text-combine-upright property" data-type="indexterm" id="ix_text_combine_up"/>relevant to vertical writing modes, the <code>text-combine-upright</code> property enables displaying a subset of characters upright within vertical text.  This can be useful when mixing languages or pieces of languages, such as embedding Arabic numerals in CJK text, but may have other applications.</p>&#13;
<aside data-type="sidebar" epub:type="sidebar"><div class="sidebar" id="idm45176050475552">&#13;
<h1>text-combine-upright</h1><table>&#13;
&#13;
<tbody>&#13;
<tr>&#13;
<td><p><strong>Values</strong></p></td>&#13;
<td><p><code>none</code> | <code>all</code> | [ <code>digits</code>  &lt;<em><code>integer</code></em>&gt;? ]</p></td>&#13;
</tr>&#13;
<tr>&#13;
<td><p><strong>Initial value</strong></p></td>&#13;
<td><p><code>none</code></p></td>&#13;
</tr>&#13;
<tr>&#13;
<td><p><strong>Applies to</strong></p></td>&#13;
<td><p>Nonreplaced inline elements</p></td>&#13;
</tr>&#13;
<tr>&#13;
<td><p><strong>Computed value</strong></p></td>&#13;
<td><p>Specified keyword, plus integer if <code>digits</code></p></td>&#13;
</tr>&#13;
<tr>&#13;
<td><p><strong>Inherited</strong></p></td>&#13;
<td><p>Yes</p></td>&#13;
</tr>&#13;
<tr>&#13;
<td><p><strong>Animatable</strong></p></td>&#13;
<td><p>No</p></td>&#13;
</tr>&#13;
<tr>&#13;
<td><p><strong>Note</strong></p></td>&#13;
<td><p>For  &lt;<em><code>integer</code></em>&gt; values, only the numbers 2, 3, and 4 are valid</p></td>&#13;
</tr>&#13;
</tbody>&#13;
</table>&#13;
</div></aside>&#13;
&#13;
<p>Essentially, this property lets you say whether characters may sit next to each other horizontally while being part of a vertical line of text.  Your choices are whether to allow this for all characters or for only a few numeric digits.</p>&#13;
&#13;
<p>Here’s how it works: as a line of vertical text is laid out, the browser can consider whether the width of two characters, sitting next to each other, is less than or equal to the value of <code>1em</code> for the text.  If so, they may be placed next to each other, effectively putting two characters into the space of one.  If not, the first character is placed alone, and the process &#13;
<span class="keep-together">continues.</span></p>&#13;
&#13;
<p>As of mid-2022, this can lead to characters being very, very squished.  For an example, consider the following markup and CSS:</p>&#13;
&#13;
<pre data-code-language="xml" data-type="programlisting"><code class="nt">&lt;div</code><code class="w"> </code><code class="na">lang=</code><code class="s">"zh-Hant"</code><code class="nt">&gt;</code><code class="w"/>&#13;
<code class="nt">&lt;p&gt;</code>这是一些文本<code class="nt">&lt;/p&gt;</code><code class="w"/>&#13;
<code class="nt">&lt;p</code><code class="w"> </code><code class="na">class=</code><code class="s">"combine"</code><code class="nt">&gt;</code>这是一些文本<code class="nt">&lt;/p&gt;</code><code class="w"/>&#13;
<code class="nt">&lt;p&gt;</code>这是117一些0文本23日<code class="nt">&lt;/p&gt;</code><code class="w"/>&#13;
<code class="nt">&lt;p</code><code class="w"> </code><code class="na">class=</code><code class="s">"combine"</code><code class="nt">&gt;</code>这是117一些0文本23日<code class="nt">&lt;/p&gt;</code><code class="w"/>&#13;
<code class="nt">&lt;p</code><code class="w"> </code><code class="na">class=</code><code class="s">"combine"</code><code class="nt">&gt;</code><code class="w"/>&#13;
<code class="w">   </code>这是<code class="nt">&lt;span&gt;</code>117<code class="nt">&lt;/span&gt;</code>一些<code class="nt">&lt;span&gt;</code>0<code class="nt">&lt;/span&gt;</code>文本<code class="nt">&lt;span&gt;</code>23<code class="nt">&lt;/span&gt;</code>日<code class="nt">&lt;/p&gt;</code><code class="w"/>&#13;
<code class="nt">&lt;p&gt;</code>这是<code class="nt">&lt;span</code><code class="w"> </code><code class="na">class=</code><code class="s">"combine"</code><code class="nt">&gt;</code>117<code class="nt">&lt;/span&gt;</code>一些<code class="nt">&lt;span</code><code class="w"/>&#13;
<code class="w">   </code><code class="na">class=</code><code class="s">"combine"</code><code class="nt">&gt;</code>0<code class="nt">&lt;/span&gt;</code>文本<code class="nt">&lt;span</code><code class="w"> </code><code class="na">class=</code><code class="s">"combine"</code><code class="nt">&gt;</code>23<code class="nt">&lt;/span&gt;</code>日<code class="nt">&lt;/p&gt;</code><code class="w"/>&#13;
<code class="nt">&lt;/div&gt;</code><code class="w"/></pre>&#13;
&#13;
<pre data-code-language="css" data-type="programlisting"><code class="nt">p</code> <code class="p">{</code><code class="k">writing-mode</code><code class="o">:</code> <code class="n">vertical</code><code class="o">-</code><code class="n">rl</code><code class="p">;}</code>&#13;
<code class="nc">.combine</code> <code class="p">{</code><code class="nb">text</code><code class="o">-</code><code class="n">combine</code><code class="o">-</code><code class="n">upright</code><code class="o">:</code> <code class="n">all</code><code class="p">;}</code></pre>&#13;
&#13;
<p>All of the paragraphs are written using <code>writing-mode: vertical-rl</code>, but some are set to <code>text-combine-upright: all</code>, and others are not.  The last paragraph is not set to <code>all</code>, but the <code>&lt;span&gt;</code> elements within it have been. <a data-type="xref" href="#various_types_of_upright_combination">Figure 15-46</a> shows the result.</p>&#13;
&#13;
<figure class="coderesult"><div class="figure" id="various_types_of_upright_combination">&#13;
<img alt="css5 1546" src="assets/css5_1546.png"/>&#13;
<h6><span class="label">Figure 15-46. </span>Various types of upright combination</h6>&#13;
</div></figure>&#13;
&#13;
<p>Lest you think a bug is at work here, the results are consistent across browsers (as of mid-2022). The second and fourth columns have every single character, whether Chinese ideographs or Arabic numerals, squished horizontally to fit on a single line.</p>&#13;
&#13;
<p>A way around this is to break up the text with child elements, as shown in the fifth and sixth columns.  In the first, numbers are surrounded with <code>&lt;span&gt;</code> elements, which break up the fitting process.  This works as long as no run of text has too many characters; beyond two or three symbols, the text becomes progressively more difficult to comprehend.</p>&#13;
&#13;
<p>The sixth column shows a way to hack around the problem: apply <code>text-combine-upright: all</code> to only the <code>&lt;span&gt;</code> elements, which are already used to wrap the Arabic numerals, by giving each <code>&lt;span&gt;</code> a <code>class</code> value of <code>combine</code>.  In that case, the <code>.combine</code> rule will apply only to the <code>&lt;span&gt;</code> elements, not all the text in the paragraph.</p>&#13;
&#13;
<p>This is what the <code>digits</code> value is supposed to make possible without the need for all the extra markup.  Theoretically, you could get the same result as that shown in the sixth column of <a data-type="xref" href="#various_types_of_upright_combination">Figure 15-46</a> by applying the following CSS to the paragraph that has no <code>&lt;span&gt;</code> elements in it:</p>&#13;
&#13;
<pre data-code-language="css" data-type="programlisting"><code class="nt">p</code> <code class="p">{</code><code class="k">writing-mode</code><code class="o">:</code> <code class="n">vertical</code><code class="o">-</code><code class="n">rl</code><code class="p">;</code> <code class="nb">text</code><code class="o">-</code><code class="n">upright</code><code class="o">-</code><code class="n">combine</code><code class="o">:</code> <code class="nb">digits</code> <code class="m">4</code><code class="p">;}</code></pre>&#13;
&#13;
<p>Sadly, as of mid-2022, no browser supports this behavior, unless you count Internet Explorer 11 using the alternate property name <code>-ms-text-combine-horizontal</code>.<a data-primary="" data-startref="ix_text_combine_up" data-type="indexterm" id="idm45176050377792"/></p>&#13;
</div></section>&#13;
&#13;
&#13;
&#13;
&#13;
&#13;
&#13;
&#13;
&#13;
<section data-pdf-bookmark="Declaring Direction" data-type="sect2"><div class="sect2" id="declaring_direction">&#13;
<h2>Declaring Direction</h2>&#13;
&#13;
<p>Harking back to the days of <a data-primary="CSS2 specification" data-secondary="direction of text" data-type="indexterm" id="idm45176050238336"/>CSS2, a pair of properties could be used to affect the direction of text by changing the inline baseline direction: <code>direction</code> and <code>unicode-bidi</code>.  <a data-primary="direction property" data-type="indexterm" id="idm45176050236272"/>These should generally not be used today, but are covered here in case you come across them in legacy code.</p>&#13;
<div data-type="warning" epub:type="warning"><h6>Warning</h6>&#13;
<p>The CSS specification explicitly warns <em>against</em> using <code>direction</code> and <code>unicode-bidi</code> in CSS when applied to HTML documents.  To quote: “Because HTML [user agents] can turn off CSS styling, we recommend…the HTML <code>dir</code> attribute and <code>&lt;bdo&gt;</code> element to ensure correct bidirectional layout in the absence of a style sheet.”</p>&#13;
</div>&#13;
<aside data-type="sidebar" epub:type="sidebar"><div class="sidebar" id="direction">&#13;
<h1>direction</h1><table>&#13;
&#13;
<tbody>&#13;
<tr>&#13;
<td><p><strong>Values</strong></p></td>&#13;
<td><p><code>ltr</code> | <code>rtl</code></p></td>&#13;
</tr>&#13;
<tr>&#13;
<td><p><strong>Initial value</strong></p></td>&#13;
<td><p><code>ltr</code></p></td>&#13;
</tr>&#13;
<tr>&#13;
<td><p><strong>Applies to</strong></p></td>&#13;
<td><p>All elements</p></td>&#13;
</tr>&#13;
<tr>&#13;
<td><p><strong>Computed value</strong></p></td>&#13;
<td><p>As specified</p></td>&#13;
</tr>&#13;
<tr>&#13;
<td><p><strong>Inherited</strong></p></td>&#13;
<td><p>Yes</p></td>&#13;
</tr>&#13;
<tr>&#13;
<td><p><strong>Animatable</strong></p></td>&#13;
<td><p>Yes</p></td>&#13;
</tr>&#13;
</tbody>&#13;
</table>&#13;
</div></aside>&#13;
&#13;
<p>The <code>direction</code> property affects the writing direction of text in a block-level element, the direction of table-column layout, the direction in which content horizontally overflows its element box, and the position of the last line of a fully justified element. For inline elements, direction applies only if the property <code>unicode-bidi</code> is set to either <code>embed</code> or <code>bidi-override</code> (see the following description of <code>unicode-bidi</code>).</p>&#13;
&#13;
<p>Although <code>ltr</code> is the default, it is expected that if a browser is displaying RTL text, the value will be changed to <code>rtl</code>. Thus, a browser might carry an internal rule stating something like the following:</p>&#13;
&#13;
<pre data-code-language="css" data-type="programlisting"><code class="o">*</code><code class="nd">:lang</code><code class="o">(</code><code class="nt">ar</code><code class="o">),</code> <code class="o">*</code><code class="nd">:lang</code><code class="o">(</code><code class="nt">he</code><code class="o">)</code> <code class="p">{</code><code class="k">direction</code><code class="o">:</code> <code class="n">rtl</code><code class="p">;}</code></pre>&#13;
&#13;
<p>The real rule would be longer and encompass all RTL languages, not just Arabic and Hebrew, but it illustrates the point.</p>&#13;
&#13;
<p>While <a data-primary="unicode-bidi property" data-type="indexterm" id="idm45176050191936"/>CSS attempts to address writing direction, Unicode has a much more robust method for handling directionality. With the property <code>unicode-bidi</code>, CSS authors can take advantage of some of Unicode’s capabilities.</p>&#13;
<aside data-type="sidebar" epub:type="sidebar"><div class="sidebar" id="unicode-bidi">&#13;
<h1>unicode-bidi</h1><table>&#13;
&#13;
<tbody>&#13;
<tr>&#13;
<td><p><strong>Values</strong></p></td>&#13;
<td><p><code>normal</code> | <code>embed</code> | <code>bidi-override</code></p></td>&#13;
</tr>&#13;
<tr>&#13;
<td><p><strong>Initial value</strong></p></td>&#13;
<td><p><code>normal</code></p></td>&#13;
</tr>&#13;
<tr>&#13;
<td><p><strong>Applies to</strong></p></td>&#13;
<td><p>All elements</p></td>&#13;
</tr>&#13;
<tr>&#13;
<td><p><strong>Computed value</strong></p></td>&#13;
<td><p>As specified</p></td>&#13;
</tr>&#13;
<tr>&#13;
<td><p><strong>Inherited</strong></p></td>&#13;
<td><p>No</p></td>&#13;
</tr>&#13;
<tr>&#13;
<td><p><strong>Animatable</strong></p></td>&#13;
<td><p>Yes</p></td>&#13;
</tr>&#13;
</tbody>&#13;
</table>&#13;
</div></aside>&#13;
&#13;
<p>Here we’ll simply quote the value descriptions from the CSS 2.1 specification, which do a good job of capturing the essence of each value:</p>&#13;
<dl>&#13;
<dt><code>normal</code></dt>&#13;
<dd>&#13;
<p>The element does not open an additional level of embedding with respect to the bidirectional algorithm. For inline-level elements, implicit reordering works across element boundaries.</p>&#13;
</dd>&#13;
<dt><code>embed</code></dt>&#13;
<dd>&#13;
<p>If the element is inline-level, this value opens an additional level of embedding with respect to the bidirectional algorithm. The direction of this embedding level is given by the <code>direction</code> property. Inside the element, reordering is done implicitly. This corresponds to adding a “left-to-right embedding” character (U+202A; for <code>direction: ltr</code>) or a “right-to-left embedding” character (U+202B; for <code>direction: rtl</code>) at the start of the element and a “pop directional formatting” character (U+202C) at the end of the element.</p>&#13;
</dd>&#13;
<dt><code>bidi-override</code></dt>&#13;
<dd>&#13;
<p>This creates an override for inline-level elements. For block-level elements, this creates an override for inline-level descendants not within another block. This means that, inside the element, reordering is strictly in sequence according to the <code>direction</code> property; the implicit part of the bidirectional algorithm is ignored. This corresponds to adding a “left-to-right override” character (U+202D; for <code>direction: ltr</code>) or “right-to-left override” character (U+202E; for <code>direction: rtl</code>) at the start of the element and a “pop directional formatting” character (U+202C) at the end of &#13;
<span class="keep-together">the element</span>.<a data-primary="" data-startref="ix_text_write_mode" data-type="indexterm" id="idm45176050135280"/><a data-primary="" data-startref="ix_lang_flow_dir" data-type="indexterm" id="idm45176050134272"/></p>&#13;
</dd>&#13;
</dl>&#13;
</div></section>&#13;
</div></section>&#13;
&#13;
&#13;
&#13;
&#13;
&#13;
&#13;
<section class="less_space pagebreak-before" data-pdf-bookmark="Summary" data-type="sect1"><div class="sect1" id="text_summary">&#13;
<h1>Summary</h1>&#13;
&#13;
<p>Even without altering the font face, we have many ways to change the appearance of text.<a data-primary="" data-startref="ix_text_properties_ch15" data-type="indexterm" id="idm45176050131376"/> In addition to classic effects such as underlining, CSS enables you to draw lines over text or through it, change the amount of space between words and letters, indent the first line of a paragraph (or other block-level element), align text in various ways, exert influence over the hyphenation and line breaking of text, and much more. You can even alter the amount of space between lines of text. CSS also supports languages other than those that are written left to right, top to bottom. Given that so much of the web is text, the strength of these properties makes a great deal of sense.</p>&#13;
</div></section>&#13;
</div></section></body></html>