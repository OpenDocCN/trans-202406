<html><head></head><body><div id="sbo-rt-content"><section data-type="chapter" epub:type="chapter" data-pdf-bookmark="Chapter 3. Structuring and Writing Patterns"><div class="chapter" id="structuring-and-writing-patterns">
<h1><span class="label">Chapter 3. </span>Structuring and Writing Patterns</h1>


<p>The success of a new idea depends on its utility and also on how you present it to those it is trying to help. For developers to understand and adopt a design pattern, it should be presented with relevant information about the context, circumstances, prerequisites, and significant examples. This chapter applies to those trying to understand a specific pattern and those trying to introduce a new one because it provides essential information on how patterns are structured and written.</p>






<section data-type="sect1" data-pdf-bookmark="The Structure of a Design Pattern"><div class="sect1" id="the-structure-of-a-design-pattern">
<h1>The Structure of a Design Pattern</h1>

<p>Pattern authors would be unable to successfully<a data-type="indexterm" data-primary="design patterns" data-secondary="structure of" id="idm45017715420464"/><a data-type="indexterm" data-primary="patterns" data-secondary="structure of" id="idm45017715419488"/> create and publish a pattern if they cannot define its purpose. Similarly, developers will find understanding or implementing a pattern challenging if they do not have a background or context.</p>

<p>Pattern authors must outline a new pattern’s design, implementation, and purpose. Authors initially present a new pattern in the form of a <em>rule</em> that establishes a relationship between:</p>

<ul>
<li>
<p>A context</p>
</li>
<li>
<p>A system of forces that arises in that context</p>
</li>
<li>
<p>A configuration that allows these forces to resolve themselves in context</p>
</li>
</ul>

<p>With this in mind, let’s now summarize the component elements for a design pattern. A design pattern should have the following, with the first five elements being the most important:</p>
<dl class="less_space pagebreak-before">
<dt>Pattern name</dt>
<dd>
<p>A unique name representative of the purpose of the pattern.</p>
</dd>
<dt>Description</dt>
<dd>
<p>A brief description of what the pattern helps achieve.</p>
</dd>
<dt>Context outline</dt>
<dd>
<p>The contexts in which the pattern effectively responds to its users’ needs.</p>
</dd>
<dt>Problem statement</dt>
<dd>
<p>A statement of the problem addressed so that we understand the pattern’s intent.</p>
</dd>
<dt>Solution</dt>
<dd>
<p>A description of how the user’s problem is solved in an understandable list of steps and perceptions.</p>
</dd>
<dt>Design</dt>
<dd>
<p>A description of the pattern’s design and, in particular, the user’s behavior in interacting with it.</p>
</dd>
<dt>Implementation</dt>
<dd>
<p>A guide to how developers would implement the pattern.</p>
</dd>
<dt>Illustrations</dt>
<dd>
<p>Visual representations of classes in the pattern (e.g., a diagram).</p>
</dd>
<dt>Examples</dt>
<dd>
<p>Implementations of the pattern in a minimal form.</p>
</dd>
<dt>Corequisites</dt>
<dd>
<p>What other patterns may be needed to support the use of the pattern being described?</p>
</dd>
<dt>Relations</dt>
<dd>
<p>What patterns does this pattern resemble? Does it closely mimic any others?</p>
</dd>
<dt>Known usage</dt>
<dd>
<p>Is the pattern being used in the wild? If so, where and how?</p>
</dd>
<dt>Discussions</dt>
<dd>
<p>The team’s or author’s thoughts on the exciting benefits of the pattern.</p>
</dd>
</dl>
</div></section>






<section data-type="sect1" data-pdf-bookmark="Well-Written Patterns"><div class="sect1" id="well-written-patterns">
<h1>Well-Written Patterns</h1>

<p>Understanding the structure and purpose<a data-type="indexterm" data-primary="design patterns" data-secondary="writing a pattern" data-tertiary="well-written patterns" id="idm45017715972032"/><a data-type="indexterm" data-primary="patterns" data-secondary="writing a pattern" data-tertiary="well-written patterns" id="idm45017715970784"/><a data-type="indexterm" data-primary="writing a pattern" data-secondary="well-written patterns" id="idm45017715969568"/> of a design pattern can help us gain a deeper appreciation for the reasoning behind why a pattern is needed. It also helps us evaluate the pattern for our own needs.</p>

<p>A good pattern should ideally provide a substantial quantity of reference material for end users. Patterns should also provide evidence of why they are necessary.</p>

<p>Just having an overview of a pattern is not enough to help us identify them in the code we may encounter day-to-day. It’s not always clear if a piece of code we’re looking at follows a set pattern or accidentally resembles one.</p>

<p>If you suspect that the code you see uses a pattern, consider writing down some aspects of the code that fall under a particular existing pattern or set of patterns. It may be that the code follows sound principles and design practices that coincidentally overlap with the rules for a specific pattern.</p>
<div data-type="tip"><h6>Tip</h6>
<p>Solutions in which neither interactions nor defined rules appear are not patterns.</p>
</div>

<p>Although patterns may have a high<a data-type="indexterm" data-primary="design patterns" data-secondary="about patterns" id="idm45017715965632"/><a data-type="indexterm" data-primary="patterns" data-secondary="about" id="idm45017715964656"/> initial cost in the planning and write-up phases, the value returned from that investment can be worth it. Patterns are valuable because they help to get all the developers in an organization or team on the same page when creating or maintaining solutions. If you’re considering working on a pattern of your own, research beforehand, as you may find it more beneficial to use or extend existing, proven patterns rather than starting afresh.</p>
</div></section>






<section data-type="sect1" data-pdf-bookmark="Writing a Pattern"><div class="sect1" id="writing-a-pattern">
<h1>Writing a Pattern</h1>

<p>If you’re trying to develop a design pattern yourself,<a data-type="indexterm" data-primary="patterns" data-secondary="writing a pattern" id="idm45017715961408"/><a data-type="indexterm" data-primary="design patterns" data-secondary="writing a pattern" id="idm45017715960352"/><a data-type="indexterm" data-primary="writing a pattern" id="idm45017715959408"/> I recommend learning from 
<span class="keep-together">others</span> who have already been through the process and done it well. Spend time absorbing the information from several different design pattern descriptions and 
<span class="keep-together">take in</span> what’s meaningful to you.
Explore structure and semantics—you can do this by examining the interactions and context of the patterns you’re interested in to identify the principles that assist in organizing those patterns together in valuable 
<span class="keep-together">configurations.</span></p>

<p>You can utilize the <em>existing</em> format to write your own pattern or see if there are ways to improve it by integrating your ideas. <a data-type="indexterm" data-primary="Heilmann, Christian" id="idm45017718323664"/><a data-type="indexterm" data-primary="Module pattern" data-secondary="Revealing Module pattern from" id="idm45017718322960"/><a data-type="indexterm" data-primary="Revealing Module pattern" data-secondary="Module pattern as source of" id="idm45017718321952"/>An example of a developer who did this in recent years is Christian Heilmann, who took the existing <em>Module</em> pattern (see <a data-type="xref" href="ch07.xhtml#module">Figure 7-2</a>) and made some fundamentally valuable changes to it to create the <em>Revealing Module</em> pattern (see <a data-type="xref" href="ch07.xhtml#the-revealing-module-pattern">“The Revealing Module Pattern”</a>).</p>

<p>Adhering to the following checklist would help if you’re interested in creating a new design pattern or adapting an existing one:</p>
<dl>
<dt>How practical is the pattern?</dt>
<dd>
<p>Ensure that the pattern describes proven solutions to recurring problems rather than just speculative solutions that haven’t been qualified.</p>
</dd>
<dt>Keep best practices in mind.</dt>
<dd>
<p>Our design decisions should be based on principles we derive from understanding best practices.</p>
</dd>
<dt>Our design patterns should be transparent to the user.</dt>
<dd>
<p>Design patterns should be entirely transparent to the end-user experience. They primarily serve the developers using them and should not force changes to the expected user experience.</p>
</dd>
<dt>Remember that originality is <em>not</em> key in pattern design.</dt>
<dd>
<p>When writing a pattern, you do not need to be the original discoverer of the documented solutions, nor do you have to worry about your design overlapping with minor pieces of other patterns. If the approach is strong enough to be broadly applicable, it has a chance of being recognized as a valid pattern.</p>
</dd>
<dt>Patterns need a strong set of examples.</dt>
<dd>
<p>A good pattern description needs to be followed by an equally effective set of examples demonstrating the successful application of the pattern. To show broad usage, examples that exhibit sound design principles are ideal.</p>
</dd>
</dl>

<p>Pattern writing is a careful balance between creating a design that is general, specific, and, above all, useful. Try to ensure that you comprehensively cover all possible application areas when writing a pattern.</p>

<p>Whether you write a pattern or not, I hope this brief introduction to writing patterns has given you some insights that will assist your learning process and help you rationalize the patterns covered in the following sections of this book.</p>
</div></section>






<section data-type="sect1" data-pdf-bookmark="Summary"><div class="sect1" id="idm45017718308848">
<h1>Summary</h1>

<p>This chapter painted a picture of the ideal “good” pattern. It is equally important to understand that “bad” patterns exist, too, so we can identify and avoid them. And that is why we have the next chapter about “anti-patterns.”</p>
</div></section>
</div></section></div></body></html>