<html><head></head><body><div id="sbo-rt-content"><section data-type="chapter" epub:type="chapter" data-pdf-bookmark="Chapter 18. Jetpack Compose: Compose Yourself"><div class="chapter" id="jetpack_composecolon_compose_yourself">
<h1><span class="label">Chapter 18. </span>Jetpack Compose: <em>Compose Yourself</em></h1>
<figure class="informal"><div class="figure">
<img src="Images/f0755-01.png" alt="image" width="492" height="657"/>
<h6/>
</div></figure>
<p><strong>All the UIs you’ve built so far have used views and layout files.</strong></p>
<p>But with <strong>Jetpack Compose</strong>, <strong>that’s not the only option</strong>. In this chapter, we’re going to take <strong>a road trip to Composeville</strong>, and find out how to build UIs using Compose components called <strong>composables</strong> instead of views. You’ll learn how to use built-in composables such as <strong>Text</strong>, <strong>Image</strong>, <strong>TextField,</strong> and <strong>Button</strong>. You’ll discover how to arrange them in <strong>Rows</strong> and <strong>Columns</strong>, and style them using <strong>themes</strong>. You’ll write and preview your own <strong>composable functions</strong>. You’ll even find out <strong>how to manage a composable’s state</strong> using <strong><em>MutableState</em></strong> objects. Turn the page, and let’s get composing…</p>
<section data-type="sect1" data-pdf-bookmark="UI components don’t have to be Views"><div class="sect1" id="ui_components_donapostrophet_have_to_be">
<h1>UI components don’t have to be Views</h1>
<p><a data-type="indexterm" data-primary="Android Jetpack" data-secondary="Compose" data-see="Compose" id="idm46053733538928"/><a data-type="indexterm" data-primary="Compose" id="idm46053733536304"/><a data-type="indexterm" data-primary="Compose" data-secondary="exercises" id="idm46053733535472"/><a data-type="indexterm" data-primary="Temperature Converter app" id="idm46053733534368"/>So far in this book, you’ve learned how to use layout files and views to build swish, interactive UIs. But while we’ve focused on this approach, it’s not your only option.</p>
<p>An alternative is to build your UI using <strong>Jetpack Compose</strong>. Compose is part of Android Jetpack; it’s an entire toolkit of libraries, tools, and APIs designed to help you build native UIs with pure Kotlin code.</p>
<p>The great news is that using Jetpack Compose builds on your existing Android knowledge. You can use view models and live data with Compose, for example, and even add Compose components to existing UIs.</p>
<div data-type="note" epub:type="note"><h6>Note</h6>
<p><span style="color:#9D9EA0;">You’ll find out more about this in the next chapter.</span></p>
</div>
<section data-type="sect2" data-pdf-bookmark="We’re going to build a Compose app"><div class="sect2" id="weapostrophere_going_to_build_a_compose">
<h2>We’re going to build a Compose app</h2>
<p>In this chapter, we’re going to introduce you to Compose by building a new Temperature Converter app that converts temperatures from Celsius to Fahrenheit. Here’s what the app will look like:</p>
<figure class="informal"><div class="figure">
<img src="Images/f0756-02.png" alt="image" width="600" height="416"/>
<h6/>
</div></figure>
<p>As you can see, the app uses several familiar looking components. The main difference is that it’s written using Compose.</p>
<p>Before we start building the app, see if you can tell what Compose code does by giving the following exercise a try.</p>
<aside data-type="sidebar" epub:type="sidebar"><div class="sidebar" id="sharpen_your_pencil-id00288">
<h5><span class="inlineimage"><img src="Images/pencil.png" alt="Images" width="149" height="65"/></span> Sharpen your pencil</h5>
<p>We know we’ve not shown you any Compose code yet, but see if you can figure out what each line in the code below does. We’ve completed the first few to get you started.</p>
<figure class="informal"><div class="figure">
<img src="Images/f0757-01.png" alt="image" width="600" height="689"/>
<h6/>
</div></figure>
</div></aside>
<aside data-type="sidebar" epub:type="sidebar"><div class="sidebar" id="sharpen_your_pencil_solution-id00289">
<h5><span class="inlineimage"><img src="Images/pencil.png" alt="Images" width="149" height="65"/></span> Sharpen your pencil Solution</h5>
<p>We know we’ve not shown you any Compose code yet, but see if you can figure out what each line in the code below does. We’ve completed the first few to get you started.</p>
<figure class="informal"><div class="figure">
<img src="Images/f0758-01.png" alt="image" width="600" height="688"/>
<h6/>
</div></figure>
</div></aside>
</div></section>
</div></section>
<section data-type="sect1" data-pdf-bookmark="Here’s what we’re going to do"><div class="sect1" id="hereapostrophes_what_weapostrop-id002900">
<h1>Here’s what we’re going to do</h1>
<p>Now that you’ve had a glimpse of some Compose code and seen what it does, let’s run through what we’ll do in this chapter.</p>
<ol>
<li><p><strong>Create an app that displays two text items in a column.</strong></p>
<p>You’ll create a new project that uses Compose to display some hardcoded text. You’ll then convert the code into a composable function, and learn how to preview it.</p>
<figure class="informal"><div class="figure">
<img src="Images/f0759-01.png" alt="image" width="431" height="124"/>
<h6/>
</div></figure></li>
<li><p><strong>Make the app convert a temperature from Celsius to Fahrenheit.</strong></p>
<p>In this step, you’ll build a UI that lets you enter a temperature in degrees Celsius. When you click a button, it converts the temperature to Fahrenheit.</p>
<figure class="informal"><div class="figure">
<img src="Images/f0759-02.png" alt="image" width="431" height="373"/>
<h6/>
</div></figure></li>
<li><p><strong>Modify the app’s appearance.</strong></p>
<p>Finally, you’ll learn how to center components, use padding, and apply a theme.</p>
<figure class="informal"><div class="figure">
<img src="Images/f0759-03.png" alt="image" width="430" height="392"/>
<h6/>
</div></figure></li>
</ol>
<p>Let’s begin by creating a new project for the app.</p>
</div></section>
<section data-type="sect1" data-pdf-bookmark="Create a new Compose project"><div class="sect1" id="create_a_new_compose_project">
<h1>Create a new Compose project</h1>
<figure class="informal"><div class="figure">
<img src="Images/f0760-01.png" alt="image" width="215" height="87"/>
<h6/>
</div></figure>
<p><a data-type="indexterm" data-primary="Android Studio" data-secondary="Compose" id="idm46053733498336"/><a data-type="indexterm" data-primary="Temperature Converter app" data-secondary="creating and configuring project" id="idm46053733497056"/>We’re going to create a new Android Studio project that will use Compose for its UI. Create this project now by selecting the <strong>Empty Compose Activity</strong> option:</p>
<figure class="informal"><div class="figure">
<img src="Images/f0760-02.png" alt="image" width="600" height="497"/>
<h6/>
</div></figure>
<p>Choosing this option adds a bunch of Compose libraries and code to your project. It’s the best type of project to create if you want to build an Android app from scratch with a Compose UI.</p>
<p>Once you’ve selected the Empty Compose Activity option, click on the Next button to configure the project.</p>
</div></section>
<section data-type="sect1" data-pdf-bookmark="Configure the project"><div class="sect1" id="configure_the_project">
<h1>Configure the project</h1>
<p>The next screen should look familiar to you, as it includes the same options that you’ve used to configure projects throughout this book.</p>
<p>Enter a name of “Temperature Converter” and a package name of “com.hfad.temperatureconverter” and accept the default save location.</p>
<p>Notice that the language is set to Kotlin, and can’t be updated. Compose apps can <em>only</em> be created using Kotlin, so you can’t select a different language.</p>
<p>Choose a minimum SDK of API 21 so that the app will run on most Android devices. This is the oldest SDK that’s available for this type of project, because Compose is only compatible with API 21 and above.</p>
<p>Once you’ve selected these options, click on the Finish button.</p>
<blockquote>
<p><strong>Compose UIs can <u>only</u> be created using Kotlin.</strong></p>
</blockquote>
<figure class="informal"><div class="figure">
<img src="Images/f0761-02.png" alt="image" width="600" height="505"/>
<h6/>
</div></figure>
</div></section>
<section data-type="sect1" data-pdf-bookmark="Compose projects have no layout files"><div class="sect1" id="compose_projects_have_no_layout_files">
<h1>Compose projects have no layout files</h1>
<p><a data-type="indexterm" data-primary="activities" data-secondary="in Compose" id="idm46053733482480"/><a data-type="indexterm" data-primary="layouts" data-secondary="in Compose" id="idm46053733481168"/><a data-type="indexterm" data-primary="String resources" data-secondary="Compose" id="idm46053733480064"/>When you create a project using the Empty Compose Activity option, Android Studio creates a folder structure for you, populated with all the files the new project needs. The folder structure looks like this:</p>
<figure class="informal"><div class="figure">
<img src="Images/f0762-02.png" alt="image" width="600" height="490"/>
<h6/>
</div></figure>
<p>Many of the files and folders should look familiar to you, as they’re the same ones that get generated for projects that don’t use Compose. It includes an activity file named <em>MainActivity.kt</em>, for example, and a <code>String</code> resource file named <em>strings.xml</em>.</p>
<p>The big difference is that <strong>Android Studio doesn’t generate any layout files for you</strong>. This is because Compose projects use activity code to define the screen’s appearance instead of layouts.</p>
</div></section>
<section data-type="sect1" data-pdf-bookmark="What Compose activity code looks like"><div class="sect1" id="what_compose_activity_code_looks_like">
<h1>What Compose activity code looks like</h1>
<p><a data-type="indexterm" data-primary="activities" data-secondary="in Compose" id="idm46053733472848"/><a data-type="indexterm" data-primary="AppCompatActivity class" data-secondary="versus ComponentActivity" id="idm46053733470784"/><a data-type="indexterm" data-primary="ComponentActivity class" id="idm46053733469712"/><a data-type="indexterm" data-primary="composables" id="idm46053733468880"/><a data-type="indexterm" data-primary="Compose" data-secondary="activity code in" id="idm46053733468048"/><a data-type="indexterm" data-primary="setContent() function" id="idm46053733466944"/><a data-type="indexterm" data-primary="setContent() function" data-secondary="ComponentActivity" id="idm46053733466112"/>When you use Compose, the activity code is responsible for the app’s behavior <em>and</em> its appearance. For this reason, it looks slightly different from the activity code you’re used to working with.</p>
<p>Let’s see what basic Compose activity code looks like. Open the package <em>com.hfad.temperatureconverter</em> in the <em>app/src/main/java</em> folder, and open the file <em>MainActivity.kt</em> (if it’s not already open). Then <strong>replace the code</strong> that Android Studio generated with the code shown here:</p>
<figure class="informal"><div class="figure">
<img src="Images/f0763-02.png" alt="image" width="600" height="263"/>
<h6/>
</div></figure>
<section data-type="sect2" data-pdf-bookmark="Compose activities extend ComponentActivity"><div class="sect2" id="compose_activities_extend_componentactiv">
<h2>Compose activities extend ComponentActivity</h2>
<p>As you can see, the above activity doesn’t extend <code>AppCompatActivity</code>: it uses <code><strong>ComponentActivity</strong></code> instead. <code>androidx.activity.ComponentActivity</code> is a subclass of <code>Activity</code>, and it’s used to define a basic activity that uses Compose for its UI instead of a layout file.</p>
<p>Just like all the other activities you’ve seen, the activity overrides the <code>onCreate()</code> method. Instead of calling <code>setContentView()</code> to inflate the activity’s layout, however, it uses <code><strong>setContent()</strong></code>. This is an extension function that’s used to add Compose components—called <strong>composables</strong>—to an activity’s UI so they run when the activity gets created.</p>
<p>Let’s see how this works by using Compose to add some text to the activity’s UI..</p>
</div></section>
</div></section>
<section data-type="sect1" data-pdf-bookmark="Use a Text composable to display text"><div class="sect1" id="use_a_text_composable_to_display_text">
<h1>Use a Text composable to display text</h1>
<p><a data-type="indexterm" data-primary="composables" data-secondary="Text" id="idm46053733456048"/><a data-type="indexterm" data-primary="Text composable" id="idm46053733449632"/>We’re going to make <code>MainActivity</code> display some text by adding a <code><strong>Text</strong></code> composable to the call to <code>setContent()</code>. You can think of <code>Text</code> as being the Compose equivalent of a text view. Simply specify the text you want to show, and the activity displays it.</p>
<p>Here’s the code to add some text to <code>MainActivity</code>; update the code for <em>MainActivity.kt</em> to include the changes below (in bold):</p>
<figure class="informal"><div class="figure">
<img src="Images/f0764-02.png" alt="image" width="600" height="308"/>
<h6/>
</div></figure>
<p>When this code runs, it displays the text at the top of the screen like this:</p>
<figure class="informal"><div class="figure">
<img src="Images/f0764-03.png" alt="image" width="600" height="135"/>
<h6/>
</div></figure>
<p>Now that you’ve learned how to display some hardcoded text with Compose, let’s make it more flexible by adding the <code>Text</code> to a <strong>composable function</strong>.</p>
</div></section>
<section data-type="sect1" data-pdf-bookmark="Use composables in composable functions"><div class="sect1" id="use_composables_in_composable_functions">
<h1>Use composables in composable functions</h1>
<p><a data-type="indexterm" data-primary="ComponentActivity class" id="idm46053733438224"/><a data-type="indexterm" data-primary="@Composable annotation" id="idm46053733436960"/><a data-type="indexterm" data-primary="composable functions" id="idm46053733436128"/><a data-type="indexterm" data-primary="setContent() function" data-secondary="ComponentActivity" id="idm46053733435296"/>A composable function is a function that uses one or more composables to define part of the UI.</p>
<p>To see how this works, we’ll define a composable function named <code>Hello</code> that accepts a <code>String</code> argument for the user’s name. When the function runs—or is <strong>composed</strong>—it will add the <code>String</code> to a <code>Text</code> composable, which displays the text in the UI.</p>
<p>The code for the new <code>Hello</code> function looks like this:</p>
<figure class="informal"><div class="figure">
<img src="Images/f0765-02.png" alt="image" width="600" height="125"/>
<h6/>
</div></figure>
<p>As you can see, the function is annotated with <code><strong>@Composable</strong></code>. This annotation is required for <em>all</em> composable functions. If you omit the annotation, the code won’t compile.</p>
<section data-type="sect2" data-pdf-bookmark="Call the Hello composable from setContent()"><div class="sect2" id="call_the_hello_composable_from_setconten">
<h2>Call the Hello composable from setContent()</h2>
<p>Marking the function with <code>@Composable</code> doesn’t just specify that it uses composables; <strong>it makes the function itself a composable</strong>, which you can use in your code like any other sort of composable.</p>
<p>In the app we’re building, we want to display the <code>Hello</code> text in <code>MainActivity</code>’s UI. We can do so by calling <code>Hello</code> from <code>setContent()</code> like this:</p>
<figure class="informal"><div class="figure">
<img src="Images/f0765-03.png" alt="image" width="600" height="205"/>
<h6/>
</div></figure>
<p>When this code runs, it displays the text like this:</p>
<figure class="informal"><div class="figure">
<img src="Images/f0765-04.png" alt="image" width="600" height="161"/>
<h6/>
</div></figure>
</div></section>
</div></section>
<section data-type="sect1" data-pdf-bookmark="Most UIs have multiple composables"><div class="sect1" id="most_uis_have_multiple_composables">
<h1>Most UIs have multiple composables</h1>
<p><a data-type="indexterm" data-primary="Column composable" id="idm46053733419344"/><a data-type="indexterm" data-primary="composables" data-secondary="Column" id="idm46053733414592"/><a data-type="indexterm" data-primary="composables" data-secondary="Row" id="idm46053733413488"/><a data-type="indexterm" data-primary="multiple composables, arranging" id="idm46053733412384"/><a data-type="indexterm" data-primary="Row composable" id="idm46053733411584"/>So far, you’ve seen how to run a single composable, but most of the time, you’ll want to use multiple composables in the UI, or call the same composable multiple times. If you wanted the app to say hello twice, for example, you could run the <code>Hello</code> composable function twice with different arguments like so:</p>
<pre data-type="programlisting"><strong>Hello("friend")</strong>
<strong>Hello("everyone")</strong></pre>
<p>When you have a UI that includes multiple composables, you need to specify how they should be arranged. If you don’t, Compose will stack the composables on top of one another like this:</p>
<figure class="informal"><div class="figure">
<img src="Images/f0766-02.png" alt="image" width="600" height="136"/>
<h6/>
</div></figure>
<p>So how do you arrange composables?</p>
<section data-type="sect2" data-pdf-bookmark="You can arrange composables using Row or Column"><div class="sect2" id="you_can_arrange_composables_using_row_or">
<h2>You can arrange composables using Row or Column</h2>
<p>Most of the time, you’ll probably want to arrange composables in rows or columns, and Compose includes <code><strong>Row</strong></code> and <code><strong>Column</strong></code> composables that let you do this. To arrange two <code>Hello</code> composables in a column, for example, you’d simply add them to a <code>Column</code> composable like this:</p>
<pre data-type="programlisting"><strong>Column {</strong>
    Hello("friend")
    Hello("everyone")
<strong>}</strong></pre>
<p>When the code runs, the composables are arranged in a column like this:</p>
<figure class="informal"><div class="figure">
<img src="Images/f0766-03.png" alt="image" width="600" height="126"/>
<h6/>
</div></figure>
<p>Let’s update <code>MainActivity</code> so that it produces this UI.</p>
</div></section>
</div></section>
<section data-type="sect1" data-pdf-bookmark="The full code for MainActivity.kt"><div class="sect1" id="the_full_code_for_mainactivitydo-id00291">
<h1>The full code for MainActivity.kt</h1>
<p>We’re going to add the <code>Hello</code> composable function to <em>MainActivity.kt</em>, run it twice, and arrange the results in a column.</p>
<p>Here’s the complete code for the file; update <em>MainActivity.kt</em> to include the changes below (in bold):</p>
<figure class="informal"><div class="figure">
<img src="Images/f0767-02.png" alt="image" width="600" height="510"/>
<h6/>
</div></figure>
<p>Let’s take the app for a test drive and see what it looks like.</p>
</div></section>
<section data-type="sect1" data-pdf-bookmark=" Test Drive"><div class="sect1" id="test_drive-id00292">
<h1><span class="inlineimage"><img src="Images/car.png" alt="Images" width="119" height="58"/></span> Test Drive</h1>
<p>When we run the app, <code>MainActivity</code> is displayed. It includes two <code>Hello</code> composables arranged in a single column.</p>
<figure class="informal"><div class="figure">
<img src="Images/f0768-02.png" alt="image" width="600" height="416"/>
<h6/>
</div></figure>
<p>Congratulations! You’ve now learned how to use Compose to create <code>MainActivity</code>’s UI instead of adding views to a layout file.</p>
<aside data-type="sidebar" epub:type="sidebar"><div class="sidebar" id="there_are_no_dumb_questions-id00293">
<h5>there are no Dumb Questions</h5>
<p><strong>Q: Do I have to use Compose? Can’t I stick to using views and layouts?</strong></p>
<p><strong>A:</strong> Even though Jetpack Compose is still relatively new, we think it has a big future. It may even become the default way in which you build Android apps, so we definitely recommend you learn how to use it.</p>
<p><strong>Q: You said every activity that uses composables needs to extend <code>ComponentActivity</code> or one of its subclasses. Does <code>ComponentActivity</code> extend <code>AppCompatActivity</code>?</strong></p>
<p><strong>A:</strong> No. This might surprise you, but <code>AppCompatActivity</code> is a subclass of <code>ComponentActivity</code>, not the other way around.</p>
<p><strong>Q: I see. So does that mean that I can add composables to my existing activity code?</strong></p>
<p><strong>A:</strong> Yes. You can even use composables and views in the same UI. You’ll find out how this is done in the next chapter.</p>
</div></aside>
</div></section>
<section data-type="sect1" data-pdf-bookmark="You can preview composable functions"><div class="sect1" id="you_can_preview_composable_functions">
<h1>You can preview composable functions</h1>
<p><a data-type="indexterm" data-primary="compositions" id="idm46053733374544"/><a data-type="indexterm" data-primary="@Preview annotation, composables" id="idm46053733372752"/><a data-type="indexterm" data-primary="PreviewMainActivity composable function" id="idm46053733371952"/>Another feature of using composable functions is that you can preview them within Android Studio without having to load the app onto a device. You can preview any composable function so long as it doesn’t have any arguments, and you can even use this technique to preview entire <strong>compositions</strong>—UIs made up of composables.</p>
<blockquote>
<p><strong>A <u>composition</u> is a UI made up of composables.</strong></p>
</blockquote>
<p>You say you want to preview a composable function by annotating it with <code><strong>@Preview</strong></code>. The following code, for example, specifies a composable function named <code>PreviewMainActivity</code> that lets you preview two <code>Hello</code> composables arranged in a column:</p>
<figure class="informal"><div class="figure">
<img src="Images/f0769-02.png" alt="image" width="600" height="179"/>
<h6/>
</div></figure>
<section data-type="sect2" data-pdf-bookmark="Add MainActivityPreview to MainActivity.kt"><div class="sect2" id="add_mainactivitypreview_to_mainactivityd">
<h2>Add MainActivityPreview to MainActivity.kt</h2>
<p>To see how previews work, let’s add the <code>MainActivityPreview</code> composable function to <em>MainActivity.kt</em>. Update the file so that it includes the changes shown here:</p>
<figure class="informal"><div class="figure">
<img src="Images/f0769-03.png" alt="image" width="600" height="242"/>
<h6/>
</div></figure>
<p>We’ll show you how to see the preview on the next page.</p>
</div></section>
</div></section>
<section data-type="sect1" data-pdf-bookmark="Preview composables with the Design or Split option"><div class="sect1" id="preview_composables_with_the_design_or_s">
<h1>Preview composables with the Design or Split option</h1>
<p><a data-type="indexterm" data-primary="Design option, composable preview" id="idm46053733356720"/><a data-type="indexterm" data-primary="Split option, composable preview" id="idm46053733355536"/>You can preview any composable functions marked with <code>@Preview</code> by selecting the Split or Design view of the activity file. Choosing Split lets you see the code and preview side by side, and choosing Design just displays the preview.</p>
<p>Here’s what <code>MainActivityPreview</code> looks like when we select the Split option:</p>
<figure class="informal"><div class="figure">
<img src="Images/f0770-02.png" alt="image" width="600" height="383"/>
<h6/>
</div></figure>
<p>If you make changes to the composable function you’re previewing, you need to refresh the preview before you can see what it looks like. Simply click on the Build Refresh button in the preview’s top menu and you should see the effect of your changes.</p>
<p>Now that you’ve learned how to preview composable functions, try the following exercise.</p>
<blockquote>
<p><strong>You can preview any composable function that has no arguments.</strong></p>
</blockquote>
</div></section>
<section data-type="sect1" data-pdf-bookmark="Pool Puzzle"><div class="sect1" id="pool_puzzle-id00294">
<h1>Pool Puzzle</h1>
<figure class="informal"><div class="figure">
<img src="Images/common01.png" alt="image" width="148" height="160"/>
<h6/>
</div></figure>
<p><a data-type="indexterm" data-primary="composable functions" data-secondary="exercises" id="idm46053733345648"/>Your <strong>job</strong> is to take code snippets from the pool and place them into the blank lines in the code below. You may <strong>not</strong> use the same snippet more than once, and you won’t need to use all the snippets. Your <strong>goal</strong> is to create two composable functions: one named <code>TeamHello</code> that accepts a list of names and says hello to each person, and one named <code>HelloPreview</code> that previews <code>TeamHello</code> and arranges its text in a column.</p>
<figure class="informal"><div class="figure">
<img src="Images/f0771-01.png" alt="image" width="245" height="286"/>
<h6/>
</div></figure>
<pre data-type="programlisting">..............
fun TeamHello(names: List&lt;String&gt;) {
    for (name in names) {
        ..............("Hello $name!")
    }
}

..............(showBackground = true)
..............
fun HelloPreview() {
    ..............{
        TeamHello(listOf("Virginia", "Zan", "Katie"))
    }
}</pre>
<figure class="informal"><div class="figure">
<img src="Images/f0771-02.png" alt="image" width="600" height="278"/>
<h6/>
</div></figure>
<div data-type="note" epub:type="note"><h6>Note</h6>
<p><strong>Note: each thing from the pool can only be used once!</strong></p>
</div>
</div></section>
<section data-type="sect1" data-pdf-bookmark="Pool Puzzle Solution"><div class="sect1" id="pool_puzzle_solution-id00295">
<h1>Pool Puzzle Solution</h1>
<figure class="informal"><div class="figure">
<img src="Images/common01.png" alt="image" width="148" height="160"/>
<h6/>
</div></figure>
<p>Your <strong>job</strong> is to take code snippets from the pool and place them into the blank lines in the code below. You may <strong>not</strong> use the same snippet more than once, and you won’t need to use all the snippets. Your <strong>goal</strong> is to create two composable functions: one named <code>TeamHello</code> that accepts a list of names and says hello to each person, and one named <code>HelloPreview</code> that previews <code>TeamHello</code> and arranges its text in a column.</p>
<figure class="informal"><div class="figure">
<img src="Images/f0772-01.png" alt="image" width="245" height="289"/>
<h6/>
</div></figure>
<figure class="informal"><div class="figure">
<img src="Images/f0772-02.png" alt="image" width="600" height="368"/>
<h6/>
</div></figure>
<figure class="informal"><div class="figure">
<img src="Images/f0772-03.png" alt="image" width="600" height="267"/>
<h6/>
</div></figure>
</div></section>
<section data-type="sect1" data-pdf-bookmark="Let’s make the app convert temperatures"><div class="sect1" id="letapostrophes_make_the_app_convert_temp">
<h1>Let’s make the app convert temperatures</h1>
<figure class="informal"><div class="figure">
<img src="Images/f0773-01.png" alt="image" width="215" height="88"/>
<h6/>
</div></figure>
<p><a data-type="indexterm" data-primary="composable functions" data-secondary="converter composables" id="idm46053733318800"/><a data-type="indexterm" data-primary="Compose" data-secondary="converter composable functions" id="idm46053733317600"/><a data-type="indexterm" data-primary="converter composables" id="idm46053733316528"/><a data-type="indexterm" data-primary="Temperature Converter app" id="idm46053733315696"/>So far, you’ve used Compose to display text, written some composable functions, and learned how to preview them. But that’s not the end of the story.</p>
<p>For the rest of this chapter, we’re going to take you deeper into Compose by changing the app we’ve just built into one that converts temperatures from Celsius to Fahrenheit. Instead of saying hello, it will ask the user for a temperature in Celsius, and convert it when she clicks on a button.</p>
<p>Here’s what the app will look like; as you can see, it includes an image, a text field that lets you enter data, a button, and some text:</p>
<figure class="informal"><div class="figure">
<img src="Images/f0773-02.png" alt="image" width="600" height="677"/>
<h6/>
</div></figure>
<p>What are you waiting for? Let’s get composing.</p>
</div></section>
<section data-type="sect1" data-pdf-bookmark="Add a MainActivityContent composable function"><div class="sect1" id="add_a_mainactivitycontent_composable_fun">
<h1>Add a MainActivityContent composable function</h1>
<p><a data-type="indexterm" data-primary="activities" data-secondary="in Compose" id="idm46053733308864"/><a data-type="indexterm" data-primary="MainActivityContent composable function" id="idm46053733307408"/><a data-type="indexterm" data-primary="PreviewMainActivity composable function" id="idm46053733306512"/>We’ll begin by adding a new composable function to <em>MainActivity.kt</em> named <code>MainActivityContent</code> that we’ll use for the activity’s main content. We’ll add all the composables needed for <code>MainActivity</code>’s UI to this function, and call it from <code>setContent()</code> and <code>PreviewMainActivity</code>. This approach means that the activity’s composition will be displayed both when we run the app, and in the preview.</p>
<p>We’ll also remove the <code>Hello</code> composable function from the code as this is no longer needed.</p>
<p>Here’s the updated code for <em>MainActivity.kt</em>; update the file to include these changes (in bold):</p>
<figure class="informal"><div class="figure">
<img src="Images/f0774-02.png" alt="image" width="600" height="588"/>
<h6/>
</div></figure>
</div></section>
<section data-type="sect1" data-pdf-bookmark="Display the header image…"><div class="sect1" id="display_the_header_imagehellip">
<h1>Display the header image…</h1>
<p><a data-type="indexterm" data-primary="composables" data-secondary="Image" id="idm46053733298752"/><a data-type="indexterm" data-primary="contentDescription argument, Image composable" id="idm46053733297536"/><a data-type="indexterm" data-primary="converter composables" data-secondary="header image" id="idm46053733296800"/><a data-type="indexterm" data-primary="image resources" data-secondary="Image composable" id="idm46053733295792"/><a data-type="indexterm" data-primary="Modifiers, Compose" id="idm46053733294688"/><a data-type="indexterm" data-primary="painter argument, Image composable" id="idm46053733293856"/>The first component we’ll add to <code>MainActivityContent</code> is an image that appears at the top of the screen.</p>
<p>First, make sure that your project includes the folder <em>app/src/main/res/drawable</em> (you’ll need to create it if it’s not there). Then download the file <em>sunrise.webp</em> from <em>tinyurl.com/hfad3</em>, and add it to the <em>drawable</em> folder.</p>
<figure class="informal"><div class="figure">
<img src="Images/f0775-02.png" alt="image" width="276" height="239"/>
<h6/>
</div></figure>
<section data-type="sect2" data-pdf-bookmark="…with an Image composable"><div class="sect2" id="hellipwith_an_image_composable">
<h2>…with an Image composable</h2>
<p>You display an image in Compose using an <code><strong>Image</strong></code> composable. The basic code looks like this:</p>
<figure class="informal"><div class="figure">
<img src="Images/f0775-03.png" alt="image" width="600" height="77"/>
<h6/>
</div></figure>
<p>The <code>Image</code> composable requires two arguments: <code>painter</code> and <code>contentDescription</code>.</p>
<p>The <code>painter</code> argument specifies the image that should be displayed. Here, it uses <code>painterResource(R.drawable.sunrise)</code> to display the <em>sunrise.webp</em> drawable resource.</p>
<p>The <code>contentDescription</code> argument is a description of the image that’s used for accessibility.</p>
<p>There are many other optional arguments you can use to control the image appearance, and how it’s displayed. The following code, for example, sets the image height to 180dp, makes it fill the available width, and scales the image:</p>
<figure class="informal"><div class="figure">
<img src="Images/f0775-04.png" alt="image" width="600" height="194"/>
<h6/>
</div></figure>
<p>Now that you’ve seen how to add an image with Compose, let’s add one to <code>MainActivity</code>.</p>
</div></section>
</div></section>
<section data-type="sect1" data-pdf-bookmark="Add an Image to MainActivity.kt"><div class="sect1" id="add_an_image_to_mainactivitydotkt">
<h1>Add an Image to MainActivity.kt</h1>
<figure class="informal"><div class="figure">
<img src="Images/f0776-01.png" alt="image" width="214" height="87"/>
<h6/>
</div></figure>
<p><a data-type="indexterm" data-primary="composables" data-secondary="Image" id="idm46053733271696"/><a data-type="indexterm" data-primary="Header composable function" id="idm46053733270416"/><a data-type="indexterm" data-primary="image resources" data-secondary="Image composable" id="idm46053733269616"/>We’re going to add an image to <code>MainActivity</code> by defining a new composable function (named <code>Header</code>) to <em>MainActivity.kt</em> that creates one. We’ll run this from the <code>MainActivityContent</code> composable function so that the image is added to the UI and the preview.</p>
<p>Here’s the updated code for <em>MainActivity.kt</em>; update this file to include the changes below (in bold):</p>
<figure class="informal"><div class="figure">
<img src="Images/f0776-02.png" alt="image" width="600" height="506"/>
<h6/>
</div></figure>
<p>That’s everything we need to display an image in the composition, so let’s move on to the next component.</p>
</div></section>
<section data-type="sect1" data-pdf-bookmark="Let’s display the temperature text"><div class="sect1" id="letapostrophes_display_the_temperature_t">
<h1>Let’s display the temperature text</h1>
<figure class="informal"><div class="figure">
<img src="Images/f0777-01.png" alt="image" width="215" height="88"/>
<h6/>
</div></figure>
<p><a data-type="indexterm" data-primary="TemperatureText composable function" id="idm46053733259840"/>The next thing we’ll include is a composable function (named <code>TemperatureText</code>) that converts a Celsius temperature to Fahrenheit, and displays the result. We’ll call this function from <code>MainActivityContent</code> so that it’s included in both the UI and the preview.</p>
<p>You’re already familiar with the code to do this, so update <em>MainActivity.kt</em> to include the changes below (in bold):</p>
<figure class="informal"><div class="figure">
<img src="Images/f0777-02.png" alt="image" width="600" height="279"/>
<h6/>
</div></figure>
<p>Let’s take the app for a test drive.</p>
</div></section>
<section data-type="sect1" data-pdf-bookmark=" Test Drive"><div class="sect1" id="test_drive-id00296">
<h1><span class="inlineimage"><img src="Images/car.png" alt="Images" width="119" height="58"/></span> Test Drive</h1>
<p>When we run (or preview) the app, it displays an <code>Image</code> and <code>Text</code> in a column. The <code>Text</code> correctly shows the value of 0° Celsius in Fahrenheit.</p>
<p>Now that we’ve made sure the <code>TemperatureText</code> function works with a hardcoded temperature, let’s update it to a new temperature when the user clicks a button.</p>
<figure class="informal"><div class="figure">
<img src="Images/f0777-03.png" alt="image" width="434" height="327"/>
<h6/>
</div></figure>
</div></section>
<section data-type="sect1" data-pdf-bookmark="Use a Button composable to add a button"><div class="sect1" id="use_a_button_composable_to_add_a_button">
<h1>Use a Button composable to add a button</h1>
<p><a data-type="indexterm" data-primary="Button composable" id="idm46053733245024"/><a data-type="indexterm" data-primary="click response" data-secondary="Button composable" id="idm46053733243904"/><a data-type="indexterm" data-primary="composables" data-secondary="Button" id="idm46053733242800"/><a data-type="indexterm" data-primary="composables" data-secondary="Text" id="idm46053733241696"/><a data-type="indexterm" data-primary="ConvertButton composable function" id="idm46053733240592"/><a data-type="indexterm" data-primary="converter composables" data-secondary="Button" id="idm46053733239792"/><a data-type="indexterm" data-primary="onClick argument, Button composable" id="idm46053733238688"/><a data-type="indexterm" data-primary="TemperatureText composable function" data-secondary="ConvertButton" id="idm46053733237888"/><a data-type="indexterm" data-primary="Text composable" data-secondary="for Button" id="idm46053733236816"/>You add a button in Compose using a <code><strong>Button</strong></code> composable. <code>Button</code> code looks like this:</p>
<figure class="informal"><div class="figure">
<img src="Images/f0778-02.png" alt="image" width="600" height="105"/>
<h6/>
</div></figure>
<p>When you use a <code>Button</code> composable, you need to specify two things: its click behavior, and what should be displayed on the button.</p>
<p>You specify its click behavior using the <code>Button</code>’s <code>onClick</code> argument. This accepts a lambda that runs each time the user clicks the button.</p>
<p>You say what should be displayed on the <code>Button</code> using a separate lambda that includes a composable. When the code runs, it adds the composable to the <code>Button</code>. The above code, for example, passes the <code>Button</code> a <code>Text</code> composable, so it creates a button with text on it.</p>
<section data-type="sect2" data-pdf-bookmark="Let’s write a ConvertButton composable function"><div class="sect2" id="letapostrophes_write_a_convertbutton_com">
<h2>Let’s write a ConvertButton composable function</h2>
<p>We’re going to add a <code>Button</code> composable to the Temperature Converter app that, when clicked, changes the temperature that <code>TemperatureText</code> converts to Fahrenheit. To do this, we’ll write a new composable function (named <code>ConvertButton</code>) that displays a <code>Button</code>. We’ll also specify that it accepts a lambda argument that the function will use for the <code>Button</code>’s click behavior.</p>
<p>Here’s what the code for the <code>ConvertButton</code> composable function looks like; we’ll add it to M<em>ainActivity.kt</em> a few pages ahead:</p>
<figure class="informal"><div class="figure">
<img src="Images/f0778-03.png" alt="image" width="600" height="185"/>
<h6/>
</div></figure>
<p>Now that we’ve written the <code>ConvertButton</code> function, let’s add it to <code>MainActivityContent</code> so that the <code>Button</code> composable gets added to the UI.</p>
</div></section>
</div></section>
<section data-type="sect1" data-pdf-bookmark="We need to pass a lambda to ConvertButton"><div class="sect1" id="we_need_to_pass_a_lambda_to_convertbutto">
<h1>We need to pass a lambda to ConvertButton</h1>
<figure class="informal"><div class="figure">
<img src="Images/f0779-01.png" alt="image" width="215" height="90"/>
<h6/>
</div></figure>
<p><a data-type="indexterm" data-primary="composables" data-secondary="versus views" id="idm46053733213792"/><a data-type="indexterm" data-primary="TemperatureText composable function" data-secondary="updating text displayed" id="idm46053733212400"/><a data-type="indexterm" data-primary="views" data-secondary="versus composables" id="idm46053733211328"/>To run <code>ConvertButton</code> from <code>MainActivityContent</code>, we need to pass it a lambda that specifies what should happen when it’s clicked. The code needs to look like this:</p>
<pre data-type="programlisting">@Composable
fun MainActivityContent() {
   ...
    <strong>ConvertButton {</strong>
        <strong>//Code that runs when the button is clicked</strong>
    <strong>}</strong>
    ...
}</pre>
<p>When <code>ConvertButton</code> is clicked, we want it to update the text displayed by <code>TemperatureText</code>. If <code>TemperatureText</code> was a <em>view</em>, we could update its text using code like this:</p>
<pre data-type="programlisting">binding.textView.text = "This is the new text"</pre>
<p>While this approach works with views, however, it doesn’t work for <em>composables</em>. With composables, you need a different approach.</p>
<figure class="informal"><div class="figure">
<img src="Images/f0779-02.png" alt="image" width="600" height="577"/>
<h6/>
</div></figure>
<p><strong>Composables and views work differently.</strong></p>
<p>While views and composables let you display similar looking components (such as text and buttons), they do this in different ways. A composable isn’t a type of <code>View</code>, and a <code>View</code> isn’t a type of composable, so to interact with composables, you need to do things a little differently.</p>
<p>To see how this works, let’s go through what happens when the UI is composed during composition.</p>
<aside data-type="sidebar" epub:type="sidebar"><div class="sidebar" id="composition_up_close">
<h5><span class="inlineimage"><img src="Images/zooml.png" alt="Images" width="135" height="81"/></span> Composition Up Close</h5>
<p><a data-type="indexterm" data-primary="composables" data-secondary="hierarchical tree structure" id="idm46053733198896"/><a data-type="indexterm" data-primary="compositions" id="idm46053733195072"/>When Compose first builds the UI, it creates a hierarchical tree of all the composables that get called. When the following code runs, for example:</p>
<figure class="informal"><div class="figure">
<img src="Images/f0780-01.png" alt="image" width="600" height="140"/>
<h6/>
</div></figure>
<p>Compose builds a tree of composables that looks like this:</p>
<figure class="informal"><div class="figure">
<img src="Images/f0780-02.png" alt="image" width="600" height="252"/>
<h6/>
</div></figure>
<p>Once a composable has been composed, it only gets redrawn—or <strong>recomposed</strong>—when its inputs change. <code>TemperatureText</code>, for example, is defined using the code:</p>
<pre data-type="programlisting">@Composable
fun TemperatureText(celsius: Int) {
    val fahrenheit = (celsius.toDouble()*9/5)+32
    Text("$celsius Celsius is $fahrenheit Fahrenheit")
}</pre>
<p>Because <code>TemperatureText</code> accepts a single argument named <code>celsius</code>, it will only be recomposed when the value of <code>celsius</code> gets updated. If you want <code>TemperatureText</code> to be redrawn with new text, you need to update the value of its argument.</p>
</div></aside>
</div></section>
<section data-type="sect1" data-pdf-bookmark="We need to change the value of TemperatureText’s argument"><div class="sect1" id="we_need_to_change_the_value_of_temperatu">
<h1>We need to change the value of TemperatureText’s argument</h1>
<p><a data-type="indexterm" data-primary="celsius variable, MainActivityContent" id="idm46053733182368"/><a data-type="indexterm" data-primary="ConvertButton composable function" id="idm46053733181376"/><a data-type="indexterm" data-primary="MutableState object" id="idm46053733180576"/><a data-type="indexterm" data-primary="remember, storing variable values in Compose" id="idm46053733179744"/><a data-type="indexterm" data-primary="TemperatureText composable function" data-secondary="updating value of argument" id="idm46053733178816"/><a data-type="indexterm" data-primary="value property, MutableState" id="idm46053733177776"/>As you’ve just seen, composables are recomposed when the values they depend on get updated. This means that if we want <code>TemperatureText</code> to display different text when the user clicks on <code>ConvertButton</code>’s button, the lambda we pass to <code>ConvertButton</code> needs to update the value of <code>TemperatureText</code>’s argument.</p>
<p>To do this, we’ll add a new <code>celsius</code> variable to <code>MainActivityContent</code>, and pass its value to <code>TemperatureText</code>. When the user clicks on the <code>ConvertButton</code> composable, we’ll get it to update the value of <code>celsius</code> so that <code>TemperatureText</code> is recomposed.</p>
<blockquote>
<p><strong>A composable is recomposed when any of its inputs change their value.</strong></p>
</blockquote>
<section data-type="sect2" data-pdf-bookmark="Use remember to store celsius in memory"><div class="sect2" id="use_remember_to_store_celsius_in_memory">
<h2>Use remember to store celsius in memory</h2>
<p>We’ll define the <code>celsius</code> variable by adding the following code to <code>MainActivityContent</code>:</p>
<figure class="informal"><div class="figure">
<img src="Images/f0781-02.png" alt="image" width="600" height="42"/>
<h6/>
</div></figure>
<p>This creates an object whose type is <code><strong>MutableState</strong></code>, sets its value to <code>0</code>, and stores it in memory. You can think of <code>celsius</code> as working a bit like a live data object. Each time it gets set to a new value, any composables that use it are notified, and recomposed.</p>
<p>The object is stored in memory using <code><strong>remember</strong></code>. <code>remember</code> stores an object when the composable that calls it—in this case <code>MainActivityContent</code>—is first composed, and forgets it when the composable is removed from the UI. This can happen when the user rotates the device, and the activity—including its UI—is destroyed and recreated.</p>
<p>Just like a <code>MutableLiveData</code> object, you set a <code>MutableState</code> object’s value by updating its <code><strong>value</strong></code> property. To set the value of <code>celsius</code> to 20 when the user clicks on the <code>ConvertButton</code> composable, for example, you’d use the following code:</p>
<figure class="informal"><div class="figure">
<img src="Images/f0781-03.png" alt="image" width="417" height="536"/>
<h6/>
</div></figure>
<pre data-type="programlisting">ConvertButton { <strong>celsius.value = 20</strong> }</pre>
<p>In order for <code>TemperatureText</code> to respond to this value change, its argument needs to be set to <code>celsius.value</code> like this:</p>
<pre data-type="programlisting">TemperatureText(<strong>celsius.value</strong>)</pre>
<p>Each time <code>celsius.value</code> gets updated, <code>TemperatureText</code> is recomposed with the new value, which changes the text that’s displayed.</p>
<p>We’ll show you the full code over the next couple pages.</p>
</div></section>
</div></section>
<section data-type="sect1" data-pdf-bookmark="The full code for MainActivity.kt"><div class="sect1" id="the_full_code_for_mainactivitydo-id00297">
<h1>The full code for MainActivity.kt</h1>
<p>Here’s the complete code so far for <em>MainActivity.kt</em>; update the file to include the changes below (in bold):</p>
<figure class="informal"><div class="figure">
<img src="Images/f0782-02.png" alt="image" width="600" height="697"/>
<h6/>
</div></figure>
<figure class="informal"><div class="figure">
<img src="Images/f0783-02.png" alt="image" width="600" height="626"/>
<h6/>
</div></figure>
<p>Let’s run through what happens when the code runs, and take the app for a test drive.</p>
</div></section>
<section data-type="sect1" data-pdf-bookmark="What happens when the app runs"><div class="sect1" id="what_happens_when_the_app_runs-id00298">
<h1>What happens when the app runs</h1>
<p>The following things happen when the app runs:</p>
<ol>
<li><p><strong>MainActivity launches, and its onCreate() method runs.</strong></p>
<p>It calls <code>setContent()</code>, which runs the <code>MainActivityContent</code> composable function.</p>
<figure class="informal"><div class="figure">
<img src="Images/f0784-02.png" alt="image" width="600" height="123"/>
<h6/>
</div></figure></li>
<li><p><strong>MainActivityContent creates a MutableState&lt;Int&gt; variable named celsius, sets its value to 0, and stores it in memory.</strong></p>
<figure class="informal"><div class="figure">
<img src="Images/f0784-03.png" alt="image" width="600" height="158"/>
<h6/>
</div></figure></li>
<li><p><strong>MainActivityContent runs the Header, ConvertButton, and TemperatureText composable functions.</strong></p>
<p>It passes the value of <code>celsius</code> to the <code>TemperatureText</code> composable function, which converts it to Fahrenheit.</p>
<figure class="informal"><div class="figure">
<img src="Images/f0784-04.png" alt="image" width="600" height="174"/>
<h6/>
</div></figure></li>
<li><p><strong>The Header, ConvertButton, and TemperatureText composable functions add an image, a button, and some text to the UI.</strong></p>
<figure class="informal"><div class="figure">
<img src="Images/f0785-02.png" alt="image" width="404" height="212"/>
<h6/>
</div></figure></li>
<li><p><strong>The user clicks on the ConvertButton composable in the UI.</strong></p>
<p>This sets the value of <code>celsius</code> to 20.</p>
<figure class="informal"><div class="figure">
<img src="Images/f0785-03.png" alt="image" width="600" height="152"/>
<h6/>
</div></figure></li>
<li><p><strong>TemperatureText is recomposed.</strong></p>
<p>It converts the new value of <code>celsius</code> to Fahrenheit, and displays the result.</p>
<figure class="informal"><div class="figure">
<img src="Images/f0785-04.png" alt="image" width="600" height="192"/>
<h6/>
</div></figure></li>
</ol>
<p>Let’s take the app for a test drive.</p>
</div></section>
<section data-type="sect1" data-pdf-bookmark=" Test Drive"><div class="sect1" id="test_drive-id00299">
<h1><span class="inlineimage"><img src="Images/car.png" alt="Images" width="119" height="58"/></span> Test Drive</h1>
<p><a data-type="indexterm" data-primary="Button view" data-secondary="by syntax" id="idm46053733118800"/>When we run the app, <code>MainActivity</code> is displayed. It includes an image, a button, and some text that gives the value of 0° Celsius in Fahrenheit.</p>
<p>When we click on the Convert button, the text is updated to give the value of 20° Celsius in Fahrenheit instead.</p>
<figure class="informal"><div class="figure">
<img src="Images/f0786-02.png" alt="image" width="600" height="306"/>
<h6/>
</div></figure>
<p>The next thing we need to do is let the user enter her own temperatures. We’ll do this after you’ve tried the exercise on the next page.</p>
<aside data-type="sidebar" epub:type="sidebar"><div class="sidebar" id="there_are_no_dumb_questions-id00300">
<h5>there are no Dumb Questions</h5>
<p><strong>Q: Did you say that <code>remember</code> stores an object in memory?</strong></p>
<p><strong>A:</strong> Yes—well remembered!</p>
<p><code>remember</code> stores an object in memory when the composable that calls it is first composed, and forgets about it when the composable is removed from the UI. This can happen when the user rotates the device screen because Android destroys and recreates the activity, along with any composables.</p>
<p><strong>Q: Can I persist a composable’s state when the screen is rotated?</strong></p>
<p><strong>A:</strong> For simple values, you can use <code>rememberSaveable</code> instead of <code>remember</code>. This automatically saves any value that can be saved to a <code>Bundle</code>.</p>
<p>Another option is to use a view model. We’ll show you how to use composables with a view model in the next chapter.</p>
<p><strong>Q: I’ve seen syntax like: <code>var x by remember { ... }</code> What does this do?</strong></p>
<p><strong>A:</strong> It’s the same as using <code>val x = remember { ... }</code> except you can replace <code>x.value</code> in your code with <code>x</code>. If you use this approach, make sure you import <code>androidx.compose.runtime.getValue</code> and <code>androidx.compose.runtime.setValue</code> or the code won’t compile.</p>
</div></aside>
</div></section>
<section data-type="sect1" data-pdf-bookmark="Compose Magnets"><div class="sect1" id="compose_magnets">
<h1>Compose Magnets</h1>
<figure class="informal"><div class="figure">
<img src="Images/common02.png" alt="image" width="86" height="144"/>
<h6/>
</div></figure>
<p><a data-type="indexterm" data-primary="composable functions" data-secondary="exercises" id="idm46053733099296"/>Someone used fridge magnets to create a new composable function named <code>ChangeHello</code>. The function displays some text that says “Hello friend”, and a button that, when clicked, changes the text to “Hello everyone”.</p>
<p>Unfortunately a stray cat ran into the kitchen and dislodged some of the magnets. Can you piece them back together again?</p>
<figure class="informal"><div class="figure">
<img src="Images/f0787-01.png" alt="image" width="394" height="251"/>
<h6/>
</div></figure>
<figure class="informal"><div class="figure">
<img src="Images/f0787-02.png" alt="image" width="600" height="524"/>
<h6/>
</div></figure>
</div></section>
<section data-type="sect1" data-pdf-bookmark="Compose Magnets Solution"><div class="sect1" id="compose_magnets_solution">
<h1>Compose Magnets Solution</h1>
<figure class="informal"><div class="figure">
<img src="Images/common02.png" alt="image" width="86" height="144"/>
<h6/>
</div></figure>
<p>Someone used fridge magnets to create a new composable function named <code>ChangeHello</code>. The function displays some text that says “Hello friend”, and a button that, when clicked, changes the text to “Hello everyone”.</p>
<p>Unfortunately a stray cat ran into the kitchen and dislodged some of the magnets. Can you piece them back together again?</p>
<figure class="informal"><div class="figure">
<img src="Images/f0788-01.png" alt="image" width="394" height="251"/>
<h6/>
</div></figure>
<figure class="informal"><div class="figure">
<img src="Images/f0788-02.png" alt="image" width="600" height="530"/>
<h6/>
</div></figure>
</div></section>
<section data-type="sect1" data-pdf-bookmark="Let the user enter a temperature"><div class="sect1" id="let_the_user_enter_a_temperature">
<h1>Let the user enter a temperature</h1>
<figure class="informal"><div class="figure">
<img src="Images/f0789-01.png" alt="image" width="214" height="91"/>
<h6/>
</div></figure>
<p><a data-type="indexterm" data-primary="composables" data-secondary="TextField" id="idm46053733080400"/><a data-type="indexterm" data-primary="converter composables" data-secondary="TextField" id="idm46053733079024"/><a data-type="indexterm" data-primary="label attribute" data-secondary="TextField composable" id="idm46053733077920"/><a data-type="indexterm" data-primary="MutableState object" id="idm46053733076816"/><a data-type="indexterm" data-primary="onValueChange attribute, TextField composable" id="idm46053733075984"/><a data-type="indexterm" data-primary="TextField composable" id="idm46053733075056"/><a data-type="indexterm" data-primary="TextField composable" data-secondary="attributes for" id="idm46053733074224"/><a data-type="indexterm" data-primary="text variable, TextField composable" id="idm46053733073120"/><a data-type="indexterm" data-primary="value attribute, TextField composable" id="idm46053733072320"/>So far, you’ve built a version of the Temperature Converter app that converts a hardcoded temperature from Celsius to Fahrenheit. When the user clicks on a button, it changes the temperature that’s being converted to another value.</p>
<p>What we <em>really</em> want to do is let the user convert her own temperatures, so the next thing we’ll do is add a text field to the UI. The user will enter a Celsius temperature into the text field, and when she clicks the button, the app will convert it to Fahrenheit and display the result:</p>
<section data-type="sect2" data-pdf-bookmark="We’ll use a TextField composable"><div class="sect2" id="weapostrophell_use_a_textfield_composabl">
<h2>We’ll use a TextField composable</h2>
<p>We’ll add a text field to the UI using a <code>TextField</code> composable. You can think of this type of composable as the Compose equivalent of an <code>EditText</code>.</p>
<p>You add a <code>TextField</code> using code like this:</p>
<figure class="informal"><div class="figure">
<img src="Images/f0789-02.png" alt="image" width="413" height="472"/>
<h6/>
</div></figure>
<figure class="informal"><div class="figure">
<img src="Images/f0789-03.png" alt="image" width="600" height="219"/>
<h6/>
</div></figure>
<p>The <code>value</code> attribute is used for the <code>TextField</code>’s value, and in this example, it uses a <code>MutableState</code> variable named <code>text</code> to store this value in memory.</p>
<p>The <code>onValueChange</code> attribute uses a lambda to update the value of the <code>text</code> variable when the user enters text.</p>
<p>The <code>label</code> attribute provides the <code>TextField</code>’s label. It’s displayed in the text area when the <code>TextField</code> is empty, and moves out of the way when the user enters text.</p>
<p>Now that you’ve seen what text field code looks like, let’s add one to the app.</p>
<figure class="informal"><div class="figure">
<img src="Images/f0789-04.png" alt="image" width="355" height="347"/>
<h6/>
</div></figure>
</div></section>
</div></section>
<section data-type="sect1" data-pdf-bookmark="Add a TextField to a composable function"><div class="sect1" id="add_a_textfield_to_a_composable_function">
<h1>Add a TextField to a composable function</h1>
<p><a data-type="indexterm" data-primary="ConvertButton composable function" id="idm46053733051392"/><a data-type="indexterm" data-primary="EnterTemperature function, TextField composable" id="idm46053733050400"/><a data-type="indexterm" data-primary="MainActivityContent composable function" id="idm46053733049600"/><a data-type="indexterm" data-primary="MutableState object" id="idm46053733048800"/><a data-type="indexterm" data-primary="newCelsius, Mutable State object" id="idm46053733047968"/><a data-type="indexterm" data-primary="TemperatureText composable function" data-secondary="newCelsius object" id="idm46053733047168"/><a data-type="indexterm" data-primary="TextField composable" data-secondary="EnterTemperature function" id="idm46053733046096"/>We’ll add a <code>TextField</code> to the UI by creating a new <code>EnterTemperature</code> composable function, which we’ll call from <code>MainActivityContent</code>.</p>
<p>Here’s what the code for the <code>EnterTemperature</code> function looks like:</p>
<figure class="informal"><div class="figure">
<img src="Images/f0790-02.png" alt="image" width="600" height="200"/>
<h6/>
</div></figure>
<p>As you can see, the function accepts two arguments: a <code>String</code> for the <code>TextField</code>’s value, and a lambda that specifies what should happen when the user enters a new value.</p>
<section data-type="sect2" data-pdf-bookmark="Call the function in MainActivityContent"><div class="sect2" id="call_the_function_in_mainactivitycontent">
<h2>Call the function in MainActivityContent</h2>
<p><code>MainActivityContent</code> needs to pass both arguments to <code>EnterTemperature</code> when it runs the function, so we’ll use a new <code>MutableState</code> object named <code>newCelsius</code> for its value, and update it when the user enters text.</p>
<p>We’ll also change the lambda that’s passed to <code>ConvertButton</code> so that it updates the value of <code>celsius</code> when the user enters a valid <code>Int</code>; this will recompose <code>TemperatureText</code> when the user enters a new temperature.</p>
<p>Here’s what the code looks like; we’ll update <em>MainActivity.kt</em> on the next page:</p>
<figure class="informal"><div class="figure">
<img src="Images/f0790-03.png" alt="image" width="343" height="281"/>
<h6/>
</div></figure>
<figure class="informal"><div class="figure">
<img src="Images/f0790-04.png" alt="image" width="600" height="237"/>
<h6/>
</div></figure>
</div></section>
</div></section>
<section data-type="sect1" data-pdf-bookmark="The full code for MainActivity.kt"><div class="sect1" id="the_full_code_for_mainactivitydo-id00301">
<h1>The full code for MainActivity.kt</h1>
<p><a data-type="indexterm" data-primary="TextField composable" data-secondary="activity code for" id="idm46053733028096"/>Here’s the code for <em>MainActivity.kt</em>; update the file to include the changes below (in bold):</p>
<figure class="informal"><div class="figure">
<img src="Images/f0791-02.png" alt="image" width="600" height="597"/>
<h6/>
</div></figure>
<figure class="informal"><div class="figure">
<img src="Images/f0792-02.png" alt="image" width="600" height="664"/>
<h6/>
</div></figure>
<p>Let’s see what happens when the code runs.</p>
</div></section>
<section data-type="sect1" data-pdf-bookmark="What happens when the app runs"><div class="sect1" id="what_happens_when_the_app_runs-id00302">
<h1>What happens when the app runs</h1>
<p>The following things happen when the app runs:</p>
<ol>
<li><p><strong>When MainActivityContent runs, it creates a MutableState&lt;Int&gt; variable named celsius, and a MutableState&lt;String&gt; named newCelsius.</strong></p>
<p>It sets <code>celsius</code> to <code>0</code> and <code>newCelsius</code> to <code>""</code> and stores both in memory.</p>
<figure class="informal"><div class="figure">
<img src="Images/f0793-02.png" alt="image" width="600" height="257"/>
<h6/>
</div></figure></li>
<li><p><strong>MainActivityContent runs the EnterTemperature, Header, ConvertButton, and TemperatureText composable functions.</strong></p>
<p>It passes the value of <code>celsius</code> to the <code>TemperatureText</code> composable function, which converts it to Fahrenheit.</p>
<figure class="informal"><div class="figure">
<img src="Images/f0793-03.png" alt="image" width="600" height="141"/>
<h6/>
</div></figure></li>
<li><p><strong>The Header, EnterTemperature, ConvertButton, and TemperatureText composable functions add an image, a text field, a button, and some text to the UI.</strong></p>
<figure class="informal"><div class="figure">
<img src="Images/f0793-04.png" alt="image" width="418" height="233"/>
<h6/>
</div></figure></li>
<li><p><strong>The user enters a new value into EnterTemperature (in this example “25”).</strong></p>
<p><code>EnterTemperature</code> sets <code>newCelsius</code> to this value.</p>
<figure class="informal"><div class="figure">
<img src="Images/f0794-02.png" alt="image" width="600" height="112"/>
<h6/>
</div></figure></li>
<li><p><strong>The user clicks on the ConvertButton composable.</strong></p>
<p>It converts the value of <code>newCelsius</code> to an <code>Int</code>, and assigns it to <code>celsius.value</code>.</p>
<figure class="informal"><div class="figure">
<img src="Images/f0794-03.png" alt="image" width="600" height="107"/>
<h6/>
</div></figure></li>
<li><p><strong>TemperatureText is recomposed.</strong></p>
<p>It converts the new value of <code>celsius</code> to Fahrenheit, and displays the result.</p>
<figure class="informal"><div class="figure">
<img src="Images/f0794-04.png" alt="image" width="600" height="177"/>
<h6/>
</div></figure></li>
</ol>
<p>Let’s take the app for a test drive.</p>
</div></section>
<section data-type="sect1" data-pdf-bookmark=" Test Drive"><div class="sect1" id="test_drive-id00303">
<h1><span class="inlineimage"><img src="Images/car.png" alt="Images" width="119" height="58"/></span> Test Drive</h1>
<p>When we run the app, <code>MainActivity</code> includes a text field.</p>
<p>When we enter a temperature and click on the Convert button, the app converts the temperature to Fahrenheit and updates the temperature text.</p>
<figure class="informal"><div class="figure">
<img src="Images/f0795-02.png" alt="image" width="600" height="601"/>
<h6/>
</div></figure>
<p>The app now works in exactly the way we want. All that’s left is for us to make some extra tweaks to its appearance.</p>
</div></section>
<section data-type="sect1" data-pdf-bookmark="We’ll tweak the app’s appearance"><div class="sect1" id="weapostrophell_tweak_the_appapostrophes">
<h1>We’ll tweak the app’s appearance</h1>
<figure class="informal"><div class="figure">
<img src="Images/f0796-01.png" alt="image" width="214" height="86"/>
<h6/>
</div></figure>
<p><a data-type="indexterm" data-primary="Material design system" data-secondary="styling Temperature Converter app" id="idm46053732985360"/><a data-type="indexterm" data-primary="Temperature Converter app" data-secondary="modifying appearance" id="idm46053732983920"/>We’re going to change the app so that there’s a gap between the edge of the screen and the UI components, and the button is centered horizontally. We’ll also style the composables so that they use the default Material theme.</p>
<p>Here’s what the new version of the app will look like:</p>
<figure class="informal"><div class="figure">
<img src="Images/f0796-02.png" alt="image" width="600" height="543"/>
<h6/>
</div></figure>
<p>We’ll make these tweaks over the next few pages. We’ll start by adding some space around the edge of the UI.</p>
</div></section>
<section data-type="sect1" data-pdf-bookmark="Add padding to the Column composable"><div class="sect1" id="add_padding_to_the_column_composable">
<h1>Add padding to the Column composable</h1>
<p><a data-type="indexterm" data-primary="Column composable" id="idm46053732978448"/><a data-type="indexterm" data-primary="composables" data-secondary="Column" id="idm46053732976640"/><a data-type="indexterm" data-primary="Modifiers, Compose" id="idm46053732975536"/><a data-type="indexterm" data-primary="padding, applying to composables" id="idm46053732974704"/>We want to add a gap between the edge of the screen and the app’s components so that it looks like this:</p>
<figure class="informal"><div class="figure">
<img src="Images/f0797-02.png" alt="image" width="600" height="398"/>
<h6/>
</div></figure>
<p>We’ll do this by adding some <strong>padding</strong> to the <code>Column</code> composable. Applying padding to composables has a similar effect to when you apply it to views; it adds extra space around the component’s edges.</p>
<p>You add padding to a composable using a <code><strong>Modifier</strong></code>. <code>Modifier</code>s let you decorate or add extra behavior to composables. To add padding of 16dp to a <code>Column</code> composable, for example, you’d use the code:</p>
<pre data-type="programlisting">Column(<strong>modifier = Modifier.padding(16.dp)</strong>) {
    ...
}</pre>
<p><code>Modifier</code>s are extremely flexible. You may remember, for example, that when we wrote the <code>Header</code> composable function, we used a <code>Modifier</code> to set the <code>Image</code> height and width like so:</p>
<figure class="informal"><div class="figure">
<img src="Images/f0797-03.png" alt="image" width="343" height="281"/>
<h6/>
</div></figure>
<pre data-type="programlisting">Image(
    ...
    <strong>modifier = Modifier.height(180.dp).fillMaxWidth()</strong>
)</pre>
<p>We’ll add padding to the app’s <code>Column</code> composable a few pages ahead. Before we do that, let’s find out how to center the <code>Button</code>.</p>
</div></section>
<section data-type="sect1" data-pdf-bookmark="You can center composables in Columns or Rows"><div class="sect1" id="you_can_center_composables_in_columns_or">
<h1>You can center composables in Columns or Rows</h1>
<p><a data-type="indexterm" data-primary="centering composables" id="idm46053732957744"/><a data-type="indexterm" data-primary="horizontalAlignment argument, Column composable" id="idm46053732956720"/>If you want to center one or more composables, such as a <code>Button</code> or <code>Text</code>, you can do so using <code>Column</code>s and <code>Row</code>s. There are a couple approaches you can take, depending on what you want to do.</p>
<section data-type="sect2" data-pdf-bookmark="Center all of a Column’s content"><div class="sect2" id="center_all_of_a_columnapostrophes_conten">
<h2>Center all of a Column’s content</h2>
<p>If you want to align the composables in a <code>Column</code> so they’re all centered horizontally, you can do so by making the <code>Column</code> as wide as possible, then setting its <code><strong>horizontalAlignment</strong></code> argument.</p>
<p>To horizontally center all the composables in the Temperature Converter app, for example, we’d add the code (in bold) to the <code>Column</code> composable:</p>
<figure class="informal"><div class="figure">
<img src="Images/f0798-02.png" alt="image" width="600" height="250"/>
<h6/>
</div></figure>
<p>Doing so makes the app look like this:</p>
<figure class="informal"><div class="figure">
<img src="Images/f0798-04.png" alt="image" width="600" height="337"/>
<h6/>
</div></figure>
<p>But what if you want to center just one of the composables?</p>
</div></section>
<section data-type="sect2" data-pdf-bookmark="Center the content of a single Row"><div class="sect2" id="center_the_content_of_a_single_row">
<h2>Center the content of a single Row</h2>
<p><a data-type="indexterm" data-primary="composables" data-secondary="Row" id="idm46053732945984"/><a data-type="indexterm" data-primary="Row composable" id="idm46053732942704"/>If you want to horizontally center a single composable, you can do so by placing it in a <code>Row</code>. Simply modify the <code>Row</code> to make it as wide as possible, then set its <code><strong>horizontalArrangement</strong></code> attribute.</p>
<p>To horizontally center the <code>ConvertButton</code> composable, for example, we could put it in a <code>Row</code>, and center it like this:</p>
<figure class="informal"><div class="figure">
<img src="Images/f0799-02.png" alt="image" width="600" height="241"/>
<h6/>
</div></figure>
<p>Doing so centers the button like this:</p>
<figure class="informal"><div class="figure">
<img src="Images/f0799-03.png" alt="image" width="600" height="351"/>
<h6/>
</div></figure>
<p>That’s how you use <code>Column</code>s and <code>Row</code>s to align and arrange composables. Before we update <em>MainActivity.kt</em>, there’s just one final thing we need to discuss: how to apply themes to composables.</p>
</div></section>
</div></section>
<section data-type="sect1" data-pdf-bookmark="Applying themes: revisited"><div class="sect1" id="applying_themescolon_revisited">
<h1>Applying themes: revisited</h1>
<p><a data-type="indexterm" data-primary="AndroidManifest.xml file" data-secondary="theme in" id="idm46053732932784"/><a data-type="indexterm" data-primary="MainActivityContent composable function" id="idm46053732929696"/><a data-type="indexterm" data-primary="MaterialTheme, composables" id="idm46053732928896"/><a data-type="indexterm" data-primary="Surface composables" id="idm46053732928096"/><a data-type="indexterm" data-primary="themes" id="idm46053732927264"/><a data-type="indexterm" data-primary="themes" data-secondary="applying to composables" id="idm46053732926432"/>As you learned in <a data-type="xref" href="ch08.xhtml#navigation_uicolon_going_places">Chapter 8</a>, themes let you give your app a common look and feel. You can use one to remove the default app bar, for example, or change the app’s colors.</p>
<p>You already know that you can apply a theme by defining one in the app’s style resource files, which you then refer to in <em>AndroidManifest.xml</em>. Doing so applies the theme to the app, including any views. What this <em>doesn’t</em> do, however, is apply the theme to any <em>composables</em>. To style these, you need to use a different approach.</p>
<section data-type="sect2" data-pdf-bookmark="How to apply a theme to composables"><div class="sect2" id="how_to_apply_a_theme_to_composables">
<h2>How to apply a theme to composables</h2>
<p>If you want to apply a theme to a composition, you need to do so using Kotlin code. The following code, for example, uses <code>MaterialTheme</code> and <code>Surface</code> composables to apply a theme to <code>MainActivityContent</code>:</p>
<figure class="informal"><div class="figure">
<img src="Images/f0800-02.png" alt="image" width="600" height="243"/>
<h6/>
</div></figure>
<p><code><strong>MaterialTheme</strong></code> is used to apply the default Material theme to composables. In this case, it applies it to <code>MainActivityContent</code> and the composables this function calls, such as <code>TemperatureText</code> and <code>ConvertButton</code>.</p>
<p>The above code also includes a <code><strong>Surface</strong></code> composable, which is used to style surfaces. It’s used to apply things like 3D effects and shadows.</p>
<p>If you want to override the default <code>MaterialTheme</code>, you can do so be defining a new theme in Kotlin code. Android Studio usually adds extra theme code for you when you choose the option to create a new project with a Compose activity, so let’s take a look at this code and see what it does.</p>
</div></section>
</div></section>
<section data-type="sect1" data-pdf-bookmark="Android Studio includes extra theme code"><div class="sect1" id="android_studio_includes_extra_theme_code">
<h1>Android Studio includes extra theme code</h1>
<p><a data-type="indexterm" data-primary="Android Studio" data-secondary="extra theme code" id="idm46053732909280"/><a data-type="indexterm" data-primary="TemperatureConverterTheme" id="idm46053732907680"/><a data-type="indexterm" data-primary="Theme.kt" id="idm46053732906944"/>When we created the Temperature Converter project, Android Studio added extra Kotlin files to define a new theme. These files are named <em>Color.kt</em>, <em>Shape.kt</em>, <em>Theme.kt,</em> and <em>Type.kt</em>, and they’re located in the <em>app/src/main/java</em> folder in the <em>com.hfad.temperatureconverter.ui.theme</em> package.</p>
<p>The main file is <em>Theme.kt</em>, as it defines a new theme for the app. The theme’s name is <code>TemperatureConverterTheme</code>, and its code looks like this:</p>
<figure class="informal"><div class="figure">
<img src="Images/f0801-02.png" alt="image" width="417" height="214"/>
<h6/>
</div></figure>
<figure class="informal"><div class="figure">
<img src="Images/f0801-03.png" alt="image" width="600" height="539"/>
<h6/>
</div></figure>
<figure class="informal"><div class="figure">
<img src="Images/f0802-02.png" alt="image" width="600" height="354"/>
<h6/>
</div></figure>
<p>As you can see, the theme overrides the <code>MaterialTheme</code> colors, typography, and shapes. If you want to tweak any of these, you can do so by updating the files in the <em>.ui.theme</em> package.</p>
<section data-type="sect2" data-pdf-bookmark="How to apply the theme"><div class="sect2" id="how_to_apply_the_theme">
<h2>How to apply the theme</h2>
<p>Once you’ve defined a theme, you can apply it to the app’s composables. To apply <code>TemperatureConverterTheme</code> to <code>MainActivityContent</code>, for example, you’d use the following code:</p>
<figure class="informal"><div class="figure">
<img src="Images/f0802-03.png" alt="image" width="600" height="189"/>
<h6/>
</div></figure>
</div></section>
</div></section>
<section data-type="sect1" data-pdf-bookmark="The full code for MainActivity.kt"><div class="sect1" id="the_full_code_for_mainactivitydo-id00304">
<h1>The full code for MainActivity.kt</h1>
<p><a data-type="indexterm" data-primary="Temperature Converter app" data-secondary="code for" id="idm46053732893520"/>You now know everything that you need to tweak the UI’s appearance and make it look exactly how we want.</p>
<p>Here’s the complete code for <em>MainActivity.kt</em>; update the file to include the changes below (in bold):</p>
<figure class="informal"><div class="figure">
<img src="Images/f0803-02.png" alt="image" width="600" height="579"/>
<h6/>
</div></figure>
<figure class="informal"><div class="figure">
<img src="Images/f0804-02.png" alt="image" width="600" height="700"/>
<h6/>
</div></figure>
<figure class="informal"><div class="figure">
<img src="Images/f0805-02.png" alt="image" width="600" height="542"/>
<h6/>
</div></figure>
<p>Let’s take the app for a test drive.</p>
</div></section>
<section data-type="sect1" data-pdf-bookmark=" Test Drive"><div class="sect1" id="test_drive-id00305">
<h1><span class="inlineimage"><img src="Images/car.png" alt="Images" width="119" height="58"/></span> Test Drive</h1>
<p>When we run the app, <code>MainActivity</code> is displayed, and the UI looks exactly how we want it to. There’s a gap between the UI and the edge of the screen, the button is centered horizontally, and it uses the default Material theme.</p>
<figure class="informal"><div class="figure">
<img src="Images/f0806-02.png" alt="image" width="600" height="698"/>
<h6/>
</div></figure>
<p>Congratulations! You’ve now learned how to build a UI using Jetpack Compose instead of views.</p>
<p>In the next chapter, you’ll take this knowledge even further by learning how to integrate composables into an existing <code>View</code>-based UI.</p>
</div></section>
<section data-type="sect1" data-pdf-bookmark="BE Compose"><div class="sect1" id="be_compose">
<h1>BE Compose</h1>
<figure class="informal"><div class="figure">
<img src="Images/common04.png" alt="image" width="156" height="199"/>
<h6/>
</div></figure>
<p><a data-type="indexterm" data-primary="composable functions" data-secondary="exercises" id="idm46053732869984"/><strong>The composable function below includes a TextField, a Button, and a Text. When the user enters a name in the TextField and clicks the Button, the new name should be displayed in the Text. Your job is to play like you’re Compose, and say if the fiunction works as intended. If not, how would you change it?</strong></p>
<pre data-type="programlisting">@Composable
fun ChangeHello() {
    val name = mutableStateOf("friend")
    val newName = mutableStateOf("")

    TextField(
        value = newName.value,
        label = { Text("Enter your name") },
        onValueChange = { name.value = it }
    )

    Button(
        onClick = { name = newName }
    ) {
        Text("Update Hello")
    }

    Text("Hello ${name.value}")
}</pre>
</div></section>
<section data-type="sect1" data-pdf-bookmark="BE Compose Solution"><div class="sect1" id="be_compose_solution">
<h1>BE Compose Solution</h1>
<figure class="informal"><div class="figure">
<img src="Images/common04.png" alt="image" width="156" height="199"/>
<h6/>
</div></figure>
<p><strong>The composable function below includes a TextField, a Button, and a Text. When the user enters a name in the TextField and clicks the Button, the new name should be displayed in the Text. Your job is to play like you’re Compose, and say if the function works as intended. If not, how would you change it?</strong></p>
<div data-type="note" epub:type="note"><h6>Note</h6>
<p><span style="color:#9D9EA0;"><strong><span style="color:#004A8F;">Code changes are needed to make the function work as intended. We’ve added these to the code below.</span></strong></span></p>
</div>
<figure class="informal"><div class="figure">
<img src="Images/f0808-01.png" alt="image" width="600" height="446"/>
<h6/>
</div></figure>
</div></section>
<section data-type="sect1" data-pdf-bookmark="Your Android Toolbox"><div class="sect1" id="your_android_toolbox-id00306">
<h1>Your Android Toolbox</h1>
<figure class="informal"><div class="figure">
<img src="Images/tools.png" alt="image" width="182" height="129"/>
<h6/>
</div></figure>
<p><strong>You’ve got <a data-type="xref" href="#jetpack_composecolon_compose_yourself">Chapter 18</a> under your belt and now you’ve added Jetpack Compose to your toolbox.</strong></p>
<figure class="informal"><div class="figure">
<img src="Images/f0809-01.png" alt="image" width="233" height="210"/>
<h6/>
</div></figure>
<aside data-type="sidebar" epub:type="sidebar"><div class="sidebar" id="bullet_points-id00307">
<h5>Bullet Points</h5>
<ul>
<li><p>Jetpack Compose lets you build native UIs using pure Kotlin code.</p></li>
<li><p>The UI is built using composables instead of views and layout files.</p></li>
<li><p>Compose activities extend <code>ComponentActivity</code>.</p></li>
<li><p>Any composables run from <code>setContent()</code> will be displayed to the activity’s UI.</p></li>
<li><p>A composable function is a function that uses one or more composables. It needs to be annotated with <code>@Composable</code>.</p></li>
<li><p>You can preview composable functions with no arguments using the <code>@Preview</code> annotation.</p></li>
<li><p>Use <code>Text</code> to display text.</p></li>
<li><p>Use <code>Row</code> and <code>Column</code> to arrange composables in rows and columns.</p></li>
<li><p>Use <code>Image</code> to display an image.</p></li>
<li><p>Use <code>Button</code> to display a button.</p></li>
<li><p>A composable is only recomposed when any values it depends on are updated.</p></li>
<li><p>Use <code>remember</code> to store an object in memory.</p></li>
<li><p>Use <code>mutableStateOf()</code> to create a <code>MutableState</code> object whose values can be updated.</p></li>
<li><p>Use <code>TextField</code> to display a text field.</p></li>
<li><p>Use a <code>Modifier</code> to decorate a composable or add behavior.</p></li>
<li><p>Use <code>Column</code>s and <code>Row</code>s to center composables.</p></li>
<li><p>Use <code>MaterialTheme</code> to apply the default Material theme to composables.</p></li>
<li><p>You can override the default theme by creating a new one in Kotlin code, and applying it to the UI.</p></li>
<li><p>Use <code>Surface</code> to style surfaces and apply 3D effects.</p></li>
</ul>
</div></aside>
</div></section>
</div></section></div></body></html>