- en: Appendix B. If You Use a Different Shell
  id: totrans-0
  prefs:
  - PREF_H1
  type: TYPE_NORMAL
- en: This book assumes your login shell is `bash`, but if it’s not, [Table B-1](#table_shells)
    may help you adapt the book’s examples for other shells. The checkmark symbol
    ✓ indicates compatibility—the given feature is similar enough to `bash`’s that
    examples in the book should run correctly. However, the feature’s behavior may
    differ from `bash`’s in other ways. Read any footnotes carefully.
  id: totrans-1
  prefs: []
  type: TYPE_NORMAL
- en: Note
  id: totrans-2
  prefs:
  - PREF_H6
  type: TYPE_NORMAL
- en: Regardless of which shell is your login shell, scripts that begin with `#!/bin/bash`
    are processed by `bash`.
  id: totrans-3
  prefs: []
  type: TYPE_NORMAL
- en: To experiment with another shell installed on your system, simply run it by
    name (e.g., `ksh`) and press Ctrl-D when finished. To change your login shell,
    read `man chsh`.
  id: totrans-4
  prefs: []
  type: TYPE_NORMAL
- en: Table B-1\. `bash` features supported by other shells, in alphabetical order
  id: totrans-5
  prefs: []
  type: TYPE_NORMAL
- en: '| bash feature | dash | fish | ksh | tcsh | zsh |'
  id: totrans-6
  prefs: []
  type: TYPE_TB
- en: '| --- | --- | --- | --- | --- | --- |'
  id: totrans-7
  prefs: []
  type: TYPE_TB
- en: '| `alias` builtin | ✓ | ✓, but `alias` *`name`* does not print the alias |
    ✓ | No equals sign: `alias g grep` | ✓ |'
  id: totrans-8
  prefs: []
  type: TYPE_TB
- en: '| Backgrounding with `&` | ✓ | ✓ | ✓ | ✓ | ✓ |'
  id: totrans-9
  prefs: []
  type: TYPE_TB
- en: '| `bash -c` | `dash -c` | `fish -c` | `ksh -c` | `tcsh -c` | `zsh -c` |'
  id: totrans-10
  prefs: []
  type: TYPE_TB
- en: '| `bash` command | `dash` | `fish` | `ksh` | `tcsh` | `zsh` |'
  id: totrans-11
  prefs: []
  type: TYPE_TB
- en: '| `bash` location in */bin/bash* | */bin/dash* | */bin/fish* | */bin/ksh* |
    */bin/tcsh* | */bin/zsh* |'
  id: totrans-12
  prefs: []
  type: TYPE_TB
- en: '| `BASH_SUBSHELL` variable |  |  |  |  |  |'
  id: totrans-13
  prefs: []
  type: TYPE_TB
- en: '| Brace expansion with `{}` | Use `seq` | Only `{a,b,c}`, not `{a..c}` | ✓
    | Use `seq` | ✓ |'
  id: totrans-14
  prefs: []
  type: TYPE_TB
- en: '| `cd -` (toggling directories) | ✓ | ✓ | ✓ | ✓ | ✓ |'
  id: totrans-15
  prefs: []
  type: TYPE_TB
- en: '| `cd` builtin | ✓ | ✓ | ✓ | ✓ | ✓ |'
  id: totrans-16
  prefs: []
  type: TYPE_TB
- en: '| `CDPATH` variable | ✓ | `set CDPATH` *`value`* | ✓ | `set cdpath =` (*`dir1
    dir2 …`*`)` | ✓ |'
  id: totrans-17
  prefs: []
  type: TYPE_TB
- en: '| Command substitution with `$()` | ✓ | Use `()` | ✓ | Use backquotes | ✓ |'
  id: totrans-18
  prefs: []
  type: TYPE_TB
- en: '| Command substitution with backquotes | ✓ | Use `()` | ✓ | ✓ | ✓ |'
  id: totrans-19
  prefs: []
  type: TYPE_TB
- en: '| Command-line editing with arrow keys |  | ✓ | ✓^([a](app02.xhtml#cle)) |
    ✓ | ✓ |'
  id: totrans-20
  prefs: []
  type: TYPE_TB
- en: '| Command-line editing with Emacs keys |  | ✓ | ✓^([a](app02.xhtml#cle)) |
    ✓ | ✓ |'
  id: totrans-21
  prefs: []
  type: TYPE_TB
- en: '| Command-line editing with Vim keys with `set -o vi` |  |  | ✓ | Run `bindkey
    -v` | ✓ |'
  id: totrans-22
  prefs: []
  type: TYPE_TB
- en: '| `complete` builtin |  | different syntax^([b](app02.xhtml#complete)) | different
    syntax^([b](app02.xhtml#complete)) | different syntax^([b](app02.xhtml#complete))
    | `compdef`^([b](app02.xhtml#complete)) |'
  id: totrans-23
  prefs: []
  type: TYPE_TB
- en: '| Conditional lists with `&&` and `&#124;&#124;` | ✓ | ✓ | ✓ | ✓ | ✓ |'
  id: totrans-24
  prefs: []
  type: TYPE_TB
- en: '| Configuration files in `$HOME` (read manpage for details) | *.profile* |
    *.config/fish/config.fish* | *.profile*, *.kshrc* | *.cshrc* | *.zshenv*, *.zprofile*,
    *.zshrc*, *.zlogin*, *.zlogout* |'
  id: totrans-25
  prefs: []
  type: TYPE_TB
- en: '| Control structures: `for` loops, `if` statements, etc. | ✓ | different syntax
    | ✓ | different syntax | ✓ |'
  id: totrans-26
  prefs: []
  type: TYPE_TB
- en: '| `dirs` builtin |  | ✓ |  | ✓ | ✓ |'
  id: totrans-27
  prefs: []
  type: TYPE_TB
- en: '| `echo` builtin | ✓ | ✓ | ✓ | ✓ | ✓ |'
  id: totrans-28
  prefs: []
  type: TYPE_TB
- en: '| Escape alias with `\` | ✓ |  | ✓ | ✓ | ✓ |'
  id: totrans-29
  prefs: []
  type: TYPE_TB
- en: '| Escape with `\` | ✓ | ✓ | ✓ | ✓ | ✓ |'
  id: totrans-30
  prefs: []
  type: TYPE_TB
- en: '| `exec` builtin | ✓ | ✓ | ✓ | ✓ | ✓ |'
  id: totrans-31
  prefs: []
  type: TYPE_TB
- en: '| Exit code with `$?` | ✓ | `$status` | ✓ | ✓ | ✓ |'
  id: totrans-32
  prefs: []
  type: TYPE_TB
- en: '| `export` builtin | ✓ | `set -x` *`name value`* | ✓ | `setenv` *`name value`*
    | ✓ |'
  id: totrans-33
  prefs: []
  type: TYPE_TB
- en: '| Functions | ✓^([c](app02.xhtml#idm46586635362048)) | different syntax | ✓
    |  | ✓ |'
  id: totrans-34
  prefs: []
  type: TYPE_TB
- en: '| `HISTCONTROL` variable |  |  |  |  | See variables with names beginning in
    `HIST_` on the manpage |'
  id: totrans-35
  prefs: []
  type: TYPE_TB
- en: '| `HISTFILE` variable |  | `set` `fish_history` *`path`* | ✓ | `set` `histfile`
    `=` *`path`* | ✓ |'
  id: totrans-36
  prefs: []
  type: TYPE_TB
- en: '| `HISTFILESIZE` variable |  |  |  | `set` `savehist` `=` *`value`* | +SAVEHIST
    |'
  id: totrans-37
  prefs: []
  type: TYPE_TB
- en: '| `history` builtin |  | ✓, but commands are not numbered | `history` is an
    alias for `hist` `-l` | ✓ | ✓ |'
  id: totrans-38
  prefs: []
  type: TYPE_TB
- en: '| `history -c` |  | `history clear` | Delete *~/.sh_history* and restart `ksh`
    | ✓ | `history` `-p` |'
  id: totrans-39
  prefs: []
  type: TYPE_TB
- en: '| History expansion with `!` and `^` |  |  |  | ✓ | ✓ |'
  id: totrans-40
  prefs: []
  type: TYPE_TB
- en: '| History incremental search with Ctrl-R |  | Type beginning of command, then
    press up arrow to search, right arrow to select | ✓^([a](app02.xhtml#cle)) ^([d](app02.xhtml#idm46586635324032))
    | ✓^([e](app02.xhtml#idm46586635322480)) | ✓^([f](app02.xhtml#idm46586635319472))
    |'
  id: totrans-41
  prefs: []
  type: TYPE_TB
- en: '| `history` *`number`* |  | `history` `-`*`number`* | `history -N` *`number`*
    | ✓ | `history` `-*number*` |'
  id: totrans-42
  prefs: []
  type: TYPE_TB
- en: '| History with arrow keys |  | ✓ | ✓^([a](app02.xhtml#cle)) | ✓ | ✓ |'
  id: totrans-43
  prefs: []
  type: TYPE_TB
- en: '| History with Emacs keys |  | ✓ | ✓^([a](app02.xhtml#cle)) | ✓ | ✓ |'
  id: totrans-44
  prefs: []
  type: TYPE_TB
- en: '| History with Vim keys with `set -o vi` |  |  | ✓ | Run `bindkey -v` | ✓ |'
  id: totrans-45
  prefs: []
  type: TYPE_TB
- en: '| `HISTSIZE` variable |  |  | ✓ |  | ✓ |'
  id: totrans-46
  prefs: []
  type: TYPE_TB
- en: '| Job control with `fg`, `bg`, Ctrl-Z, `jobs` | ✓ | ✓ | ✓ | ✓^([g](app02.xhtml#idm46586635288896))
    | ✓ |'
  id: totrans-47
  prefs: []
  type: TYPE_TB
- en: '| Pattern matching with `*`, `?`, `[]` | ✓ | ✓ | ✓ | ✓ | ✓ |'
  id: totrans-48
  prefs: []
  type: TYPE_TB
- en: '| Pipes | ✓ | ✓ | ✓ | ✓ | ✓ |'
  id: totrans-49
  prefs: []
  type: TYPE_TB
- en: '| `popd` builtin |  | ✓ |  | ✓ | ✓ |'
  id: totrans-50
  prefs: []
  type: TYPE_TB
- en: '| Process substitution with `<()` |  |  | ✓ |  | ✓ |'
  id: totrans-51
  prefs: []
  type: TYPE_TB
- en: '| `PS1` variable | ✓ | `set PS1` *`value`* | ✓ | `set prompt =` *`value`* |
    ✓ |'
  id: totrans-52
  prefs: []
  type: TYPE_TB
- en: '| `pushd` builtin |  | ✓ |  | ✓, but no negative arguments | ✓ |'
  id: totrans-53
  prefs: []
  type: TYPE_TB
- en: '| Quotes, double | ✓ | ✓ | ✓ | ✓ | ✓ |'
  id: totrans-54
  prefs: []
  type: TYPE_TB
- en: '| Quotes, single | ✓ | ✓ | ✓ | ✓ | ✓ |'
  id: totrans-55
  prefs: []
  type: TYPE_TB
- en: '| Redirection of stderr (`2>`) | ✓ | ✓ | ✓ |  | ✓ |'
  id: totrans-56
  prefs: []
  type: TYPE_TB
- en: '| Redirection of stdin (`<`), stdout (`>`, `>>`) | ✓ | ✓ | ✓ | ✓ | ✓ |'
  id: totrans-57
  prefs: []
  type: TYPE_TB
- en: '| Redirection of stdout + stderr (`&>`) | Append `2>&1`^([h](app02.xhtml#stdouterr))
    | ✓ | Append `2>&1`^([h](app02.xhtml#stdouterr)) | `>&` | ✓ |'
  id: totrans-58
  prefs: []
  type: TYPE_TB
- en: '| Sourcing a file with `source` or `.` (dot) | dot only^([i](app02.xhtml#sourcing))
    | ✓ | ✓^([i](app02.xhtml#sourcing)) | `source` only | ✓^([i](app02.xhtml#sourcing))
    |'
  id: totrans-59
  prefs: []
  type: TYPE_TB
- en: '| Subshell with `()` | ✓ |  | ✓ | ✓ | ✓ |'
  id: totrans-60
  prefs: []
  type: TYPE_TB
- en: '| Tab completion for filenames |  | ✓ | ✓^([a](app02.xhtml#cle)) | ✓ | ✓ |'
  id: totrans-61
  prefs: []
  type: TYPE_TB
- en: '| `type` builtin | ✓ | ✓ | `type` is an alias for `whence -v` | No, but `which`
    is a builtin | ✓ |'
  id: totrans-62
  prefs: []
  type: TYPE_TB
- en: '| `unalias` builtin | ✓ | `functions` `--erase` | ✓ | ✓ | ✓ |'
  id: totrans-63
  prefs: []
  type: TYPE_TB
- en: '| Variable definition with `name=value` | ✓ | `set` *`name value`* | ✓ | `set`
    *`name`* `=` *`value`* | ✓ |'
  id: totrans-64
  prefs: []
  type: TYPE_TB
- en: '| Variable evaluation with `$name` | ✓ | ✓ | ✓ | ✓ | ✓ |'
  id: totrans-65
  prefs: []
  type: TYPE_TB
- en: '| ^([a](app02.xhtml#cle-marker)) This feature is disabled by default. Run `set
    -o emacs` to enable it. Older versions of `ksh` may behave differently.^([b](app02.xhtml#complete-marker))
    Custom command completion, using the `complete` command or similar, differs significantly
    from shell to shell; read the shell’s manpage.^([c](app02.xhtml#idm46586635362048-marker))
    Functions: This shell does not support newer-style definitions that begin with
    the `function` keyword.^([d](app02.xhtml#idm46586635324032-marker)) Incremental
    search of history works differently in `ksh`. Press Ctrl-R, type a string, and
    press Enter to recall the most recent command containing that string. Press Ctrl-R
    and Enter again to search backward for the next matching command, and so on. Press
    Enter to execute.^([e](app02.xhtml#idm46586635322480-marker)) To enable incremental
    history search with Ctrl-R in `tcsh`, run the command `bindkey ^R i-search-back`
    (and add it to a shell configuration file). The search behavior is a bit different
    from `bash`’s; see `man tcsh`.^([f](app02.xhtml#idm46586635319472-marker)) In
    `vi` mode, type `/` followed by the search string, then press Enter. Press `n`
    to jump to the next search result.^([g](app02.xhtml#idm46586635288896-marker))
    Job control: `tcsh` does not track the default job number as intelligently as
    other shells, so you may need to supply the job number, such as `%1`, as an argument
    to `fg` and `bg` more often.^([h](app02.xhtml#stdouterr-marker)) Redirection of
    stdout and stderr: The syntax in this shell is: *`command`* `>` *`file`* `2>&1`.
    The final term `2>&1` means “redirect stderr, which is file descriptor 2, to stdout,
    which is file descriptor 1.”^([i](app02.xhtml#sourcing-marker)) Sourcing in this
    shell requires an explicit path to the sourced file, such as `./myfile` for a
    file in the current directory, or the shell won’t locate the file. Alternatively,
    place the file into a directory in the shell’s search path. |'
  id: totrans-66
  prefs: []
  type: TYPE_TB
  zh: '| ^([a](app02.xhtml#cle-marker)) 此功能默认禁用。运行 `set -o emacs` 可以启用它。旧版本的 `ksh`
    可能有不同的行为。^([b](app02.xhtml#complete-marker)) 自定义命令补全，使用 `complete` 命令或类似命令，在不同的
    shell 中可能有显著不同；请参阅相应 shell 的 man 手册。^([c](app02.xhtml#idm46586635362048-marker))
    函数：此 shell 不支持以 `function` 关键字开头的新式定义。^([d](app02.xhtml#idm46586635324032-marker))
    在 `ksh` 中，历史记录的增量搜索方式有所不同。按 Ctrl-R 键，输入字符串，然后按 Enter 键可以调出包含该字符串的最近命令。再次按 Ctrl-R
    键和 Enter 键可以向后搜索下一个匹配的命令，依此类推。按 Enter 键执行命令。^([e](app02.xhtml#idm46586635322480-marker))
    要在 `tcsh` 中启用 Ctrl-R 的增量历史搜索功能，请运行命令 `bindkey ^R i-search-back`（并将其添加到 shell 配置文件）。搜索行为与
    `bash` 有所不同；参阅 `man tcsh`。^([f](app02.xhtml#idm46586635319472-marker)) 在 `vi`
    模式下，输入 `/` 后跟搜索字符串，然后按 Enter 键。按 `n` 跳转到下一个搜索结果。^([g](app02.xhtml#idm46586635288896-marker))
    作业控制：`tcsh` 不像其他 shell 那样智能地跟踪默认作业号，因此您可能经常需要将作业号（例如 `%1`）作为 `fg` 和 `bg` 的参数提供。^([h](app02.xhtml#stdouterr-marker))
    stdout 和 stderr 的重定向：此 shell 的语法是：*`command`* `>` *`file`* `2>&1`。最后的术语 `2>&1`
    意味着“重定向 stderr，即文件描述符 2，到 stdout，即文件描述符 1”。^([i](app02.xhtml#sourcing-marker))
    在此 shell 中进行源文件时，需要明确指定源文件的路径，例如对于当前目录中的文件使用 `./myfile`，否则 shell 将无法找到文件。或者，将文件放入
    shell 搜索路径中的一个目录中。 |'
