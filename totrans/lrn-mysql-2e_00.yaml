- en: Preface
  prefs:
  - PREF_H1
  type: TYPE_NORMAL
- en: Database management systems are part of the core of many companies. Even if
    a business is not technology-focused, it needs to store, access, and manipulate
    data in a fast, secure, and reliable way. Because of the COVID-19 pandemic, many
    areas that had traditionally resisted digital transformation, like the judiciary
    systems in many countries, are now being integrated through technology due to
    travel and meeting restrictions, and online shopping and working from home are
    more popular than ever before.
  prefs: []
  type: TYPE_NORMAL
- en: But it’s not just disasters that have propelled such far-reaching changes. With
    the advent of 5G, we will soon have many more machines connected to the internet
    than humans. Vast amounts of data are already being harvested, stored, and used
    to train machine learning models, artificial intelligence, and much more. We are
    living at the beginning of the next revolution.
  prefs: []
  type: TYPE_NORMAL
- en: Several database types have emerged to help with the mission of storing more
    data—especially unstructured data—including NoSQL databases like MongoDB, Cassandra,
    and Redis. However, traditional SQL databases remain popular, and there is no
    sign that they will vanish in the near future. And in the SQL world, undoubtedly
    the most popular open source solution is MySQL.
  prefs: []
  type: TYPE_NORMAL
- en: Both of the authors of this book have worked with many customers from all parts
    of the world. Along the way, we have learned lots of lessons and experienced a
    vast number of use cases, ranging from mission-critical monolith applications
    to simpler microservices applications. This book is full of the tips and advice
    we think most readers will find helpful for their daily activities.
  prefs: []
  type: TYPE_NORMAL
- en: Who This Book Is For
  prefs:
  - PREF_H1
  type: TYPE_NORMAL
- en: This book is primarily for people using MySQL for the first time or learning
    it as a second database. If you are entering the database arena for the first
    time, the first chapters will introduce you to the database design concepts and
    show you how to deploy MySQL into different operating systems and in the cloud.
  prefs: []
  type: TYPE_NORMAL
- en: For those coming from another ecosystem, like Postgres, Oracle, or SQL Server,
    the book covers backup, high availability, and disaster recovery strategies.
  prefs: []
  type: TYPE_NORMAL
- en: We hope all readers will also find this book to be a good companion for learning
    or reviewing fundamentals, from the architecture to advice for the production
    environment.
  prefs: []
  type: TYPE_NORMAL
- en: How This Book Is Organized
  prefs:
  - PREF_H1
  type: TYPE_NORMAL
- en: 'We introduce many topics, from the basic installation process, database design,
    backups, and recovery to CPU performance analysis and bug investigation. We’ve
    divided the book into four main parts:'
  prefs: []
  type: TYPE_NORMAL
- en: Starting with MySQL
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
- en: Using MySQL
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
- en: MySQL in Production
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
- en: Miscellaneous Topics
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
- en: Let’s look at how we’ve organized the chapters.
  prefs: []
  type: TYPE_NORMAL
- en: Starting with MySQL
  prefs:
  - PREF_H2
  type: TYPE_NORMAL
- en: '[Chapter 1, *Installing MySQL*](ch01.xhtml#CH1_INSTALL) explains how to install
    and configure the MySQL software on different operating systems. This chapter
    provides far more detail than most books do. We know that those initiating their
    career with MySQL are often unfamiliar with various Linux distributions and installation
    options, and running the MySQL “hello world” requires far more steps than compiling
    a hello world in any programming language does. You will see how to set up MySQL
    on Linux, Windows, macOS, and Docker, and how to deploy instances quickly for
    testing.'
  prefs: []
  type: TYPE_NORMAL
- en: Using MySQL
  prefs:
  - PREF_H2
  type: TYPE_NORMAL
- en: Before we dive into creating and using databases, we look at proper database
    design in [Chapter 2, *Modeling and Designing Databases*](ch02.xhtml#CH2_DESIGN).
    You will learn how to access your database’s features and see how the information
    items in your database relate to each other. You will see that lousy database
    designs are challenging to change and can lead to performance problems. We will
    introduce the concept of strong and weak entities and their relationships (*foreign
    keys*) and explain the process of normalization. This chapter also shows how to
    download and configure database examples such as `sakila`, `world`, and `employees`.
  prefs: []
  type: TYPE_NORMAL
- en: In [Chapter 3, *Basic SQL*](ch03.xhtml#CH3_BASICS), we explore the famous SQL
    commands that are part of the CRUD (create, read, update, and delete) operations.
    You will see how to read data from an existing MySQL database, store data in it,
    and manipulate existing data.
  prefs: []
  type: TYPE_NORMAL
- en: In [Chapter 4, *Working with Database Structures*](ch04.xhtml#CH4_MODIFY), we
    explain how to create a new MySQL database and create and modify tables, indexes,
    and other database structures.
  prefs: []
  type: TYPE_NORMAL
- en: '[Chapter 5, *Advanced Querying*](ch05.xhtml#CH5_ADV1) covers more advanced
    operations such as using nested queries and using different MySQL database engines.
    This chapter will give you the ability to perform more complex queries.'
  prefs: []
  type: TYPE_NORMAL
- en: MySQL in Production
  prefs:
  - PREF_H2
  type: TYPE_NORMAL
- en: Now that you know how to install MySQL and manipulate data, the next step is
    to understand how MySQL handles simultaneous access to the same data. The concepts
    of isolation, transaction, and deadlocks are explored in [Chapter 6, *Transactions
    and Locking*](ch06.xhtml#CH6_TRANSACTION_LOCKING).
  prefs: []
  type: TYPE_NORMAL
- en: In [Chapter 7, *Doing More with MySQL*](ch07.xhtml#CH7_DOING_MORE), you will
    see more complex queries that you can perform in MySQL as well as how to observe
    the query plan to check whether the query is efficient or not. We’ll also explain
    the different engines available in MySQL (InnoDB and MyISAM are the most famous
    ones).
  prefs: []
  type: TYPE_NORMAL
- en: In [Chapter 8, *Managing Users and Privileges*](ch08.xhtml#CH8_USER_MANAGEMENT),
    you will learn how to create and delete users in the database. This step is one
    of the most important in terms of security since users with more privileges than
    they need can cause considerable damage to the database and the company’s reputation.
    You will see how to establish security policies, give and remove privileges, and
    restrict access to specific network IPs.
  prefs: []
  type: TYPE_NORMAL
- en: '[Chapter 9, *Using Option Files*](ch09.xhtml#CH9_OPTIONS_FILE) covers the MySQL
    configuration files, or *option files*, which contain all the necessary parameters
    to start MySQL and optimize its performance. Those familiar with MySQL will recognize
    the */etc/my.cnf* configuration file. You will also see that it is possible to
    configure user access using special option files.'
  prefs: []
  type: TYPE_NORMAL
- en: Databases without backup policies are headed for disaster sooner or later. In
    [Chapter 10, *Backups and Recovery*](ch10.xhtml#CH10_BACKUP) we discuss the different
    types of backups (*logical* versus *physical*), the options available to execute
    this task, and the ones that are more appropriate for large production databases.
  prefs: []
  type: TYPE_NORMAL
- en: '[Chapter 11, *Configuring and Tuning the Server*](ch11.xhtml#CH11_CONFIGURE_TUNE)
    discusses the essential parameters you need to pay attention to when setting up
    a new server. We provide formulas for that and help you to identify whether a
    parameter value is the correct one for the database workload.'
  prefs: []
  type: TYPE_NORMAL
- en: Miscellaneous Topics
  prefs:
  - PREF_H2
  type: TYPE_NORMAL
- en: With the essentials established, it is time to go beyond. [Chapter 12, *Monitoring
    MySQL Servers*](ch12.xhtml#CH12_MONITORING) teaches you how to monitor your database
    and collect data from it. Since database workload behavior can change according
    to the volume of users, transactions, and data being manipulated, identifying
    which resource is saturated and what is causing the problem is crucial.
  prefs: []
  type: TYPE_NORMAL
- en: '[Chapter 13, *High Availability*](ch13.xhtml#CH13_HA) explains how to replicate
    servers to provide high availability. We also introduce the cluster concept, highlighting
    two solutions: InnoDB Cluster and Galera/PXC Cluster.'
  prefs: []
  type: TYPE_NORMAL
- en: '[Chapter 14, *MySQL in the Cloud*](ch14.xhtml#CH14_MYSQL_CLOUD) expands the
    MySQL universe to the cloud. You will learn about the database-as-a-service (DBaaS)
    option and how to use the managed database services provided by the most prominent
    three cloud providers: Amazon Web Services (AWS), Google Cloud Platform (GCP),
    and Microsoft Azure.'
  prefs: []
  type: TYPE_NORMAL
- en: In [Chapter 15, *Load Balancing MySQL*](ch15.xhtml#CH15_LOAD_BAlANCERS), we’ll
    show you the most commonly used tools to distribute queries among different MySQL
    servers to extract even more performance from MySQL.
  prefs: []
  type: TYPE_NORMAL
- en: Finally, [Chapter 16, *Miscellaneous Topics*](ch16.xhtml#CH16_EXTRA_TOPICS)
    introduces more advanced analysis methods and tools, and a bit of programming.
    In this chapter we’ll talk about MySQL Shell, flame graphs, and how to analyze
    bugs.
  prefs: []
  type: TYPE_NORMAL
- en: Conventions Used in This Book
  prefs:
  - PREF_H1
  type: TYPE_NORMAL
- en: 'The following typographical conventions are used in this book:'
  prefs: []
  type: TYPE_NORMAL
- en: '*Italic*'
  prefs: []
  type: TYPE_NORMAL
- en: Indicates new terms, URLs, email addresses, filenames, and file extensions.
  prefs: []
  type: TYPE_NORMAL
- en: '`Constant width`'
  prefs: []
  type: TYPE_NORMAL
- en: Used for program listings, as well as within paragraphs to refer to program
    elements such as variable or function names, databases, data types, environment
    variables, statements, and keywords.
  prefs: []
  type: TYPE_NORMAL
- en: '`**Constant width bold**`'
  prefs: []
  type: TYPE_NORMAL
- en: Shows commands or other text that should be typed literally by the user.
  prefs: []
  type: TYPE_NORMAL
- en: '`*Constant width italic*`'
  prefs: []
  type: TYPE_NORMAL
- en: Shows text that should be replaced with user-supplied values or by values determined
    by context.
  prefs: []
  type: TYPE_NORMAL
- en: Tip
  prefs:
  - PREF_H6
  type: TYPE_NORMAL
- en: This element signifies a tip or suggestion.
  prefs: []
  type: TYPE_NORMAL
- en: Note
  prefs:
  - PREF_H6
  type: TYPE_NORMAL
- en: This element signifies a general note.
  prefs: []
  type: TYPE_NORMAL
- en: Warning
  prefs:
  - PREF_H6
  type: TYPE_NORMAL
- en: This element indicates a warning or caution.
  prefs: []
  type: TYPE_NORMAL
- en: Using Code Examples
  prefs:
  - PREF_H1
  type: TYPE_NORMAL
- en: Code examples are available for download at [*https://github.com/learning-mysql-2nd/learning-mysql-2nd*](https://github.com/learning-mysql-2nd/learning-mysql-2nd).
  prefs: []
  type: TYPE_NORMAL
- en: If you have a technical question or a problem using the code examples, please
    send email to [*bookquestions@oreilly.com*](mailto:bookquestions@oreilly.com).
  prefs: []
  type: TYPE_NORMAL
- en: This book is here to help you get your job done. In general, if an example code
    is offered with this book, you may use it in your programs and documentation.
    You do not need to contact us for permission unless you’re reproducing a significant
    portion of the code. For example, writing a program that uses several chunks of
    code from this book does not require permission. Selling or distributing examples
    from O’Reilly books does require permission. Answering a question by citing this
    book and quoting example code does not require permission. Incorporating a significant
    amount of example code from this book into your product’s documentation does require
    permission.
  prefs: []
  type: TYPE_NORMAL
- en: 'We appreciate, but generally do not require attribution. An attribution usually
    includes the title, author, publisher, and ISBN. For example: “*Learning MySQL*,
    2nd ed., by Vinicius M. Grippa and Sergey Kuzmichev (O’Reilly). Copyright 2021
    Vinicius M. Grippa and Sergey Kuzmichev, 978-1-492-08592-8.”'
  prefs: []
  type: TYPE_NORMAL
- en: If you feel your use of code examples falls outside fair use or the permission
    given above, feel free to contact us at [*permissions@oreilly.com*](mailto:permissions@oreilly.com).
  prefs: []
  type: TYPE_NORMAL
- en: O’Reilly Online Learning
  prefs:
  - PREF_H1
  type: TYPE_NORMAL
- en: Note
  prefs:
  - PREF_H6
  type: TYPE_NORMAL
- en: For more than 40 years, [*O’Reilly Media*](http://oreilly.com) has provided
    technology and business training, knowledge, and insight to help companies succeed.
  prefs: []
  type: TYPE_NORMAL
- en: Our unique network of experts and innovators share their knowledge and expertise
    through books, articles, and our online learning platform. O’Reilly’s online learning
    platform gives you on-demand access to live training courses, in-depth learning
    paths, interactive coding environments, and a vast collection of text and video
    from O’Reilly and 200+ other publishers. For more information, visit [*http://oreilly.com*](http://oreilly.com).
  prefs: []
  type: TYPE_NORMAL
- en: How to Contact Us
  prefs:
  - PREF_H1
  type: TYPE_NORMAL
- en: 'Please address comments and questions concerning this book to the publisher:'
  prefs: []
  type: TYPE_NORMAL
- en: O’Reilly Media, Inc.
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
- en: 1005 Gravenstein Highway North
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
- en: Sebastopol, CA 95472
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
- en: 800-998-9938 (in the United States or Canada)
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
- en: 707-829-0515 (international or local)
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
- en: 707-829-0104 (fax)
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
- en: We have a web page for this book, where we list errata, examples, and any additional
    information. You can access this page at [*https://oreil.ly/learn-mysql-2e*](https://oreil.ly/learn-mysql-2e).
  prefs: []
  type: TYPE_NORMAL
- en: Email [*bookquestions@oreilly.com*](mailto:bookquestions@oreilly.com) to comment
    on or ask technical questions about this book.
  prefs: []
  type: TYPE_NORMAL
- en: For news and information about our books and courses, visit [*http://oreilly.com*](http://oreilly.com).
  prefs: []
  type: TYPE_NORMAL
- en: 'Find us on Facebook: [*http://facebook.com/oreilly*](http://facebook.com/oreilly)'
  prefs: []
  type: TYPE_NORMAL
- en: 'Follow us on Twitter: [*http://twitter.com/oreillymedia*](http://twitter.com/oreillymedia)'
  prefs: []
  type: TYPE_NORMAL
- en: 'Watch us on YouTube: [*http://youtube.com/oreillymedia*](http://youtube.com/oreillymedia)'
  prefs: []
  type: TYPE_NORMAL
- en: Acknowledgments
  prefs:
  - PREF_H1
  type: TYPE_NORMAL
- en: From Vinicius Grippa
  prefs:
  - PREF_H2
  type: TYPE_NORMAL
- en: 'Thanks to the following people who helped improve this book: Corbin Collins,
    Charly Batista, Sami Ahlroos, and Brett Holleman. Without them, this book would
    not have achieved the excellence we strove for.'
  prefs: []
  type: TYPE_NORMAL
- en: Thanks to the MySQL community (especially Shlomi Noach, Giuseppe Maxia, Jeremy
    Cole, and Brendan Gregg) and all the bloggers on [Planet MySQL](https://oreil.ly/MSFP1),
    [Several Nines](https://oreil.ly/X1UZN), [Percona Blog](https://oreil.ly/rsrAA),
    and [MySQL Entomologist](https://oreil.ly/yXkuy) who have contributed so much
    material and so many great tools.
  prefs: []
  type: TYPE_NORMAL
- en: Thanks to everyone at Percona who provided the means to write this book, notably
    Bennie Grant, Carina Punzo, and Marcelo Altmann, and who have helped me grow as
    a professional and human being.
  prefs: []
  type: TYPE_NORMAL
- en: Thanks to the O’Reilly staff who do such a classy job of publishing books and
    running conferences.
  prefs: []
  type: TYPE_NORMAL
- en: I want to thank my parents Divaldo and Regina, my sister Juliana, and my girlfriend
    Karin for having patience and supporting this project in many ways. A special
    thanks to Paulo Piffer, who gave me my first opportunity to work with what I love.
  prefs: []
  type: TYPE_NORMAL
- en: And last, to Sergey Kuzmichev, the cowriter of this book. Without his expertise,
    dedication, and hard work, this book would not have been possible. I am grateful
    for having him as a colleague and for having had the honor of working with him
    on this project.
  prefs: []
  type: TYPE_NORMAL
- en: From Sergey Kuzmichev
  prefs:
  - PREF_H2
  type: TYPE_NORMAL
- en: I would like to thank my wife, Kate, for supporting and helping me on every
    step of this difficult but rewarding project. From ruminating about whether to
    take on writing this book, to many sometimes difficult days of writing it, she
    was there. Our first child was born while the book was in writing, and yet Kate
    found time and strength to continue motivating and helping me.
  prefs: []
  type: TYPE_NORMAL
- en: Thanks to my parents, relatives, and friends, who over the years helped me grow
    as a person and as an expert. Thank you for supporting me in this project.
  prefs: []
  type: TYPE_NORMAL
- en: 'Thanks to the amazing people of Percona for helping me with all the technical
    and non-technical questions and issues I had while writing this book: Iwo Panowicz,
    Przemyslaw Malkowski, Sveta Smirnova, and Marcos Albe. Thanks to Stuart Bell and
    everyone in Percona’s support management for the amazing level of assistance we
    received every step of the way.'
  prefs: []
  type: TYPE_NORMAL
- en: Thanks to everyone at O’Reilly for leading us and helping us to create this
    edition. Thanks to Corbin Collins for helping to mold the structure of the book
    and keeping us firmly on our path. Thanks to Rachel Head for finding myriad issues
    during the copyedit phase and for spotting problems with the technical details
    of MySQL in our writing. Without you, and everyone at O’Reilly, this book wouldn’t
    be a book, but merely a collection of loosely related words.
  prefs: []
  type: TYPE_NORMAL
- en: Special thanks to our technical editors Sami Ahlroos, Brett Holleman, and Charly
    Batista. They were instrumental in making the technical and non-technical contents
    of this book of the highest quality.
  prefs: []
  type: TYPE_NORMAL
- en: Thanks to everyone in the MySQL community for being open, helpful, and sharing
    their knowledge in every way possible. The world of MySQL is not a walled garden,
    but is open for everybody. I’d like to mention Valerii Kravchuk, Mark Callaghan,
    Dimitri Kravchuk, and Jeremy Cole for helping me through their blogs to understand
    MySQL’s internals better.
  prefs: []
  type: TYPE_NORMAL
- en: 'I want to thank the authors of the first edition of this book: Hugh E. Williams
    and Seyed M.M. Tahaghoghi. We built this project on top of a solid foundation
    thanks to their work.'
  prefs: []
  type: TYPE_NORMAL
- en: Last but not least, I would like to thank Vinicius Grippa for being a great
    coauthor and colleague. This wouldn’t be the same book without him.
  prefs: []
  type: TYPE_NORMAL
- en: I dedicate this edition to my son Grigorii.
  prefs: []
  type: TYPE_NORMAL
