<html><head></head><body><section data-pdf-bookmark="Chapter 5. Values and Units" data-type="chapter" epub:type="chapter"><div class="chapter" id="values_and_units">&#13;
<h1><span class="label">Chapter 5. </span>Values and Units</h1>&#13;
&#13;
&#13;
<p>In this chapter, we’ll tackle features that are the basis for almost everything you can do with CSS: the units that affect the colors, distances, and sizes of a whole host of properties, as well as the units that help define those values. Without units, you couldn’t declare that an image should have 10 pixels of blank space around it, or that a heading’s text should be a certain size. By understanding the concepts put forth here, you’ll be able to learn and use the rest of CSS much more quickly.</p>&#13;
&#13;
&#13;
&#13;
&#13;
&#13;
&#13;
<section data-pdf-bookmark="Keywords, Strings, and Other Text Values" data-type="sect1"><div class="sect1" id="keywords_comma_strings_comma_and_other">&#13;
<h1>Keywords, Strings, and Other Text Values</h1>&#13;
&#13;
<p>Everything in a stylesheet is text, but certain value types directly represent strings of text as opposed to, say, numbers or colors. Included in this category are URLs and, interestingly enough, images.</p>&#13;
&#13;
&#13;
&#13;
&#13;
&#13;
&#13;
&#13;
&#13;
<section data-pdf-bookmark="Keywords" data-type="sect2"><div class="sect2" id="val_keywords">&#13;
<h2>Keywords</h2>&#13;
&#13;
<p>For <a data-primary="values" data-secondary="keywords" data-type="indexterm" id="ix_values_keyword"/><a data-primary="keywords, as values" data-type="indexterm" id="ix_keyword_value"/>those times when a value needs to be described with a word of some kind, CSS has <em>keywords</em>. A common example is the keyword <code>none</code>, which is distinct from <code>0</code> (zero). Thus, to remove the underline from links in an HTML document, you would write the &#13;
<span class="keep-together">following:</span></p>&#13;
&#13;
<pre data-code-language="css" data-type="programlisting"><code class="nt">a</code><code class="o">[</code><code class="nt">href</code><code class="o">]</code> <code class="p">{</code><code class="k">text-decoration</code><code class="o">:</code> <code class="nb">none</code><code class="p">;}</code></pre>&#13;
&#13;
<p>Similarly, if you want to force underlines on the links, you would use the keyword <code>underline</code> instead of <code>none</code>.</p>&#13;
&#13;
<p>If a property accepts keywords, its keywords will be defined only for the scope of that property. If two properties use the same word as a keyword, the behavior of the keyword for one property will not necessarily be shared with the other. As an example, <code>normal</code>, as defined for <code>letter-spacing</code>, means something very different from the <code>normal</code> defined &#13;
<span class="keep-together">for <code>font-style</code>.</span></p>&#13;
&#13;
&#13;
&#13;
&#13;
&#13;
&#13;
&#13;
&#13;
&#13;
&#13;
<section data-pdf-bookmark="Global keywords" data-type="sect3"><div class="sect3" id="idm45176120884496">&#13;
<h3>Global keywords</h3>&#13;
&#13;
<p>CSS <a data-primary="global keywords" data-type="indexterm" id="ix_global_key"/>defines five <em>global</em> keywords that are accepted by every property in the specification: <code>inherit</code>, <code>initial</code>, <code>unset</code>, <code>revert</code>, and <code>revert-layer</code>.</p>&#13;
&#13;
&#13;
&#13;
&#13;
&#13;
&#13;
&#13;
&#13;
&#13;
&#13;
&#13;
&#13;
<section data-pdf-bookmark="inherit" data-type="sect4"><div class="sect4" id="inherit">&#13;
<h4>inherit</h4>&#13;
&#13;
<p>The <a data-primary="inherit global keyword" data-type="indexterm" id="idm45176120862848"/>keyword <code>inherit</code> makes the value of a property on an element the same as the value of that property on its parent element. In other words, it forces inheritance to occur even in situations where it would not normally operate. In many cases, you don’t need to specify inheritance, since many properties inherit naturally. Nevertheless, <code>inherit</code> can still be useful.</p>&#13;
&#13;
<p>For example, consider the following styles and markup:</p>&#13;
&#13;
<pre data-type="programlisting">#toolbar {background: blue; color: white;}&#13;
&#13;
&lt;div id="toolbar"&gt;&#13;
&lt;a href="one.html"&gt;One&lt;/a&gt; | &lt;a href="two.html"&gt;Two&lt;/a&gt; |&#13;
&lt;a href="three.html"&gt;Three&lt;/a&gt;&#13;
&lt;/div&gt;</pre>&#13;
&#13;
<p>The <code>&lt;div&gt;</code> itself will have a blue background and a white foreground, but the links will be styled according to the browser’s preference settings. They’ll most likely end up as blue text on a blue background, with white vertical bars between them.</p>&#13;
&#13;
<p>You could write a rule that explicitly sets the links in the toolbar to be white, but you can make things a little more robust by using <code>inherit</code>. You just add the following rule to the stylesheet:</p>&#13;
&#13;
<pre data-code-language="css" data-type="programlisting"><code class="nf">#toolbar</code> <code class="nt">a</code> <code class="p">{</code><code class="k">color</code><code class="o">:</code> <code class="nb">inherit</code><code class="p">;}</code></pre>&#13;
&#13;
<p>This will cause the links to use the inherited value of <code>color</code> in place of the user agent’s default styles.</p>&#13;
&#13;
<p>Ordinarily, directly assigned styles override inherited styles, but <code>inherit</code> can undo that behavior.  It might not always be a good idea—for example, here links might blend into surrounding text too much, and become a usability and accessibility concern—but it can be done.</p>&#13;
&#13;
<p>Similarly, you can pull a property value down from a parent even if it wouldn’t happen normally. Take <code>border</code>, for example, which is (rightfully) not inherited. If you want a <code>&lt;span&gt;</code> to inherit the border of its parent, all you need is <code>span {border: inherit;}</code>. More likely, though, you just want the border on a <code>&lt;span&gt;</code> to use the same border color as its parent. In that case, <code>span {border-color: inherit;}</code> will do the trick.</p>&#13;
</div></section>&#13;
&#13;
&#13;
&#13;
&#13;
&#13;
&#13;
&#13;
&#13;
&#13;
&#13;
&#13;
&#13;
<section data-pdf-bookmark="initial" data-type="sect4"><div class="sect4" id="initial">&#13;
<h4>initial</h4>&#13;
&#13;
<p>The <a data-primary="initial global keyword" data-type="indexterm" id="idm45176120819808"/>keyword <code>initial</code> sets the value of a property to the defined initial value, which, in a way, means it “resets” the value. For example, the default value of <code>font-weight</code> is <code>normal</code>. Therefore, declaring <code>font-weight: initial</code> is the same as declaring &#13;
<span class="keep-together"><code>font-weight: normal</code>.</span></p>&#13;
&#13;
<p>This might seem a little bit silly until you consider that not all values have explicitly defined initial values. For example, the initial value for <code>color</code> “depends on user agent.” That’s not a funky keyword you should type! What it means is that the default value of <code>color</code> depends on things like the preference settings in a browser. While almost nobody changes the default text color setting from black, someone might set it to a dark gray or even a bright red. By declaring <code>color: initial;</code>, you’re telling the browser to set the color of the element to whatever the user’s default color is set to be.</p>&#13;
&#13;
<p>Another benefit of <code>initial</code> is that you can set a property back to its initial value without having to know that initial value.  This can be especially useful when resetting a lot of properties all at once, either via JS or CSS.</p>&#13;
</div></section>&#13;
&#13;
&#13;
&#13;
&#13;
&#13;
&#13;
&#13;
&#13;
&#13;
&#13;
&#13;
&#13;
<section data-pdf-bookmark="unset" data-type="sect4"><div class="sect4" id="unset">&#13;
<h4>unset</h4>&#13;
&#13;
<p>The <a data-primary="unset keyword" data-type="indexterm" id="idm45176120799680"/>keyword <code>unset</code> acts as a universal stand-in for both <code>inherit</code> and <code>initial</code>. If the property is inherited, <code>unset</code> has the same effect as if <code>inherit</code> were used. If the property is <em>not</em> inherited, <code>unset</code> has the same effect as if <code>initial</code> were used.  This makes <code>unset</code> useful for resetting a property by canceling out any other styles that might be applied to it.</p>&#13;
</div></section>&#13;
&#13;
&#13;
&#13;
&#13;
&#13;
&#13;
&#13;
&#13;
&#13;
&#13;
&#13;
&#13;
<section data-pdf-bookmark="revert" data-type="sect4"><div class="sect4" id="revert">&#13;
<h4>revert</h4>&#13;
&#13;
<p>The <a data-primary="revert keyword" data-type="indexterm" id="idm45176120792864"/>keyword <code>revert</code> sets the value of a property to the value the property would have had if no changes had been made by the current style origin.  In effect, <code>revert</code> lets you say, “All property values for this element should be as if the author styles don’t exist, but user agent and user styles do exist.”</p>&#13;
&#13;
<p>Thus, given the following basic example, <code>p</code> elements will be rendered as gray text with a transparent background:</p>&#13;
&#13;
<pre data-code-language="css" data-type="programlisting"><code class="nt">p</code> <code class="p">{</code><code class="k">background</code><code class="o">:</code> <code class="nb">lime</code><code class="p">;</code> <code class="k">color</code><code class="o">:</code> <code class="nb">gray</code><code class="p">;}</code>&#13;
<code class="nt">p</code> <code class="p">{</code><code class="k">background</code><code class="o">:</code> <code class="n">revert</code><code class="p">;}</code></pre>&#13;
&#13;
<p>This does mean that any property whose value is inherited will be given the same value as that of its parent.  The <code>revert</code> keyword is useful when you have a bunch of site-wide styles applying to an element, and you want to strip them all away so as to apply a set of one-off styles to just that element.  Rather than having to override all those properties, you can revert them to defaults—and you can do it with a single property, <code>all</code>, which is the topic of the next section.</p>&#13;
</div></section>&#13;
&#13;
&#13;
&#13;
&#13;
&#13;
&#13;
&#13;
&#13;
&#13;
&#13;
&#13;
&#13;
<section data-pdf-bookmark="revert-layer" data-type="sect4"><div class="sect4" id="revert-layer">&#13;
<h4>revert-layer</h4>&#13;
&#13;
<p>If you’re using <a data-primary="revert-layer keyword" data-type="indexterm" id="idm45176120765008"/>cascade layers (see <a data-type="xref" href="ch04.html#sorting_by_layer">“Sorting by Cascade Layer”</a>) and want to “undo” whatever styles might be applied by the current layer, the <code>revert-layer</code> value is here to help.  The difference here is that <code>revert-layer</code> effectively means, “All property values for this element should be as if the author styles <em>in the current cascade layer</em> don’t exist, but other author cascade layers (including the default), user agent, and user styles do exist.”</p>&#13;
&#13;
<p>Thus, given the following, paragraphs with a <code>class</code> containing the word <code>example</code> will be rendered as red text on a yellow background:</p>&#13;
&#13;
<pre data-code-language="css" data-type="programlisting"><code class="k">@layer</code> <code class="nt">site</code><code class="o">,</code> <code class="nt">system</code><code class="p">;</code>&#13;
&#13;
<code class="nt">p</code> <code class="p">{</code><code class="k">color</code><code class="o">:</code> <code class="nb">red</code><code class="p">;}</code>&#13;
<code class="k">@layer</code> <code class="nt">system</code> <code class="p">{</code>&#13;
	<code class="nt">p</code> <code class="p">{</code><code class="k">background</code><code class="o">:</code> <code class="nb">yellow</code><code class="p">;</code> <code class="k">color</code><code class="o">:</code> <code class="nb">fuchsia</code><code class="p">;}</code>&#13;
<code class="p">}</code>&#13;
<code class="k">@layer</code> <code class="nt">site</code> <code class="p">{</code>&#13;
	<code class="nt">p</code> <code class="p">{</code><code class="k">background</code><code class="o">:</code> <code class="nb">lime</code><code class="p">;</code> <code class="k">color</code><code class="o">:</code> <code class="nb">gray</code><code class="p">;}</code>&#13;
	<code class="nt">p</code><code class="nc">.example</code> <code class="p">{</code><code class="k">background</code><code class="o">:</code> <code class="n">revert</code><code class="p">;</code> <code class="k">color</code><code class="o">:</code> <code class="n">revert</code><code class="p">;}</code>&#13;
<code class="p">}</code></pre>&#13;
&#13;
<p>For the background, the browser looks at the assigned values in previous cascade layers and picks the one with the highest weight.  Only one layer (<code>system</code>) sets a background color, so that’s what’s used instead of <code>lime</code>.  The same is done for the foreground color, and since a color is assigned in the default layer, and the default layer overrides all explicitly created layers, <code>red</code> is used instead of <code>gray</code>.<a data-primary="" data-startref="ix_global_key" data-type="indexterm" id="idm45176120656032"/></p>&#13;
<div data-type="note" epub:type="note"><h6>Note</h6>&#13;
<p>As of late 2023, only Firefox supports <code>revert-layer</code>, but we anticipate it being widely supported in the near future.<a data-primary="" data-startref="ix_keyword_value" data-type="indexterm" id="idm45176120653632"/><a data-primary="" data-startref="ix_values_keyword" data-type="indexterm" id="idm45176120652656"/></p>&#13;
</div>&#13;
</div></section>&#13;
</div></section>&#13;
</div></section>&#13;
&#13;
&#13;
&#13;
&#13;
&#13;
&#13;
&#13;
&#13;
<section data-pdf-bookmark="The all Property" data-type="sect2"><div class="sect2" id="idm45176120651328">&#13;
<h2>The all Property</h2>&#13;
&#13;
<p>These <a data-primary="values" data-secondary="all property" data-type="indexterm" id="idm45176120649360"/><a data-primary="all property" data-type="indexterm" id="idm45176120648352"/>global values are usable on all properties, but one special property accepts <em>only</em> the global keywords: <code>all</code>.</p>&#13;
<aside data-type="sidebar" epub:type="sidebar"><div class="sidebar" id="idm45176120646592">&#13;
<h1>all</h1><table>&#13;
&#13;
<tbody>&#13;
<tr>&#13;
<td><p><strong>Values</strong></p></td>&#13;
<td><p><code>inherit</code> | <code>initial</code> | <code>unset</code> | <code>revert</code></p></td>&#13;
</tr>&#13;
<tr>&#13;
<td><p><strong>Initial value</strong></p></td>&#13;
<td><p>See individual properties</p></td>&#13;
</tr>&#13;
</tbody>&#13;
</table>&#13;
</div></aside>&#13;
&#13;
<p>The <code>all</code> property is a <a data-primary="direction property" data-type="indexterm" id="idm45176120638800"/><a data-primary="unicode-bidi property" data-type="indexterm" id="idm45176120638064"/>stand-in for all properties <em>except</em> <code>direction</code>, <code>unicode-bidi</code>, and any custom properties (see <a data-type="xref" href="#custom_properties">“Custom Properties”</a>).  Thus, if you declare <code>all: inherit</code> on an element, you’re saying that you want all properties except <code>direction</code>, <code>unicode-bidi</code>, and custom properties to inherit their values from the element’s parent.  Consider the following:</p>&#13;
&#13;
<pre data-code-language="css" data-type="programlisting"><code class="nt">section</code> <code class="p">{</code><code class="k">color</code><code class="o">:</code> <code class="nb">white</code><code class="p">;</code> <code class="k">background</code><code class="o">:</code> <code class="nb">black</code><code class="p">;</code> <code class="k">font-weight</code><code class="o">:</code> <code class="nb">bold</code><code class="p">;}</code>&#13;
<code class="nf">#example</code> <code class="p">{</code><code class="n">all</code><code class="o">:</code> <code class="nb">inherit</code><code class="p">;}</code></pre>&#13;
&#13;
<pre data-code-language="html" data-type="programlisting"><code class="p">&lt;</code><code class="nt">section</code><code class="p">&gt;</code>&#13;
    <code class="p">&lt;</code><code class="nt">div</code> <code class="na">id</code><code class="o">=</code><code class="s">"example"</code><code class="p">&gt;</code>This is a div.<code class="p">&lt;/</code><code class="nt">div</code><code class="p">&gt;</code>&#13;
<code class="p">&lt;/</code><code class="nt">section</code><code class="p">&gt;</code></pre>&#13;
&#13;
<p>You might think this causes the <code>&lt;div&gt;</code> element to inherit the values of <code>color</code>, <code>background</code>, and <code>font-weight</code> from the <code>&lt;section&gt;</code> element.  And it does do that, yes—but it will <em>also</em> force inheritance of the values of <em>every single other property in CSS</em> (minus the two exceptions) from the <code>&lt;section&gt;</code> element.</p>&#13;
&#13;
<p>Maybe that’s what you want, in which case, great.  But if you just want to inherit the property values you wrote out for the <code>&lt;section&gt;</code> element, the CSS would need to look more like this:</p>&#13;
&#13;
<pre data-code-language="css" data-type="programlisting"><code class="nt">section</code> <code class="p">{</code><code class="k">color</code><code class="o">:</code> <code class="nb">white</code><code class="p">;</code> <code class="k">background</code><code class="o">:</code> <code class="nb">black</code><code class="p">;</code> <code class="k">font-weight</code><code class="o">:</code> <code class="nb">bold</code><code class="p">;}</code>&#13;
<code class="nf">#example</code> <code class="p">{</code><code class="k">color</code><code class="o">:</code> <code class="nb">inherit</code><code class="p">;</code> <code class="k">background</code><code class="o">:</code> <code class="nb">inherit</code><code class="p">;</code> <code class="k">font-weight</code><code class="o">:</code> <code class="nb">inherit</code><code class="p">;}</code></pre>&#13;
&#13;
<p>Odds are that what you really want in these situations is <code>all: unset</code>, but your stylesheet may vary.</p>&#13;
</div></section>&#13;
&#13;
&#13;
&#13;
&#13;
&#13;
&#13;
&#13;
&#13;
<section data-pdf-bookmark="Strings" data-type="sect2"><div class="sect2" id="strings">&#13;
<h2>Strings</h2>&#13;
&#13;
<p>A <em>string value</em> is an <a data-primary="values" data-secondary="strings" data-type="indexterm" id="idm45176120517536"/><a data-primary="string values" data-type="indexterm" id="idm45176120516528"/><a data-primary="'…​' or &quot;…​&quot; (quotes)" data-secondary="enclosing strings" data-type="indexterm" id="idm45176120515856"/><a data-primary="quotes ('…​' or &quot;…​&quot;)" data-secondary="enclosing strings" data-type="indexterm" id="idm45176120514944"/>arbitrary sequence of characters wrapped in either single or double quotes, and is represented in value definitions with &lt;<em><code>string</code></em>&gt;. Here are two simple &#13;
<span class="keep-together">examples:</span></p>&#13;
&#13;
<pre data-type="programlisting">"I like to play with strings."&#13;
'Strings are fun to play with.'</pre>&#13;
&#13;
<p>Note that the quotes balance, which is to say that you always start and end with the same kind of quotes. Getting this wrong can lead to all kinds of parsing problems, since starting with one kind of quote and trying to end with the other means the string won’t actually be terminated. You could accidentally incorporate subsequent rules into the string that way!</p>&#13;
&#13;
<p>If you want to put <a data-primary="slashes" data-secondary="backslash" data-type="indexterm" id="idm45176120481936"/><a data-primary="escape character (\)" data-type="indexterm" id="idm45176120480928"/><a data-primary="\ (backslash), escape character" data-type="indexterm" id="idm45176120480256"/><a data-primary="backslash (\), escape character" data-type="indexterm" id="idm45176120479616"/>quote marks inside strings, that’s OK, as long as they’re either not the kind you used to enclose the string or are escaped using a backslash:</p>&#13;
&#13;
<pre data-type="programlisting">"I've always liked to play with strings."&#13;
'He said to me, "I like to play with strings."'&#13;
"It's been said that \"haste makes waste.\""&#13;
'There\'s never been a "string theory" that I\'ve liked.'</pre>&#13;
&#13;
<p>Note that the only acceptable string delimiters are <code>'</code> and <code>"</code>, sometimes called <em>straight quotes</em>. That means you can’t use <em>curly</em> or <em>smart</em> quotes to begin or end a string value. You can use them inside a string value, as in this code example, though, and they don’t have to be escaped:</p>&#13;
&#13;
<pre data-type="programlisting">"It’s been said that “haste makes waste.”"&#13;
'There’s never been a “string theory” that I’ve liked.'</pre>&#13;
&#13;
<p>This requires that you use Unicode encoding (using the <a href="http://www.unicode.org/standard/standard.html">Unicode standard</a>) for your documents, but you should be doing that regardless.</p>&#13;
&#13;
<p>If you have some reason to include a <a data-primary="newline character, in strings" data-type="indexterm" id="idm45176120473200"/>newline in your string value, you can do that by escaping the newline itself. CSS will then remove it, making things as if it had never been there. Thus, the following two string values are identical from a CSS point of view:</p>&#13;
&#13;
<pre class="pagebreak-before" data-type="programlisting">"This is the right place \&#13;
for a newline."&#13;
"This is the right place for a newline."</pre>&#13;
&#13;
<p>If, on the other <a data-primary="Unicode encoding" data-type="indexterm" id="idm45176120470960"/>hand, you actually want a string value that includes a newline character, use the Unicode reference <code>\A</code> where you want the newline to occur:</p>&#13;
&#13;
<pre data-code-language="html" data-type="programlisting">"This is a better place \Afor a newline."</pre>&#13;
</div></section>&#13;
&#13;
&#13;
&#13;
&#13;
&#13;
&#13;
&#13;
&#13;
<section data-pdf-bookmark="Identifiers" data-type="sect2"><div class="sect2" id="identifiers">&#13;
<h2>Identifiers</h2>&#13;
&#13;
<p>One-word, <a data-primary="values" data-secondary="identifiers" data-type="indexterm" id="idm45176120466784"/><a data-primary="&lt;identifier&gt; value type" data-primary-sortas="identifier value type" data-type="indexterm" id="idm45176120466160"/><a data-primary="case sensitivity" data-secondary="identifiers (strings)" data-type="indexterm" id="idm45176120465312"/>case-sensitive strings that should not be quoted are known as <em>identifiers</em>, represented in the CSS syntax as &lt;<em><code>ident</code></em>&gt; or &lt;<em><code>custom-ident</code></em>&gt;, depending on the specification and context. Identifiers are used as animation names, grid-line names, and counter names, among others.  In addition, &lt;<em><code>dashed-ident</code></em>&gt; is used for custom properties.&#13;
Rules for creating a custom identifier include not starting the word with a number, a double hyphen, or a single hyphen followed by a number. Other than that, really any character is valid, including emojis, but if you use certain characters, including a space or a backslash, you need to escape them with a backslash.</p>&#13;
&#13;
<p>Identifiers themselves are words and are case-sensitive; thus, <code>myID</code> and <code>MyID</code> are, as far as CSS is concerned, completely distinct and unrelated to each other. If a property accepts both an identifier and one or more keywords, the author should take care to never define an identifier that is identical to a valid keyword, including the global keywords <code>initial</code>, <code>inherit</code>, <code>unset</code>, and <code>revert</code>. Using <code>none</code> is also a really bad idea.</p>&#13;
</div></section>&#13;
&#13;
&#13;
&#13;
&#13;
&#13;
&#13;
&#13;
&#13;
<section data-pdf-bookmark="URLs" data-type="sect2"><div class="sect2" id="urls">&#13;
<h2>URLs</h2>&#13;
&#13;
<p>If you’ve <a data-primary="values" data-secondary="URLs" data-type="indexterm" id="ix_value_url"/>written web pages, you’re almost certainly familiar with uniform resource locators (URLs). Whenever you need to refer to one—as in the <code>@import</code> statement, which is used when importing an external stylesheet—here is the general format:</p>&#13;
<pre data-type="programlisting">url(protocol://<em>server</em>/<em>pathname</em>/<em>filename</em>)&#13;
url("<em>&lt;string&gt;</em>")   /* can use single or double quotes, or no quotes. */</pre>&#13;
&#13;
<p>This example <a data-primary="absolute URL" data-type="indexterm" id="idm45176120450032"/>defines an <em>absolute URL</em>. This URL will work no matter where (or rather, in what page) it’s found, because it defines an absolute location in web space. Let’s say that you have a server called <em>web.waffles.org</em>. On that server is a directory called <em>pix</em>, and in this directory is an image <em>waffle22.gif</em>. In this case, the absolute URL of that image would be as follows:</p>&#13;
&#13;
<pre data-type="programlisting">https://web.waffles.org/pix/waffle22.gif</pre>&#13;
&#13;
<p>This URL is valid no matter where it is written, whether the page containing it is located on the server <em>web.waffles.org</em> or <em>web.pancakes.com</em>.</p>&#13;
&#13;
<p>The <a data-primary="URLs, images specified by" data-type="indexterm" id="ix_urls_images"/><a data-primary="relative URLs" data-type="indexterm" id="ix_rel_url"/>other type of URL is a <em>relative URL</em>, so named because it specifies a location that is relative to the document that uses it. If you’re referring to a relative location, such as a file in the same directory as your web page, the general format is as follows:</p>&#13;
<pre data-type="programlisting">url(<em>pathname</em>)&#13;
url("<em>&lt;string&gt;</em>")   /* can use single or double quotes. */</pre>&#13;
&#13;
<p>This works only if the image is on the same server as the page that contains the URL. For argument’s sake, assume that you have a web page located at <em>http://web.waffles.org/syrup.html</em> and that you want the image <em>waffle22.gif</em> to appear on this page. In that case, the URL would be the following:</p>&#13;
&#13;
<pre data-type="programlisting">pix/waffle22.gif</pre>&#13;
&#13;
<p>This path works because the web browser knows it should start with the place it found the web document and then add the relative URL. In this case, the pathname <em>pix/waffle22.gif</em> added to the server name <em>http://web.waffles.org</em> equals <em>http://web.waffles.org/pix/waffle22.gif</em>. You can almost always use an absolute URL in place of a relative URL; it doesn’t matter which you use, as long as it defines a valid location.</p>&#13;
&#13;
<p>In CSS, relative URLs are relative to the stylesheet itself, not to the HTML document that uses the stylesheet. For example, you may have an external stylesheet that imports another stylesheet. If you use a relative URL to import the second stylesheet, it must be relative to the first stylesheet. In fact, if you have a URL in any imported stylesheet, it needs to be relative to the imported stylesheet.</p>&#13;
&#13;
<p>As an example, consider an HTML document at <em>http://web.waffles.org/toppings/tips.html</em>, which has a <code>&lt;link&gt;</code> to the stylesheet <em>http://web.waffles.org/styles/basic.css</em>:</p>&#13;
&#13;
<pre data-code-language="html" data-type="programlisting"><code class="p">&lt;</code><code class="nt">link</code> <code class="na">rel</code><code class="o">=</code><code class="s">"stylesheet"</code> <code class="na">type</code><code class="o">=</code><code class="s">"text/css"</code>&#13;
    <code class="na">href</code><code class="o">=</code><code class="s">"http://web.waffles.org/styles/basic.css"</code><code class="p">&gt;</code></pre>&#13;
&#13;
<p>Inside the file <em>basic.css</em> is an <code>@import</code> statement referring to another stylesheet:</p>&#13;
&#13;
<pre data-code-language="css" data-type="programlisting"><code class="cp">@import url(special/toppings.css);</code></pre>&#13;
&#13;
<p>This <code>@import</code> will cause the browser to look for the stylesheet at <em>http://web.waffles.org/styles/special/toppings.css</em>, not at <em>http://web.waffles.org/toppings/special/toppings.css</em>. If you have a stylesheet at the latter location, the <code>@import</code> in <em>basic.css</em> should read one of the two following ways:</p>&#13;
&#13;
<pre data-code-language="css" data-type="programlisting"><code class="cp">@import url(http://web.waffles.org/toppings/special/toppings.css);</code>&#13;
&#13;
<code class="cp">@import url("../special/toppings.css");</code></pre>&#13;
&#13;
<p>Note that there cannot be a space between the <code>url</code> and the opening parenthesis:</p>&#13;
&#13;
<pre data-code-language="css" data-type="programlisting"><code class="nt">body</code> <code class="p">{</code><code class="k">background</code><code class="o">:</code> <code class="sx">url(http://www.pix.web/picture1.jpg)</code><code class="p">;}</code>   <code class="c">/* correct */</code>&#13;
<code class="nt">body</code> <code class="p">{</code><code class="k">background</code><code class="o">:</code> <code class="nb">url</code>  <code class="p">(</code><code class="n">images</code><code class="o">/</code><code class="n">picture2</code><code class="o">.</code><code class="n">jpg</code><code class="p">);}</code>          <code class="c">/* INCORRECT */</code></pre>&#13;
&#13;
<p>If the space is present, the entire declaration will be invalidated and thus ignored.<a data-primary="" data-startref="ix_rel_url" data-type="indexterm" id="idm45176120366256"/><a data-primary="" data-startref="ix_urls_images" data-type="indexterm" id="idm45176120322848"/><a data-primary="" data-startref="ix_value_url" data-type="indexterm" id="idm45176120321936"/></p>&#13;
<div data-type="note" epub:type="note"><h6>Note</h6>&#13;
<p>As of late 2022, the <a data-primary="src() function" data-type="indexterm" id="idm45176120320016"/>CSS Working Group is planning to introduce a new function called <code>src()</code>, which will accept only strings and not unquoted URLs.  This is meant to allow custom properties to be used inside <code>src()</code>, which will let authors define which file should be loaded based on the value of a custom property.</p>&#13;
</div>&#13;
</div></section>&#13;
&#13;
&#13;
&#13;
&#13;
&#13;
&#13;
&#13;
&#13;
<section data-pdf-bookmark="Images" data-type="sect2"><div class="sect2" id="images">&#13;
<h2>Images</h2>&#13;
&#13;
<p>An <em>image value</em> is a <a data-primary="values" data-secondary="images" data-type="indexterm" id="idm45176120316080"/><a data-primary="images" data-secondary="value types" data-type="indexterm" id="idm45176120315072"/>reference to an image, as you might have guessed. Its syntax representation is &lt;<em><code>image</code></em>&gt;.</p>&#13;
&#13;
<p>At the most basic level of support, which is to say the one every CSS engine on the planet would understand, an &lt;<em><code>image</code></em>&gt; value is a &lt;<em><code>url</code></em>&gt; value. In more modern user agents, &lt;<em><code>image</code></em>&gt; stands for one of the following:</p>&#13;
<dl>&#13;
<dt>&lt;<em><code>url</code></em>&gt;</dt>&#13;
<dd>&#13;
<p>A <a data-primary="&lt;url&gt; value type" data-primary-sortas="url value type" data-type="indexterm" id="idm45176120288400"/>URL identifier of an external resource—in this case, the URL of an image.</p>&#13;
</dd>&#13;
<dt>&lt;<em><code>gradient</code></em>&gt;</dt>&#13;
<dd>&#13;
<p>Refers<a data-primary="&lt;gradient&gt; value type" data-primary-sortas="gradient value type" data-type="indexterm" id="idm45176120285408"/> to either a linear, radial, or conic gradient image, either singly or in a repeating pattern. Gradients are fairly complex and are covered in detail in <a data-type="xref" href="ch09.html#gradients">Chapter 9</a>.</p>&#13;
</dd>&#13;
<dt>&lt;<em><code>image-set</code></em>&gt;</dt>&#13;
<dd>&#13;
<p>A <a data-primary="&lt;image-set&gt; value type" data-primary-sortas="image-set value type" data-type="indexterm" id="idm45176120281232"/>set of images, chosen based on a set of conditions embedded into the value, which is defined as <code>image-set()</code> but is more widely recognized with the <code>-webkit-</code> prefix.  For example, <code>-webkit-image-set()</code> could specify that a larger image be used for desktop layouts, whereas a smaller image (both in pixel size and file size) be used for a mobile design.  This value is intended to at least approximate the behavior of the <code>srcset</code> attribute for <code>&lt;picture&gt;</code> elements.  As of early 2023, <code>-webkit-image-set</code> is basically universally supported, with most browsers other than Safari also accepting <code>image-set()</code> (without the prefix).</p>&#13;
</dd>&#13;
<dt>&lt;<em><code>cross-fade</code></em>&gt;</dt>&#13;
<dd>&#13;
<p>Used to <a data-primary="&lt;cross-fade&gt; value type" data-primary-sortas="cross-fade value type" data-type="indexterm" id="idm45176120275136"/>blend two (or more) images together, with a specific transparency given to each image.  Use cases include blending two images together, blending an image with a gradient, and so on.  As of early 2023, this is supported as <code>-webkit-cross-fade()</code> in Blink- and WebKit-based browsers, and not supported at all in the Firefox family, with or without the prefix.</p>&#13;
</dd>&#13;
</dl>&#13;
&#13;
<p>There are also the <code>image()</code> and <code>element()</code> functions, but as of early 2023, neither is supported by any browser, except for a vendor-prefixed version of <code>element()</code> supported by Firefox.  Finally, <code>paint()</code> refers to an image painted by CSS Houdini’s PaintWorklet.  As of early 2023, this is supported in only a basic form by Blink-based browsers like Chrome.</p>&#13;
</div></section>&#13;
</div></section>&#13;
&#13;
&#13;
&#13;
&#13;
&#13;
&#13;
<section data-pdf-bookmark="Numbers and Percentages" data-type="sect1"><div class="sect1" id="numbers_and_percentages">&#13;
<h1>Numbers and Percentages</h1>&#13;
&#13;
<p>Numbers and <a data-primary="values" data-secondary="numbers" data-type="indexterm" id="ix_value_number"/>percentages serve as the foundation for many other values types. For example, font sizes can be defined using the <code>em</code> unit (covered later in this chapter) preceded by a number. But what kind of number? Understanding the types of numbers here will help you better grasp defining other value types later.</p>&#13;
&#13;
&#13;
&#13;
&#13;
&#13;
&#13;
&#13;
&#13;
<section data-pdf-bookmark="Integers" data-type="sect2"><div class="sect2" id="integers">&#13;
<h2>Integers</h2>&#13;
&#13;
<p>An <em>integer value</em> is <a data-primary="&lt;integer&gt; value type" data-primary-sortas="integer value type" data-type="indexterm" id="idm45176120264368"/>about as simple as it gets: one or more numbers, optionally prefixed by a <code>+</code> or <code>–</code> (plus or minus) sign to indicate a positive or negative value. That’s it. Integer values are represented in value syntax as &lt;<em><code>integer</code></em>&gt;. Examples include <code>712</code>, <code>13</code>, <code>−42</code>, and <code>1066</code>.</p>&#13;
&#13;
<p>Some properties define a range of acceptable integer values.  Integer values that fall outside a defined range are, by default, considered invalid and cause the entire declaration to be ignored. However, some properties define behavior that causes values outside the accepted range to be set to the accepted value closest to the declared value, known as <em>clamping</em>.</p>&#13;
&#13;
<p>In cases (such as the property <code>z-index</code>) where there is no restricted range, user agents must support values up to ±1,073,741,824 (±2<sup>30</sup>).</p>&#13;
</div></section>&#13;
&#13;
&#13;
&#13;
&#13;
&#13;
&#13;
&#13;
&#13;
<section data-pdf-bookmark="Numbers" data-type="sect2"><div class="sect2" id="numbers">&#13;
<h2>Numbers</h2>&#13;
&#13;
<p>A <em>number value</em> is <a data-primary="&lt;number&gt; value type" data-primary-sortas="number value type" data-type="indexterm" id="idm45176120255168"/>either an &lt;<em><code>integer</code></em>&gt; or a real number, which is to say an integer followed by a dot and then some number of following integers. Additionally, it can be prefixed by either <code>+</code> or <code>-</code> to indicate positive or negative values. Number values are represented in value syntax as &lt;<em><code>number</code></em>&gt;. Examples include <code>5</code>, <code>2.7183</code>, <code>−3.1416</code>, <code>6.2832</code>, and <code>1.0218e29</code> (scientific notation).</p>&#13;
&#13;
<p>The reason a &lt;<em><code>number</code></em>&gt; can be an &lt;<em><code>integer</code></em>&gt; and yet they are separate value types is that some properties will accept only integers (e.g., <code>z-index</code>), whereas others will accept any real number (e.g., <code>flex-grow</code>).</p>&#13;
&#13;
<p>As with integer values, number values may have limits imposed on them by a property definition; for example, <code>opacity</code> restricts its value to be any valid &lt;<em><code>number</code></em>&gt; in the range <code>0</code> to <code>1</code>, inclusive. Some properties define behavior that causes values outside the accepted range to be clamped to an acceptable value closest to the declared value; e.g., <code>opacity: 1.7</code> would be clamped to <code>opacity: 1</code>. For those that do not, number values that fall outside a defined range are considered invalid and cause the entire declaration to be ignored.</p>&#13;
</div></section>&#13;
&#13;
&#13;
&#13;
&#13;
&#13;
&#13;
&#13;
&#13;
<section data-pdf-bookmark="Percentages" data-type="sect2"><div class="sect2" id="val_percentages">&#13;
<h2>Percentages</h2>&#13;
&#13;
<p>A <em>percentage value</em> is a &lt;<em><code>number</code></em>&gt; followed by a <a data-primary="&lt;percentage&gt; value type" data-primary-sortas="percentage value type" data-type="indexterm" id="idm45176120240688"/><a data-primary="values" data-secondary="percentages" data-type="indexterm" id="idm45176120239712"/>percentage sign (<code>%</code>), and is represented in value syntax as &lt;<em><code>percentage</code></em>&gt;. Examples include <code>50%</code> and <code>33.333%</code>. Percentage values are always relative to another value, which can be anything—the value of another property &#13;
<span class="keep-together">of the</span> same element, a value inherited from the parent element, or a value of an ancestor element. Properties that accept percentage values will define any restrictions on the range of allowed percentage values, as well as the way in which the percentage is &#13;
<span class="keep-together">relatively calculated.</span></p>&#13;
</div></section>&#13;
&#13;
&#13;
&#13;
&#13;
&#13;
&#13;
&#13;
&#13;
<section data-pdf-bookmark="Fractions" data-type="sect2"><div class="sect2" id="val_fractions">&#13;
<h2>Fractions</h2>&#13;
&#13;
<p>A <em>fraction value</em> (or <em>flexible ratio</em>) is a &lt;<em><code>number</code></em>&gt; followed by the <code>fr</code> unit label.  <a data-primary="flexible ratio (fraction)" data-type="indexterm" id="idm45176120231360"/><a data-primary="&lt;fraction&gt; value type" data-primary-sortas="fraction value type" data-type="indexterm" id="idm45176120230656"/><a data-primary="fr (fractional) unit" data-type="indexterm" id="idm45176120229712"/>Thus, one fractional unit is <code>1fr</code>.  The <code>fr</code> unit represents a fraction of the leftover space, if any, in a grid container.</p>&#13;
&#13;
<p>As with all CSS <a data-primary="calc() function" data-type="indexterm" id="idm45176120227792"/><a data-primary="mathematical expressions (calc() function)" data-type="indexterm" id="idm45176120227056"/>dimensions, there is no space between the unit and the number. Fraction values are not lengths (nor are they compatible with &lt;<em><code>length</code></em>&gt; values, unlike some &lt;<em><code>percentage</code></em>&gt; values), so they cannot be used with other unit types in <code>calc()</code> functions.</p>&#13;
<div data-type="note" epub:type="note"><h6>Note</h6>&#13;
<p>Fraction values are mostly used in grid layout (see <a data-type="xref" href="ch12.html#grid-layout">Chapter 12</a>), but there are plans to use it in more contexts, such as the planned (as of early 2023) <code>stripes()</code> function.<a data-primary="" data-startref="ix_value_number" data-type="indexterm" id="idm45176120222416"/></p>&#13;
</div>&#13;
</div></section>&#13;
</div></section>&#13;
&#13;
&#13;
&#13;
&#13;
&#13;
&#13;
<section data-pdf-bookmark="Distances" data-type="sect1"><div class="sect1" id="distances">&#13;
<h1>Distances</h1>&#13;
&#13;
<p>Many CSS properties, such as margins, depend on length measurements to properly display various page elements. It’s likely no surprise, then, CSS provides multiple ways to measure length.</p>&#13;
&#13;
<p>All length units can be expressed as either positive or negative numbers followed by a label, although note that some properties will accept only positive numbers. You can also use real numbers—that is, numbers with decimal fractions, such as 10.5 or 4.561.</p>&#13;
&#13;
<p>All length units are followed by a short abbreviation that represents the actual unit of length being specified, such as <code>in</code> (inches) or <code>pt</code> (points). The only exception to this rule is a length of <code>0</code> (zero), which need not be followed by a unit when describing lengths.</p>&#13;
&#13;
<p>These length units are divided into two types: <em>absolute length units</em> and <em>relative length units</em>.</p>&#13;
&#13;
&#13;
&#13;
&#13;
&#13;
&#13;
&#13;
&#13;
<section data-pdf-bookmark="Absolute Length Units" data-type="sect2"><div class="sect2" id="absolute_length_units">&#13;
<h2>Absolute Length Units</h2>&#13;
&#13;
<p>We’ll <a data-primary="units of measure" data-secondary="absolute length" data-type="indexterm" id="ix_units_absol_length"/><a data-primary="absolute length units" data-type="indexterm" id="ix_absol_length"/>start with absolute units because they’re easiest to understand. The seven types of absolute units are as follows:</p>&#13;
<dl>&#13;
<dt><em>Inches</em> (<code>in</code>)</dt>&#13;
<dd>&#13;
<p>As <a data-primary="in (inches) unit" data-type="indexterm" id="idm45176120208560"/>you might expect, this notation refers to the inches you’d find on a ruler in the US. (The fact that this unit is in the specification, even though almost the entire world uses the metric system, is an interesting insight into the pervasiveness of US interests on the internet—but let’s not get into virtual sociopolitical theory right now.)</p>&#13;
</dd>&#13;
<dt><em>Centimeters</em> (<code>cm</code>)</dt>&#13;
<dd>&#13;
<p>Refers<a data-primary="cm (centimeters) unit" data-type="indexterm" id="idm45176120205680"/> to the centimeters that you’d find on rulers the world over. There are 2.54 centimeters to an inch, and one centimeter equals 0.394 inches.</p>&#13;
</dd>&#13;
<dt><em>Millimeters</em> (<code>mm</code>)</dt>&#13;
<dd>&#13;
<p>For those <a data-primary="mm (millimeters) unit" data-type="indexterm" id="idm45176120202640"/>Americans who are metric challenged, 10 millimeters are in 1 centimeter, so an inch equals 25.4 millimeters, and a millimeter equals 0.0394 inches.</p>&#13;
</dd>&#13;
<dt><em>Quarter-millimeters</em> (<code>Q</code>)</dt>&#13;
<dd>&#13;
<p>There<a data-primary="q (quarter-millimeters) unit" data-type="indexterm" id="idm45176120199600"/> are 40 Q units in a centimeter; thus, setting an element to be 1/10 of a centimeter wide—which is also a millimeter wide—would mean a value of <code>4Q</code>.</p>&#13;
</dd>&#13;
<dt><em>Points</em> (<code>pt</code>)</dt>&#13;
<dd>&#13;
<p>Points<a data-primary="pt (points) unit" data-type="indexterm" id="idm45176120195920"/> are standard typographical measurements that have been used by printers and typesetters for decades and by word processing programs for many years. Traditionally, there are 72 points to an inch. Therefore the capital letters of text set to 12 points should be one-sixth of an inch tall. For example, <code>p {font-size</code>: <code>18pt;}</code> is equivalent to <code>p {font-size</code>: <code>0.25in;}</code>.</p>&#13;
</dd>&#13;
<dt><em>Picas</em> (<code>pc</code>)</dt>&#13;
<dd>&#13;
<p>A <a data-primary="pc (picas) unit" data-type="indexterm" id="idm45176120191376"/>pica, which is another typographical term, is equivalent to 12 points, which means there are 6 picas to an inch. As just shown, the capital letters of text set to 1 pica should be one-sixth of an inch tall. For example, <code>p {font-size</code>: <code>1.5pc;}</code> would set text to the same size as the example declarations found in the definition of points.</p>&#13;
</dd>&#13;
<dt><em>Pixels</em> (<code>px</code>)</dt>&#13;
<dd>&#13;
<p>A <a data-primary="px (pixels) unit" data-type="indexterm" id="idm45176120187520"/>pixel is a small box onscreen, but CSS defines pixels more abstractly. In CSS terms, a pixel is defined to be the size required to yield 96 pixels per inch. Many user agents ignore this definition in favor of simply addressing the pixels on the screen. Scaling factors are brought into play when page zooming or printing, where an element <code>100px</code> wide can be rendered more than 100 device dots wide.</p>&#13;
</dd>&#13;
</dl>&#13;
&#13;
<p>These units are really useful only if the browser knows all the details of the screen on which your page is displayed, the printer you’re using, or whatever other user agent might apply. On a web browser, display is affected by the size of the screen and the resolution to which the screen is set; there isn’t much that you, as the author, can do about these factors. If nothing else, measurements should be consistent in relation to each other—that is, a setting of <code>1.0in</code> should be twice as large as <code>0.5in</code>, as shown in <a data-type="xref" href="#setting_absolute-length_left_margins">Figure 5-1</a>.</p>&#13;
&#13;
<figure class="coderesult"><div class="figure" id="setting_absolute-length_left_margins">&#13;
<img alt="css5 0501" src="assets/css5_0501.png"/>&#13;
<h6><span class="label">Figure 5-1. </span>Setting absolute-length left margins</h6>&#13;
</div></figure>&#13;
&#13;
<p>Let’s make the (fairly suspect) assumption that your computer knows enough about its display system to accurately reproduce real-world measurements. You could make sure every paragraph has a top margin of half an inch by declaring <code>p {margin-top</code>: <code>0.5in;}</code> in that case.</p>&#13;
&#13;
<p>Absolute units are much more useful in defining stylesheets for printed documents, where measuring things in terms of inches, points, and picas is common.</p>&#13;
&#13;
&#13;
&#13;
&#13;
&#13;
&#13;
&#13;
&#13;
&#13;
&#13;
<section data-pdf-bookmark="Pixel lengths" data-type="sect3"><div class="sect3" id="pixel_lengths">&#13;
<h3>Pixel lengths</h3>&#13;
&#13;
<p>On the face of things, <a data-primary="pixels" data-type="indexterm" id="idm45176120178208"/>pixels are straightforward. If you look at a screen closely enough, you can see that it’s broken into a grid of tiny little boxes. Each box is a pixel. Say you define an element to be a certain number of pixels tall and wide, as in the following markup:</p>&#13;
&#13;
<pre data-code-language="html" data-type="programlisting"><code class="p">&lt;</code><code class="nt">p</code><code class="p">&gt;</code>&#13;
The following image is 20 pixels tall and wide: <code class="p">&lt;</code><code class="nt">img</code> <code class="na">src</code><code class="o">=</code><code class="s">"test.gif"</code>&#13;
  <code class="na">style</code><code class="o">=</code><code class="s">"width: 20px; height: 20px;"</code> <code class="na">alt</code><code class="o">=</code><code class="s">""</code> <code class="p">/&gt;</code>&#13;
<code class="p">&lt;/</code><code class="nt">p</code><code class="p">&gt;</code></pre>&#13;
&#13;
<p>Then it follows that the element will be that many screen elements tall and wide, as shown in <a data-type="xref" href="#using_pixel_lengths">Figure 5-2</a>.</p>&#13;
&#13;
<figure class="coderesult"><div class="figure" id="using_pixel_lengths">&#13;
<img alt="css5 0502" src="assets/css5_0502.png"/>&#13;
<h6><span class="label">Figure 5-2. </span>Using pixel lengths</h6>&#13;
</div></figure>&#13;
&#13;
<p>The problem is, thanks to high-density displays like those found on mobile devices and modern laptops, the individual screen elements aren’t treated as pixels anymore.  Instead, the pixels used in your CSS are translated into something that aligns with human expectations, which is covered in the next section.</p>&#13;
</div></section>&#13;
&#13;
&#13;
&#13;
&#13;
&#13;
&#13;
&#13;
&#13;
&#13;
&#13;
<section data-pdf-bookmark="Pixel theory" data-type="sect3"><div class="sect3" id="pixel_theory">&#13;
<h3>Pixel theory</h3>&#13;
&#13;
<p>In its discussion of pixels, the CSS specification recommends that, when a display’s resolution density is significantly different from 96 pixels per inch (ppi), user agents should scale pixel measurements to a reference pixel.</p>&#13;
&#13;
<p>The <a href="https://www.w3.org/TR/css-values-4/#reference-pixel">W3C</a> defines <em>reference pixel</em> as follows:</p>&#13;
<blockquote>&#13;
<p>The visual angle of one pixel on a device with a device pixel density of 96dpi and a distance from the reader of an arm’s length.  For a nominal arm’s length of 28 inches, the visual angle is therefore about 0.0213 degrees. For reading at arm’s length, 1px thus corresponds to about 0.26 mm (1/96 inch).</p></blockquote>&#13;
&#13;
<p>On most modern displays, the actual number of pixels per inch (ppi) is higher than 96—sometimes much higher. The Retina display on an iPhone 13, for example, is physically 326 ppi, and the display on the iPad Pro is physically 264 ppi.  As long as a browser on one of those devices sets the reference pixel such that an element set to be <code>10px</code> tall appears to be 2.6 millimeters tall on the screen, the physical display density isn’t something you have to worry about, any more than having to worry about the number of dots per inch on &#13;
<span class="keep-together">a printout.</span></p>&#13;
</div></section>&#13;
</div></section>&#13;
&#13;
&#13;
&#13;
&#13;
&#13;
&#13;
&#13;
&#13;
<section data-pdf-bookmark="Resolution Units" data-type="sect2"><div class="sect2" id="resolution_units">&#13;
<h2>Resolution Units</h2>&#13;
&#13;
<p>Some <a data-primary="viewport (browser display)" data-secondary="resolution units" data-type="indexterm" id="idm45176120142272"/><a data-primary="viewport-relative units" data-type="indexterm" id="idm45176120141296"/><a data-primary="resolution units" data-type="indexterm" id="idm45176120140624"/><a data-primary="units of measure" data-secondary="resolution" data-type="indexterm" id="idm45176120139952"/>unit types are based on display resolution:</p>&#13;
<dl>&#13;
<dt><em>Dots per inch</em> (<code>dpi</code>)</dt>&#13;
<dd>&#13;
<p>The number<a data-primary="dpi (dots per inch) unit" data-type="indexterm" id="idm45176120136448"/> of display dots per linear inch. This can refer to the dots on a paper printer’s output, the physical pixels on an LED screen or other device, or the elements in an e-ink display such as that used by a Kindle.</p>&#13;
</dd>&#13;
<dt><em>Dots per centimeter</em> (<code>dpcm</code>)</dt>&#13;
<dd>&#13;
<p>Same<a data-primary="dpcm (dots per centimeter) unit" data-type="indexterm" id="idm45176120133600"/> as <code>dpi</code>, except the linear measure is 1 centimeter instead of 1 inch.</p>&#13;
</dd>&#13;
<dt><em>Dots per pixel unit</em> (<code>dppx</code>)</dt>&#13;
<dd>&#13;
<p>The number<a data-primary="dppx (dots per pixel) unit" data-type="indexterm" id="idm45176120108096"/><a data-primary="pixels" data-type="indexterm" id="idm45176120107392"/> of display dots per CSS <code>px</code> unit, with <code>1dppx</code> being equivalent to <code>96dpi</code> because CSS defines pixel units at that ratio. Just bear in mind that ratio could change in future versions of CSS.</p>&#13;
</dd>&#13;
</dl>&#13;
&#13;
<p>These units are most often used in the context of media queries. As an example, an author can create a media block to be used only on displays that have higher than 500 dpi:</p>&#13;
&#13;
<pre data-code-language="css" data-type="programlisting"><code class="k">@media</code> <code class="p">(</code><code class="n">min</code><code class="o">-</code><code class="n">resolution</code><code class="o">:</code> <code class="m">500dpi</code><code class="p">)</code> <code class="p">{</code>&#13;
    <code class="c">/* rules go here */</code>&#13;
<code class="p">}</code></pre>&#13;
&#13;
<p>Again, it’s important to remember that CSS pixels are <em>not</em> device resolution pixels. Text with <code>font-size: 16px</code> will be a relatively consistent size whether the device has 96 dpi or 470 dpi. While a reference pixel is defined to appear to be 1/96th of an inch in size, when a device has more than 96 dpi, the content will not look smaller. Zooming is created by expanding CSS pixels as much as is needed; an image will appear larger, but the image size doesn’t actually change: rather, the width of the screen, in terms of reference pixels, gets smaller.<a data-primary="" data-startref="ix_absol_length" data-type="indexterm" id="idm45176120080704"/><a data-primary="" data-startref="ix_units_absol_length" data-type="indexterm" id="idm45176120079856"/></p>&#13;
</div></section>&#13;
&#13;
&#13;
&#13;
&#13;
&#13;
&#13;
&#13;
&#13;
<section data-pdf-bookmark="Relative Length Units" data-type="sect2"><div class="sect2" id="relative_length_units">&#13;
<h2>Relative Length Units</h2>&#13;
&#13;
<p>Relative <a data-primary="units of measure" data-secondary="relative length" data-type="indexterm" id="ix_units_relative_length"/><a data-primary="relative length units" data-type="indexterm" id="ix_relative_units"/>units are so called because they are measured in relation to other things. The actual (or absolute) distance they measure can change because of factors beyond their control, such as screen resolution, the width of the viewing area, the user’s preference settings, and a whole host of other things. In addition, for some relative units, their size is almost always relative to the element that uses them and will thus change from element to element.</p>&#13;
&#13;
<p>First, let’s consider the character-based length units, including <code>em</code>, <code>ex</code>, and <code>ch</code>, which are closely related. Two other font-relative units, <code>cap</code> and <code>ic</code>, are discussed later in &#13;
<span class="keep-together">the chapter.</span></p>&#13;
&#13;
&#13;
&#13;
&#13;
&#13;
&#13;
&#13;
&#13;
&#13;
&#13;
<section class="less_space pagebreak-before" data-pdf-bookmark="The em unit" data-type="sect3"><div class="sect3" id="the_em_unit">&#13;
<h3>The em unit</h3>&#13;
&#13;
<p>In CSS, <code>1em</code> is <a data-primary="em unit" data-type="indexterm" id="idm45176120056208"/>defined to be the value of <code>font-size</code> for a given font. If the <code>font-size</code> of an element is 14 pixels, then for that element, <code>1em</code> is equal to 14 pixels.</p>&#13;
&#13;
<p>As you may suspect, this value can change from element to element. For example, let’s say you have an <code>&lt;h1&gt;</code> with a font size of 24 pixels, an <code>&lt;h2&gt;</code> element with a font size of 18 pixels, and a paragraph with a font size of 12 pixels. If you set the left margin of all three at <code>1em</code>, they will have left margins of 24 pixels, 18 pixels, and 12 pixels, respectively:</p>&#13;
&#13;
<pre data-code-language="css" data-type="programlisting"><code class="nt">h1</code> <code class="p">{</code><code class="k">font-size</code><code class="o">:</code> <code class="m">24px</code><code class="p">;}</code>&#13;
<code class="nt">h2</code> <code class="p">{</code><code class="k">font-size</code><code class="o">:</code> <code class="m">18px</code><code class="p">;}</code>&#13;
<code class="nt">p</code> <code class="p">{</code><code class="k">font-size</code><code class="o">:</code> <code class="m">12px</code><code class="p">;}</code>&#13;
<code class="nt">h1</code><code class="o">,</code> <code class="nt">h2</code><code class="o">,</code> <code class="nt">p</code> <code class="p">{</code><code class="k">margin-left</code><code class="o">:</code> <code class="m">1em</code><code class="p">;}</code>&#13;
<code class="nt">small</code> <code class="p">{</code><code class="k">font-size</code><code class="o">:</code> <code class="m">0.8em</code><code class="p">;}</code></pre>&#13;
&#13;
<pre data-code-language="html" data-type="programlisting"><code class="p">&lt;</code><code class="nt">h1</code><code class="p">&gt;</code>Left margin = <code class="p">&lt;</code><code class="nt">small</code><code class="p">&gt;</code>24 pixels<code class="p">&lt;/</code><code class="nt">small</code><code class="p">&gt;&lt;/</code><code class="nt">h1</code><code class="p">&gt;</code>&#13;
<code class="p">&lt;</code><code class="nt">h2</code><code class="p">&gt;</code>Left margin = <code class="p">&lt;</code><code class="nt">small</code><code class="p">&gt;</code>18 pixels<code class="p">&lt;/</code><code class="nt">small</code><code class="p">&gt;&lt;/</code><code class="nt">h2</code><code class="p">&gt;</code>&#13;
<code class="p">&lt;</code><code class="nt">p</code><code class="p">&gt;</code>Left margin = <code class="p">&lt;</code><code class="nt">small</code><code class="p">&gt;</code>12 pixels<code class="p">&lt;/</code><code class="nt">small</code><code class="p">&gt;&lt;/</code><code class="nt">p</code><code class="p">&gt;</code></pre>&#13;
&#13;
<p>When setting the size of the font, on the other hand, the value of <code>em</code> is relative to the font size of the parent element, as illustrated in <a data-type="xref" href="#using_em_for_margins_and_font_sizing">Figure 5-3</a>.</p>&#13;
&#13;
<figure class="coderesult"><div class="figure" id="using_em_for_margins_and_font_sizing">&#13;
<img alt="css5 0503" src="assets/css5_0503.png"/>&#13;
<h6><span class="label">Figure 5-3. </span>Using <code>em</code> for margins and font sizing</h6>&#13;
</div></figure>&#13;
&#13;
<p>In theory, <code>1em</code> is equal to the width of a lowercase <em>m</em> in the font used—that’s where the name comes from, in fact. It’s an old typographer’s term. However, this is not assured in CSS.</p>&#13;
</div></section>&#13;
&#13;
&#13;
&#13;
&#13;
&#13;
&#13;
&#13;
&#13;
&#13;
&#13;
<section data-pdf-bookmark="The ex unit" data-type="sect3"><div class="sect3" id="idm45176113404256">&#13;
<h3>The ex unit</h3>&#13;
&#13;
<p>The <code>ex</code> <a data-primary="ex unit" data-type="indexterm" id="idm45176113402256"/>unit refers to the height of a lowercase <em>x</em> in the font being used. Therefore, if two paragraphs use text that is 24 points in size, but each paragraph uses a different font, then the value of <code>ex</code> could be different for each paragraph. This is because different fonts have different heights for <em>x</em>, as you can see in <a data-type="xref" href="#varying_x-heights">Figure 5-4</a>. Even though the examples use 24-point text—and therefore each example’s <code>em</code> value is 24 points—the x-height for each &#13;
<span class="keep-together">is different.</span></p>&#13;
&#13;
<figure><div class="figure" id="varying_x-heights">&#13;
<img alt="css5 0504" src="assets/css5_0504.png"/>&#13;
<h6><span class="label">Figure 5-4. </span>Varying x heights</h6>&#13;
</div></figure>&#13;
</div></section>&#13;
&#13;
&#13;
&#13;
&#13;
&#13;
&#13;
&#13;
&#13;
&#13;
&#13;
<section data-pdf-bookmark="The ch unit" data-type="sect3"><div class="sect3" id="the_ch_unit">&#13;
<h3>The ch unit</h3>&#13;
&#13;
<p>The <code>ch</code> <a data-primary="ch unit" data-type="indexterm" id="idm45176113356672"/>unit is broadly meant to represent <em>one character</em>. <a href="https://www.w3.org/TR/css-values-4/#ch">CSS Values and Units Level 4</a> defines <code>ch</code> as follows:</p>&#13;
<blockquote>&#13;
<p>Equal to the advance measure of the “0” (ZERO, U+0030) glyph found in the font used to render it.</p></blockquote>&#13;
&#13;
<p>The term <em>advance measure</em> is a <a data-primary="advance measure" data-type="indexterm" id="idm45176113352736"/>CSS-ism that corresponds to the term <em>advance width</em> in Western typography. CSS uses the term <em>measure</em> because some scripts are not right to left or left to right, but instead top to bottom or bottom to top, and so may have an advance height rather than an advance width.</p>&#13;
&#13;
<p>Without getting into too many details, a character glyph’s advance width is the distance from the start of a character glyph to the start of the next. This generally corresponds to the width of the glyph itself plus any built-in spacing to the sides (although that built-in spacing can be either positive or negative).</p>&#13;
&#13;
<p>The easiest way to demonstrate the <code>ch</code> unit is to run a bunch of zeros together and then set an image to have a width with the same number of <code>ch</code> units as the number of zeros, as shown in <a data-type="xref" href="#character-relative_sizing">Figure 5-5</a>:</p>&#13;
&#13;
<pre data-code-language="css" data-type="programlisting"><code class="nt">img</code> <code class="p">{</code><code class="k">height</code><code class="o">:</code> <code class="m">1em</code><code class="p">;</code> <code class="k">width</code><code class="o">:</code> <code class="m">25ch</code><code class="p">;}</code></pre>&#13;
&#13;
<p>Given a monospace font like Courier, all characters are by definition <code>1ch</code> wide. In any proportional face type, which is what the vast majority of Western typefaces are, characters may be wider or narrower than the 0 and so cannot be assumed to be exactly &#13;
<span class="keep-together"><code>1ch</code> wide.</span></p>&#13;
&#13;
<figure class="coderesult"><div class="figure" id="character-relative_sizing">&#13;
<img alt="css5 0505" src="assets/css5_0505.png"/>&#13;
<h6><span class="label">Figure 5-5. </span>Character-relative sizing</h6>&#13;
</div></figure>&#13;
</div></section>&#13;
&#13;
&#13;
&#13;
&#13;
&#13;
&#13;
&#13;
&#13;
&#13;
&#13;
<section data-pdf-bookmark="Other relative length units" data-type="sect3"><div class="sect3" id="other_relative_length_units">&#13;
<h3>Other relative length units</h3>&#13;
&#13;
<p>We have a few other relative length units to mention:</p>&#13;
<dl>&#13;
<dt><code>ic</code></dt>&#13;
<dd>&#13;
<p>The <a data-primary="ic unit" data-type="indexterm" id="idm45176113322336"/>advance measure of 水 glyph (Chinese, Japanese, and Korean water ideograph, U+6C34) found in the first font that can render it.  This is like <code>ch</code> in that it uses an advance measure, but defines a measure more useful for ideographic languages than the 0 character.  If <code>ic</code> can’t be calculated for a given situation, it’s assumed to be equal to <code>1em</code>.</p>&#13;
</dd>&#13;
<dt><code>cap</code></dt>&#13;
<dd>&#13;
<p>The <a data-primary="cap unit" data-type="indexterm" id="idm45176113306432"/>cap-height is approximately equal to the height of a capital Latin letter, even in fonts that do not contain Latin letters.  If it can’t be calculated for a given situation, it’s assumed to be equal to the font’s ascent height.</p>&#13;
</dd>&#13;
<dt><code>lh</code></dt>&#13;
<dd>&#13;
<p>Equal<a data-primary="lh unit" data-type="indexterm" id="idm45176113304288"/> to the computed value of the <code>line-height</code> property of the element on which it is used.</p>&#13;
</dd>&#13;
</dl>&#13;
&#13;
<p>At the time of this writing, only Firefox supports <code>cap</code>, and only Chromium-based &#13;
<span class="keep-together">browsers</span> support <code>lh</code>.</p>&#13;
</div></section>&#13;
</div></section>&#13;
&#13;
&#13;
&#13;
&#13;
&#13;
&#13;
&#13;
&#13;
<section data-pdf-bookmark="Root-Relative Length Units" data-type="sect2"><div class="sect2" id="root-relative_length_units">&#13;
<h2>Root-Relative Length Units</h2>&#13;
&#13;
<p>Most of the <a data-primary="root-relative values" data-type="indexterm" id="ix_root_relative_value"/>character-based length units discussed in the previous section have a corresponding root-relative value.  A <em>root-relative value</em> is one that is calculated with respect to the root element of the document, and thus provides a uniform value no matter what &#13;
<span class="keep-together">context</span> it’s used in.  We will discuss the most widely supported such unit and then &#13;
<span class="keep-together">summarize</span> the rest.</p>&#13;
&#13;
&#13;
&#13;
&#13;
&#13;
&#13;
&#13;
&#13;
&#13;
&#13;
<section data-pdf-bookmark="The rem unit" data-type="sect3"><div class="sect3" id="the_rem_unit">&#13;
<h3>The rem unit</h3>&#13;
&#13;
<p>The <code>rem</code> <a data-primary="rem unit" data-type="indexterm" id="idm45176113293536"/>unit is calculated using the font size of the document’s root element. In HTML, that’s the <code>&lt;html&gt;</code> element. Thus, declaring any element to have <code>font-size: 1rem;</code> sets it to have the same font-size value as the root element of the document.</p>&#13;
&#13;
<p>As an example, consider the following markup fragment. It will have the result shown in <a data-type="xref" href="#ems_versus_rems">Figure 5-6</a>:</p>&#13;
&#13;
<pre data-code-language="html" data-type="programlisting"><code class="p">&lt;</code><code class="nt">p</code><code class="p">&gt;</code> This paragraph has the same font size as the root element thanks to&#13;
    inheritance.<code class="p">&lt;/</code><code class="nt">p</code><code class="p">&gt;</code>&#13;
<code class="p">&lt;</code><code class="nt">div</code> <code class="na">style</code><code class="o">=</code><code class="s">"font-size: 30px; background: silver;"</code><code class="p">&gt;</code>&#13;
  <code class="p">&lt;</code><code class="nt">p</code> <code class="na">style</code><code class="o">=</code><code class="s">"font-size: 1em;"</code><code class="p">&gt;</code>This paragraph has the same font size as its parent&#13;
     element.<code class="p">&lt;/</code><code class="nt">p</code><code class="p">&gt;</code>&#13;
  <code class="p">&lt;</code><code class="nt">p</code> <code class="na">style</code><code class="o">=</code><code class="s">"font-size: 1rem;"</code><code class="p">&gt;</code>This paragraph has the same font size as the root&#13;
     element.<code class="p">&lt;/</code><code class="nt">p</code><code class="p">&gt;</code>&#13;
<code class="p">&lt;/</code><code class="nt">div</code><code class="p">&gt;</code></pre>&#13;
&#13;
<figure><div class="figure" id="ems_versus_rems">&#13;
<img alt="css5 0506" src="assets/css5_0506.png"/>&#13;
<h6><span class="label">Figure 5-6. </span>Using the <code>em</code> unit (middle sentence) versus the <code>rem</code> unit (bottom)</h6>&#13;
</div></figure>&#13;
&#13;
<p>In effect, <code>rem</code> acts as a reset for font size: no matter what relative font sizing has happened to the ancestors of an element, giving it <code>font-size: 1rem;</code> will put it right back where the root element is set. This will usually be the user’s default font size, unless you (or the user) have set the root element to a specific font size.</p>&#13;
&#13;
<p>For example, given this declaration, <code>1rem</code> will always be equivalent to <code>13px</code>:</p>&#13;
&#13;
<pre data-code-language="css" data-type="programlisting"><code class="nt">html</code> <code class="p">{</code><code class="k">font-size</code><code class="o">:</code> <code class="m">13px</code><code class="p">;}</code></pre>&#13;
&#13;
<p>However, given <em>this</em> declaration, <code>1rem</code> will always be equivalent to three-quarters the user’s default font size:</p>&#13;
&#13;
<pre data-code-language="css" data-type="programlisting"><code class="nt">html</code> <code class="p">{</code><code class="k">font-size</code><code class="o">:</code> <code class="m">75%</code><code class="p">;}</code></pre>&#13;
&#13;
<p>In this case, if the user’s default is 16 pixels, <code>1rem</code> will equal <code>12px</code>. If the user has set their default to 12 pixels—and yes, some people do this—then <code>1rem</code> will equal <code>9px</code>. If the default setting is 20 pixels, <code>1rem</code> equals <code>15px</code>. And so on.</p>&#13;
&#13;
<p>You are not restricted to the value <code>1rem</code>. Any real number can be used, just as with the <code>em</code> unit, so you can do fun things like set all of your headings to be multiples of the root &#13;
<span class="keep-together">element’s</span> font size:</p>&#13;
&#13;
<pre data-code-language="css" data-type="programlisting"><code class="nt">h1</code> <code class="p">{</code><code class="k">font-size</code><code class="o">:</code> <code class="m">2rem</code><code class="p">;}</code>&#13;
<code class="nt">h2</code> <code class="p">{</code><code class="k">font-size</code><code class="o">:</code> <code class="m">1.75rem</code><code class="p">;}</code>&#13;
<code class="nt">h3</code> <code class="p">{</code><code class="k">font-size</code><code class="o">:</code> <code class="m">1.4rem</code><code class="p">;}</code>&#13;
<code class="nt">h4</code> <code class="p">{</code><code class="k">font-size</code><code class="o">:</code> <code class="m">1.1rem</code><code class="p">;}</code>&#13;
<code class="nt">h5</code> <code class="p">{</code><code class="k">font-size</code><code class="o">:</code> <code class="m">1rem</code><code class="p">;}</code>&#13;
<code class="nt">h6</code> <code class="p">{</code><code class="k">font-size</code><code class="o">:</code> <code class="m">0.8rem</code><code class="p">;}</code></pre>&#13;
<div data-type="note" epub:type="note"><h6>Note</h6>&#13;
<p><code>font-size: 1rem</code> is equivalent to <code>font-size: initial</code> as long as no font size is set for the root element.</p>&#13;
</div>&#13;
</div></section>&#13;
&#13;
&#13;
&#13;
&#13;
&#13;
&#13;
&#13;
&#13;
&#13;
&#13;
<section data-pdf-bookmark="Other root-relative units" data-type="sect3"><div class="sect3" id="other_root-relative_units">&#13;
<h3>Other root-relative units</h3>&#13;
&#13;
<p>As mentioned previously, <code>rem</code> is not the only root-relative unit defined by CSS. <a data-type="xref" href="#root-relative_equivalents">Table 5-1</a> summarizes the other root-relative units.</p>&#13;
<table id="root-relative_equivalents">&#13;
<caption><span class="label">Table 5-1. </span>Root-relative equivalent units</caption>&#13;
<thead>&#13;
<tr>&#13;
<th>Length</th>&#13;
<th>Root-relative unit</th>&#13;
<th>Relative to</th>&#13;
</tr>&#13;
</thead>&#13;
<tbody>&#13;
<tr>&#13;
<td><p><code>em</code></p></td>&#13;
<td><p><code>rem</code></p></td>&#13;
<td><p>Computed <code>font-size</code></p></td>&#13;
</tr>&#13;
<tr>&#13;
<td><p><code>ex</code></p></td>&#13;
<td><p><code>rex</code></p></td>&#13;
<td><p>Computed x-height</p></td>&#13;
</tr>&#13;
<tr>&#13;
<td><p><code>ch</code></p></td>&#13;
<td><p><code>rch</code></p></td>&#13;
<td><p>Advance measure of the <code>0</code> character</p></td>&#13;
</tr>&#13;
<tr>&#13;
<td><p><code>cap</code></p></td>&#13;
<td><p><code>rcap</code></p></td>&#13;
<td><p>Height of a Roman capital letter</p></td>&#13;
</tr>&#13;
<tr>&#13;
<td><p><code>ic</code></p></td>&#13;
<td><p><code>ric</code></p></td>&#13;
<td><p>Advance measure of the 水 ideograph</p></td>&#13;
</tr>&#13;
<tr>&#13;
<td><p><code>lh</code></p></td>&#13;
<td><p><code>rlh</code></p></td>&#13;
<td><p>Computed <code>line-height</code></p></td>&#13;
</tr>&#13;
</tbody>&#13;
</table>&#13;
&#13;
<p>Of all the root-relative units, only <code>rem</code> is supported as of late 2022, but it is supported by essentially all browsers.<a data-primary="" data-startref="ix_relative_units" data-type="indexterm" id="idm45176113074080"/><a data-primary="" data-startref="ix_units_relative_length" data-type="indexterm" id="idm45176113073104"/><a data-primary="" data-startref="ix_root_relative_value" data-type="indexterm" id="idm45176113072192"/></p>&#13;
</div></section>&#13;
</div></section>&#13;
</div></section>&#13;
&#13;
&#13;
&#13;
&#13;
&#13;
&#13;
<section data-pdf-bookmark="Viewport-Relative Units" data-type="sect1"><div class="sect1" id="viewport-relative_units">&#13;
<h1>Viewport-Relative Units</h1>&#13;
&#13;
<p>CSS provides <a data-primary="viewport-relative units" data-type="indexterm" id="ix_viewport_rel_unit"/>six <em>viewport-relative size units</em>. These are calculated with respect to the size of the viewport—browser window, printable area, mobile device display, etc.:</p>&#13;
<dl>&#13;
<dt><em>Viewport width unit</em> (<code>vw</code>)</dt>&#13;
<dd>&#13;
<p>Equal<a data-primary="vw (viewport width) unit" data-type="indexterm" id="idm45176113065232"/> to the viewport’s width divided by 100. Therefore, if the viewport is 937 pixels wide, <code>1vw</code> is equal to <code>9.37px</code>. If the viewport’s width changes (say, by dragging the browser window wider or narrower), the value of <code>vw</code> changes along with it.</p>&#13;
</dd>&#13;
<dt><em>Viewport height unit</em> (<code>vh</code>)</dt>&#13;
<dd>&#13;
<p>Equal<a data-primary="vh (viewport height) unit" data-type="indexterm" id="idm45176113060832"/> to the viewport’s height divided by 100. Therefore, if the viewport is 650 pixels tall, <code>1vh</code> is equal to <code>6.5px</code>. If the viewport’s height changes (say, by dragging the browser window taller or shorter), the value of <code>vh</code> changes along with it.</p>&#13;
</dd>&#13;
<dt><em>Viewport block unit</em> (<code>vb</code>)</dt>&#13;
<dd>&#13;
<p>Equal<a data-primary="vb (viewport block) unit" data-type="indexterm" id="idm45176113056432"/> to the size of the viewport along the block axis, divided by 100.  The block axis is explained in <a data-type="xref" href="ch06.html#basic-visual-formatting">Chapter 6</a>.  In top-to-bottom languages like English or Arabic, <code>vb</code> will be equal to <code>vh</code> by default.</p>&#13;
</dd>&#13;
<dt><em>Viewport inline unit</em> (<code>vi</code>)</dt>&#13;
<dd>&#13;
<p>Equal<a data-primary="vi (viewport inline) unit" data-type="indexterm" id="idm45176113051808"/> to the size of the viewport along the inline axis, divided by 100.  The inline axis is explained in <a data-type="xref" href="ch06.html#basic-visual-formatting">Chapter 6</a>.  In horizontally written languages like English or Arabic, <code>vi</code> will be equal to <code>vw</code> by default.</p>&#13;
</dd>&#13;
<dt><em>Viewport minimum unit</em> (<code>vmin</code>)</dt>&#13;
<dd>&#13;
<p>Equal<a data-primary="vmin (viewport minimum) unit" data-type="indexterm" id="idm45176113047184"/> to 1/100th of the viewport’s width or height, whichever is <em>less</em>. Thus, given a viewport that is 937 pixels wide by 650 pixels tall, <code>1vmin</code> is equal to <code>6.5px</code>.</p>&#13;
</dd>&#13;
<dt><em>Viewport maximum unit</em> (<code>vmax</code>)</dt>&#13;
<dd>&#13;
<p>Equal<a data-primary="vmax (viewport maximum) unit" data-type="indexterm" id="idm45176113042976"/> to 1/100th of the viewport’s width or height, whichever is <em>greater</em>. Thus, given a viewport that is 937 pixels wide by 650 pixels tall, <code>1vmax</code> is equal to <code>9.37px</code>.</p>&#13;
</dd>&#13;
</dl>&#13;
&#13;
<p>Because these are length units like any other, they can be used anywhere a length unit is permitted.  You can scale the font size of a heading in terms of the viewport height, for example, with something like <code>h1 {font-size: 10vh;}</code>.  This sets the font size to be 1/10th the height of the viewport—a technique potentially useful for article titles and the like.</p>&#13;
&#13;
<p>These units can be particularly handy for creating full-viewport interfaces, such as those we expect to find on a mobile device, because the units allow elements to be sized compared to the viewport and not to any of the elements within the document tree. It’s thus very simple to fill up the entire viewport, or at least major portions of it, and not have to worry about the precise dimensions of the actual viewport in any particular case.</p>&#13;
&#13;
<p>A basic example of viewport-relative sizing is illustrated in <a data-type="xref" href="#viewport-relative_sizing">Figure 5-7</a>:</p>&#13;
&#13;
<pre data-code-language="css" data-type="programlisting"><code class="nt">div</code> <code class="p">{</code><code class="k">width</code><code class="o">:</code> <code class="m">50vh</code><code class="p">;</code> <code class="k">height</code><code class="o">:</code> <code class="m">33vw</code><code class="p">;</code> <code class="k">background</code><code class="o">:</code> <code class="nb">gray</code><code class="p">;}</code></pre>&#13;
&#13;
<p>An interesting (though perhaps not useful) fact about these units is that they aren’t bound to their own primary axis. Thus, for example, you can declare <code>width: 25vh;</code> to make an element as wide as one-quarter the height of the viewport.</p>&#13;
&#13;
<figure class="bordernone"><div class="figure" id="viewport-relative_sizing">&#13;
<img alt="css5 0507" src="assets/css5_0507.png"/>&#13;
<h6><span class="label">Figure 5-7. </span>Viewport-relative sizing</h6>&#13;
</div></figure>&#13;
&#13;
<p>Variants of these units accommodate the vagaries of viewports and how they can be sized, particularly on devices where the UI may expand and contract based on user input.  These variants are based on four viewport types:</p>&#13;
<dl>&#13;
<dt>Default</dt>&#13;
<dd>&#13;
<p>The default viewport size, as defined by the user agent (browser).  This viewport type is expected to correspond to the units <code>vw</code>, <code>vh</code>, <code>vb</code>, <code>vi</code>, <code>vmin</code>, and <code>vmax</code>.  The default viewport may correspond to one of the other viewport types; e.g., the default viewport could be the same as the large viewport, but that’s up to each browser to decide.</p>&#13;
</dd>&#13;
<dt>Large</dt>&#13;
<dd>&#13;
<p>The largest possible viewport after any user-agent interfaces are contracted to their fullest extent.  For example, on a mobile device, the browser <em>chrome</em> (the browser’s address bar, navigation bar, and so on) may be minimized or hidden most of the time so that the maximum screen area can be used to show page content.  This is the state described by the large viewport.  If you want an element’s size to be determined by the full viewport area, even if that will lead to it being overlapped by the UI, the large-viewport units are the way to go.  The units corresponding to this viewport type are <code>lvw</code>, <code>lvh</code>, <code>lvb</code>, <code>lvi</code>, <code>lvmin</code>, and <code>lvmax</code>.</p>&#13;
</dd>&#13;
<dt>Small</dt>&#13;
<dd>&#13;
<p>The smallest possible viewport after any user-agent interfaces are expanded to their fullest extent.  In this state, the browser’s chrome takes up as much screen space as it possibly can, leaving a minimum space for the page content.  If you want to be sure an element’s sizing will take into account any possible interface actions, use these units.  The units corresponding to this viewport type are <code>svw</code>, <code>svh</code>, <code>svb</code>, <code>svi</code>, <code>svmin</code>, and <code>svmax</code>.</p>&#13;
</dd>&#13;
<dt>Dynamic</dt>&#13;
<dd>&#13;
<p>The area in which content is visible, which can change as the UI expands or contracts.  As an example, consider how the browser interface can appear or disappear on mobile devices, depending on how the content is scrolled or where on the screen the user taps.  If you want to set lengths based on the size of the viewport at every moment, regardless of how it changes, these are the units for you.  The units corresponding to this viewport type are <code>dvw</code>, <code>dvh</code>, <code>dvb</code>, <code>dvi</code>, <code>dvmin</code>, and <code>dvmax</code>.</p>&#13;
</dd>&#13;
</dl>&#13;
&#13;
<p>As of late 2022, scrollbars (if any) are ignored for the purposes of calculating all of the previous units.  Thus, the calculated size of <code>svw</code> or <code>dvw</code> will <em>not</em> change if scrollbars appear or disappear, or at least shouldn’t.<a data-primary="" data-startref="ix_viewport_rel_unit" data-type="indexterm" id="idm45176112977408"/></p>&#13;
</div></section>&#13;
&#13;
&#13;
&#13;
&#13;
&#13;
&#13;
<section data-pdf-bookmark="Function Values" data-type="sect1"><div class="sect1" id="function_values">&#13;
<h1>Function Values</h1>&#13;
&#13;
<p>One of the <a data-primary="values" data-secondary="function" data-type="indexterm" id="ix_values_func"/><a data-primary="function values" data-type="indexterm" id="ix_func_values"/>more recent developments in CSS is an increase in the number of values that are effectively functions.  These values can range from doing math calculations to clamping value ranges to pulling values out of HTML attributes.  CSS has, in fact, a <em>lot</em> of these, listed here:</p>&#13;
&#13;
<ul class="threecolumn" id="function_values_list">&#13;
<li>&#13;
<p><code>abs()</code></p>&#13;
</li>&#13;
<li>&#13;
<p><code>acos()</code></p>&#13;
</li>&#13;
<li>&#13;
<p><code>annotation()</code></p>&#13;
</li>&#13;
<li>&#13;
<p><code>asin()</code></p>&#13;
</li>&#13;
<li>&#13;
<p><code>atan()</code></p>&#13;
</li>&#13;
<li>&#13;
<p><code>atan2()</code></p>&#13;
</li>&#13;
<li>&#13;
<p><code>attr()</code></p>&#13;
</li>&#13;
<li>&#13;
<p><code>blur()</code></p>&#13;
</li>&#13;
<li>&#13;
<p><code>brightness()</code></p>&#13;
</li>&#13;
<li>&#13;
<p><code>calc()</code></p>&#13;
</li>&#13;
<li>&#13;
<p><code>character-variant()</code></p>&#13;
</li>&#13;
<li>&#13;
<p><code>circle()</code></p>&#13;
</li>&#13;
<li>&#13;
<p><code>clamp()</code></p>&#13;
</li>&#13;
<li>&#13;
<p><code>color-contrast()</code></p>&#13;
</li>&#13;
<li>&#13;
<p><code>color-mix()</code></p>&#13;
</li>&#13;
<li>&#13;
<p><code>color()</code></p>&#13;
</li>&#13;
<li>&#13;
<p><code>conic-gradient()</code></p>&#13;
</li>&#13;
<li>&#13;
<p><code>contrast()</code></p>&#13;
</li>&#13;
<li>&#13;
<p><code>cos()</code></p>&#13;
</li>&#13;
<li>&#13;
<p><code>counter()</code></p>&#13;
</li>&#13;
<li>&#13;
<p><code>counters()</code></p>&#13;
</li>&#13;
<li>&#13;
<p><code>cross-fade()</code></p>&#13;
</li>&#13;
<li>&#13;
<p><code>device-cmyk()</code></p>&#13;
</li>&#13;
<li>&#13;
<p><code>drop-shadow()</code></p>&#13;
</li>&#13;
<li>&#13;
<p><code>element()</code></p>&#13;
</li>&#13;
<li>&#13;
<p><code>ellipse()</code></p>&#13;
</li>&#13;
<li>&#13;
<p><code>env()</code></p>&#13;
</li>&#13;
<li>&#13;
<p><code>exp()</code></p>&#13;
</li>&#13;
<li>&#13;
<p><code>fit-content()</code></p>&#13;
</li>&#13;
<li>&#13;
<p><code>grayscale()</code></p>&#13;
</li>&#13;
<li>&#13;
<p><code>hsl()</code></p>&#13;
</li>&#13;
<li>&#13;
<p><code>hsla()</code></p>&#13;
</li>&#13;
<li>&#13;
<p><code>hue-rotate()</code></p>&#13;
</li>&#13;
<li>&#13;
<p><code>hwb()</code></p>&#13;
</li>&#13;
<li>&#13;
<p><code>hypot()</code></p>&#13;
</li>&#13;
<li>&#13;
<p><code>image-set()</code></p>&#13;
</li>&#13;
<li>&#13;
<p><code>image()</code></p>&#13;
</li>&#13;
<li>&#13;
<p><code>inset()</code></p>&#13;
</li>&#13;
<li>&#13;
<p><code>invert()</code></p>&#13;
</li>&#13;
<li>&#13;
<p><code>lab()</code></p>&#13;
</li>&#13;
<li>&#13;
<p><code>lch()</code></p>&#13;
</li>&#13;
<li>&#13;
<p><code>linear-gradient()</code></p>&#13;
</li>&#13;
<li>&#13;
<p><code>log()</code></p>&#13;
</li>&#13;
<li>&#13;
<p><code>matrix()</code></p>&#13;
</li>&#13;
<li>&#13;
<p><code>matrix3d()</code></p>&#13;
</li>&#13;
<li>&#13;
<p><code>max()</code></p>&#13;
</li>&#13;
<li>&#13;
<p><code>min()</code></p>&#13;
</li>&#13;
<li>&#13;
<p><code>minmax()</code></p>&#13;
</li>&#13;
<li>&#13;
<p><code>mod()</code></p>&#13;
</li>&#13;
<li>&#13;
<p><code>oklab()</code></p>&#13;
</li>&#13;
<li>&#13;
<p><code>oklch()</code></p>&#13;
</li>&#13;
<li>&#13;
<p><code>opacity()</code></p>&#13;
</li>&#13;
<li>&#13;
<p><code>ornaments()</code></p>&#13;
</li>&#13;
<li>&#13;
<p><code>paint()</code></p>&#13;
</li>&#13;
<li>&#13;
<p><code>path()</code></p>&#13;
</li>&#13;
<li>&#13;
<p><code>perspective()</code></p>&#13;
</li>&#13;
<li>&#13;
<p><code>polygon()</code></p>&#13;
</li>&#13;
<li>&#13;
<p><code>pow()</code></p>&#13;
</li>&#13;
<li>&#13;
<p><code>radial-gradient()</code></p>&#13;
</li>&#13;
<li>&#13;
<p><code>rem()</code></p>&#13;
</li>&#13;
<li>&#13;
<p><code>repeat()</code></p>&#13;
</li>&#13;
<li>&#13;
<p><code>repeat-conic-gradiant()</code></p>&#13;
</li>&#13;
<li>&#13;
<p><code>repeating-linear-gradiant()</code></p>&#13;
</li>&#13;
<li>&#13;
<p><code>repeating-radial-gradient()</code></p>&#13;
</li>&#13;
<li>&#13;
<p><code>rgb()</code></p>&#13;
</li>&#13;
<li>&#13;
<p><code>rgba()</code></p>&#13;
</li>&#13;
<li>&#13;
<p><code>rotate()</code></p>&#13;
</li>&#13;
<li>&#13;
<p><code>rotate3d()</code></p>&#13;
</li>&#13;
<li>&#13;
<p><code>rotateX()</code></p>&#13;
</li>&#13;
<li>&#13;
<p><code>rotateY()</code></p>&#13;
</li>&#13;
<li>&#13;
<p><code>rotateZ()</code></p>&#13;
</li>&#13;
<li>&#13;
<p><code>round()</code></p>&#13;
</li>&#13;
<li>&#13;
<p><code>saturate()</code></p>&#13;
</li>&#13;
<li>&#13;
<p><code>scale()</code></p>&#13;
</li>&#13;
<li>&#13;
<p><code>scale3d()</code></p>&#13;
</li>&#13;
<li>&#13;
<p><code>scaleX()</code></p>&#13;
</li>&#13;
<li>&#13;
<p><code>scaleY()</code></p>&#13;
</li>&#13;
<li>&#13;
<p><code>scaleZ()</code></p>&#13;
</li>&#13;
<li>&#13;
<p><code>sepia()</code></p>&#13;
</li>&#13;
<li>&#13;
<p><code>sign()</code></p>&#13;
</li>&#13;
<li>&#13;
<p><code>sin()</code></p>&#13;
</li>&#13;
<li>&#13;
<p><code>skew()</code></p>&#13;
</li>&#13;
<li>&#13;
<p><code>skewX()</code></p>&#13;
</li>&#13;
<li>&#13;
<p><code>skewY()</code></p>&#13;
</li>&#13;
<li>&#13;
<p><code>sqrt()</code></p>&#13;
</li>&#13;
<li>&#13;
<p><code>styleset()</code></p>&#13;
</li>&#13;
<li>&#13;
<p><code>stylistic()</code></p>&#13;
</li>&#13;
<li>&#13;
<p><code>swash()</code></p>&#13;
</li>&#13;
<li>&#13;
<p><code>symbols()</code></p>&#13;
</li>&#13;
<li>&#13;
<p><code>tan()</code></p>&#13;
</li>&#13;
<li>&#13;
<p><code>translate()</code></p>&#13;
</li>&#13;
<li>&#13;
<p><code>translate3d()</code></p>&#13;
</li>&#13;
<li>&#13;
<p><code>translateX()</code></p>&#13;
</li>&#13;
<li>&#13;
<p><code>translateY()</code></p>&#13;
</li>&#13;
<li>&#13;
<p><code>translateZ()</code></p>&#13;
</li>&#13;
<li>&#13;
<p><code>url()</code></p>&#13;
</li>&#13;
<li>&#13;
<p><code>var()</code></p>&#13;
</li>&#13;
</ul>&#13;
&#13;
<p>That’s 97 different function values. We’ll cover some in the rest of this chapter.  The rest are covered in other chapters, as appropriate for their topics (e.g., the filter functions are described in <a data-type="xref" href="ch20.html#filters-compositing">Chapter 20</a>).</p>&#13;
&#13;
&#13;
&#13;
&#13;
&#13;
&#13;
&#13;
&#13;
<section data-pdf-bookmark="Calculation Values" data-type="sect2"><div class="sect2" id="calc">&#13;
<h2>Calculation Values</h2>&#13;
&#13;
<p>When you <a data-primary="calc() function" data-type="indexterm" id="idm45176112868144"/><a data-primary="mathematical expressions (calc() function)" data-type="indexterm" id="idm45176112867440"/>need to do a little math, CSS provides a <code>calc()</code> value. Inside the parentheses, you can construct simple mathematical expressions.  The permitted operators are <code>+</code> (addition), <code>-</code> (subtraction), <code>*</code> (multiplication), and <code>/</code> (division), as well as parentheses.  These follow the traditional precedence order of parentheses, exponents, multiplication, division, addition, and subtraction (PEMDAS), although in this case it’s really just PMDAS since exponents are not permitted in <code>calc()</code>.</p>&#13;
&#13;
<p>As an example, suppose you want your paragraphs to have a width that’s 2 em less than 90% the width of their parent element.  Here’s how you express that with <code>calc()</code>:</p>&#13;
&#13;
<pre data-code-language="css" data-type="programlisting"><code class="nt">p</code> <code class="p">{</code><code class="k">width</code><code class="o">:</code> <code class="n">calc</code><code class="p">(</code><code class="m">90%</code> <code class="o">-</code> <code class="m">2em</code><code class="p">);}</code></pre>&#13;
&#13;
<p>The <code>calc()</code> value can be used with any property that permits one of the following value types: &lt;<em><code>length</code></em>&gt;, &lt;<em><code>frequency</code></em>&gt;, &lt;<em><code>angle</code></em>&gt;, &lt;<em><code>time</code></em>&gt;, &lt;<em><code>percentage</code></em>&gt;, &lt;<em><code>number</code></em>&gt;, or &lt;<em><code>integer</code></em>&gt;.  You can also use all these unit types within a <code>calc()</code> value, though CSS has some limitations to keep in mind.</p>&#13;
&#13;
<p>The basic limitation is that <code>calc()</code> does basic type checking to make sure that units are, in effect, compatible.  The checking works like this:</p>&#13;
<ol>&#13;
<li>&#13;
<p>To either side of a <code>+</code> or <code>–</code> sign, both values must have the same unit type, or be a &lt;<em><code>number</code></em>&gt; and &lt;<em><code>integer</code></em>&gt; (in which case, the result is a &lt;<em><code>number</code></em>&gt;).  Thus, <code>5 + 2.7</code> is valid, and results in <code>7.7</code>.  On the other hand, <code>5em + 2.7</code> is invalid, because one side has a length unit and the other does not.  Note that <code>5em + 20px</code> <em>is</em> valid, because <code>em</code> and <code>px</code> are both length units.</p>&#13;
</li>&#13;
<li>&#13;
<p>Given a <code>*</code>, one of the values involved must be a &lt;<em><code>number</code></em>&gt; (which, remember, includes integer values).  So <code>2.5rem * 2</code> and <code>2 * 2.5rem</code> are both valid, and each results in <code>5rem</code>.  On the flip side, <code>2.5rem * 2rem</code> is <em>not</em> valid, because the result would be <code>5rem<sup>2</sup></code>, and length units cannot be area units.</p>&#13;
</li>&#13;
<li>&#13;
<p>Given a <code>/</code>, the value on the <em>right</em> side must be a &lt;<em><code>number</code></em>&gt;.  If the left side is an &lt;<em><code>integer</code></em>&gt;, the result is a &lt;<em><code>number</code></em>&gt;.  Otherwise, the result is of the unit type used on the left side.  This means that <code>30em / 2.75</code> is valid, but <code>30 / 2.75em</code> is not.</p>&#13;
</li>&#13;
<li>&#13;
<p>Furthermore, any circumstance that yields division by zero is invalid.  This is easiest to see in a case like <code>30px/0</code>, but there are other ways to get there.</p>&#13;
</li>&#13;
&#13;
</ol>&#13;
&#13;
<p>One more notable <a data-primary="whitespace" data-secondary="calc() function and" data-type="indexterm" id="idm45176112804176"/>limitation is that whitespace is <em>required</em> on both sides of the <code>+</code> and <code>-</code> operators, while it is not for <code>*</code> and <code>/</code>.  This was done to allow future development of <code>calc()</code> values to support keywords that contain hyphens (e.g., <code>max-content</code>).</p>&#13;
&#13;
<p>Furthermore, it’s valid (and supported) to nest <code>calc()</code> functions inside each other.  Thus you can say something like this:</p>&#13;
&#13;
<pre data-code-language="css" data-type="programlisting"><code class="nt">p</code> <code class="p">{</code><code class="k">width</code><code class="o">:</code> <code class="n">calc</code><code class="p">(</code><code class="m">90%</code> <code class="o">-</code> <code class="n">calc</code><code class="p">(</code><code class="m">1em</code> <code class="o">+</code> <code class="m">0.1vh</code><code class="p">));}</code></pre>&#13;
&#13;
<p>Beyond that, the CSS specification requires that user agents support a <em>minimum</em> of 20 terms inside any single <code>calc()</code> function, where a term is a number, percentage, or dimension (e.g., a length).  If the number of terms somehow exceeds the user agent’s term limits, the entire function is treated as invalid.</p>&#13;
</div></section>&#13;
&#13;
&#13;
&#13;
&#13;
&#13;
&#13;
&#13;
&#13;
<section data-pdf-bookmark="Maximum Values" data-type="sect2"><div class="sect2" id="maximum_values">&#13;
<h2>Maximum Values</h2>&#13;
&#13;
<p>Calculation is nice, but <a data-primary="maximum values, function" data-type="indexterm" id="idm45176112773520"/><a data-primary="min() function" data-type="indexterm" id="idm45176112772848"/>sometimes you just want to make sure a property is set to one of a number of values, whichever is smallest.  In those cases, the <code>min()</code> function value comes in very handy.  Yes, this is confusing at first, but give us a minute and hopefully it will make sense.</p>&#13;
&#13;
<p>Suppose you want to make sure that an element is never wider than a certain amount; say, an image should be one-quarter the width of the viewport or 200 pixels wide, whichever is <em>smaller</em>.  This allows it to be constrained to 200 pixels of width on wide viewports, but take up to a quarter the width of smaller viewports.  For that, you’d say the following:</p>&#13;
&#13;
<pre data-code-language="css" data-type="programlisting"><code class="nc">.figure</code> <code class="p">{</code><code class="k">width</code><code class="o">:</code> <code class="n">min</code><code class="p">(</code><code class="m">25vw</code><code class="o">,</code> <code class="m">200px</code><code class="p">);}</code></pre>&#13;
&#13;
<p>The browser will compute the width of <code>25vw</code> and compare that to <code>200px</code>, and use whichever is smaller.  If <code>200px</code> is smaller than 25% the width of the viewport, then <code>200px</code> will be used.  Otherwise, the element will be 25% as wide as the viewport, which could easily be smaller than <code>1em</code>.  Note that <em>smaller</em> in this case means closest to negative infinity, not closest to zero.  Thus, if you compare two terms that compute to (say) <code>-1500px</code> and <code>-2px</code>, <code>min()</code> will pick <code>-1500px</code>.</p>&#13;
&#13;
<p>You can nest <code>min()</code> inside <code>min()</code>, or throw a mathematical expression in there for one of the values, without having to wrap it in <code>calc()</code>.  For that matter, you can put in <code>max()</code> and <code>clamp()</code>, which we haven’t even discussed yet.  You can supply as many terms as you like: if you want to compare four ways of measuring something and then pick the minimum, just separate them with commas.  Here’s a slightly contrived example:</p>&#13;
&#13;
<pre data-code-language="css" data-type="programlisting"><code class="nc">.figure</code> <code class="p">{</code><code class="k">width</code><code class="o">:</code> <code class="n">min</code><code class="p">(</code><code class="m">25vw</code><code class="o">,</code> <code class="m">200px</code><code class="o">,</code> <code class="m">33%</code><code class="o">,</code> <code class="m">50rem</code> <code class="o">-</code> <code class="m">30px</code><code class="p">);}</code></pre>&#13;
&#13;
<p>Whichever of those values is computed to be the minimum (closest to negative infinity) will be used, thus defining a maximum for the <code>width</code> value.  The order you list them in doesn’t matter, since the minimum value will always be picked regardless of where it appears in the function.</p>&#13;
&#13;
<p>In general, <code>min()</code> can be used in any property value that permits &lt;<em><code>length</code></em>&gt;, &lt;<em><code>frequency</code></em>&gt;, &lt;<em><code>angle</code></em>&gt;, &lt;<em><code>time</code></em>&gt;, &lt;<em><code>percentage</code></em>&gt;, &lt;<em><code>number</code></em>&gt;, or &lt;<em><code>integer</code></em>&gt;.</p>&#13;
<div data-type="warning" epub:type="warning"><h6>Warning</h6>&#13;
<p>Remember that setting a maximum value on font sizes is an accessibility concern.  You should <em>never</em> set a maximum font size using pixels, because that would likely prevent text zooming by users.  You probably shouldn’t use <code>min()</code> for font sizing in any case, but if you do, keep <code>px</code> lengths out of the values!</p>&#13;
</div>&#13;
</div></section>&#13;
&#13;
&#13;
&#13;
&#13;
&#13;
&#13;
&#13;
&#13;
<section data-pdf-bookmark="Minimum Values" data-type="sect2"><div class="sect2" id="minimum_values">&#13;
<h2>Minimum Values</h2>&#13;
&#13;
<p>The <a data-primary="minimum values, function" data-type="indexterm" id="idm45176112667536"/><a data-primary="max() function" data-type="indexterm" id="idm45176112666928"/>mirror image of <code>min()</code> is <code>max()</code>, which can be used to set a minimum value for a property.  It can appear in the same places and can be nested in the same ways as <code>min()</code>, and is generally just the same except that it picks the largest (closest to positive infinity) value from among the alternatives given.</p>&#13;
&#13;
<p>As an example, perhaps the top of a page’s design should be a minimum of 100 pixels tall, but it can be taller if conditions permit.  In that case, you could use something like this:</p>&#13;
&#13;
<pre data-code-language="css" data-type="programlisting"><code class="nt">header</code> <code class="p">{</code><code class="k">height</code><code class="o">:</code> <code class="n">max</code><code class="p">(</code><code class="m">100px</code><code class="o">,</code> <code class="m">15vh</code><code class="o">,</code> <code class="m">5rem</code><code class="p">);}</code></pre>&#13;
&#13;
<p>Whichever of the values is largest will be used.  For a desktop browser window, that would probably be <code>15vh</code>, unless the base size text is really enormous.  For a handheld display, it’s more likely that <code>5rem</code> or <code>100px</code> will be the largest value.  In effect, this sets a minimum size of 100 pixels tall, since getting either <code>15vh</code> or <code>5rem</code> below that value is easily possible.</p>&#13;
&#13;
<p>Remember that setting even a minimum value on font sizes can create an accessibility problem, since a too-small minimum is still too small.  A good way to handle this is to always include <code>1rem</code> in your <code>max()</code> expressions for font sizes.  Use something like this:</p>&#13;
&#13;
<pre data-code-language="css" data-type="programlisting"><code class="nc">.sosumi</code> <code class="p">{</code><code class="k">font-size</code><code class="o">:</code> <code class="n">max</code><code class="p">(</code><code class="m">1vh</code><code class="o">,</code> <code class="m">0.75em</code><code class="o">,</code> <code class="m">1rem</code><code class="p">);}</code></pre>&#13;
&#13;
<p>Alternatively, you could not use <code>max()</code> for font sizing at all.  It’s probably best left to box sizing and other such uses.</p>&#13;
</div></section>&#13;
&#13;
&#13;
&#13;
&#13;
&#13;
&#13;
&#13;
&#13;
<section data-pdf-bookmark="Clamping Values" data-type="sect2"><div class="sect2" id="clamping_values">&#13;
<h2>Clamping Values</h2>&#13;
&#13;
<p>If you’ve <a data-primary="clamping values, functions" data-type="indexterm" id="idm45176112636160"/>already been thinking about ways to nest <code>min()</code> and <code>max()</code> to set upper and lower bounds on a value, there’s a way to not only do that, but set an “ideal” value as well: <code>clamp()</code>.  This function value takes three parameters representing, in order, the minimum allowed value, preferred value, and maximum allowed value.</p>&#13;
&#13;
<p>For example, consider some text you want to be about 5% the height of the viewport, while keeping its minimum the base font size and its maximum three times the text around it.  That would be expressed like so:</p>&#13;
&#13;
<pre data-code-language="css" data-type="programlisting"><code class="nt">footer</code> <code class="p">{</code><code class="k">font-size</code><code class="o">:</code> <code class="n">clamp</code><code class="p">(</code><code class="m">1rem</code><code class="o">,</code> <code class="m">2vh</code><code class="o">,</code> <code class="m">3em</code><code class="p">);}</code></pre>&#13;
&#13;
<p>Given those styles and assuming the base font size is 16 pixels, as it is by default in most browsers, then the footer text will be equal to the base font size up to a viewport height of 800 pixels (16 divided by 0.02).  If the viewport gets taller, the text will start to get bigger, unless doing so would make it bigger than <code>3em</code>.  If the text ever gets to the same size as <code>3em</code>, it will stop growing.  (This is fairly unlikely, but one never knows.)</p>&#13;
&#13;
<p>If the maximum value of a <code>clamp()</code> is ever computed to be smaller than the minimum value, the maximum is ignored and the minimum value is used instead.</p>&#13;
&#13;
<p>You can use <code>clamp()</code> anywhere you can use <code>min()</code> and <code>max()</code>, including nesting them inside each other.  For example:</p>&#13;
&#13;
<pre data-code-language="css" data-type="programlisting"><code class="nt">footer</code> <code class="p">{</code><code class="k">font-size</code><code class="o">:</code> <code class="n">clamp</code><code class="p">(</code><code class="m">1rem</code><code class="o">,</code> <code class="n">max</code><code class="p">(</code><code class="m">2vh</code><code class="o">,</code> <code class="m">1.5em</code><code class="p">)</code><code class="o">,</code> <code class="m">3em</code><code class="p">);}</code></pre>&#13;
&#13;
<p>This is basically the same as the previous example, except in this case the preferred value is either 2% the height of the viewport or 1.5 times the size of the parent element’s text, whichever is larger.</p>&#13;
</div></section>&#13;
&#13;
&#13;
&#13;
&#13;
&#13;
&#13;
&#13;
&#13;
<section data-pdf-bookmark="Attribute Values" data-type="sect2"><div class="sect2" id="attribute_values">&#13;
<h2>Attribute Values</h2>&#13;
&#13;
<p>In a few <a data-primary="attr() expression" data-type="indexterm" id="idm45176112521568"/><a data-primary="attributes" data-secondary="function values" data-type="indexterm" id="idm45176112520832"/><a data-primary="attributes" data-secondary="pulling in values from HTML" data-type="indexterm" id="idm45176112519888"/>CSS properties, it’s possible to pull in the value of an HTML attribute defined for the element being styled.  You do this with the <code>attr()</code> function.</p>&#13;
&#13;
<p>For example, with generated content, you can insert the value of any attribute.  It looks something like this (don’t worry about understanding the exact syntax, which we’ll explore in <a data-type="xref" href="ch16.html#lists-and-generated-content">Chapter 16</a>):</p>&#13;
&#13;
<pre data-code-language="css" data-type="programlisting"><code class="nt">p</code><code class="nd">::before</code> <code class="p">{</code><code class="k">content</code><code class="o">:</code> <code class="s2">"["</code> <code class="n">attr</code><code class="p">(</code><code class="n">id</code><code class="p">)</code> <code class="s2">"]"</code><code class="p">;}</code></pre>&#13;
&#13;
<p>That expression would prefix any paragraph that has an <code>id</code> attribute with the value of that <code>id</code>, enclosed in square brackets.  Therefore, applying the previous style to the following paragraphs would have the result shown in <a data-type="xref" href="#inserting_attribute_values">Figure 5-8</a>:</p>&#13;
&#13;
<pre data-code-language="html" data-type="programlisting"><code class="p">&lt;</code><code class="nt">p</code> <code class="na">id</code><code class="o">=</code><code class="s">"leadoff"</code><code class="p">&gt;</code>This is the first paragraph.<code class="p">&lt;/</code><code class="nt">p</code><code class="p">&gt;</code>&#13;
<code class="p">&lt;</code><code class="nt">p</code><code class="p">&gt;</code>This is the second paragraph.<code class="p">&lt;/</code><code class="nt">p</code><code class="p">&gt;</code>&#13;
<code class="p">&lt;</code><code class="nt">p</code> <code class="na">id</code><code class="o">=</code><code class="s">"conclusion"</code><code class="p">&gt;</code>This is the third paragraph.<code class="p">&lt;/</code><code class="nt">p</code><code class="p">&gt;</code></pre>&#13;
&#13;
<figure class="coderesult"><div class="figure" id="inserting_attribute_values">&#13;
<img alt="css5 0508" src="assets/css5_0508.png"/>&#13;
<h6><span class="label">Figure 5-8. </span>Inserting attribute values</h6>&#13;
</div></figure>&#13;
&#13;
<p>While <code>attr()</code> is supported in the <code>content</code> property value, it isn’t parsed. In other words, if the <code>attr()</code> returns an image URL from an attribute value, the generated content will be the URL written out as text, and not the image that lives at that URL.  This  is true as of late 2022, anyway; there are plans for changes such that <code>attr()</code> can be parsed (and also be used for all properties, not just <code>content</code>).<a data-primary="" data-startref="ix_func_values" data-type="indexterm" id="idm45176112435200"/><a data-primary="" data-startref="ix_values_func" data-type="indexterm" id="idm45176112434192"/></p>&#13;
</div></section>&#13;
</div></section>&#13;
&#13;
&#13;
&#13;
&#13;
&#13;
&#13;
<section data-pdf-bookmark="Color" data-type="sect1"><div class="sect1" id="color">&#13;
<h1>Color</h1>&#13;
&#13;
<p>One of the first <a data-primary="color values" data-type="indexterm" id="ix_color_values_ch5"/><a data-primary="colors" data-seealso="gradients" data-type="indexterm" id="idm45176112430400"/>questions every starting web author asks is, “How do I set colors on my page?” Under HTML, you have two choices: you could use one of a large but limited number of colors with names, such as <code>red</code> or <code>purple</code>, or employ a vaguely cryptic method using hexadecimal codes. Both methods for describing colors remain in CSS, along with several—and, we think, more intuitive—methods.</p>&#13;
&#13;
&#13;
&#13;
&#13;
&#13;
&#13;
&#13;
&#13;
<section data-pdf-bookmark="Named Colors" data-type="sect2"><div class="sect2" id="named_colors">&#13;
<h2>Named Colors</h2>&#13;
&#13;
<p>Over the <a data-primary="color property" data-type="indexterm" id="ix_color_prop"/><a data-primary="color values" data-secondary="named colors" data-type="indexterm" id="idm45176112425168"/>years, CSS has added a set of 148 colors that are identified by human-readable names like <code>red</code> or <code>firebrickred</code>.  CSS calls these, logically enough, <em>named colors</em>. In the early days, CSS used only the 16 basic color keywords defined in HTML 4.01:</p>&#13;
&#13;
<ul class="threecolumn" id="the_basic_16_color_keywords">&#13;
<li>&#13;
<p><code>aqua</code></p>&#13;
</li>&#13;
<li>&#13;
<p><code>gray</code></p>&#13;
</li>&#13;
<li>&#13;
<p><code>navy</code></p>&#13;
</li>&#13;
<li>&#13;
<p><code>silver</code></p>&#13;
</li>&#13;
<li>&#13;
<p><code>black</code></p>&#13;
</li>&#13;
<li>&#13;
<p><code>green</code></p>&#13;
</li>&#13;
<li>&#13;
<p><code>olive</code></p>&#13;
</li>&#13;
<li>&#13;
<p><code>teal</code></p>&#13;
</li>&#13;
<li>&#13;
<p><code>blue</code></p>&#13;
</li>&#13;
<li>&#13;
<p><code>lime</code></p>&#13;
</li>&#13;
<li>&#13;
<p><code>purple</code></p>&#13;
</li>&#13;
<li>&#13;
<p><code>white</code></p>&#13;
</li>&#13;
<li>&#13;
<p><code>fuchsia</code></p>&#13;
</li>&#13;
<li>&#13;
<p><code>maroon</code></p>&#13;
</li>&#13;
<li>&#13;
<p><code>red</code></p>&#13;
</li>&#13;
<li>&#13;
<p><code>yellow</code></p>&#13;
</li>&#13;
</ul>&#13;
&#13;
<p>So, let’s say you want all first-level headings to be maroon. The best declaration would be as follows:</p>&#13;
&#13;
<pre data-code-language="css" data-type="programlisting"><code class="nt">h1</code> <code class="p">{</code><code class="k">color</code><code class="o">:</code> <code class="nb">maroon</code><code class="p">;}</code></pre>&#13;
&#13;
<p>Simple enough, isn’t it? <a data-type="xref" href="#naming_colors">Figure 5-9</a> shows a few more examples:</p>&#13;
&#13;
<pre data-code-language="css" data-type="programlisting"><code class="nt">h1</code> <code class="p">{</code><code class="k">color</code><code class="o">:</code> <code class="nb">silver</code><code class="p">;}</code>&#13;
<code class="nt">h2</code> <code class="p">{</code><code class="k">color</code><code class="o">:</code> <code class="nb">gray</code><code class="p">;}</code>&#13;
<code class="nt">h3</code> <code class="p">{</code><code class="k">color</code><code class="o">:</code> <code class="nb">black</code><code class="p">;}</code></pre>&#13;
&#13;
<figure class="coderesult"><div class="figure" id="naming_colors">&#13;
<img alt="css5 0509" src="assets/css5_0509.png"/>&#13;
<h6><span class="label">Figure 5-9. </span>Named colors</h6>&#13;
</div></figure>&#13;
&#13;
<p>You’ve probably seen (and maybe even used) color names other than the ones listed earlier. For example, you could say</p>&#13;
&#13;
<pre data-code-language="css" data-type="programlisting"><code class="nt">h1</code> <code class="p">{</code><code class="k">color</code><code class="o">:</code> <code class="nb">lightgreen</code><code class="p">;}</code></pre>&#13;
&#13;
<p>and get a light-green (but not exactly lime) color applied to <code>&lt;h1&gt;</code> elements.</p>&#13;
&#13;
<p>The CSS color specification includes those original 16 named colors in a longer list of 148 color keywords. This extended list is based on the standard X11 RGB values that have been in use for decades and recognized by browsers for many years, with the addition of some color names from SVG (mostly involving variants of “gray” and “grey”) and a memorial color.</p>&#13;
</div></section>&#13;
&#13;
&#13;
&#13;
&#13;
&#13;
&#13;
&#13;
&#13;
<section data-pdf-bookmark="Color Keywords" data-type="sect2"><div class="sect2" id="color_keywords">&#13;
<h2>Color Keywords</h2>&#13;
&#13;
<p>CSS has two special <a data-primary="transparent keyword" data-type="indexterm" id="idm45176112298448"/><a data-primary="currentcolor keyword" data-type="indexterm" id="idm45176112295408"/><a data-primary="color values" data-secondary="keywords" data-type="indexterm" id="idm45176112294736"/>keywords that can be used anywhere a color value is permitted: <code>transparent</code> and <code>currentcolor</code>.</p>&#13;
&#13;
<p>As its name suggests, <code>transparent</code> defines a completely transparent color.  The CSS Color Module defines it to be equivalent to <code>rgb(0 0 0 / 0%)</code>, and that’s its computed value.  This keyword is not often used to set text color, for example, but it is the default value for element background colors.  It can also be used to define element borders that take up space but are not visible, and is often used when defining gradients—​all topics we’ll cover in later chapters.</p>&#13;
&#13;
<p>By contrast, <code>currentcolor</code> means “whatever the computed value of <code>color</code> is for this element.”  Consider the following:</p>&#13;
&#13;
<pre data-code-language="css" data-type="programlisting"><code class="nt">main</code> <code class="p">{</code><code class="k">color</code><code class="o">:</code> <code class="nb">gray</code><code class="p">;</code> <code class="k">border-color</code><code class="o">:</code> <code class="n">currentcolor</code><code class="p">;}</code></pre>&#13;
&#13;
<p>The first <a data-primary="colors" data-secondary="foreground" data-type="indexterm" id="idm45176112266480"/><a data-primary="foreground colors" data-type="indexterm" id="idm45176112265216"/>declaration causes any <code>&lt;main&gt;</code> elements to have a foreground color of <code>gray</code>.  The second declaration uses <code>currentcolor</code> to copy the computed value of <code>color</code>—in this case <code>gray</code>—and apply it to any borders the <code>&lt;main&gt;</code> elements might have. Incidentally, <code>currentcolor</code> is actually the default value for <code>border-color</code>, which we’ll cover in <a data-type="xref" href="ch07.html#padding-borders-outlines-and-margins">Chapter 7</a>.</p>&#13;
&#13;
<p>As with all the named colors, these color names are case-insensitive. We show <code>currentcolor</code> with mixed capitalization because it is generally written that way for legibility.</p>&#13;
&#13;
<p>Fortunately, CSS has more detailed and precise ways to specify colors. The advantage is that, with these methods, you can specify any color in the color spectrum, not just a limited list of named colors.<a data-primary="" data-startref="ix_color_prop" data-type="indexterm" id="idm45176112244800"/></p>&#13;
</div></section>&#13;
&#13;
&#13;
&#13;
&#13;
&#13;
&#13;
&#13;
&#13;
<section data-pdf-bookmark="Colors by RGB and RGBa" data-type="sect2"><div class="sect2" id="colors_by_rgb_and_rgba">&#13;
<h2>Colors by RGB and RGBa</h2>&#13;
&#13;
<p>Computers <a data-primary="RGB colors" data-type="indexterm" id="ix_rgb_colors"/><a data-primary="color values" data-secondary="RGB colors" data-type="indexterm" id="ix_color_values_rgb"/>create colors by combining different levels of the primary colors red, green, and blue—a combination often referred to as <em>RGB color</em>. So, it makes sense that you should be able to specify your own combinations of these primary colors in CSS. That solution is a bit complex, but possible, and the payoffs are worth it because CSS has very few limits on which colors you can produce. You can produce color in this manner in four ways, detailed in this section.</p>&#13;
&#13;
&#13;
&#13;
&#13;
&#13;
&#13;
&#13;
&#13;
&#13;
&#13;
<section data-pdf-bookmark="Functional RGB colors" data-type="sect3"><div class="sect3" id="functional_rgb_colors">&#13;
<h3>Functional RGB colors</h3>&#13;
&#13;
<p>Two color value types use <em>functional RGB notation</em> as opposed to hexadecimal notation. The generic syntax for this type of color value is <code>rgb(<em><code>color</code></em>)</code>, where <em><code>color</code></em> is expressed using a triplet of either percentages or numbers. The percentage values can be in the range <code>0%</code>–<code>100%</code>, and the integers can be in the range <code>0</code>–<code>255</code>.</p>&#13;
&#13;
<p>Thus, to specify white and black, respectively, using percentage notation, the values would be as follows:</p>&#13;
&#13;
<pre data-code-language="css" data-type="programlisting"><code class="nb">rgb</code><code class="p">(</code><code class="m">100%</code><code class="o">,</code><code class="m">100%</code><code class="o">,</code><code class="m">100%</code><code class="p">)</code>&#13;
<code class="nb">rgb</code><code class="p">(</code><code class="m">0%</code><code class="o">,</code><code class="m">0%</code><code class="o">,</code><code class="m">0%</code><code class="p">)</code></pre>&#13;
&#13;
<p>Using the integer-triplet notation, the same colors would be represented as follows:</p>&#13;
&#13;
<pre data-code-language="css" data-type="programlisting"><code class="nb">rgb</code><code class="p">(</code><code class="m">255</code><code class="o">,</code><code class="m">255</code><code class="o">,</code><code class="m">255</code><code class="p">)</code>&#13;
<code class="nb">rgb</code><code class="p">(</code><code class="m">0</code><code class="o">,</code><code class="m">0</code><code class="o">,</code><code class="m">0</code><code class="p">)</code></pre>&#13;
&#13;
<p>An important thing to remember is that you can’t mix integers and percentages in the same color value.  Thus, <code>rgb(255,66.67%,50%)</code> would be invalid and thus ignored.</p>&#13;
<div data-type="note" epub:type="note"><h6>Note</h6>&#13;
<p>In more recent browsers, the separating commas in RGB values can be replaced with simple whitespace. Thus, black can be represented as <code>rgb(0 0 0)</code> or <code>rgb(0% 0% 0%)</code>. This is true of all the color values that allow commas that we’ll see throughout the chapter. Bear in mind that some of the newer color functions do not allow commas.</p>&#13;
</div>&#13;
&#13;
<p>Assume you want your <code>&lt;h1&gt;</code> elements to be a shade of red that lies between the values for red and maroon. The <code>red</code> value is equivalent to <code>rgb(100%,0%,0%)</code>, whereas <code>maroon</code> is equal to <code>(50%,0%,0%)</code>. To get a color between those two, you might try this:</p>&#13;
&#13;
<pre data-code-language="css" data-type="programlisting"><code class="nt">h1</code> <code class="p">{</code><code class="k">color</code><code class="o">:</code> <code class="nb">rgb</code><code class="p">(</code><code class="m">75%</code><code class="o">,</code><code class="m">0%</code><code class="o">,</code><code class="m">0%</code><code class="p">);}</code></pre>&#13;
&#13;
<p>This makes the red component of the color lighter than <code>maroon</code>, but darker than <code>red</code>. If, on the other hand, you want to create a pale-red color, you would raise the green and blue levels:</p>&#13;
&#13;
<pre data-code-language="css" data-type="programlisting"><code class="nt">h1</code> <code class="p">{</code><code class="k">color</code><code class="o">:</code> <code class="nb">rgb</code><code class="p">(</code><code class="m">75%</code><code class="o">,</code><code class="m">50%</code><code class="o">,</code><code class="m">50%</code><code class="p">);}</code></pre>&#13;
&#13;
<p>The closest equivalent color using integer-triplet notation is shown here:</p>&#13;
&#13;
<pre data-code-language="css" data-type="programlisting"><code class="nt">h1</code> <code class="p">{</code><code class="k">color</code><code class="o">:</code> <code class="nb">rgb</code><code class="p">(</code><code class="m">191</code><code class="o">,</code><code class="m">127</code><code class="o">,</code><code class="m">127</code><code class="p">);}</code></pre>&#13;
&#13;
<p>The easiest way to visualize how these values correspond to color is to create a table of gray values. The result is shown in <a data-type="xref" href="#text_set_in_shades_of_gray">Figure 5-10</a>:</p>&#13;
&#13;
<pre data-code-language="css" data-type="programlisting"><code class="nt">p</code><code class="nc">.one</code> <code class="p">{</code><code class="k">color</code><code class="o">:</code> <code class="nb">rgb</code><code class="p">(</code><code class="m">0%</code><code class="o">,</code><code class="m">0%</code><code class="o">,</code><code class="m">0%</code><code class="p">);}</code>&#13;
<code class="nt">p</code><code class="nc">.two</code> <code class="p">{</code><code class="k">color</code><code class="o">:</code> <code class="nb">rgb</code><code class="p">(</code><code class="m">20%</code><code class="o">,</code><code class="m">20%</code><code class="o">,</code><code class="m">20%</code><code class="p">);}</code>&#13;
<code class="nt">p</code><code class="nc">.three</code> <code class="p">{</code><code class="k">color</code><code class="o">:</code> <code class="nb">rgb</code><code class="p">(</code><code class="m">40%</code><code class="o">,</code><code class="m">40%</code><code class="o">,</code><code class="m">40%</code><code class="p">);}</code>&#13;
<code class="nt">p</code><code class="nc">.four</code> <code class="p">{</code><code class="k">color</code><code class="o">:</code> <code class="nb">rgb</code><code class="p">(</code><code class="m">60%</code><code class="o">,</code><code class="m">60%</code><code class="o">,</code><code class="m">60%</code><code class="p">);}</code>&#13;
<code class="nt">p</code><code class="nc">.five</code> <code class="p">{</code><code class="k">color</code><code class="o">:</code> <code class="nb">rgb</code><code class="p">(</code><code class="m">80%</code><code class="o">,</code><code class="m">80%</code><code class="o">,</code><code class="m">80%</code><code class="p">);}</code>&#13;
<code class="nt">p</code><code class="nc">.six</code> <code class="p">{</code><code class="k">color</code><code class="o">:</code> <code class="nb">rgb</code><code class="p">(</code><code class="m">0</code><code class="o">,</code><code class="m">0</code><code class="o">,</code><code class="m">0</code><code class="p">);}</code>&#13;
<code class="nt">p</code><code class="nc">.seven</code> <code class="p">{</code><code class="k">color</code><code class="o">:</code> <code class="nb">rgb</code><code class="p">(</code><code class="m">51</code><code class="o">,</code><code class="m">51</code><code class="o">,</code><code class="m">51</code><code class="p">);}</code>&#13;
<code class="nt">p</code><code class="nc">.eight</code> <code class="p">{</code><code class="k">color</code><code class="o">:</code> <code class="nb">rgb</code><code class="p">(</code><code class="m">102</code><code class="o">,</code><code class="m">102</code><code class="o">,</code><code class="m">102</code><code class="p">);}</code>&#13;
<code class="nt">p</code><code class="nc">.nine</code> <code class="p">{</code><code class="k">color</code><code class="o">:</code> <code class="nb">rgb</code><code class="p">(</code><code class="m">153</code><code class="o">,</code><code class="m">153</code><code class="o">,</code><code class="m">153</code><code class="p">);}</code>&#13;
<code class="nt">p</code><code class="nc">.ten</code> <code class="p">{</code><code class="k">color</code><code class="o">:</code> <code class="nb">rgb</code><code class="p">(</code><code class="m">204</code><code class="o">,</code><code class="m">204</code><code class="o">,</code><code class="m">204</code><code class="p">);}</code></pre>&#13;
&#13;
<figure class="coderesult"><div class="figure" id="text_set_in_shades_of_gray">&#13;
<img alt="css5 0510" src="assets/css5_0510.png"/>&#13;
<h6><span class="label">Figure 5-10. </span>Text set in shades of gray</h6>&#13;
</div></figure>&#13;
&#13;
<p>Since we’re dealing in shades of gray, all three RGB values are the same in each statement. If any one were different from the others, a color hue would start to emerge. If, for example, <code>rgb(50%,50%,50%)</code> were modified to be <code>rgb(50%,50%,60%)</code>, the result would be a medium-dark color with just a hint of blue.</p>&#13;
&#13;
<p>You can use fractional numbers in percentage notation. You might, for some reason, want to specify that a color be exactly 25.5% red, 40% green, and 98.6% blue:</p>&#13;
&#13;
<pre data-code-language="css" data-type="programlisting"><code class="nt">h2</code> <code class="p">{</code><code class="k">color</code><code class="o">:</code> <code class="nb">rgb</code><code class="p">(</code><code class="m">25.5%</code><code class="o">,</code><code class="m">40%</code><code class="o">,</code><code class="m">98.6%</code><code class="p">);}</code></pre>&#13;
&#13;
<p>Values that fall outside the allowed range for each notation are <em>clipped</em> to the nearest range edge, meaning that a value that is greater than <code>100%</code> or less than <code>0%</code> will default to those allowed extremes. Thus, the following declarations would be treated as if they were the values indicated in the comments:</p>&#13;
&#13;
<pre data-code-language="css" data-type="programlisting"><code class="nt">P</code><code class="nc">.one</code> <code class="p">{</code><code class="k">color</code><code class="o">:</code> <code class="nb">rgb</code><code class="p">(</code><code class="m">300%</code><code class="o">,</code><code class="m">4200%</code><code class="o">,</code><code class="m">110%</code><code class="p">);}</code>   <code class="c">/*  100%,100%,100%  */</code>&#13;
<code class="nt">P</code><code class="nc">.two</code> <code class="p">{</code><code class="k">color</code><code class="o">:</code> <code class="nb">rgb</code><code class="p">(</code><code class="m">0%</code><code class="o">,-</code><code class="m">40%</code><code class="o">,-</code><code class="m">5000%</code><code class="p">);}</code>   <code class="c">/*  0%,0%,0%  */</code>&#13;
<code class="nt">p</code><code class="nc">.three</code> <code class="p">{</code><code class="k">color</code><code class="o">:</code> <code class="nb">rgb</code><code class="p">(</code><code class="m">42</code><code class="o">,</code><code class="m">444</code><code class="o">,-</code><code class="m">13</code><code class="p">);}</code>    <code class="c">/* 42,255,0  */</code></pre>&#13;
&#13;
<p>Conversion between percentages and integers may seem arbitrary, but there’s no need to guess at the integer you want—there’s a simple formula for calculating them. If you know the percentages for each of the RGB levels you want, you need only apply them to the number 255 to get the resulting values. Let’s say you have a color of 25% red, 37.5% green, and 60% blue. Multiply each of these percentages by 255, and you get 63.75, 95.625, and 153. Round these values to the nearest integers, and voilà: <code>rgb(64,96,153)</code>.</p>&#13;
&#13;
<p>If you already know the percentage values, there isn’t much point in converting them into integers. Integer notation is more useful for people who use programs such as Adobe Photoshop, which can display integer values in the Info dialog, or for those who are so familiar with the technical details of color generation that they normally think in values &#13;
<span class="keep-together">of 0–255</span>.<a data-primary="" data-startref="ix_color_values_rgb" data-type="indexterm" id="idm45176111767984"/><a data-primary="" data-startref="ix_rgb_colors" data-type="indexterm" id="idm45176111766976"/></p>&#13;
</div></section>&#13;
&#13;
&#13;
&#13;
&#13;
&#13;
&#13;
&#13;
&#13;
&#13;
&#13;
<section data-pdf-bookmark="RGBa colors" data-type="sect3"><div class="sect3" id="rgba_colors">&#13;
<h3>RGBa colors</h3>&#13;
&#13;
<p>RGB <a data-primary="color values" data-secondary="RGBa" data-type="indexterm" id="idm45176111742016"/><a data-primary="RGBa colors" data-type="indexterm" id="idm45176111741168"/>notations can include a fourth parameter defining the alphatransparency value. By adding an alpha value at the end of the RGB triplet, <code>rgb()</code> accepts a&#13;
red-green-blue-alpha, or RGBa, value, with the alpha value being a measurent of opacity.</p>&#13;
&#13;
<p>While the <code>rgb()</code> notation allows for three or four values, the alpha value must be present in the legacy <code>rgba()</code> function to be valid.</p>&#13;
&#13;
<p>For example, suppose you want an element’s text to be half-opaque white. That way, any background color behind the text would “shine through,” mixing with the half-transparent white. You could write one of the following two values:</p>&#13;
&#13;
<pre data-code-language="css" data-type="programlisting"><code class="nb">rgb</code><code class="p">(</code><code class="m">255</code> <code class="m">255</code> <code class="m">255</code> <code class="o">/</code> <code class="m">0</code><code class="o">.</code><code class="m">5</code><code class="p">)</code>&#13;
<code class="n">rgba</code><code class="p">(</code><code class="m">100%</code> <code class="m">100%</code> <code class="m">100%</code> <code class="o">/</code> <code class="m">0</code><code class="o">.</code><code class="m">5</code><code class="p">)</code>  <code class="c">/* commas would also be allowed */</code></pre>&#13;
&#13;
<p>To make a color completely transparent, you set the alpha value to <code>0</code>; to be completely opaque, the correct value is <code>1</code>. Thus <code>rgb(0,0,0)</code> and <code>rgba(0,0,0,1)</code> will yield precisely the same result (black). <a data-type="xref" href="#text_set_in_progressive_translucency">Figure 5-11</a> shows a series of paragraphs set in increasingly transparent black, which is the result of the following rules:</p>&#13;
&#13;
<pre data-code-language="css" data-type="programlisting"><code class="nt">p</code><code class="nc">.one</code> <code class="p">{</code><code class="k">color</code><code class="o">:</code> <code class="nb">rgb</code><code class="p">(</code><code class="m">0</code><code class="o">,</code><code class="m">0</code><code class="o">,</code><code class="m">0</code><code class="o">,</code><code class="m">1</code><code class="p">);}</code>&#13;
<code class="nt">p</code><code class="nc">.two</code> <code class="p">{</code><code class="k">color</code><code class="o">:</code> <code class="n">rgba</code><code class="p">(</code><code class="m">0%</code><code class="o">,</code><code class="m">0%</code><code class="o">,</code><code class="m">0%</code><code class="o">,</code><code class="m">0</code><code class="o">.</code><code class="m">8</code><code class="p">);}</code>&#13;
<code class="nt">p</code><code class="nc">.three</code> <code class="p">{</code><code class="k">color</code><code class="o">:</code> <code class="nb">rgb</code><code class="p">(</code><code class="m">0</code> <code class="m">0</code> <code class="m">0</code> <code class="o">/</code> <code class="m">0</code><code class="o">.</code><code class="m">6</code><code class="p">);}</code>&#13;
<code class="nt">p</code><code class="nc">.four</code> <code class="p">{</code><code class="k">color</code><code class="o">:</code> <code class="n">rgba</code><code class="p">(</code><code class="m">0%</code> <code class="m">0%</code> <code class="m">0%</code> <code class="o">/</code> <code class="m">0</code><code class="o">.</code><code class="m">4</code><code class="p">);}</code>&#13;
<code class="nt">p</code><code class="nc">.five</code> <code class="p">{</code><code class="k">color</code><code class="o">:</code> <code class="nb">rgb</code><code class="p">(</code><code class="m">0</code><code class="o">,</code><code class="m">0</code><code class="o">,</code><code class="m">0</code><code class="o">,</code><code class="m">0</code><code class="o">.</code><code class="m">2</code><code class="p">);}</code></pre>&#13;
&#13;
<figure class="coderesult"><div class="figure" id="text_set_in_progressive_translucency">&#13;
<img alt="css5 0512" src="assets/css5_0512.png"/>&#13;
<h6><span class="label">Figure 5-11. </span>Text set in progressive translucency</h6>&#13;
</div></figure>&#13;
&#13;
<p>Alpha values are always real numbers in the range <code>0</code> to <code>1</code>, or percentages in the range <code>0%</code> to <code>100%</code>. Any value outside that range will either be ignored or reset to the nearest valid alpha value.</p>&#13;
</div></section>&#13;
&#13;
&#13;
&#13;
&#13;
&#13;
&#13;
&#13;
&#13;
&#13;
&#13;
<section data-pdf-bookmark="Hexadecimal RGB colors" data-type="sect3"><div class="sect3" id="hexadecimal_rgb_colors">&#13;
<h3>Hexadecimal RGB colors</h3>&#13;
&#13;
<p>CSS <a data-primary="color values" data-secondary="hexadecimal RGB colors" data-type="indexterm" id="idm45176111562992"/><a data-primary="hexadecimal RGB colors" data-type="indexterm" id="idm45176111561984"/>allows you to define a color using the same <em>hexadecimal color notation</em> so familiar to old-school HTML web authors:</p>&#13;
&#13;
<pre data-code-language="css" data-type="programlisting"><code class="nt">h1</code> <code class="p">{</code><code class="k">color</code><code class="o">:</code> <code class="m">#FF0000</code><code class="p">;}</code>   <code class="c">/* set H1s to red */</code>&#13;
<code class="nt">h2</code> <code class="p">{</code><code class="k">color</code><code class="o">:</code> <code class="m">#903BC0</code><code class="p">;}</code>   <code class="c">/* set H2s to a dusky purple */</code>&#13;
<code class="nt">h3</code> <code class="p">{</code><code class="k">color</code><code class="o">:</code> <code class="m">#000000</code><code class="p">;}</code>   <code class="c">/* set H3s to black */</code>&#13;
<code class="nt">h4</code> <code class="p">{</code><code class="k">color</code><code class="o">:</code> <code class="m">#808080</code><code class="p">;}</code>   <code class="c">/* set H4s to medium gray */</code></pre>&#13;
&#13;
<p>Computers have been using hex notation for quite some time now, and programmers are typically either trained in its use or pick it up through experience. Their familiarity with hexadecimal notation likely led to its use in setting colors in HTML. That practice was carried over to CSS.</p>&#13;
&#13;
<p>Here’s how it works: by stringing together three hexadecimal numbers in the range <code>00</code> through <code>FF</code>, you can set a color. The generic syntax for this notation is <code>#RRGGBB</code>. Note that there are no spaces, commas, or other separators between the three numbers.</p>&#13;
&#13;
<p>Hexadecimal notation is mathematically equivalent to integer-pair notation. For example, <code>rgb(255,255,255)</code> is precisely equivalent to <code>#FFFFFF</code>, and <code>rgb(51,102,128)</code> is the same as <code>#336680</code>. Feel free to use whichever notation you prefer—it will be rendered identically by most user agents. If you have a calculator that converts between decimal and hexadecimal, making the jump from one to the other should be pretty simple.</p>&#13;
&#13;
<p>For hexadecimal numbers that are composed of three matched pairs of digits, CSS permits a shortened notation. The generic syntax of this notation is <code>#RGB</code>:</p>&#13;
&#13;
<pre data-code-language="css" data-type="programlisting"><code class="nt">h1</code> <code class="p">{</code><code class="k">color</code><code class="o">:</code> <code class="m">#000</code><code class="p">;}</code>   <code class="c">/* set H1s to black */</code>&#13;
<code class="nt">h2</code> <code class="p">{</code><code class="k">color</code><code class="o">:</code> <code class="m">#666</code><code class="p">;}</code>   <code class="c">/* set H2s to dark gray */</code>&#13;
<code class="nt">h3</code> <code class="p">{</code><code class="k">color</code><code class="o">:</code> <code class="m">#FFF</code><code class="p">;}</code>   <code class="c">/* set H3s to white */</code></pre>&#13;
&#13;
<p>As you can see from the markup, each color value has only three digits. However, since hexadecimal numbers between <code>00</code> and <code>FF</code> need two digits each, and you have only three total digits, how does this method work?</p>&#13;
&#13;
<p>The answer is that the browser takes each digit and replicates it. Therefore, <code>#F00</code> is equivalent to <code>#FF0000</code>, <code>#6FA</code> would be the same as <code>#66FFAA</code>, and <code>#FFF</code> would come out <code>#FFFFFF</code>, which is the same as <code>white</code>. Not every color can be represented in this manner. Medium gray, for example, would be written in standard hexadecimal notation as <code>#808080</code>. This cannot be expressed in shorthand; the closest equivalent would be <code>#888</code>, which is the same as <code>#888888</code>.</p>&#13;
</div></section>&#13;
&#13;
&#13;
&#13;
&#13;
&#13;
&#13;
&#13;
&#13;
&#13;
&#13;
<section data-pdf-bookmark="Hexadecimal RGBa colors" data-type="sect3"><div class="sect3" id="hexadecimal_rgba_colors">&#13;
<h3>Hexadecimal RGBa colors</h3>&#13;
&#13;
<p>Hexadecimal <a data-primary="color values" data-secondary="hexadecimal RGBa colors" data-type="indexterm" id="idm45176111447328"/><a data-primary="hexadecimal RGBa colors" data-type="indexterm" id="idm45176111472672"/>notation can have a fourth hex value to represent the alpha channel value.  The following rules style the series of paragraphs in <a data-type="xref" href="#text_set_in_progressive_translucency_redux">Figure 5-12</a>, which are set in increasingly transparent black, just as you saw in the previous section:</p>&#13;
&#13;
<pre data-code-language="css" data-type="programlisting"><code class="nt">p</code><code class="nc">.one</code> <code class="p">{</code><code class="k">color</code><code class="o">:</code> <code class="m">#000000</code><code class="n">FF</code><code class="p">;}</code>&#13;
<code class="nt">p</code><code class="nc">.two</code> <code class="p">{</code><code class="k">color</code><code class="o">:</code> <code class="m">#000000</code><code class="n">CC</code><code class="p">;}</code>&#13;
<code class="nt">p</code><code class="nc">.three</code> <code class="p">{</code><code class="k">color</code><code class="o">:</code> <code class="m">#00000099</code><code class="p">;}</code>&#13;
<code class="nt">p</code><code class="nc">.four</code> <code class="p">{</code><code class="k">color</code><code class="o">:</code> <code class="m">#00000066</code><code class="p">;}</code>&#13;
<code class="nt">p</code><code class="nc">.five</code> <code class="p">{</code><code class="k">color</code><code class="o">:</code> <code class="m">#00000033</code><code class="p">;}</code></pre>&#13;
&#13;
<figure class="coderesult"><div class="figure" id="text_set_in_progressive_translucency_redux">&#13;
<img alt="css5 0512" src="assets/css5_0512.png"/>&#13;
<h6><span class="label">Figure 5-12. </span>Text set in progressive translucency, redux</h6>&#13;
</div></figure>&#13;
&#13;
<p>As with non-alpha hexadecimal values, you can shorten a value composed of matched pairs to a four-digit value.  Thus, a value of <code>#663399AA</code> can be written as <code>#639A</code>.  If the value has any pairs that are not repetitive, the entire eight-digit value must be written out: <code>#663399CA</code> cannot be shortened to <code>#639CA</code>.</p>&#13;
</div></section>&#13;
</div></section>&#13;
&#13;
&#13;
&#13;
&#13;
&#13;
&#13;
&#13;
&#13;
<section data-pdf-bookmark="HSL and HSLa Colors" data-type="sect2"><div class="sect2" id="hsl_and_hsla_colors">&#13;
<h2>HSL and HSLa Colors</h2>&#13;
&#13;
<p>Hue, saturation, and lightness (HSL) <a data-primary="HSL colors" data-type="indexterm" id="ix_hsl_colors2"/><a data-primary="color values" data-secondary="HSL colors" data-type="indexterm" id="ix_hsl_colors"/>color notation is similar to hue, saturation, and brightness (HSB), the color system in image editing software like Photoshop, and just as intuitive. The hue is expressed as an angle value, saturation is a percentage value from 0% (no saturation) to 100% (full saturation), and lightness is a percentage value from 0% (completely dark) to 100% (completely light).  If you’re intimately familiar with RGB, HSL may be confusing at first. (But then, RGB is confusing for people familiar with HSL.)</p>&#13;
&#13;
<p>The <em>hue</em> angle is expressed in terms of a circle around which the full spectrum of colors progresses. It starts with red at 0 degrees and then proceeds through the rainbow until it comes to red again at 360 degrees. When the hue value is a unitless number, it is interpreted as degrees.</p>&#13;
&#13;
<p><em>Saturation</em> measures the intensity of a color. A saturation of <code>0%</code> always yields a shade of gray, no matter what hue angle you have set, and a saturation of <code>100%</code> creates the most vivid possible shade of that hue (in the HSL color space) for a given lightness.</p>&#13;
&#13;
<p>Similarly, <em>lightness</em> defines how dark or light the color appears. A lightness of <code>0%</code> is always black, regardless of the other hue and saturation values, just as a lightness of <code>100%</code> always yields white. Consider the results of the following styles, illustrated on the left side of <a data-type="xref" href="#varying_lightness">Figure 5-13</a>.</p>&#13;
&#13;
<pre data-code-language="css" data-type="programlisting"><code class="nt">p</code><code class="nc">.one</code> <code class="p">{</code><code class="k">color</code><code class="o">:</code> <code class="n">hsl</code><code class="p">(</code><code class="m">0</code><code class="o">,</code><code class="m">0%</code><code class="o">,</code><code class="m">0%</code><code class="p">);}</code>&#13;
<code class="nt">p</code><code class="nc">.two</code><code class="p">{</code><code class="k">color</code><code class="o">:</code> <code class="n">hsl</code><code class="p">(</code><code class="m">60</code> <code class="m">0%</code> <code class="m">25%</code><code class="p">);}</code>&#13;
<code class="nt">p</code><code class="nc">.three</code> <code class="p">{</code><code class="k">color</code><code class="o">:</code> <code class="n">hsl</code><code class="p">(</code><code class="m">120deg</code><code class="o">,</code><code class="m">0%</code><code class="o">,</code><code class="m">50%</code><code class="p">);}</code>&#13;
<code class="nt">p</code><code class="nc">.four</code> <code class="p">{</code><code class="k">color</code><code class="o">:</code> <code class="n">hsl</code><code class="p">(</code><code class="m">180deg</code> <code class="m">0%</code> <code class="m">75%</code><code class="p">);}</code>&#13;
<code class="nt">p</code><code class="nc">.five</code> <code class="p">{</code><code class="k">color</code><code class="o">:</code> <code class="n">hsl</code><code class="p">(</code><code class="m">0.667turn</code><code class="o">,</code><code class="m">0%</code><code class="o">,</code><code class="m">0%</code><code class="p">);}</code>&#13;
<code class="nt">p</code><code class="nc">.six</code> <code class="p">{</code><code class="k">color</code><code class="o">:</code> <code class="n">hsl</code><code class="p">(</code><code class="m">0.833turn</code> <code class="m">0%</code> <code class="m">25%</code><code class="p">);}</code>&#13;
<code class="nt">p</code><code class="nc">.seven</code> <code class="p">{</code><code class="k">color</code><code class="o">:</code> <code class="n">hsl</code><code class="p">(</code><code class="m">400grad</code> <code class="m">0%</code> <code class="m">50%</code><code class="p">);}</code></pre>&#13;
<div data-type="note" epub:type="note"><h6>Note</h6>&#13;
<p>Remember that in more recent browsers, the commas in <code>hsl()</code> values can be replaced with whitespace.</p>&#13;
</div>&#13;
&#13;
<p>The gray you see on the left side isn’t just a function of the limitations of print: every one of those paragraphs is a shade of gray, because every color value has <code>0%</code> in the saturation (middle) position. The degree of lightness or darkness is set by the lightness (third) position. In all seven examples, the hue angle changes, and in none of them does it matter.</p>&#13;
&#13;
<figure><div class="figure" id="varying_lightness">&#13;
<img alt="css5 0513" src="assets/css5_0513.png"/>&#13;
<h6><span class="label">Figure 5-13. </span>Varying lightness and hues</h6>&#13;
</div></figure>&#13;
&#13;
<p>But that’s only so long as the saturation remains at <code>0%</code>. If that value is raised to, say, <code>50%</code>, then the hue angle will become very important, because it will control what sort of color you see. Consider the same set of values that we saw before, but all set to <code>50%</code> saturation; this is illustrated on the right side of <a data-type="xref" href="#varying_lightness">Figure 5-13</a>, although the color is not visible in the print version of this book.<a data-primary="" data-startref="ix_hsl_colors" data-type="indexterm" id="idm45176111228816"/><a data-primary="" data-startref="ix_hsl_colors2" data-type="indexterm" id="idm45176111227872"/></p>&#13;
&#13;
<p>Just as <a data-primary="color values" data-secondary="HSLa colors" data-type="indexterm" id="idm45176111226672"/><a data-primary="HSLa colors" data-type="indexterm" id="idm45176111225696"/>RGB has a legacy RGBa counterpart, HSL has an HSLa counterpart. This is an HSL triplet followed by an alpha value in the range 0–1. The following HSLa values are all black with varying shades of transparency, just as in <a data-type="xref" href="#hexadecimal_rgba_colors">“Hexadecimal RGBa colors”</a> (and illustrated in <a data-type="xref" href="#text_set_in_progressive_translucency_redux">Figure 5-12</a>):</p>&#13;
&#13;
<pre data-code-language="css" data-type="programlisting"><code class="nt">p</code><code class="nc">.one</code> <code class="p">{</code><code class="k">color</code><code class="o">:</code> <code class="n">hsl</code><code class="p">(</code><code class="m">0</code><code class="o">,</code><code class="m">0%</code><code class="o">,</code><code class="m">0%</code><code class="o">,</code><code class="m">1</code><code class="p">);}</code>&#13;
<code class="nt">p</code><code class="nc">.two</code> <code class="p">{</code><code class="k">color</code><code class="o">:</code> <code class="n">hsla</code><code class="p">(</code><code class="m">0</code><code class="o">,</code><code class="m">0%</code><code class="o">,</code><code class="m">0%</code><code class="o">,</code><code class="m">0</code><code class="o">.</code><code class="m">8</code><code class="p">);}</code>&#13;
<code class="nt">p</code><code class="nc">.three</code> <code class="p">{</code><code class="k">color</code><code class="o">:</code> <code class="n">hsl</code><code class="p">(</code><code class="m">0</code> <code class="m">0%</code> <code class="m">0%</code> <code class="o">/</code> <code class="m">0</code><code class="o">.</code><code class="m">6</code><code class="p">);}</code>&#13;
<code class="nt">p</code><code class="nc">.four</code> <code class="p">{</code><code class="k">color</code><code class="o">:</code> <code class="n">hsla</code><code class="p">(</code><code class="m">0</code> <code class="m">0%</code> <code class="m">0%</code> <code class="o">/</code> <code class="m">0</code><code class="o">.</code><code class="m">4</code><code class="p">);}</code>&#13;
<code class="nt">p</code><code class="nc">.five</code> <code class="p">{</code><code class="k">color</code><code class="o">:</code> <code class="n">hsl</code><code class="p">(</code><code class="m">0rad</code> <code class="m">0%</code> <code class="m">0%</code> <code class="o">/</code> <code class="m">0</code><code class="o">.</code><code class="m">2</code><code class="p">);}</code></pre>&#13;
</div></section>&#13;
&#13;
&#13;
&#13;
&#13;
&#13;
&#13;
&#13;
&#13;
<section data-pdf-bookmark="Colors with HWB" data-type="sect2"><div class="sect2" id="colors_with_hwb">&#13;
<h2>Colors with HWB</h2>&#13;
&#13;
<p>Colors can also be <a data-primary="color values" data-secondary="HWB colors" data-type="indexterm" id="idm45176111103648"/><a data-primary="HWB colors" data-type="indexterm" id="idm45176111102800"/>represented in terms of their <em>hue</em>, <em>white</em> level, and <em>black</em> level by using the <code>hwb()</code> functional value.  This function value accepts hue values expressed as an angle value.  After the hue angle, instead of lightness and saturation, whiteness and blackness values are specified as percentages.</p>&#13;
&#13;
<p>Unlike HSL, however, there is no legacy <code>hwba()</code> function.  Instead, the value syntax for <code>hwb()</code> allows an opacity to be defined after the HWB values, separated from them by a forward slash (<code>/</code>).  The opacity can be expressed either as a percentage or as a real value from 0 to 1, inclusive.  Also unlike HSL, commas are not supported: the HWB values can only be separated by whitespace.</p>&#13;
&#13;
<p>Here are some examples of using HWB notation:</p>&#13;
&#13;
<pre data-code-language="css" data-type="programlisting"><code class="c">/* Varying shades of red */</code>&#13;
<code class="n">hwb</code><code class="p">(</code><code class="m">0</code> <code class="m">40%</code> <code class="m">20%</code><code class="p">)</code>&#13;
<code class="n">hwb</code><code class="p">(</code><code class="m">360</code> <code class="m">50%</code> <code class="m">10%</code><code class="p">)</code>&#13;
<code class="n">hwb</code><code class="p">(</code><code class="m">0deg</code> <code class="m">10%</code> <code class="m">10%</code><code class="p">)</code>&#13;
<code class="n">hwb</code><code class="p">(</code><code class="m">0rad</code> <code class="m">60%</code> <code class="m">0%</code><code class="p">)</code>&#13;
<code class="n">hwb</code><code class="p">(</code><code class="m">0turn</code> <code class="m">0%</code> <code class="m">40%</code><code class="p">)</code>&#13;
&#13;
<code class="c">/* Partially translucent red */</code>&#13;
<code class="n">hwb</code><code class="p">(</code><code class="m">0</code> <code class="m">10%</code> <code class="m">10%</code> <code class="o">/</code> <code class="m">0</code><code class="o">.</code><code class="m">4</code><code class="p">)</code>&#13;
<code class="n">hwb</code><code class="p">(</code><code class="m">0</code> <code class="m">10%</code> <code class="m">10%</code> <code class="o">/</code> <code class="m">40%</code><code class="p">)</code></pre>&#13;
</div></section>&#13;
&#13;
&#13;
&#13;
&#13;
&#13;
&#13;
&#13;
&#13;
<section data-pdf-bookmark="Lab Colors" data-type="sect2"><div class="sect2" id="lab_colors">&#13;
<h2>Lab Colors</h2>&#13;
&#13;
<p>Historically, all CSS <a data-primary="color values" data-secondary="Lab colors" data-type="indexterm" id="idm45176111016928"/><a data-primary="Lab colors" data-type="indexterm" id="idm45176111015920"/>colors were defined in the sRGB color space, which encompassed more colors than older display monitors could represent.  Modern displays, on the other hand, can handle about 150% of the sRGB color space, which still isn’t the full range of color humans can perceive, but it’s a lot closer.</p>&#13;
&#13;
<p>In 1931, the <em>Commission Internationale de l’Éclairage</em> (International Commission on Illumination, or CIE) defined a scientific system for defining colors created via light, as opposed to those created with paint or dyes.  Now, almost a century later, CSS has brought the work of the CIE into its repertoire.</p>&#13;
&#13;
<p>It does this using the <code>lab()</code> function value to express color in the CIE L*a*b* (hereafter shortened as <em>Lab</em>) color space. Lab is designed to represent the entire range of color that humans can see. The <code>lab()</code> function accepts three to four parameters: <code>lab(</code><em><code>L</code></em> <em><code>a</code></em> <em><code>b</code></em> / <em><code>A</code></em><code>)</code>. Similar to HWB, the parameters must be space-separated (no commas allowed) and a forward slash (<code>/</code>) precedes the alpha value, if provided.</p>&#13;
&#13;
<p>The <em><code>L</code></em> (Lightness) component specifies the CIE lightness, and is a &lt;<em><code>percentage</code></em>&gt; from <code>0%</code> representing black to <code>100%</code> representing white, or a &lt;<em><code>number</code></em>&gt; from <code>0</code> to <code>1</code>.  The second component, <em><code>a</code></em>, is the distance along the a-axis in the Lab color space.  This axis runs from a purplish red in the positive direction to a shade of green in the negative direction.  The third component, <em><code>b</code></em>, is the distance along the b-axis in the Lab color space.  This axis runs from a yellow in the positive direction to a blue-violet in the negative direction.</p>&#13;
&#13;
<p>The fourth, optional parameter is the opacity, with a value from 0 to 1 inclusive, or 0% to 100% inclusive. If omitted, the opacity defaults to 1 (100%), or full opacity.</p>&#13;
&#13;
<p>Here are some examples of Lab color expressed in CSS:</p>&#13;
&#13;
<pre data-code-language="css" data-type="programlisting"><code class="n">lab</code><code class="p">(</code><code class="m">29.2345%</code> <code class="m">39</code><code class="o">.</code><code class="m">3825</code> <code class="m">-20</code><code class="o">.</code><code class="m">0664</code><code class="p">);</code>&#13;
<code class="n">lab</code><code class="p">(</code><code class="m">52.2345%</code> <code class="m">40</code><code class="o">.</code><code class="m">1645</code> <code class="m">59</code><code class="o">.</code><code class="m">9971</code><code class="p">);</code>&#13;
<code class="n">lab</code><code class="p">(</code><code class="m">52.2345%</code> <code class="m">40</code><code class="o">.</code><code class="m">1645</code> <code class="m">59</code><code class="o">.</code><code class="m">9971</code> <code class="o">/</code> <code class="o">.</code><code class="m">5</code><code class="p">);</code></pre>&#13;
&#13;
<p>The main reason to bring Lab (and LCH, which we’ll discuss in a moment) colors into CSS is that they are systematically designed to be <em>perceptually uniform</em>: color values that share a given coordinate will seem consistent in terms of that coordinate.  Two colors with different hues but the same lightness will appear to have similar lightnesses.  Two colors with the same hue but different lightnesses will appear to be shades of a single hue.  This is often not the case with RGB and HSL values, so Lab and LCH represent a &#13;
<span class="keep-together">big improvement.</span></p>&#13;
&#13;
<p>They’re also defined to be device independent, so you should be able to specify colors in these color spaces and get a visually consistent result from one device to another.</p>&#13;
<div data-type="warning" epub:type="warning"><h6>Warning</h6>&#13;
<p>As of late 2022, only WebKit supports <code>lab()</code>.</p>&#13;
</div>&#13;
</div></section>&#13;
&#13;
&#13;
&#13;
&#13;
&#13;
&#13;
&#13;
&#13;
<section data-pdf-bookmark="LCH Colors" data-type="sect2"><div class="sect2" id="idm45176111018176">&#13;
<h2>LCH Colors</h2>&#13;
&#13;
<p><em>Lightness Chroma Hue (LCH)</em> is a <a data-primary="color values" data-secondary="LCH colors" data-type="indexterm" id="idm45176110931200"/><a data-primary="LCH colors" data-type="indexterm" id="idm45176110930352"/>version of Lab designed to represent the entire spectrum of human vision.  It does this using a different notation: <code>lch(</code><em><code>L</code></em> <em><code>C</code></em> <em><code>H</code></em> / <em><code>A</code></em><code>)</code>.  The main difference is that <em><code>C</code></em> and <em><code>H</code></em> are polar coordinates, rather than linear values along color axes.</p>&#13;
&#13;
<p>The <em><code>L</code></em> (Lightness) component is the same as the CIE Lightness, and is a <em>&lt;percentage&gt;</em> from <code>0%</code> representing black to <code>100%</code> representing white.</p>&#13;
&#13;
<p>The <em><code>C</code></em> (Chroma amount) component roughly represents the amount of color. Its minimum value is <code>0</code>, and no maximum is defined.  Negative <code>C</code> values are clamped to 0.</p>&#13;
&#13;
<p>The <em><code>H</code></em> (Hue angle) component is essentially a combination of the <em><code>a</code></em> and <em><code>b</code></em> values in <code>lab()</code>. The value <code>0</code> points along the positive a-axis (toward purplish red), <code>90</code> points along the positive b-axis (toward mustard yellow), <code>180</code> points along the negative a-axis (toward greenish cyan), and <code>270</code> points along the negative b-axis (toward sky blue).  This component loosely corresponds to HSL’s Hue, but the hue angles differ.</p>&#13;
&#13;
<p>The optional <em><code>A</code></em> (alpha) component can be a &lt;<em><code>number</code></em>&gt; from 0 to 1, or else a &lt;<em><code>percentage</code></em>&gt;, where the number 1 corresponds to 100% (full opacity).  If present, it is preceded by a forward slash (<code>/</code>). Here are some examples:</p>&#13;
&#13;
<pre data-code-language="css" data-type="programlisting"><code class="n">lch</code><code class="p">(</code><code class="m">56%</code> <code class="m">132</code> <code class="m">331</code><code class="p">)</code>&#13;
<code class="n">lch</code><code class="p">(</code><code class="m">52%</code> <code class="m">132</code> <code class="m">8</code><code class="p">)</code>&#13;
<code class="n">lch</code><code class="p">(</code><code class="m">52%</code> <code class="m">132</code> <code class="m">8</code> <code class="o">/</code> <code class="m">50%</code><code class="p">)</code></pre>&#13;
&#13;
<p>To give an example of the capabilities of LCH, <code>lch(52% 132 8)</code> is a very bright magenta equivalent to <code>rgb(118.23% -46.78% 40.48%)</code>.  Notice the large red value and the negative green value, which places the color outside the sRGB color space.  If you supplied that RGB value to a browser, it would clamp the value to <code>rgb(100% 0% 40.48%)</code>.  This is within the sRGB color space, but it is visually quite distinct from the color that is defined by <code>lch(52% 132 8)</code>.</p>&#13;
<div data-type="warning" epub:type="warning"><h6>Warning</h6>&#13;
<p>As of late 2022, only Safari supports <code>lch()</code> values.</p>&#13;
</div>&#13;
</div></section>&#13;
&#13;
&#13;
&#13;
&#13;
&#13;
&#13;
&#13;
&#13;
<section data-pdf-bookmark="Oklab and Oklch" data-type="sect2"><div class="sect2" id="oklab_and_oklch">&#13;
<h2>Oklab and Oklch</h2>&#13;
&#13;
<p>Improved <a data-primary="color values" data-secondary="Oklab and Oklch" data-type="indexterm" id="idm45176110886656"/><a data-primary="Oklab and Oklch" data-type="indexterm" id="idm45176110885648"/>versions of Lab and LCH, called <em>Oklab</em> and <em>Oklch</em>, will be supported by CSS via the <code>oklab()</code> and <code>oklch()</code> functional values.  Oklab was developed by taking a large set of visually similar colors and performing a numerical optimization on them, yielding a color space with better hue linearity and uniformity, and better chroma uniformity, than the CIE color spaces.  Oklch is a polar-coordinate version of Oklab, just as LCH is to Lab.</p>&#13;
&#13;
<p>Because of this improved uniformity, Oklab and Oklch will be the default for color-interpolation calculations in CSS going forward.  However, as of late 2022, only Safari supports the <code>oklab()</code> and <code>oklch()</code> CSS functional values.</p>&#13;
</div></section>&#13;
&#13;
&#13;
&#13;
&#13;
&#13;
&#13;
&#13;
&#13;
<section data-pdf-bookmark="Using color()" data-type="sect2"><div class="sect2" id="Color_functional_notation">&#13;
<h2>Using color()</h2>&#13;
&#13;
<p>The <code>color()</code> <a data-primary="color() function" data-type="indexterm" id="idm45176110879456"/><a data-primary="color values" data-secondary="color() function" data-type="indexterm" id="idm45176110878720"/>function value allows a color to be specified in a named color space rather than the implicit sRGB color space.  It accepts four space-separated parameters, as well as an optional fifth opacity value preceded by a forward slash (<em>/</em>).</p>&#13;
&#13;
<p>The first parameter is a predefined, named color space. Possible values as of late 2022 include <code>srgb</code>, <code>srgb-linear</code>, <code>display-p3</code>, <code>a98-rgb</code>, <code>prophoto-rgb</code>, <code>rec2020</code>, <code>xyz</code>, <code>xyz-d50</code>, and <code>xyz-d65</code>.  The three values that follow are specific to the color space declared in the first parameter.  Some color spaces may allow these values to be percentages, while others may not.</p>&#13;
&#13;
<p>As an example, the following values should yield the same color:</p>&#13;
&#13;
<pre data-code-language="css" data-type="programlisting"><code class="m">#7654CD</code>&#13;
<code class="nb">rgb</code><code class="p">(</code><code class="m">46.27%</code> <code class="m">32.94%</code> <code class="m">80.39%</code><code class="p">)</code>&#13;
<code class="n">lab</code><code class="p">(</code><code class="m">44.36%</code> <code class="m">36</code><code class="o">.</code><code class="m">05</code> <code class="m">-58</code><code class="o">.</code><code class="m">99</code><code class="p">)</code>&#13;
<code class="n">color</code><code class="p">(</code><code class="n">xyz</code><code class="o">-</code><code class="n">d50</code> <code class="m">0</code><code class="o">.</code><code class="m">2005</code> <code class="m">0</code><code class="o">.</code><code class="m">14089</code> <code class="m">0</code><code class="o">.</code><code class="m">4472</code><code class="p">)</code>&#13;
<code class="n">color</code><code class="p">(</code><code class="n">xyz</code><code class="o">-</code><code class="n">d65</code> <code class="m">0</code><code class="o">.</code><code class="m">21661</code> <code class="m">0</code><code class="o">.</code><code class="m">14602</code> <code class="m">0</code><code class="o">.</code><code class="m">59452</code><code class="p">)</code></pre>&#13;
&#13;
<p>You could easily declare a color that lies outside the gamut of a given color space.  For example, <code>color(display-p3 -0.6112 1.0079 -0.2192);</code> is outside the <code>display-p3</code> gamut.  It’s still a valid color, just not one that can be expressed in that color space.  When a color value is valid but outside the gamut, it will be mapped to the closest color that lies inside the color space’s gamut.</p>&#13;
&#13;
<p>If a color’s value is straight-up invalid, opaque black is used.</p>&#13;
<div data-type="warning" epub:type="warning"><h6>Warning</h6>&#13;
<p>As of late 2022, only Safari supports <code>color()</code>.</p>&#13;
</div>&#13;
</div></section>&#13;
&#13;
&#13;
&#13;
&#13;
&#13;
&#13;
&#13;
&#13;
<section data-pdf-bookmark="Applying Color" data-type="sect2"><div class="sect2" id="applying-color">&#13;
<h2>Applying Color</h2>&#13;
&#13;
<p>Since we’ve just <a data-primary="currentcolor keyword" data-type="indexterm" id="idm45176110764288"/><a data-primary="color values" data-secondary="applying color" data-type="indexterm" id="ix_color_values_apply"/>gone through all the possible color formats, let’s take a brief detour to talk about the property that uses color values the most often: <code>color</code>. This property sets the color of an element’s text and the value of <code>currentcolor</code>.</p>&#13;
<aside data-type="sidebar" epub:type="sidebar"><div class="sidebar" id="idm45176110761248">&#13;
<h1>color</h1><table>&#13;
&#13;
<tbody>&#13;
<tr>&#13;
<td><p><strong>Values</strong></p></td>&#13;
<td><p>&lt;<em><code>color</code></em>&gt;</p></td>&#13;
</tr>&#13;
<tr>&#13;
<td><p><strong>Initial value</strong></p></td>&#13;
<td><p>User-agent specific</p></td>&#13;
</tr>&#13;
<tr>&#13;
<td><p><strong>Applies to</strong></p></td>&#13;
<td><p>All elements</p></td>&#13;
</tr>&#13;
<tr>&#13;
<td><p><strong>Computed value</strong></p></td>&#13;
<td><p>As specified</p></td>&#13;
</tr>&#13;
<tr>&#13;
<td><p><strong>Inherited</strong></p></td>&#13;
<td><p>Yes</p></td>&#13;
</tr>&#13;
<tr>&#13;
<td><p><strong>Animatable</strong></p></td>&#13;
<td><p>Yes</p></td>&#13;
</tr>&#13;
</tbody>&#13;
</table>&#13;
</div></aside>&#13;
&#13;
<p>This property accepts as a value any valid color type, such as <code>#FFCC00</code>&#13;
or <code>rgb(100% 80% 0% / 0.5)</code>.</p>&#13;
&#13;
<p>For nonreplaced elements like paragraphs or <code>&lt;em&gt;</code> elements, <code>color</code> sets the color of the text in the element. The following code results in <a data-type="xref" href="#cab_fig01">Figure 5-14</a>:</p>&#13;
&#13;
<pre data-code-language="css" data-type="programlisting"><code class="o">&lt;</code><code class="n">p</code> <code class="n">style</code><code class="o">=</code><code class="s2">"color: gray;"</code><code class="o">&gt;</code><code class="n">This</code> <code class="n">paragraph</code> <code class="n">has</code> <code class="n">a</code> <code class="nb">gray</code> <code class="n">foreground</code><code class="o">.&lt;/</code><code class="n">p</code><code class="o">&gt;</code>&#13;
<code class="o">&lt;</code><code class="n">p</code><code class="o">&gt;</code><code class="n">This</code> <code class="n">paragraph</code> <code class="n">has</code> <code class="n">the</code> <code class="nb">default</code> <code class="n">foreground</code><code class="o">.&lt;/</code><code class="n">p</code><code class="o">&gt;</code></pre>&#13;
&#13;
<figure class="coderesult"><div class="figure" id="cab_fig01">&#13;
<img alt="css5 0514" src="assets/css5_0514.png"/>&#13;
<h6><span class="label">Figure 5-14. </span>Declared color versus default color</h6>&#13;
</div></figure>&#13;
&#13;
<p>In this example, the default foreground color is black. That doesn’t have to be the case, since the user might have set their browser (or other user agent) to use a different foreground (text) color. If the browser’s&#13;
default text color was set to <code>green</code>, the second paragraph in the&#13;
preceding example would be green, not black—but the first paragraph&#13;
would still be gray.</p>&#13;
&#13;
<p>You need not restrict yourself to such basic operations.&#13;
There are plenty of ways to use <code>color</code>. You might have some paragraphs&#13;
that contain text warning the user of a potential problem. To&#13;
make this text stand out more than usual, you might decide to color it&#13;
red. Just apply a class of <code>warn</code> to each paragraph that contains&#13;
warning text (<code>&lt;p class="warn"&gt;</code>) and the following rule:</p>&#13;
&#13;
<pre data-code-language="css" data-type="programlisting"><code class="nt">p</code><code class="nc">.warn</code> <code class="p">{</code><code class="k">color</code><code class="o">:</code> <code class="nb">red</code><code class="p">;}</code></pre>&#13;
&#13;
<p>In the same document, you might decide that any unvisited hyperlinks&#13;
within a warning paragraph should be green:</p>&#13;
&#13;
<pre data-code-language="css" data-type="programlisting"><code class="nt">p</code><code class="nc">.warn</code> <code class="p">{</code><code class="k">color</code><code class="o">:</code> <code class="nb">red</code><code class="p">;}</code>&#13;
<code class="nt">p</code><code class="nc">.warn</code> <code class="nt">a</code><code class="nd">:link</code> <code class="p">{</code><code class="k">color</code><code class="o">:</code> <code class="nb">green</code><code class="p">;}</code></pre>&#13;
&#13;
<p>Then you change your mind, deciding that warning text should be dark&#13;
red, and that unvisited links in such text should be medium purple. The&#13;
preceding rules need only be changed to reflect the new values. The following code results in <a data-type="xref" href="#cab_fig02">Figure 5-15</a>:</p>&#13;
&#13;
<pre data-code-language="css" data-type="programlisting"><code class="nt">p</code><code class="nc">.warn</code> <code class="p">{</code><code class="k">color</code><code class="o">:</code> <code class="m">#600</code><code class="p">;}</code>&#13;
<code class="nt">p</code><code class="nc">.warn</code> <code class="nt">a</code><code class="nd">:link</code> <code class="p">{</code><code class="k">color</code><code class="o">:</code> <code class="m">#400040</code><code class="p">;}</code></pre>&#13;
&#13;
<figure><div class="figure" id="cab_fig02">&#13;
<img alt="css5 0515" src="assets/css5_0515.png"/>&#13;
<h6><span class="label">Figure 5-15. </span>Changing colors <a class="play" href="https://meyerweb.github.io/csstdg5figs/05-values-and-units/changing-colors.html"><span class="play"><img src="assets/play-icon-round.png"/></span></a></h6>&#13;
</div></figure>&#13;
&#13;
<p>Another use for <code>color</code> is to draw attention to certain types of text.&#13;
For example, boldfaced text is already fairly obvious, but you could&#13;
give it a different color to make it stand out even further—let’s say,&#13;
maroon:</p>&#13;
&#13;
<pre data-code-language="css" data-type="programlisting"><code class="nt">b</code><code class="o">,</code> <code class="nt">strong</code> <code class="p">{</code><code class="k">color</code><code class="o">:</code> <code class="nb">maroon</code><code class="p">;}</code></pre>&#13;
&#13;
<p>Then you decide that you want all table cells with a class of&#13;
<code>highlight</code> to contain light yellow text:</p>&#13;
&#13;
<pre data-code-language="css" data-type="programlisting"><code class="nt">td</code><code class="nc">.highlight</code> <code class="p">{</code><code class="k">color</code><code class="o">:</code> <code class="m">#FF9</code><code class="p">;}</code></pre>&#13;
&#13;
<p>If you don’t set a <a data-primary="backgrounds" data-secondary="colors" data-type="indexterm" id="idm45176110554352"/><a data-primary="colors" data-secondary="background" data-type="indexterm" id="idm45176110553504"/><a data-primary="colors" data-secondary="foreground" data-type="indexterm" id="idm45176110552560"/><a data-primary="foreground colors" data-type="indexterm" id="idm45176110531440"/>background color for any of your text, you&#13;
run the risk that a user’s setup won’t combine well with your own. For&#13;
example, if a user has set their browser’s background to be a pale yellow,&#13;
like <code>#FFC</code>, then the previous rule would generate light-yellow text on&#13;
a pale-yellow background. Far more likely is that it’s still the default&#13;
background of white, against which light yellow is still going to be hard to read. It’s therefore generally a good idea to set foreground and&#13;
background colors together. (We’ll talk about background colors shortly.)<a data-primary="" data-startref="ix_color_values_apply" data-type="indexterm" id="idm45176110530256"/></p>&#13;
</div></section>&#13;
&#13;
&#13;
&#13;
&#13;
&#13;
&#13;
&#13;
&#13;
<section data-pdf-bookmark="Affecting Form Elements" data-type="sect2"><div class="sect2" id="affecting-form-elements">&#13;
<h2>Affecting Form Elements</h2>&#13;
&#13;
<p>Setting a value for <code>color</code> should (in theory, anyway) apply to form&#13;
elements. Declaring <code>&lt;select&gt;</code> elements to have dark-gray text should be&#13;
as simple as this:</p>&#13;
&#13;
<pre data-code-language="css" data-type="programlisting"><code class="nt">select</code> <code class="p">{</code><code class="k">color</code><code class="o">:</code> <code class="nb">rgb</code><code class="p">(</code><code class="m">33%</code><code class="o">,</code><code class="m">33%</code><code class="o">,</code><code class="m">33%</code><code class="p">);}</code></pre>&#13;
&#13;
<p>This might also set the color of the borders around the edge of the&#13;
<code>&lt;select&gt;</code> element, or it might not. It all depends on the user agent and&#13;
its default styles.</p>&#13;
&#13;
<p>You <a data-primary="form elements" data-secondary="background color" data-type="indexterm" id="idm45176110492352"/><a data-primary="colors" data-secondary="form elements" data-type="indexterm" id="idm45176110491440"/><a data-primary="color values" data-secondary="affecting form elements" data-type="indexterm" id="idm45176110490496"/>can also set the foreground color of input elements—although, as you&#13;
can see in <a data-type="xref" href="#cab_fig05">Figure 5-16</a>, doing so would apply that color to all inputs, from&#13;
text to radio buttons to checkbox inputs:</p>&#13;
&#13;
<pre data-code-language="css" data-type="programlisting"><code class="nt">select</code> <code class="p">{</code><code class="k">color</code><code class="o">:</code> <code class="nb">rgb</code><code class="p">(</code><code class="m">33%</code><code class="o">,</code><code class="m">33%</code><code class="o">,</code><code class="m">33%</code><code class="p">);}</code>&#13;
<code class="nt">input</code> <code class="p">{</code><code class="k">color</code><code class="o">:</code> <code class="nb">red</code><code class="p">;}</code></pre>&#13;
&#13;
<figure class="coderesult"><div class="figure" id="cab_fig05">&#13;
<img alt="css5 0516" src="assets/css5_0516.png"/>&#13;
<h6><span class="label">Figure 5-16. </span>Changing form element foregrounds</h6>&#13;
</div></figure>&#13;
&#13;
<p>Note in <a data-type="xref" href="#cab_fig05">Figure 5-16</a> that the text color next to the checkboxes is still&#13;
black. This is because the rules shown assign styles only to elements&#13;
like <code>&lt;input&gt;</code> and <code>&lt;select&gt;</code>, not normal paragraph (or other) text.</p>&#13;
&#13;
<p>Also note that the checkmark in the checkbox is black. This is due to&#13;
the way form elements are handled in some web browsers, which typically&#13;
use the form widgets built into the base operating system. Thus, when&#13;
you see a checkbox and checkmark, they really aren’t content in the&#13;
HTML document—they’re UI widgets that have been inserted into the document, much as an image would be. In fact, form inputs are, <span class="keep-together">like images,</span>&#13;
replaced elements. In theory, CSS does not style the contents of&#13;
form elements (though this may change in the future).</p>&#13;
&#13;
<p>In practice, the line is a lot blurrier than that, as <a data-type="xref" href="#cab_fig05">Figure 5-16</a>&#13;
demonstrates. Some form inputs have the color of their text and even&#13;
portions of their UI changed, while others do not. And since the rules&#13;
aren’t explicitly defined, behavior is inconsistent across browsers.&#13;
In short, form&#13;
elements are deeply tricky to style and should be approached with&#13;
extreme caution.</p>&#13;
</div></section>&#13;
&#13;
&#13;
&#13;
&#13;
&#13;
&#13;
&#13;
&#13;
<section data-pdf-bookmark="Inheriting Color" data-type="sect2"><div class="sect2" id="inheriting-color">&#13;
<h2>Inheriting Color</h2>&#13;
&#13;
<p>As the <a data-primary="inheritance" data-secondary="color values" data-type="indexterm" id="idm45176110438704"/><a data-primary="color values" data-secondary="inheriting color" data-type="indexterm" id="idm45176110437696"/>definition of <code>color</code> indicates, the property is inherited. This&#13;
makes sense, since if you declare <code>p {color: gray;}</code>, you probably&#13;
expect that any text within that paragraph will also be gray, even if&#13;
it’s emphasized or boldfaced or whatever. If you <em>want</em> such&#13;
&#13;
<span class="keep-together">elements</span> to be different colors, that’s easy enough. The following code, for example, results in <a data-type="xref" href="#cab_fig06">Figure 5-17</a>:</p>&#13;
&#13;
<pre data-code-language="css" data-type="programlisting"><code class="nt">em</code> <code class="p">{</code><code class="k">color</code><code class="o">:</code> <code class="nb">red</code><code class="p">;}</code>&#13;
<code class="nt">p</code> <code class="p">{</code><code class="k">color</code><code class="o">:</code> <code class="nb">gray</code><code class="p">;}</code></pre>&#13;
&#13;
<figure class="coderesult"><div class="figure" id="cab_fig06">&#13;
<img alt="css5 0517" src="assets/css5_0517.png"/>&#13;
<h6><span class="label">Figure 5-17. </span>Different colors for different elements</h6>&#13;
</div></figure>&#13;
&#13;
<p>Since color is inherited, it’s theoretically possible to set all of the&#13;
ordinary text in a document to a color, such as red, by declaring&#13;
<code>body {color: red;}</code>. This should make all text that is not otherwise&#13;
styled (such as anchors, which have their own color styles) red.<a data-primary="" data-startref="ix_color_values_ch5" data-type="indexterm" id="idm45176110394864"/></p>&#13;
</div></section>&#13;
</div></section>&#13;
&#13;
&#13;
&#13;
&#13;
&#13;
&#13;
<section data-pdf-bookmark="Angles" data-type="sect1"><div class="sect1" id="angles">&#13;
<h1>Angles</h1>&#13;
&#13;
<p>Since we <a data-primary="units of measure" data-secondary="angle" data-type="indexterm" id="idm45176110392080"/><a data-primary="angle units" data-type="indexterm" id="idm45176110391072"/>just recently finished talking about hue angles in a number of color value types, this is a good time to talk about angle units. Angles in general are represented as &lt;<em><code>angle</code></em>&gt;, which is a &lt;<em><code>number</code></em>&gt; followed by one of four unit types:</p>&#13;
<dl>&#13;
<dt><code>deg</code></dt>&#13;
<dd>&#13;
<p>Degrees, <a data-primary="deg (degrees) unit" data-type="indexterm" id="idm45176110387200"/>of which there are 360 in a full circle.</p>&#13;
</dd>&#13;
<dt><code>grad</code></dt>&#13;
<dd>&#13;
<p>Gradians, <a data-primary="grad (gradians) unit" data-type="indexterm" id="idm45176110384928"/>of which there are 400 in a full circle. Also known as <em>grades</em> or <em>gons</em>.</p>&#13;
</dd>&#13;
<dt><code>rad</code></dt>&#13;
<dd>&#13;
<p>Radians, <a data-primary="rad (radians) unit" data-type="indexterm" id="idm45176110381760"/>of which there are 2π (approximately 6.28) in a full circle.</p>&#13;
</dd>&#13;
<dt><code>turn</code></dt>&#13;
<dd>&#13;
<p>Turns, <a data-primary="turn unit" data-type="indexterm" id="idm45176110379488"/>of which there is one in a full circle. This unit is mostly useful when animating a rotation and you wish to have it turn multiple times, such as <code>10turn</code> to make it spin 10 times. (Sadly, the pluralization <code>turns</code> is invalid, at least as of early 2023, and will be ignored.)</p>&#13;
</dd>&#13;
</dl>&#13;
&#13;
<p>To help understand the relationships among these angle types, <a data-type="xref" href="#angle_equivalents">Table 5-2</a> shows how some angles are expressed in the various angle units. Unlike for length values, when including angles, the unit is always required, even if the value is <code>0deg</code>.</p>&#13;
<table class="less_space pagebreak-before" id="angle_equivalents">&#13;
<caption><span class="label">Table 5-2. </span>Angle equivalents</caption>&#13;
<thead>&#13;
<tr>&#13;
<th>Degrees</th>&#13;
<th>Gradians</th>&#13;
<th>Radians</th>&#13;
<th>Turns</th>&#13;
</tr>&#13;
</thead>&#13;
<tbody>&#13;
<tr>&#13;
<td><p><code>0deg</code></p></td>&#13;
<td><p><code>0grad</code></p></td>&#13;
<td><p><code>0rad</code></p></td>&#13;
<td><p><code>0turn</code></p></td>&#13;
</tr>&#13;
<tr>&#13;
<td><p><code>45deg</code></p></td>&#13;
<td><p><code>50grad</code></p></td>&#13;
<td><p><code>0.785rad</code></p></td>&#13;
<td><p><code>0.125turn</code></p></td>&#13;
</tr>&#13;
<tr>&#13;
<td><p><code>90deg</code></p></td>&#13;
<td><p><code>100grad</code></p></td>&#13;
<td><p><code>1.571rad</code></p></td>&#13;
<td><p><code>0.25turn</code></p></td>&#13;
</tr>&#13;
<tr>&#13;
<td><p><code>180deg</code></p></td>&#13;
<td><p><code>200grad</code></p></td>&#13;
<td><p><code>3.142rad</code></p></td>&#13;
<td><p><code>0.5turn</code></p></td>&#13;
</tr>&#13;
<tr>&#13;
<td><p><code>270deg</code></p></td>&#13;
<td><p><code>300grad</code></p></td>&#13;
<td><p><code>4.712rad</code></p></td>&#13;
<td><p><code>0.75turn</code></p></td>&#13;
</tr>&#13;
<tr>&#13;
<td><p><code>360deg</code></p></td>&#13;
<td><p><code>400grad</code></p></td>&#13;
<td><p><code>6.283rad</code></p></td>&#13;
<td><p><code>1turn</code></p></td>&#13;
</tr>&#13;
</tbody>&#13;
</table>&#13;
</div></section>&#13;
&#13;
&#13;
&#13;
&#13;
&#13;
&#13;
<section data-pdf-bookmark="Time and Frequency" data-type="sect1"><div class="sect1" id="time_and_frequency">&#13;
<h1>Time and Frequency</h1>&#13;
&#13;
<p>When a <a data-primary="units of measure" data-secondary="time" data-type="indexterm" id="idm45176110334048"/><a data-primary="time units" data-type="indexterm" id="idm45176110333072"/>property needs to express a period of time, the value is represented as &lt;<em><code>time</code></em>&gt; and is a &lt;<em><code>number</code></em>&gt; followed by either <code>s</code> (seconds) or <code>ms</code> (milliseconds.) <a data-primary="ms (milliseconds) unit" data-type="indexterm" id="idm45176110330256"/><a data-primary="s (seconds) unit" data-type="indexterm" id="idm45176110329520"/>Time values are most often used in transitions and animations, either to define durations or delays. The following two declarations will have exactly the same result:</p>&#13;
&#13;
<pre data-code-language="css" data-type="programlisting"><code class="nt">a</code><code class="o">[</code><code class="nt">href</code><code class="o">]</code> <code class="p">{</code><code class="k">transition-duration</code><code class="o">:</code> <code class="m">2.4s</code><code class="p">;}</code>&#13;
<code class="nt">a</code><code class="o">[</code><code class="nt">href</code><code class="o">]</code> <code class="p">{</code><code class="k">transition-duration</code><code class="o">:</code> <code class="m">2400ms</code><code class="p">;}</code></pre>&#13;
&#13;
<p>Time values are also used in aural CSS, again to define durations or delays, but support for aural CSS is extremely limited as of this writing.</p>&#13;
&#13;
<p>Another <a data-primary="units of measure" data-secondary="frequency" data-type="indexterm" id="idm45176110307600"/><a data-primary="frequency units" data-type="indexterm" id="idm45176110306720"/>value type historically used in aural CSS is &lt;<em><code>frequency</code></em>&gt;, which is a &lt;<em><code>number</code></em>&gt; followed by either <code>Hz</code> (hertz) or <code>kHz</code> (kilohertz). <a data-primary="Hz (Hertz) unit" data-type="indexterm" id="idm45176110302800"/><a data-primary="kHz (kiloHertz) unit" data-type="indexterm" id="idm45176110302064"/>As usual, the unit identifiers are case-insensitive, so <code>Hz</code> and <code>hz</code> are equivalent. The following two declarations will have exactly the same result:</p>&#13;
&#13;
<pre data-code-language="css" data-type="programlisting"><code class="nt">h1</code> <code class="p">{</code><code class="k">pitch</code><code class="o">:</code> <code class="m">128</code><code class="n">hz</code><code class="p">;}</code>&#13;
<code class="nt">h1</code> <code class="p">{</code><code class="k">pitch</code><code class="o">:</code> <code class="m">0</code><code class="o">.</code><code class="m">128</code><code class="n">khz</code><code class="p">;}</code></pre>&#13;
&#13;
<p>Unlike with length values, for time and frequency values the unit type is <em>always</em> required, even when the value is <code>0s</code> or <code>0hz</code>.</p>&#13;
</div></section>&#13;
&#13;
&#13;
&#13;
&#13;
&#13;
&#13;
<section data-pdf-bookmark="Ratios" data-type="sect1"><div class="sect1" id="ratio">&#13;
<h1>Ratios</h1>&#13;
&#13;
<p>When you <a data-primary="values" data-secondary="ratio" data-type="indexterm" id="idm45176110254864"/><a data-primary="&lt;ratio&gt; value type" data-primary-sortas="ratio value type" data-type="indexterm" id="idm45176110252720"/>need to express a ratio of two numbers, you use a &lt;<em><code>ratio</code></em>&gt; value.  These values are represented as two positive &lt;<em><code>number</code></em>&gt; values separated by a forward slash (<code>/</code>), plus optional whitespace.</p>&#13;
&#13;
<p>The first integer refers to the width (inline size) of an element, and the second to the height (block size).  Thus, to express a height-to-width ratio of 16 to 9, you can write <code>16/9</code> or <code>16 / 9</code>.</p>&#13;
&#13;
<p>As of late 2022, there is no facility to express a ratio as a single real number (e.g., <code>1.777</code> instead of <code>16/9</code>), nor to use a colon separator instead of a forward slash (e.g., <code>16:9</code>).</p>&#13;
</div></section>&#13;
&#13;
&#13;
&#13;
&#13;
&#13;
&#13;
<section data-pdf-bookmark="Position" data-type="sect1"><div class="sect1" id="position">&#13;
<h1>Position</h1>&#13;
&#13;
<p>You <a data-primary="backgrounds" data-secondary="positioning" data-type="indexterm" id="idm45176110245056"/><a data-primary="positioning" data-secondary="backgrounds" data-type="indexterm" id="idm45176110244048"/><a data-primary="position values" data-type="indexterm" id="idm45176110243104"/><a data-primary="values" data-secondary="position" data-type="indexterm" id="idm45176110242432"/>use a <em>position value</em>, represented as &lt;<em><code>position</code></em>&gt;, to  specify the placement of an origin image in a background area. Its syntactical structure is rather complicated:</p>&#13;
<pre data-type="programlisting">[&#13;
  [ left | center | right | top | bottom | <em>&lt;percentage&gt;</em> | <em>&lt;length&gt;</em> ] |&#13;
  [ left | center | right | <em>&lt;percentage&gt;</em> | <em>&lt;length&gt;</em> ]&#13;
  [ top | center | bottom | <em>&lt;percentage&gt;</em> | <em>&lt;length&gt;</em> ] |&#13;
  [ center | [ left | right ] [ <em>&lt;percentage&gt;</em> | <em>&lt;length&gt;</em> ]? ] &amp;&amp;&#13;
  [ center | [ top | bottom ] [ <em>&lt;percentage&gt;</em> | <em>&lt;length&gt;</em> ]? ]&#13;
]</pre>&#13;
&#13;
<p>That might seem a little nutty, but it’s all down to the subtly complex patterns that this value type has to allow.</p>&#13;
&#13;
<p>If you declare only one value, such as <code>left</code> or <code>25%</code>, the second value is set to <code>center</code>. Thus, <code>left</code> is the same as <code>left center</code>, and <code>25%</code> is the same as <code>25% center</code>.</p>&#13;
&#13;
<p>If you declare two values (either implicitly, as in the previous example, or explicitly), and the first one is a &lt;<em><code>length</code></em>&gt; or &lt;<em><code>percentage</code></em>&gt;, then it is <em>always</em> considered to be the horizontal value. Therefore, given <code>25% 35px</code>, the <code>25%</code> is a horizontal distance and the <code>35px</code> is a vertical distance. If you swap them to say <code>35px 25%</code>, then <code>35px</code> is horizontal and <code>25%</code> is vertical. If you write <code>25% left</code> or <code>35px right</code>, the entire value is invalid because you have supplied two horizontal distances and no vertical distance. (Similarly, a value of <code>right left</code> or <code>top bottom</code> is invalid and will be ignored.) On the other hand, if you write <code>left 25%</code> or <code>right 35px</code>, there is no problem because you’ve given a horizontal distance (with the keyword) and a vertical distance (with the percentage or length).</p>&#13;
&#13;
<p>If you declare four values (we’ll deal with three in just a moment), you must have two lengths or percentages, each of which is preceded by a keyword. In this case, each length or percentage specifies an offset distance, and each keyword defines the edge from which the offset is calculated. Thus, <code>right 10px bottom 30px</code> means an offset of 10 pixels to the left of the right edge, and an offset of 30 pixels up from the bottom edge. Similarly, <code>top 50% left 35px</code> means a 50% offset from the top and a 35-pixels-to-the-right offset from the left.</p>&#13;
&#13;
<p>You <a data-primary="background-position property" data-type="indexterm" id="idm45176110206464"/>can declare only three position values with the <code>background-position</code> property.  If you declare three values, the rules are the same as for four, except the fourth offset is set to be 0 (no offset). Thus <code>right 20px top</code> is the same as <code>right 20px top 0</code>.</p>&#13;
</div></section>&#13;
&#13;
&#13;
&#13;
&#13;
&#13;
&#13;
<section data-pdf-bookmark="Custom Properties" data-type="sect1"><div class="sect1" id="custom_properties">&#13;
<h1>Custom Properties</h1>&#13;
&#13;
<p>If you’ve <a data-primary="properties" data-secondary="custom" data-type="indexterm" id="ix_properties_custom"/><a data-primary="values" data-secondary="custom properties" data-type="indexterm" id="ix_values_custom_prop"/><a data-primary="custom properties" data-type="indexterm" id="ix_custom_prop"/>used a preprocessor like Less or Sass, you’ve probably created variables to hold values.  CSS itself has this capability as well.  The technical term for this is <em>custom properties</em>, even though what these really do is create something like variables in your CSS.</p>&#13;
&#13;
<p>Here’s a basic example, with the result shown in <a data-type="xref" href="#val_css4_custom-values">Figure 5-18</a> (though color won’t be visible in the printed version):</p>&#13;
&#13;
<pre data-code-language="css" data-type="programlisting"><code class="nt">html</code> <code class="p">{</code>&#13;
    <code class="k">--base-color</code><code class="o">:</code> <code class="m">#639</code><code class="p">;</code>&#13;
    <code class="k">--highlight-color</code><code class="o">:</code> <code class="m">#AEA</code><code class="p">;</code>&#13;
<code class="p">}</code>&#13;
&#13;
<code class="nt">h1</code> <code class="p">{</code><code class="k">color</code><code class="o">:</code> <code class="n">var</code><code class="p">(</code><code class="o">--</code><code class="n">base</code><code class="o">-</code><code class="n">color</code><code class="p">);}</code>&#13;
<code class="nt">h2</code> <code class="p">{</code><code class="k">color</code><code class="o">:</code> <code class="n">var</code><code class="p">(</code><code class="o">--</code><code class="n">highlight</code><code class="o">-</code><code class="n">color</code><code class="p">);}</code></pre>&#13;
&#13;
<figure class="coderesult"><div class="figure" id="val_css4_custom-values">&#13;
<img alt="css5 0518" src="assets/css5_0518.png"/>&#13;
<h6><span class="label">Figure 5-18. </span>Using custom values to color headings</h6>&#13;
</div></figure>&#13;
&#13;
<p>There are two things to absorb here.  The first is the definition of the custom values &#13;
<span class="keep-together"><code>--base-color</code></span> and <code>--highlight-color</code>.  These are not some sort of special color types.  They’re just names that we picked to describe what the values contain.  We could just as easily have said this:</p>&#13;
&#13;
<pre data-code-language="css" data-type="programlisting"><code class="nt">html</code> <code class="p">{</code>&#13;
    <code class="k">--alison</code><code class="o">:</code> <code class="m">#639</code><code class="p">;</code>&#13;
    <code class="k">--david</code><code class="o">:</code> <code class="m">#AEA</code><code class="p">;</code>&#13;
<code class="p">}</code>&#13;
&#13;
<code class="nt">h1</code> <code class="p">{</code><code class="k">color</code><code class="o">:</code> <code class="n">var</code><code class="p">(</code><code class="o">--</code><code class="n">alison</code><code class="p">);}</code>&#13;
<code class="nt">h2</code> <code class="p">{</code><code class="k">color</code><code class="o">:</code> <code class="n">var</code><code class="p">(</code><code class="o">--</code><code class="n">david</code><code class="p">);}</code></pre>&#13;
&#13;
<p>You probably shouldn’t do that sort of thing, unless you’re literally defining colors that specifically correspond to people named Alison and David.  (Perhaps on an “About Our Team” page.)  It’s always better to define custom identifiers that are self-documenting—things like <code>main-color</code> or <code>accent-color</code> or <code>brand-font-face</code>.</p>&#13;
&#13;
<p>The <a data-primary="-- (hyphens, double), in custom properties" data-type="indexterm" id="idm45176110080464"/><a data-primary="hyphens, double (--), in custom properties" data-type="indexterm" id="idm45176110079760"/>important point is that any custom identifier of this type begins with <em>two</em> hyphens (<code>--</code>).  It can then be invoked later by using a <code>var()</code> value type.  Note that these names are case-sensitive, so <code>--main-color</code> and <code>--Main-color</code> are completely separate identifiers.</p>&#13;
&#13;
<p>These <a data-primary="var() function" data-type="indexterm" id="ix_var_func"/>custom identifiers are often referred to as <em>CSS variables</em>, which explains the <code>var()</code> pattern.  An interesting feature of custom properties is their ability to scope themselves to a given portion of the DOM.  If that sentence made any sense to you, it probably gave a little thrill.  If not, here’s an example to illustrate scoping, with the result shown in <a data-type="xref" href="#val_css4_custom-value-scoping">Figure 5-19</a>:</p>&#13;
&#13;
<pre class="pagebreak-before" data-code-language="css" data-type="programlisting"><code class="nt">html</code> <code class="p">{</code>&#13;
    <code class="k">--base-color</code><code class="o">:</code> <code class="m">#666</code><code class="p">;</code>&#13;
<code class="p">}</code>&#13;
<code class="nt">aside</code> <code class="p">{</code>&#13;
    <code class="k">--base-color</code><code class="o">:</code> <code class="m">#CCC</code><code class="p">;</code>&#13;
<code class="p">}</code>&#13;
&#13;
<code class="nt">h1</code> <code class="p">{</code><code class="k">color</code><code class="o">:</code> <code class="n">var</code><code class="p">(</code><code class="o">--</code><code class="n">base</code><code class="o">-</code><code class="n">color</code><code class="p">);}</code></pre>&#13;
&#13;
<pre data-code-language="html" data-type="programlisting"><code class="p">&lt;</code><code class="nt">body</code><code class="p">&gt;</code>&#13;
&#13;
<code class="p">&lt;</code><code class="nt">h1</code><code class="p">&gt;</code>Heading 1<code class="p">&lt;/</code><code class="nt">h1</code><code class="p">&gt;&lt;</code><code class="nt">p</code><code class="p">&gt;</code>Main text.<code class="p">&lt;/</code><code class="nt">p</code><code class="p">&gt;</code>&#13;
&#13;
<code class="p">&lt;</code><code class="nt">aside</code><code class="p">&gt;</code>&#13;
    <code class="p">&lt;</code><code class="nt">h1</code><code class="p">&gt;</code>Heading 1<code class="p">&lt;/</code><code class="nt">h1</code><code class="p">&gt;&lt;</code><code class="nt">p</code><code class="p">&gt;</code>An aside.<code class="p">&lt;/</code><code class="nt">p</code><code class="p">&gt;</code>&#13;
<code class="p">&lt;/</code><code class="nt">aside</code><code class="p">&gt;</code>&#13;
&#13;
<code class="p">&lt;</code><code class="nt">h1</code><code class="p">&gt;</code>Heading 1<code class="p">&lt;/</code><code class="nt">h1</code><code class="p">&gt;&lt;</code><code class="nt">p</code><code class="p">&gt;</code>Main text.<code class="p">&lt;/</code><code class="nt">p</code><code class="p">&gt;</code>&#13;
&#13;
<code class="p">&lt;/</code><code class="nt">body</code><code class="p">&gt;</code></pre>&#13;
&#13;
<figure class="coderesult"><div class="figure" id="val_css4_custom-value-scoping">&#13;
<img alt="css5 0519" src="assets/css5_0519.png"/>&#13;
<h6><span class="label">Figure 5-19. </span>Scoping custom values to certain contexts</h6>&#13;
</div></figure>&#13;
&#13;
<p>Notice that the headings are a dark gray outside the <code>&lt;aside&gt;</code> element and a light gray inside.  That’s because the variable <code>--base-color</code> was updated for <code>&lt;aside&gt;</code> elements.  The new custom value applies to any <code>&lt;h1&gt;</code> inside an <code>&lt;aside&gt;</code> element.</p>&#13;
&#13;
<p>A great many patterns are possible with CSS variables, even if they are confined to value replacement.  Here’s an example suggested by Chriztian Steinmeier combining variables with the <code>calc()</code> function to create a regular set of indents for unordered lists:</p>&#13;
&#13;
<pre data-code-language="css" data-type="programlisting"><code class="nt">html</code> <code class="p">{</code>&#13;
    <code class="k">--gutter</code><code class="o">:</code> <code class="m">3ch</code><code class="p">;</code>&#13;
    <code class="k">--offset</code><code class="o">:</code> <code class="m">1</code><code class="p">;</code>&#13;
<code class="p">}</code>&#13;
<code class="nt">ul</code> <code class="nt">li</code> <code class="p">{</code><code class="k">margin-left</code><code class="o">:</code> <code class="n">calc</code><code class="p">(</code><code class="n">var</code><code class="p">(</code><code class="o">--</code><code class="n">gutter</code><code class="p">)</code> <code class="o">*</code> <code class="n">var</code><code class="p">(</code><code class="o">--</code><code class="n">offset</code><code class="p">));}</code>&#13;
<code class="nt">ul</code> <code class="nt">ul</code> <code class="nt">li</code> <code class="p">{</code><code class="k">--offset</code><code class="o">:</code> <code class="m">2</code><code class="p">;}</code>&#13;
<code class="nt">ul</code> <code class="nt">ul</code> <code class="nt">ul</code> <code class="nt">li</code> <code class="p">{</code><code class="k">--offset</code><code class="o">:</code> <code class="m">3</code><code class="p">;}</code></pre>&#13;
&#13;
<p>This particular example is basically the same as writing the following:</p>&#13;
&#13;
<pre data-code-language="css" data-type="programlisting"><code class="nt">ul</code> <code class="nt">li</code> <code class="p">{</code><code class="k">margin-left</code><code class="o">:</code> <code class="m">3ch</code><code class="p">;}</code>&#13;
<code class="nt">ul</code> <code class="nt">ul</code> <code class="nt">li</code> <code class="p">{</code><code class="k">margin-left</code><code class="o">:</code> <code class="m">6ch</code><code class="p">;}</code>&#13;
<code class="nt">ul</code> <code class="nt">ul</code> <code class="nt">ul</code> <code class="nt">li</code> <code class="p">{</code><code class="k">margin-left</code><code class="o">:</code> <code class="m">9ch</code><code class="p">;}</code></pre>&#13;
&#13;
<p>The difference is that with variables, it’s simple to update the <code>--gutter</code> multiplier in one place and have everything adjust automatically, rather than having to retype three values and make sure all the math is correct.</p>&#13;
&#13;
&#13;
&#13;
&#13;
&#13;
&#13;
&#13;
&#13;
<section data-pdf-bookmark="Custom Property Fallbacks" data-type="sect2"><div class="sect2" id="idm45176109824512">&#13;
<h2>Custom Property Fallbacks</h2>&#13;
&#13;
<p>When you’re setting a value by using <code>var()</code>, you can specify a fallback value.  For example, you could say that if a custom property isn’t defined, you want a regular value used instead, like so:</p>&#13;
&#13;
<pre data-code-language="css" data-type="programlisting"><code class="nt">ol</code> <code class="nt">li</code> <code class="p">{</code><code class="k">margin-left</code><code class="o">:</code> <code class="n">var</code><code class="p">(</code><code class="o">--</code><code class="n">list</code><code class="o">-</code><code class="n">indent</code><code class="o">,</code> <code class="m">2em</code><code class="p">);}</code></pre>&#13;
&#13;
<p>Given that, if <code>--list-indent</code> isn’t defined, is determined to be invalid, or is explicitly set to <code>initial</code>, <code>2em</code> will be used instead.  You get just the one fallback, and it can’t be another custom property name.</p>&#13;
&#13;
<p>That said, it <em>can</em> be another <code>var()</code> expression, and that nested <code>var()</code> can contain another <code>var()</code> as its fallback, and so on to infinity.  So let’s say you’re using a pattern library that defines colors for various interface elements.  If those aren’t available for some reason, you could fall back to a custom property value defined by your basic site stylesheet.  Then, if that’s also not available, you could fall back to a plain color value.  It would look something like this:</p>&#13;
&#13;
<pre data-code-language="css" data-type="programlisting"><code class="nc">.popup</code> <code class="p">{</code><code class="k">color</code><code class="o">:</code> <code class="n">var</code><code class="p">(</code><code class="o">--</code><code class="n">pattern</code><code class="o">-</code><code class="n">modal</code><code class="o">-</code><code class="n">color</code><code class="o">,</code> <code class="n">var</code><code class="p">(</code><code class="o">--</code><code class="n">highlight</code><code class="o">-</code><code class="n">color</code><code class="o">,</code> <code class="nb">maroon</code><code class="p">));}</code></pre>&#13;
&#13;
<p>The thing to watch out for here is that if you manage to create an invalid value, the whole thing gets blown up and the value is either inherited or set to its initial value, depending on whether the property in question is usually inherited or not, as if it were set to <code>unset</code> (see <a data-type="xref" href="#unset">“unset”</a>).</p>&#13;
&#13;
<p>Suppose we wrote the following invalid <code>var()</code> values:</p>&#13;
&#13;
<pre data-code-language="css" data-type="programlisting"><code class="nd">:root</code> <code class="p">{</code>&#13;
	<code class="k">--list-color</code><code class="o">:</code> <code class="n">hsl</code><code class="p">(</code><code class="m">23</code><code class="o">,</code> <code class="m">25%</code><code class="o">,</code> <code class="m">50%</code><code class="p">);</code>&#13;
	<code class="k">--list-indent</code><code class="o">:</code> <code class="m">5vw</code><code class="p">;</code>&#13;
<code class="p">}</code>&#13;
&#13;
<code class="nt">li</code> <code class="p">{</code>&#13;
	<code class="k">color</code><code class="o">:</code> <code class="n">var</code><code class="p">(</code><code class="o">--</code><code class="n">list</code><code class="o">-</code><code class="n">color</code><code class="o">,</code> <code class="o">--</code><code class="n">base</code><code class="o">-</code><code class="n">color</code><code class="o">,</code> <code class="nb">gray</code><code class="p">);</code>&#13;
	<code class="k">margin-left</code><code class="o">:</code> <code class="n">var</code><code class="p">(</code><code class="o">--</code><code class="n">list</code><code class="o">-</code><code class="n">indent</code><code class="o">,</code> <code class="o">--</code><code class="nb">left</code><code class="o">-</code><code class="n">indent</code><code class="o">,</code> <code class="m">2em</code><code class="p">);</code>&#13;
<code class="p">}</code></pre>&#13;
&#13;
<p>In the first case, the fallback is <code>--base-color, gray</code> as a single string, not something that’s parsed, so it’s invalid.  Similarly, in the second case, the fallback <code>--left-indent</code> was never declared.  In either case, if the first custom property is valid, the invalid fallback doesn’t matter, because the browser never gets to it.  But if, say, <code>--list-indent</code> doesn’t have a value, the browser will go to the fallback, and here that’s invalid.  So what happens next?</p>&#13;
&#13;
<p>For the color, since the property <code>color</code> is inherited, the list items will inherit their color from their parent, almost certainly an <code>&lt;ol&gt;</code> or <code>&lt;ul&gt;</code> element.  If the parent’s <code>color</code> value is <code>fuchsia</code>, the list items will be fuchsia.  For the left margin, the property <code>margin-left</code> is not inherited, so the left margins of the list items will be set to the initial value of <code>margin-left</code>, which is <code>0</code>.  So the list items will have no left margin.</p>&#13;
&#13;
<p>This also happens if you try to apply a value to a property that can’t accept those kinds of values.  Consider the following:</p>&#13;
&#13;
<pre data-code-language="css" data-type="programlisting"><code class="nd">:root</code> <code class="p">{</code>&#13;
	<code class="k">--list-color</code><code class="o">:</code> <code class="n">hsl</code><code class="p">(</code><code class="m">23</code><code class="o">,</code> <code class="m">25%</code><code class="o">,</code> <code class="m">50%</code><code class="p">);</code>&#13;
	<code class="k">--list-indent</code><code class="o">:</code> <code class="m">5vw</code><code class="p">;</code>&#13;
<code class="p">}</code>&#13;
&#13;
<code class="nt">li</code> <code class="p">{</code>&#13;
	<code class="k">color</code><code class="o">:</code> <code class="n">var</code><code class="p">(</code><code class="o">--</code><code class="n">list</code><code class="o">-</code><code class="n">indent</code><code class="o">,</code> <code class="nb">gray</code><code class="p">);</code>&#13;
	<code class="k">margin-left</code><code class="o">:</code> <code class="n">var</code><code class="p">(</code><code class="o">--</code><code class="n">list</code><code class="o">-</code><code class="n">color</code><code class="o">,</code> <code class="m">2em</code><code class="p">);</code>&#13;
<code class="p">}</code></pre>&#13;
&#13;
<p>Here, everything looks fine at first glance, except the <code>color</code> property is being given a length value, and the <code>margin-left</code> property is being given a color value.  As a result, the fallbacks of <code>gray</code> and <code>2em</code> are not used.  This is because the <code>var()</code> syntax is valid, so the result is the same as if we declared <code>color: 5vw</code> and <code>margin-left: hsl(23, 25%, 50%)</code>, both of which are tossed out as invalid.</p>&#13;
&#13;
<p>This means the outcome will be the same as we saw before: the list items will inherit the color value from their parents, and their left margins will be set to the initial value of 0, just as if the given values were <code>unset</code>.<a data-primary="" data-startref="ix_custom_prop" data-type="indexterm" id="idm45176109540992"/><a data-primary="" data-startref="ix_properties_custom" data-type="indexterm" id="idm45176109539984"/><a data-primary="" data-startref="ix_values_custom_prop" data-type="indexterm" id="idm45176109539040"/><a data-primary="" data-startref="ix_var_func" data-type="indexterm" id="idm45176109538096"/></p>&#13;
</div></section>&#13;
</div></section>&#13;
&#13;
&#13;
&#13;
&#13;
&#13;
&#13;
<section data-pdf-bookmark="Summary" data-type="sect1"><div class="sect1" id="idm45176110203376">&#13;
<h1>Summary</h1>&#13;
&#13;
<p>As you’ve seen, CSS provides a wide range of value and unit types.  These units can have advantages and drawbacks, depending on the circumstances in which they’re used.  You’ve already seen some of those circumstances, and their nuances will be discussed throughout the rest of the book, as appropriate.</p>&#13;
</div></section>&#13;
</div></section></body></html>