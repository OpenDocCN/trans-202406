<html><head></head><body><section data-pdf-bookmark="Chapter 13. Server-Side Rendering with Vue" data-type="chapter" epub:type="chapter"><div class="chapter" id="unique_chapter_id_12">&#13;
<h1><span class="label">Chapter 13. </span>Server-Side Rendering with Vue</h1>&#13;
&#13;
&#13;
<p>In the previous chapter, we learned how to set up our Vue application’s complete CI/CD pipeline. We also learned how to deploy our application using Netlify for production. Our application is now ready for users to access via the web. With that, we have almost finished our journey with learning Vue. This chapter will explore the other aspect of using Vue, the server-side rendering and static site generation with Nuxt.js<a data-primary="index.html file" data-type="indexterm" id="id1749"/><a data-primary="JavaScript" data-secondary="client-side rendering and" data-type="indexterm" id="id1750"/><a data-primary="applications" data-secondary="client-side rendering" data-type="indexterm" id="id1751"/><a data-primary="client-side rendering" data-type="indexterm" id="id1752"/><a data-primary="mounting" data-secondary="apps and client-side rendering" data-type="indexterm" id="id1753"/><a data-primary="rendering" data-secondary="client-side" data-type="indexterm" id="id1754"/>.</p>&#13;
&#13;
&#13;
&#13;
&#13;
&#13;
&#13;
<section data-pdf-bookmark="Client-Side Rendering in Vue" data-type="sect1"><div class="sect1" id="id136">&#13;
<h1>Client-Side Rendering in Vue</h1>&#13;
&#13;
<p>By default, Vue applications are for client-side rendering, with a placeholder <code>index.html</code> file, JavaScript file (usually compiled in chunks by Vite for performance optimization), and other files like CSS, icons, images, etc., for a complete UI experience. In the initial load, the browser sends a request to the server for the <code>index.html</code> file. In return, the server will deliver the original placeholder file (often with a single element with a unique id selector <code>app</code> for the Vue engine to mount the app instance, and a <code>script</code> tag pointing to the required JavaScript file containing the main code. Once the browser receives the HTML file, it will start parsing and request additional resources, such as the desired <code>main.js</code> file, then execute it to render the rest of the content accordingly (<a data-type="xref" href="#figure_chap12_02">Figure 13-1</a>).</p>&#13;
&#13;
<figure><div class="figure" id="figure_chap12_02">&#13;
<img alt="Screenshot of a HTML placeholder file containing a single div with id of app, and a script tag containing the main code" src="assets/lvue_1301.png"/>&#13;
<h6><span class="label">Figure 13-1. </span>Flow of rendering a client-side Vue application</h6>&#13;
</div></figure>&#13;
&#13;
<p>From this point on, the application finishes initialization, and the user can start interacting with it. Vue will dynamically handle the view-changing requests by users with the built-in routing system. However, if you right-click the page and select <em>View page source</em>, you will see only the code of the original root <code>index.html</code> file but not the current UI view. This behavior can be problematic, especially when building a website or an app that requires good Search Engine Optimization<sup><a data-type="noteref" href="ch13.html#id1755" id="id1755-marker">1</a></sup> (SEO).</p>&#13;
&#13;
<p>In addition, the process of loading and executing JavaScript code before displaying any content to the user can cause a long waiting time for the user due to factors such as heavyweight JavaScript files to download, slow networks, the amount of time the browser takes to paint the content (First Paint), etc. As a result, the whole process can lead to a slow Time To Interactive<sup><a data-type="noteref" href="ch13.html#id1756" id="id1756-marker">2</a></sup> (TTI) and a slow First Contentful Paint<sup><a data-type="noteref" href="ch13.html#id1757" id="id1757-marker">3</a></sup> (FCP). All of these factors affect the overall app performance and user experience and often are challenging to fix<a data-primary="Search Engine Optimization (SEO)" data-type="indexterm" id="id1758"/><a data-primary="SEO (Search Engine Optimization)" data-type="indexterm" id="id1759"/><a data-primary="routing" data-secondary="client-side rendering and" data-type="indexterm" id="id1760"/><a data-primary="FCP (First Contentful Paint)" data-type="indexterm" id="id1761"/><a data-primary="First Contentful Paint (FCP)" data-type="indexterm" id="id1762"/><a data-primary="performance" data-secondary="client-side rendering" data-type="indexterm" id="id1763"/><a data-primary="Time to Interactive (TTI)" data-type="indexterm" id="id1764"/><a data-primary="TTI (Time to Interactive)" data-type="indexterm" id="id1765"/>.</p>&#13;
&#13;
<p>In such scenarios, there may be better choices than client-side rendering applications, such as server-side rendering, which we will explore next.</p>&#13;
</div></section>&#13;
&#13;
&#13;
&#13;
&#13;
&#13;
&#13;
<section data-pdf-bookmark="Server-Side Rendering (SSR)" data-type="sect1"><div class="sect1" id="id137">&#13;
<h1>Server-Side Rendering (SSR)</h1>&#13;
&#13;
<p>As its name indicates, server-side rendering (SSR) is an approach to compile everything on the server side into a fully working HTML page and then deliver to the client side (browser) on demand, instead of performing on the browser<a data-primary="server-side rendering" data-secondary="creating SSR apps" data-type="indexterm" id="ix-ssr-ssr1"/><a data-primary="applications" data-secondary="server-side rendering" data-type="indexterm" id="ix-ssr-ssr1a"/><a data-primary="server-side rendering" data-secondary="understanding" data-type="indexterm" id="ix-ssr-ssr1b"/>.</p>&#13;
&#13;
<p>To develop a local SSR Vue application, we will need a local server to communicate with the browser and handle all the data requests. We can do this by installing Express.js<sup><a data-type="noteref" href="ch13.html#id1766" id="id1766-marker">4</a></sup> as our project’s dependency with the following command<a data-primary="Express.js" data-type="indexterm" id="id1767"/>:</p>&#13;
&#13;
<pre data-code-language="bash" data-type="programlisting">yarn<code class="w"> </code>add<code class="w"> </code>express<code class="w"/></pre>&#13;
&#13;
<p>Once this is installed, we can create a <code>server.js</code> file in our project’s root directly with the code in <a data-type="xref" href="#server-js">Example 13-1</a> to set up our local server<a data-primary="server.js file" data-type="indexterm" id="id1768"/>.</p>&#13;
<div data-type="example" id="server-js">&#13;
<h5><span class="label">Example 13-1. </span>The <code>server.js</code> file for the local server</h5>&#13;
&#13;
<pre data-code-language="javascript" data-type="programlisting"><code class="kr">import</code><code> </code><code class="nx">express</code><code> </code><code class="nx">from</code><code> </code><code class="s1">'express'</code><code>&#13;
&#13;
</code><code class="kr">const</code><code> </code><code class="nx">server</code><code> </code><code class="o">=</code><code> </code><code class="nx">express</code><code class="p">(</code><code class="p">)</code><code> </code><a class="co" href="#callout_server_side_rendering_with_vue_CO1-1" id="co_server_side_rendering_with_vue_CO1-1"><img alt="1" src="assets/1.png"/></a><code>&#13;
&#13;
</code><code class="nx">server</code><code class="p">.</code><code class="nx">get</code><code class="p">(</code><code class="s1">'/'</code><code class="p">,</code><code> </code><code class="p">(</code><code class="nx">req</code><code class="p">,</code><code> </code><code class="nx">res</code><code class="p">)</code><code> </code><code class="o">=&gt;</code><code> </code><code class="p">{</code><code> </code><a class="co" href="#callout_server_side_rendering_with_vue_CO1-2" id="co_server_side_rendering_with_vue_CO1-2"><img alt="2" src="assets/2.png"/></a><code>&#13;
    </code><code class="nx">res</code><code class="p">.</code><code class="nx">send</code><code class="p">(</code><code class="sb">`</code><code class="sb">  </code><a class="co" href="#callout_server_side_rendering_with_vue_CO1-3" id="co_server_side_rendering_with_vue_CO1-3"><img alt="3" src="assets/3.png"/></a><code class="sb">&#13;
        &lt;!DOCTYPE html&gt;&#13;
        &lt;html&gt;&#13;
        &lt;head&gt;&#13;
            &lt;title&gt;Vue SSR Example&lt;/title&gt;&#13;
        &lt;/head&gt;&#13;
        &lt;body&gt;&#13;
            &lt;main id="app"&gt;Vue SSR Demo&lt;/main&gt;&#13;
        &lt;/body&gt;&#13;
        &lt;/html&gt;&#13;
    </code><code class="sb">`</code><code class="p">)</code><code>&#13;
</code><code class="p">}</code><code class="p">)</code><code>&#13;
&#13;
</code><code class="nx">server</code><code class="p">.</code><code class="nx">listen</code><code class="p">(</code><code class="mi">3000</code><code class="p">,</code><code> </code><code class="p">(</code><code class="p">)</code><code> </code><code class="o">=&gt;</code><code> </code><code class="p">{</code><code> </code><code class="nx">console</code><code class="p">.</code><code class="nx">log</code><code class="p">(</code><code class="s1">'We are ready to go'</code><code class="p">)</code><code> </code><code class="p">}</code><code class="p">)</code><code> </code><a class="co" href="#callout_server_side_rendering_with_vue_CO1-4" id="co_server_side_rendering_with_vue_CO1-4"><img alt="4" src="assets/4.png"/></a></pre></div>&#13;
<dl class="calloutlist">&#13;
<dt><a class="co" href="#co_server_side_rendering_with_vue_CO1-1" id="callout_server_side_rendering_with_vue_CO1-1"><img alt="1" src="assets/1.png"/></a></dt>&#13;
<dd><p>Create a <code>server</code> instance</p></dd>&#13;
<dt><a class="co" href="#co_server_side_rendering_with_vue_CO1-2" id="callout_server_side_rendering_with_vue_CO1-2"><img alt="2" src="assets/2.png"/></a></dt>&#13;
<dd><p>Define the handler for any request for the entry URL <em>“/”</em></p></dd>&#13;
<dt><a class="co" href="#co_server_side_rendering_with_vue_CO1-3" id="callout_server_side_rendering_with_vue_CO1-3"><img alt="3" src="assets/3.png"/></a></dt>&#13;
<dd><p>The handler will return a string acting as an HTML page that displays <em>Vue SSR Demo</em> on the browser.</p></dd>&#13;
<dt><a class="co" href="#co_server_side_rendering_with_vue_CO1-4" id="callout_server_side_rendering_with_vue_CO1-4"><img alt="4" src="assets/4.png"/></a></dt>&#13;
<dd><p>We set up the local server to run and listen at port 3000.</p></dd>&#13;
</dl>&#13;
&#13;
<p>Within the project’s root directory, we can start our local server using the <code>node server.js</code> command. Once our server is ready, we must create our application on the server with the method <code>createSSRApp</code> from the <code>vue</code> package. For example, let’s compose a Vue application that displays a digital clock with the current date and time in a dedicated file, <code>app.js</code>, with the code in <a data-type="xref" href="#app-js">Example 13-2</a><a data-primary="server.js command" data-type="indexterm" id="ix-ssr-ssr2"/><a data-primary="createSSRApp()" data-type="indexterm" id="id1769"/><a data-primary="Node.js" data-secondary="server-side rendering" data-type="indexterm" id="id1770"/>.</p>&#13;
<div data-type="example" id="app-js">&#13;
<h5><span class="label">Example 13-2. </span>The <code>app.js</code> file for the Digital Clock application</h5>&#13;
&#13;
<pre data-code-language="javascript" data-type="programlisting"><code class="kr">import</code><code> </code><code class="p">{</code><code> </code><code class="nx">createSSRApp</code><code class="p">,</code><code> </code><code class="nx">ref</code><code> </code><code class="p">}</code><code> </code><code class="nx">from</code><code> </code><code class="s1">'vue'</code><code>&#13;
&#13;
</code><code class="kr">const</code><code> </code><code class="nx">App</code><code> </code><code class="o">=</code><code> </code><code class="p">{</code><code> </code><a class="co" href="#callout_server_side_rendering_with_vue_CO2-1" id="co_server_side_rendering_with_vue_CO2-1"><img alt="1" src="assets/1.png"/></a><code>&#13;
    </code><code class="nx">template</code><code class="o">:</code><code> </code><code class="sb">`</code><code class="sb">&#13;
        &lt;h1&gt;Digital Clock&lt;/h1&gt;&#13;
        &lt;p class="date"&gt;{{ date }}&lt;/p&gt;&#13;
        &lt;p class="time"&gt;{{ time }}&lt;/p&gt;&#13;
    </code><code class="sb">`</code><code class="p">,</code><code>&#13;
    </code><code class="nx">setup</code><code class="p">(</code><code class="p">)</code><code> </code><code class="p">{</code><code>&#13;
        </code><code class="kr">const</code><code> </code><code class="nx">date</code><code> </code><code class="o">=</code><code> </code><code class="nx">ref</code><code class="p">(</code><code class="s1">''</code><code class="p">)</code><code class="p">;</code><code>&#13;
        </code><code class="kr">const</code><code> </code><code class="nx">time</code><code> </code><code class="o">=</code><code> </code><code class="nx">ref</code><code class="p">(</code><code class="s1">''</code><code class="p">)</code><code class="p">;</code><code>&#13;
&#13;
        </code><code class="nx">setInterval</code><code class="p">(</code><code class="p">(</code><code class="p">)</code><code> </code><code class="o">=&gt;</code><code> </code><code class="p">{</code><code>&#13;
            </code><code class="kr">const</code><code> </code><code class="nx">WEEKDAYS</code><code> </code><code class="o">=</code><code> </code><code class="p">[</code><code class="s1">'SUN'</code><code class="p">,</code><code> </code><code class="s1">'MON'</code><code class="p">,</code><code> </code><code class="s1">'TUE'</code><code class="p">,</code><code> </code><code class="s1">'WED'</code><code class="p">,</code><code> </code><code class="s1">'THU'</code><code class="p">,</code><code> </code><code class="s1">'FRI'</code><code class="p">,</code><code> </code><code class="s1">'SAT'</code><code class="p">]</code><code class="p">;</code><code>&#13;
            </code><code class="kr">const</code><code> </code><code class="nx">MONTHS</code><code> </code><code class="o">=</code><code> </code><code class="p">[</code><code>&#13;
                </code><code class="s1">'Jan'</code><code class="p">,</code><code> </code><code class="s1">'Feb'</code><code class="p">,</code><code> </code><code class="s1">'Mar'</code><code class="p">,</code><code>&#13;
                </code><code class="s1">'Apr'</code><code class="p">,</code><code> </code><code class="s1">'May'</code><code class="p">,</code><code> </code><code class="s1">'Jun'</code><code class="p">,</code><code>&#13;
                </code><code class="s1">'Jul'</code><code class="p">,</code><code> </code><code class="s1">'Aug'</code><code class="p">,</code><code> </code><code class="s1">'Sep'</code><code class="p">,</code><code>&#13;
                </code><code class="s1">'Oct'</code><code class="p">,</code><code> </code><code class="s1">'Nov'</code><code class="p">,</code><code> </code><code class="s1">'Dev'</code><code>&#13;
            </code><code class="p">]</code><code class="p">;</code><code>&#13;
&#13;
            </code><code class="kr">const</code><code> </code><code class="nx">currDate</code><code> </code><code class="o">=</code><code> </code><code class="k">new</code><code> </code><code class="nb">Date</code><code class="p">(</code><code class="p">)</code><code class="p">;</code><code>&#13;
            </code><code class="kr">const</code><code> </code><code class="nx">minutes</code><code> </code><code class="o">=</code><code> </code><code class="nx">currDate</code><code class="p">.</code><code class="nx">getMinutes</code><code class="p">(</code><code class="p">)</code><code class="p">;</code><code>&#13;
            </code><code class="kr">const</code><code> </code><code class="nx">seconds</code><code> </code><code class="o">=</code><code> </code><code class="nx">currDate</code><code class="p">.</code><code class="nx">getSeconds</code><code class="p">(</code><code class="p">)</code><code class="p">;</code><code>&#13;
            </code><code class="kr">const</code><code> </code><code class="nx">day</code><code> </code><code class="o">=</code><code> </code><code class="nx">WEEKDAYS</code><code class="p">[</code><code class="nx">currDate</code><code class="p">.</code><code class="nx">getDay</code><code class="p">(</code><code class="p">)</code><code class="p">]</code><code class="p">;</code><code>&#13;
            </code><code class="kr">const</code><code> </code><code class="nx">month</code><code> </code><code class="o">=</code><code> </code><code class="nx">MONTHS</code><code class="p">[</code><code class="nx">currDate</code><code class="p">.</code><code class="nx">getMonth</code><code class="p">(</code><code class="p">)</code><code class="p">]</code><code class="p">.</code><code class="nx">toUpperCase</code><code class="p">(</code><code class="p">)</code><code class="p">;</code><code>&#13;
&#13;
            </code><code class="kr">const</code><code> </code><code class="nx">formatTime</code><code> </code><code class="o">=</code><code> </code><code class="p">(</code><code class="nx">time</code><code class="p">)</code><code> </code><code class="o">=&gt;</code><code> </code><code class="p">{</code><code>&#13;
                </code><code class="k">return</code><code> </code><code class="nx">time</code><code> </code><code class="o">&lt;</code><code> </code><code class="mi">10</code><code> </code><code class="o">?</code><code> </code><code class="sb">`</code><code class="sb">0</code><code class="si">${</code><code class="nx">time</code><code class="si">}</code><code class="sb">`</code><code> </code><code class="o">:</code><code> </code><code class="nx">time</code><code class="p">;</code><code>&#13;
            </code><code class="p">}</code><code>&#13;
&#13;
            </code><code class="nx">date</code><code class="p">.</code><code class="nx">value</code><code> </code><code class="o">=</code><code>&#13;
              </code><code class="sb">`</code><code class="si">${</code><code class="nx">day</code><code class="si">}</code><code class="sb">, </code><code class="si">${</code><code class="nx">currDate</code><code class="p">.</code><code class="nx">getDate</code><code class="p">(</code><code class="p">)</code><code class="si">}</code><code class="sb"> </code><code class="si">${</code><code class="nx">month</code><code class="si">}</code><code class="sb"> </code><code class="si">${</code><code class="nx">currDate</code><code class="p">.</code><code class="nx">getFullYear</code><code class="p">(</code><code class="p">)</code><code class="si">}</code><code class="sb">`</code><code>&#13;
            </code><code class="nx">time</code><code class="p">.</code><code class="nx">value</code><code> </code><code class="o">=</code><code>&#13;
              </code><code class="sb">`</code><code class="si">${</code><code class="nx">currDate</code><code class="p">.</code><code class="nx">getHours</code><code class="p">(</code><code class="p">)</code><code class="si">}</code><code class="sb">:</code><code class="si">${</code><code class="nx">formatTime</code><code class="p">(</code><code class="nx">minutes</code><code class="p">)</code><code class="si">}</code><code class="sb">:</code><code class="si">${</code><code class="nx">formatTime</code><code class="p">(</code><code class="nx">seconds</code><code class="p">)</code><code class="si">}</code><code class="sb">`</code><code>&#13;
        </code><code class="p">}</code><code class="p">,</code><code> </code><code class="mi">1000</code><code class="p">)</code><code>&#13;
&#13;
        </code><code class="k">return</code><code> </code><code class="p">{</code><code>&#13;
            </code><code class="nx">date</code><code class="p">,</code><code>&#13;
            </code><code class="nx">time</code><code>&#13;
        </code><code class="p">}</code><code>&#13;
    </code><code class="p">}</code><code>&#13;
</code><code class="p">}</code><code>&#13;
&#13;
</code><code class="kr">export</code><code> </code><code class="kd">function</code><code> </code><code class="nx">createApp</code><code class="p">(</code><code class="p">)</code><code> </code><code class="p">{</code><code>&#13;
  </code><code class="k">return</code><code> </code><code class="nx">createSSRApp</code><code class="p">(</code><code class="nx">App</code><code class="p">)</code><code> </code><a class="co" href="#callout_server_side_rendering_with_vue_CO2-2" id="co_server_side_rendering_with_vue_CO2-2"><img alt="2" src="assets/2.png"/></a><code>&#13;
</code><code class="p">}</code></pre></div>&#13;
<dl class="calloutlist">&#13;
<dt><a class="co" href="#co_server_side_rendering_with_vue_CO2-1" id="callout_server_side_rendering_with_vue_CO2-1"><img alt="1" src="assets/1.png"/></a></dt>&#13;
<dd><p>We define the options for our main application’s component, App.</p></dd>&#13;
<dt><a class="co" href="#co_server_side_rendering_with_vue_CO2-2" id="callout_server_side_rendering_with_vue_CO2-2"><img alt="2" src="assets/2.png"/></a></dt>&#13;
<dd><p>We use <code>createSSRApp()</code> to build the application on the server side with <code>App</code> options.</p></dd>&#13;
</dl>&#13;
&#13;
<p>This file exposes a single method, <code>createApp()</code>, to use in both server and client, returning a Vue instance ready for mounting<a data-primary="createApp()" data-type="indexterm" id="id1771"/>.</p>&#13;
&#13;
<p class="pagebreak-before">In our <code>server.js</code> file, we will use this <code>createApp()</code> from <code>app.js</code> to create the server-side app instance and render it into an HTML formatted string with the <code>renderToString()</code> method from the <code>vue/server-renderer</code> package. Once <code>renderToString()</code> resolves with a content string, we will replace the content in the returned response with it, as shown in <a data-type="xref" href="#update-server-js">Example 13-3</a><a data-primary="renderToString(), server-side rendering" data-type="indexterm" id="id1772"/>.</p>&#13;
<div data-type="example" id="update-server-js">&#13;
<h5><span class="label">Example 13-3. </span>Update <code>server.js</code> to render the app instance into an HTML string</h5>&#13;
&#13;
<pre data-code-language="javascript" data-type="programlisting"><code class="kr">import</code><code> </code><code class="p">{</code><code> </code><code class="nx">createApp</code><code> </code><code class="p">}</code><code> </code><code class="nx">from</code><code> </code><code class="s1">'./app.js'</code><code>&#13;
</code><code class="kr">import</code><code> </code><code class="nx">express</code><code> </code><code class="nx">from</code><code> </code><code class="s1">'express'</code><code>&#13;
</code><code class="kr">import</code><code> </code><code class="p">{</code><code> </code><code class="nx">renderToString</code><code> </code><code class="p">}</code><code> </code><code class="nx">from</code><code> </code><code class="s1">'vue/server-renderer'</code><code class="p">;</code><code>&#13;
&#13;
</code><code class="kr">const</code><code> </code><code class="nx">server</code><code> </code><code class="o">=</code><code> </code><code class="nx">express</code><code class="p">(</code><code class="p">)</code><code>&#13;
&#13;
</code><code class="nx">server</code><code class="p">.</code><code class="nx">get</code><code class="p">(</code><code class="s1">'/'</code><code class="p">,</code><code> </code><code class="p">(</code><code class="nx">req</code><code class="p">,</code><code> </code><code class="nx">res</code><code class="p">)</code><code> </code><code class="o">=&gt;</code><code> </code><code class="p">{</code><code>&#13;
  </code><code class="kr">const</code><code> </code><code class="nx">app</code><code> </code><code class="o">=</code><code> </code><code class="nx">createApp</code><code class="p">(</code><code class="p">)</code><code class="p">;</code><code> </code><a class="co" href="#callout_server_side_rendering_with_vue_CO3-1" id="co_server_side_rendering_with_vue_CO3-1"><img alt="1" src="assets/1.png"/></a><code>&#13;
&#13;
  </code><code class="nx">renderToString</code><code class="p">(</code><code class="nx">app</code><code class="p">)</code><code class="p">.</code><code class="nx">then</code><code class="p">(</code><code class="p">(</code><code class="nx">html</code><code class="p">)</code><code> </code><code class="o">=&gt;</code><code> </code><code class="p">{</code><code>&#13;
    </code><code class="nx">res</code><code class="p">.</code><code class="nx">send</code><code class="p">(</code><code class="sb">`</code><code class="sb">&#13;
    &lt;!DOCTYPE html&gt;&#13;
    &lt;html&gt;&#13;
      &lt;head&gt;&#13;
        &lt;title&gt;Vue SSR Demo - Digital Clock&lt;/title&gt;&#13;
      &lt;/head&gt;&#13;
      &lt;body&gt;&#13;
        &lt;div id="app"&gt;</code><code class="si">${</code><code class="nx">html</code><code class="si">}</code><code class="sb">&lt;/div&gt; </code><a class="co" href="#callout_server_side_rendering_with_vue_CO3-2" id="co_server_side_rendering_with_vue_CO3-2"><img alt="2" src="assets/2.png"/></a><code class="sb">&#13;
      &lt;/body&gt;&#13;
    &lt;/html&gt;&#13;
    </code><code class="sb">`</code><code class="p">)</code><code class="p">;</code><code>&#13;
  </code><code class="p">}</code><code class="p">)</code><code class="p">;</code><code>&#13;
</code><code class="p">}</code><code class="p">)</code><code class="p">;</code><code>&#13;
&#13;
</code><code class="nx">server</code><code class="p">.</code><code class="nx">listen</code><code class="p">(</code><code class="mi">3000</code><code class="p">,</code><code> </code><code class="p">(</code><code class="p">)</code><code> </code><code class="o">=&gt;</code><code> </code><code class="p">{</code><code> </code><code class="nx">console</code><code class="p">.</code><code class="nx">log</code><code class="p">(</code><code class="s1">'We are ready to go'</code><code class="p">)</code><code> </code><code class="p">}</code><code class="p">)</code></pre></div>&#13;
<dl class="calloutlist">&#13;
<dt><a class="co" href="#co_server_side_rendering_with_vue_CO3-1" id="callout_server_side_rendering_with_vue_CO3-1"><img alt="1" src="assets/1.png"/></a></dt>&#13;
<dd><p>App instance creation with <code>createApp()</code></p></dd>&#13;
<dt><a class="co" href="#co_server_side_rendering_with_vue_CO3-2" id="callout_server_side_rendering_with_vue_CO3-2"><img alt="2" src="assets/2.png"/></a></dt>&#13;
<dd><p>Place the generated HTML string from <code>renderToString()</code> within a <code>div</code> of <code>#app</code> as its id.</p></dd>&#13;
</dl>&#13;
&#13;
<p>When we head to <em><a class="bare" href="http://locahost:3000/"><em class="hyperlink">http://locahost:3000/</em></a></em>, we will see the browser displays only the title, <em>Digital Clock</em> (<a data-type="xref" href="#figure_ch12_clock_empty">Figure 13-2</a>), with the fields <code>date</code> and <code>time</code> empty.</p>&#13;
&#13;
<figure><div class="figure" id="figure_ch12_clock_empty">&#13;
<img alt="Digital Clock" src="assets/lvue_1302.png"/>&#13;
<h6><span class="label">Figure 13-2. </span>Empty Digital Clock</h6>&#13;
</div></figure>&#13;
&#13;
<p>This behavior happens because we only generate the HTML static code to return to the client side, but no Vue is available in the browser. The same goes for any interactive behavior, such as the <code>onClick</code> event handler. To solve this interactive problem, we need to mount our app in hydration mode, allowing Vue to take over the static HTML and make it interactive and dynamic once the HTML is available on the browser side. We can do this by defining an <code>entry-client.js</code>, which will use the <code>createApp()</code> from <code>app.js</code> to get the app instance. The browser will execute this file and mount the Vue instance to the correct element in the DOM (<a data-type="xref" href="#entry-client-js">Example 13-4</a>)<a data-primary="entry-client.js" data-type="indexterm" id="id1773"/><a data-primary="hydration mode" data-type="indexterm" id="id1774"/><a data-primary="mounting" data-secondary="apps and server-side rendering" data-type="indexterm" id="id1775"/>.</p>&#13;
<div data-type="example" id="entry-client-js">&#13;
<h5><span class="label">Example 13-4. </span>The <code>entry-client.js</code> file for mounting the app instance in hydration mode</h5>&#13;
&#13;
<pre data-code-language="javascript" data-type="programlisting"><code class="kr">import</code> <code class="p">{</code> <code class="nx">createApp</code> <code class="p">}</code> <code class="nx">from</code> <code class="s1">'./app.js'</code><code class="p">;</code>&#13;
&#13;
<code class="nx">createApp</code><code class="p">().</code><code class="nx">mount</code><code class="p">(</code><code class="s1">'#app'</code><code class="p">);</code></pre></div>&#13;
&#13;
<p>We will also update the <code>server.js</code> file to load the <code>entry-client.js</code> file in the browser using the <code>&lt;script&gt;</code> tag, and enable serving client files in the browser (<a data-type="xref" href="#update-server-js-2">Example 13-5</a>).</p>&#13;
<div data-type="example" id="update-server-js-2">&#13;
<h5><span class="label">Example 13-5. </span>Update <code>server.js</code> to load <code>entry-client.js</code> in the browser</h5>&#13;
&#13;
<pre data-code-language="javascript" data-type="programlisting"><code class="c1">//...&#13;
</code><code>&#13;
</code><code class="nx">server</code><code class="p">.</code><code class="nx">get</code><code class="p">(</code><code class="s1">'/'</code><code class="p">,</code><code> </code><code class="p">(</code><code class="nx">req</code><code class="p">,</code><code> </code><code class="nx">res</code><code class="p">)</code><code> </code><code class="o">=&gt;</code><code> </code><code class="p">{</code><code>&#13;
  </code><code class="kr">const</code><code> </code><code class="nx">app</code><code> </code><code class="o">=</code><code> </code><code class="nx">createApp</code><code class="p">(</code><code class="p">)</code><code class="p">;</code><code>&#13;
&#13;
  </code><code class="nx">renderToString</code><code class="p">(</code><code class="nx">app</code><code class="p">)</code><code class="p">.</code><code class="nx">then</code><code class="p">(</code><code class="p">(</code><code class="nx">html</code><code class="p">)</code><code> </code><code class="o">=&gt;</code><code> </code><code class="p">{</code><code>&#13;
    </code><code class="nx">res</code><code class="p">.</code><code class="nx">send</code><code class="p">(</code><code class="sb">`</code><code class="sb">&#13;
    &lt;!DOCTYPE html&gt;&#13;
    &lt;html&gt;&#13;
      &lt;head&gt;&#13;
        &lt;title&gt;Vue SSR Demo - Digital Clock&lt;/title&gt;&#13;
        &lt;script type="importmap"&gt; </code><a class="co" href="#callout_server_side_rendering_with_vue_CO4-1" id="co_server_side_rendering_with_vue_CO4-1"><img alt="1" src="assets/1.png"/></a><code class="sb">&#13;
          {&#13;
            "imports": {&#13;
              "vue": "https://unpkg.com/vue@3/dist/vue.esm-browser.js"&#13;
            }&#13;
          }&#13;
        &lt;/script&gt;&#13;
        &lt;script type="module" src="/entry-client.js"&gt;&lt;/script&gt; </code><a class="co" href="#callout_server_side_rendering_with_vue_CO4-2" id="co_server_side_rendering_with_vue_CO4-2"><img alt="2" src="assets/2.png"/></a><code class="sb">&#13;
      &lt;/head&gt;&#13;
      &lt;body&gt;&#13;
        &lt;div id="app"&gt;</code><code class="si">${</code><code class="nx">html</code><code class="si">}</code><code class="sb">&lt;/div&gt;&#13;
      &lt;/body&gt;&#13;
    &lt;/html&gt;&#13;
    </code><code class="sb">`</code><code class="p">)</code><code class="p">;</code><code>&#13;
  </code><code class="p">}</code><code class="p">)</code><code class="p">;</code><code>&#13;
</code><code class="p">}</code><code class="p">)</code><code class="p">;</code><code>&#13;
&#13;
</code><code class="nx">server</code><code class="p">.</code><code class="nx">use</code><code class="p">(</code><code class="nx">express</code><code class="p">.</code><code class="kr">static</code><code class="p">(</code><code class="s1">'.'</code><code class="p">)</code><code class="p">)</code><code class="p">;</code><code> </code><a class="co" href="#callout_server_side_rendering_with_vue_CO4-3" id="co_server_side_rendering_with_vue_CO4-3"><img alt="3" src="assets/3.png"/></a></pre></div>&#13;
<dl class="calloutlist">&#13;
<dt><a class="co" href="#co_server_side_rendering_with_vue_CO4-1" id="callout_server_side_rendering_with_vue_CO4-1"><img alt="1" src="assets/1.png"/></a></dt>&#13;
<dd><p>Load the source for the <code>vue</code> package using <code>importmap</code></p></dd>&#13;
<dt><a class="co" href="#co_server_side_rendering_with_vue_CO4-2" id="callout_server_side_rendering_with_vue_CO4-2"><img alt="2" src="assets/2.png"/></a></dt>&#13;
<dd><p>Load the <code>entry-client.js</code> file in the browser using a <code>&lt;script&gt;</code> tag</p></dd>&#13;
<dt><a class="co" href="#co_server_side_rendering_with_vue_CO4-3" id="callout_server_side_rendering_with_vue_CO4-3"><img alt="3" src="assets/3.png"/></a></dt>&#13;
<dd><p>Enable serving client files in the browser</p></dd>&#13;
</dl>&#13;
&#13;
<p>When we restart the server and refresh the browser, we will see the clock displayed with the updated date and time<a data-primary="" data-startref="ix-ssr-ssr2" data-type="indexterm" id="id1776"/>.</p>&#13;
&#13;
<figure><div class="figure" id="figure_ch12_clock">&#13;
<img alt="Digital Clock" src="assets/lvue_1303.png"/>&#13;
<h6><span class="label">Figure 13-3. </span>Digital Clock</h6>&#13;
</div></figure>&#13;
<div data-type="warning" epub:type="warning"><h1>Using DOM API and Node API in SSR</h1>&#13;
<p>You can’t use DOM APIs and web APIs in SSR, since those are browser-only APIs. You also can’t use Node API for client-side components only, such as <code>fs</code> for file reader<a data-primary="DOM (Document Object Model)" data-secondary="server-side rendering and" data-type="indexterm" id="id1777"/><a data-primary="Node.js" data-secondary="server-side rendering" data-type="indexterm" id="id1778"/>.</p>&#13;
</div>&#13;
&#13;
<p>We have learned how to create a simple SSR Vue application. Nevertheless, when we need to handle a more complex application, such as using Vue SFC, code splitting, Vue Router, which may require <code>window</code> API, and so on, we may need to build an engine to handle application code bundling, rendering with the right bundled code, wrapping Vue Router to work, etc., which can be a tedious task.</p>&#13;
&#13;
<p>Instead, we can use a framework that already provides this engine, such as Nuxt.js, discussed in the next section<a data-primary="" data-startref="ix-ssr-ssr1" data-type="indexterm" id="id1779"/><a data-primary="" data-startref="ix-ssr-ssr1a" data-type="indexterm" id="id1780"/><a data-primary="" data-startref="ix-ssr-ssr1b" data-type="indexterm" id="id1781"/>.</p>&#13;
</div></section>&#13;
&#13;
&#13;
&#13;
&#13;
&#13;
&#13;
<section data-pdf-bookmark="Server-Side Rendering with Nuxt.Js" data-type="sect1"><div class="sect1" id="id138">&#13;
<h1>Server-Side Rendering with Nuxt.Js</h1>&#13;
&#13;
<p>Nuxt.js (Nuxt) is an open source modular-based SSR framework built on Vue. It offers many features out of the box, such as file-based routing systems, performance optimization, different build mode, etc., while focusing on the developer’s experience (<a data-type="xref" href="#figure_ch12_nuxtjs">Figure 13-4</a>)<a data-primary="Nuxt.js" data-type="indexterm" id="ix-ssr-ssr3"/><a data-primary="server-side rendering" data-secondary="with Nuxt" data-secondary-sortas="Nuxt" data-type="indexterm" id="ix-ssr-ssr3a"/>.</p>&#13;
&#13;
<figure><div class="figure" id="figure_ch12_nuxtjs">&#13;
<img alt="Nuxt.js Official Website" src="assets/lvue_1304.png"/>&#13;
<h6><span class="label">Figure 13-4. </span>Nuxt.js official website</h6>&#13;
</div></figure>&#13;
&#13;
<p>As a modular-based framework, the Nuxt package acts as the core, where we can plug other Nuxt-supported modules into the app to extend an application’s core functionality. You can find the list of available Nuxt modules at <a href="https://oreil.ly/hkdnj">Nuxt modules official documentation</a>, including modules for SEO, PWA, i18n, etc.</p>&#13;
<div data-type="note" epub:type="note"><h6>Note</h6>&#13;
<p>Visit <a href="https://oreil.ly/1B2vg">Nuxt’s official documentation</a> to learn more about its API documentation, installation, and primary use cases for reference.&#13;
At the time of writing, Nuxt 3.4.2 is the latest version<a data-primary="versions" data-secondary="Nuxt" data-type="indexterm" id="id1782"/>.</p>&#13;
</div>&#13;
&#13;
<p>In this section, we will create our Pizza House application featured in <a data-type="xref" href="ch08.html#unique_chapter_id_07">Chapter 8</a> using Nuxt. We will start with the following command to create a new Nuxt application:</p>&#13;
&#13;
<pre data-code-language="shell" data-type="programlisting">npx<code class="w"> </code>nuxi<code class="w"> </code>init<code class="w"> </code>pizza-house<code class="w"/></pre>&#13;
&#13;
<p><code>pizza-house</code> is our project name, and <code>nuxi</code> is the Nuxt CLI that will scaffold a Nuxt application with the following main files:</p>&#13;
<dl>&#13;
<dt><code>app.vue</code></dt>&#13;
<dd>&#13;
<p>The root component for the application.</p>&#13;
</dd>&#13;
<dt><code>nuxt.config.ts</code></dt>&#13;
<dd>&#13;
<p>The configuration file for Nuxt, including setting up the plugins, CSS path, application metadata, etc<a data-primary="configuring" data-secondary="server-side rendering with Nuxt" data-type="indexterm" id="id1783"/><a data-primary="nuxt.config.ts file" data-type="indexterm" id="id1784"/>.</p>&#13;
</dd>&#13;
</dl>&#13;
<div data-type="note" epub:type="note"><h6>Note</h6>&#13;
<p>Nuxt will create the application with TypeScript support by default<a data-primary="TypeScript" data-secondary="server-side rendering with Nuxt" data-type="indexterm" id="id1785"/>.</p>&#13;
</div>&#13;
&#13;
<p>Nuxt will also create script commands for building and running the application locally in <code>package.json</code>, as seen in <a data-type="xref" href="#package_json">Example 13-6</a><a data-primary="package.json file" data-secondary="server-side rendering with Nuxt" data-type="indexterm" id="id1786"/>.</p>&#13;
<div data-type="example" id="package_json">&#13;
<h5><span class="label">Example 13-6. </span>The <code>package.json</code> file for Nuxt application</h5>&#13;
&#13;
<pre data-code-language="json" data-type="programlisting"><code class="nt">"scripts"</code><code class="p">:</code><code class="w"> </code><code class="p">{</code><code class="w"/>&#13;
<code class="w">    </code><code class="nt">"build"</code><code class="p">:</code><code class="w"> </code><code class="s2">"nuxt build"</code><code class="p">,</code><code class="w"/>&#13;
<code class="w">    </code><code class="nt">"dev"</code><code class="p">:</code><code class="w"> </code><code class="s2">"nuxt dev"</code><code class="p">,</code><code class="w"/>&#13;
<code class="w">    </code><code class="nt">"generate"</code><code class="p">:</code><code class="w"> </code><code class="s2">"nuxt generate"</code><code class="p">,</code><code class="w"/>&#13;
<code class="w">    </code><code class="nt">"preview"</code><code class="p">:</code><code class="w"> </code><code class="s2">"nuxt preview"</code><code class="p">,</code><code class="w"/>&#13;
<code class="w">    </code><code class="nt">"postinstall"</code><code class="p">:</code><code class="w"> </code><code class="s2">"nuxt prepare"</code><code class="w"/>&#13;
<code class="p">},</code><code class="w"/></pre></div>&#13;
&#13;
<p>After running the <code>yarn</code> command to install the dependencies, we can run the <code>yarn dev</code> command to start the application locally and visit <em>http://localhost:3000</em> to see the default Nuxt landing page.</p>&#13;
&#13;
<p>Since Nuxt supports file-based routing using the <code>pages</code> folder, we will now define our routing systems under this folder<a data-primary="routing" data-secondary="server-side rendering with Nuxt" data-type="indexterm" id="id1787"/><a data-primary="pages folder, server-side rendering with Nuxt" data-type="indexterm" id="id1788"/>:</p>&#13;
<dl>&#13;
<dt>index.vue</dt>&#13;
<dd>&#13;
<p>The home page for the application. Nuxt will automatically map this page to the root path (<em>/</em>).</p>&#13;
</dd>&#13;
<dt>pizzas/index.vue</dt>&#13;
<dd>&#13;
<p>The page displaying the list of pizzas, with the path <em>/pizzas</em>.</p>&#13;
</dd>&#13;
<dt>pizzas/[id].vue</dt>&#13;
<dd>&#13;
<p>This is a dynamic nested page, where <code>[id]</code> is the placeholder for the pizza’s id for displaying the pizza details. Nuxt will automatically map this page to the path &#13;
<span class="keep-together"><em>/pizzas/:id</em></span>, such as <em>/pizza/1</em>, <em>/pizza/2</em>, etc.</p>&#13;
</dd>&#13;
</dl>&#13;
&#13;
<p>Next, we need to replace the content of <code>app.vue</code> with the code in <a data-type="xref" href="#update-app-vue">Example 13-7</a> to have the routing system working.</p>&#13;
<div data-type="example" id="update-app-vue">&#13;
<h5><span class="label">Example 13-7. </span>Update <code>app.vue</code> to use Nuxt’s layout and page components</h5>&#13;
&#13;
<pre data-code-language="html" data-type="programlisting"><code class="p">&lt;</code><code class="nt">template</code><code class="p">&gt;</code>&#13;
  <code class="p">&lt;</code><code class="nt">div</code><code class="p">&gt;</code>&#13;
    <code class="p">&lt;</code><code class="nt">NuxtLayout</code><code class="p">&gt;</code>&#13;
      <code class="p">&lt;</code><code class="nt">NuxtPage</code><code class="p">/&gt;</code>&#13;
    <code class="p">&lt;/</code><code class="nt">NuxtLayout</code><code class="p">&gt;</code>&#13;
  <code class="p">&lt;/</code><code class="nt">div</code><code class="p">&gt;</code>&#13;
<code class="p">&lt;/</code><code class="nt">template</code><code class="p">&gt;</code></pre></div>&#13;
&#13;
<p><code>NuxtLayout</code> is the layout component for the application, and <code>NuxtPage</code> is the page component for the application. Nuxt will replace these components with the defined pages and layout components automatically<a data-primary="NuxtLayout" data-type="indexterm" id="id1789"/><a data-primary="NuxtPage" data-type="indexterm" id="id1790"/>.</p>&#13;
&#13;
<p>Let’s add the code from <a data-type="xref" href="#ch12-example-pizzas-home">Example 13-8</a> to <code>pages/index.vue</code> to display the home page.</p>&#13;
<div data-type="example" id="ch12-example-pizzas-home">&#13;
<h5><span class="label">Example 13-8. </span>Home page for the Pizza House application</h5>&#13;
&#13;
<pre data-code-language="html" data-type="programlisting"><code class="p">&lt;</code><code class="nt">template</code><code class="p">&gt;</code>&#13;
    <code class="p">&lt;</code><code class="nt">h1</code><code class="p">&gt;</code>This is the home view of the Pizza stores<code class="p">&lt;/</code><code class="nt">h1</code><code class="p">&gt;</code>&#13;
<code class="p">&lt;/</code><code class="nt">template</code><code class="p">&gt;</code></pre></div>&#13;
&#13;
<p>And the code from <a data-type="xref" href="#ch12-example-pizzas-list">Example 13-9</a> to <code>pages/pizzas/index.vue</code> to display the list of pizzas.</p>&#13;
<div data-type="example" id="ch12-example-pizzas-list">&#13;
<h5><span class="label">Example 13-9. </span>Pizzas page for the Pizza House application</h5>&#13;
&#13;
<pre data-code-language="html" data-type="programlisting"><code class="p">&lt;</code><code class="nt">template</code><code class="p">&gt;</code>&#13;
  <code class="p">&lt;</code><code class="nt">div</code> <code class="na">class</code><code class="o">=</code><code class="s">"pizzas-view--container"</code><code class="p">&gt;</code>&#13;
    <code class="p">&lt;</code><code class="nt">h1</code><code class="p">&gt;</code>Pizzas<code class="p">&lt;/</code><code class="nt">h1</code><code class="p">&gt;</code>&#13;
    <code class="p">&lt;</code><code class="nt">ul</code><code class="p">&gt;</code>&#13;
      <code class="p">&lt;</code><code class="nt">li</code> <code class="na">v-for</code><code class="o">=</code><code class="s">"pizza in pizzas"</code> <code class="na">:key</code><code class="o">=</code><code class="s">"pizza.id"</code><code class="p">&gt;</code>&#13;
        <code class="p">&lt;</code><code class="nt">PizzaCard</code> <code class="na">:pizza</code><code class="o">=</code><code class="s">"pizza"</code> <code class="p">/&gt;</code>&#13;
      <code class="p">&lt;/</code><code class="nt">li</code><code class="p">&gt;</code>&#13;
    <code class="p">&lt;/</code><code class="nt">ul</code><code class="p">&gt;</code>&#13;
  <code class="p">&lt;/</code><code class="nt">div</code><code class="p">&gt;</code>&#13;
<code class="p">&lt;/</code><code class="nt">template</code><code class="p">&gt;</code>&#13;
<code class="p">&lt;</code><code class="nt">script</code> <code class="na">lang</code><code class="o">=</code><code class="s">"ts"</code> <code class="na">setup</code><code class="p">&gt;</code><code class="w"/>&#13;
<code class="k">import</code><code class="w"> </code><code class="p">{</code><code class="w"> </code><code class="nx">usePizzas</code><code class="w"> </code><code class="p">}</code><code class="w"> </code><code class="kr">from</code><code class="w"> </code><code class="s2">"@/composables/usePizzas"</code><code class="p">;</code><code class="w"/>&#13;
<code class="k">import</code><code class="w"> </code><code class="nx">PizzaCard</code><code class="w"> </code><code class="kr">from</code><code class="w"> </code><code class="s2">"@/components/PizzaCard.vue"</code><code class="p">;</code><code class="w"/>&#13;
&#13;
<code class="kd">const</code><code class="w"> </code><code class="p">{</code><code class="w"> </code><code class="nx">pizzas</code><code class="w"> </code><code class="p">}</code><code class="w"> </code><code class="o">=</code><code class="w"> </code><code class="nx">usePizzas</code><code class="p">();</code><code class="w"/>&#13;
<code class="p">&lt;/</code><code class="nt">script</code><code class="p">&gt;</code></pre></div>&#13;
&#13;
<p>This page uses the <code>PizzaCard</code> component from <a data-type="xref" href="ch11.html#ch10_pizza_card">Example 11-1</a> and the <code>usePizzas</code> composable from <code>composables/usePizzas.ts</code> to get a list of pizzas for displaying, with the code from <a data-type="xref" href="#ch12-example-pizzas-composable">Example 13-10</a><a data-primary="composables" data-secondary="server-side rendering with Nuxt" data-type="indexterm" id="id1791"/>.</p>&#13;
<div data-type="example" id="ch12-example-pizzas-composable">&#13;
<h5><span class="label">Example 13-10. </span>Composable for the Pizza House application</h5>&#13;
&#13;
<pre data-code-language="typescript" data-type="programlisting"><code class="kr">import</code> <code class="kr">type</code> <code class="p">{</code> <code class="nx">Pizza</code> <code class="p">}</code> <code class="nx">from</code> <code class="s2">"@/types/Pizza"</code><code class="p">;</code>&#13;
<code class="kr">import</code> <code class="p">{</code> <code class="nx">ref</code><code class="p">,</code> <code class="kr">type</code> <code class="nx">Ref</code> <code class="p">}</code> <code class="nx">from</code> <code class="s2">"vue"</code><code class="p">;</code>&#13;
&#13;
<code class="kr">export</code> <code class="kd">function</code> <code class="nx">usePizzas</code><code class="p">()</code><code class="o">:</code> <code class="p">{</code> <code class="nx">pizzas</code><code class="o">:</code> <code class="nx">Ref</code><code class="o">&lt;</code><code class="nx">Pizza</code><code class="p">[]</code><code class="o">&gt;</code> <code class="p">}</code> <code class="p">{</code>&#13;
  <code class="k">return</code> <code class="p">{</code>&#13;
    <code class="nx">pizzas</code><code class="o">:</code> <code class="nx">ref</code><code class="p">([</code>&#13;
      <code class="p">{</code>&#13;
        <code class="nx">id</code><code class="o">:</code> <code class="s2">"1"</code><code class="p">,</code>&#13;
        <code class="nx">title</code><code class="o">:</code> <code class="s2">"Pina Colada Pizza"</code><code class="p">,</code>&#13;
        <code class="nx">price</code><code class="o">:</code> <code class="s2">"10.00"</code><code class="p">,</code>&#13;
        <code class="nx">description</code><code class="o">:</code>&#13;
          <code class="s2">"A delicious combination of pineapple, coconut, and coconut milk."</code><code class="p">,</code>&#13;
        <code class="nx">image</code><code class="o">:</code>&#13;
      <code class="s2">"https://res.cloudinary.com/mayashavin/image/upload/Demo/pina_colada_pizza.jpg"</code><code class="p">,</code>&#13;
        <code class="nx">quantity</code><code class="o">:</code> <code class="mi">1</code><code class="p">,</code>&#13;
      <code class="p">},</code>&#13;
      <code class="p">{</code>&#13;
        <code class="nx">id</code><code class="o">:</code> <code class="s2">"2"</code><code class="p">,</code>&#13;
        <code class="nx">title</code><code class="o">:</code> <code class="s2">"Pepperoni Pizza"</code><code class="p">,</code>&#13;
        <code class="nx">price</code><code class="o">:</code> <code class="s2">"12.00"</code><code class="p">,</code>&#13;
        <code class="nx">description</code><code class="o">:</code>&#13;
          <code class="s2">"A delicious combination of pepperoni, cheese, and pineapple."</code><code class="p">,</code>&#13;
        <code class="nx">image</code><code class="o">:</code>&#13;
      <code class="s2">"https://res.cloudinary.com/mayashavin/image/upload/Demo/pepperoni_pizza.jpg"</code><code class="p">,</code>&#13;
        <code class="nx">quantity</code><code class="o">:</code> <code class="mi">2</code><code class="p">,</code>&#13;
      <code class="p">},</code>&#13;
      <code class="p">{</code>&#13;
        <code class="nx">id</code><code class="o">:</code> <code class="s2">"3"</code><code class="p">,</code>&#13;
        <code class="nx">title</code><code class="o">:</code> <code class="s2">"Veggie Pizza"</code><code class="p">,</code>&#13;
        <code class="nx">price</code><code class="o">:</code> <code class="s2">"9.00"</code><code class="p">,</code>&#13;
        <code class="nx">description</code><code class="o">:</code>&#13;
          <code class="s2">"A delicious combination of mushrooms, onions, and peppers."</code><code class="p">,</code>&#13;
        <code class="nx">image</code><code class="o">:</code>&#13;
      <code class="s2">"https://res.cloudinary.com/mayashavin/image/upload/Demo/veggie_pizza.jpg"</code><code class="p">,</code>&#13;
        <code class="nx">quantity</code><code class="o">:</code> <code class="mi">1</code><code class="p">,</code>&#13;
        <code class="p">},</code>&#13;
    <code class="p">]),</code>&#13;
  <code class="p">};</code>&#13;
<code class="p">}</code></pre></div>&#13;
&#13;
<p>When we run the application using <code>yarn dev</code>, we will see the home page (<a data-type="xref" href="#figure_ch12_nuxt_home">Figure 13-5</a>) and the pizzas page (<a data-type="xref" href="#figure_ch12_nuxt_pizzas">Figure 13-6</a>), respectively, displayed in the browser.</p>&#13;
&#13;
<figure><div class="figure" id="figure_ch12_nuxt_home">&#13;
<img alt="Home page for the Pizza House application" src="assets/lvue_1305.png"/>&#13;
<h6><span class="label">Figure 13-5. </span>Home page for the Pizza House application</h6>&#13;
</div></figure>&#13;
&#13;
<figure><div class="figure" id="figure_ch12_nuxt_pizzas">&#13;
<img alt="Pizzas page for the Pizza House application" src="assets/lvue_1306.png"/>&#13;
<h6><span class="label">Figure 13-6. </span>Pizzas page for the Pizza House application</h6>&#13;
</div></figure>&#13;
&#13;
<p>Now we will implement the pizza details page by adding the code from <a data-type="xref" href="#ch12-example-pizzas-details">Example 13-11</a> to <code>pages/pizzas/[id].vue</code>.</p>&#13;
<div data-type="example" id="ch12-example-pizzas-details">&#13;
<h5><span class="label">Example 13-11. </span>Pizza details component</h5>&#13;
&#13;
<pre data-code-language="html" data-type="programlisting"><code class="p">&lt;</code><code class="nt">template</code><code class="p">&gt;</code><code>&#13;
  </code><code class="p">&lt;</code><code class="nt">section</code><code> </code><code class="na">v-if</code><code class="o">=</code><code class="s">"pizza"</code><code> </code><code class="na">class</code><code class="o">=</code><code class="s">"pizza--container"</code><code class="p">&gt;</code><code>&#13;
    </code><code class="p">&lt;</code><code class="nt">img</code><code> </code><code class="na">:src</code><code class="o">=</code><code class="s">"pizza.image"</code><code> </code><code class="na">:alt</code><code class="o">=</code><code class="s">"pizza.title"</code><code> </code><code class="na">width</code><code class="o">=</code><code class="s">"500"</code><code> </code><code class="p">/</code><code class="p">&gt;</code><code>&#13;
    </code><code class="p">&lt;</code><code class="nt">div</code><code> </code><code class="na">class</code><code class="o">=</code><code class="s">"pizza--details"</code><code class="p">&gt;</code><code>&#13;
      </code><code class="p">&lt;</code><code class="nt">h1</code><code class="p">&gt;</code><code>{{ pizza.title }}</code><code class="p">&lt;</code><code class="p">/</code><code class="nt">h1</code><code class="p">&gt;</code><code>&#13;
      </code><code class="p">&lt;</code><code class="nt">div</code><code class="p">&gt;</code><code>&#13;
        </code><code class="p">&lt;</code><code class="nt">p</code><code class="p">&gt;</code><code>{{ pizza.description }}</code><code class="p">&lt;</code><code class="p">/</code><code class="nt">p</code><code class="p">&gt;</code><code>&#13;
        </code><code class="p">&lt;</code><code class="nt">div</code><code> </code><code class="na">class</code><code class="o">=</code><code class="s">"pizza-stock--section"</code><code class="p">&gt;</code><code>&#13;
          </code><code class="p">&lt;</code><code class="nt">span</code><code class="p">&gt;</code><code>Stock: {{ pizza.quantity || 0 }}</code><code class="p">&lt;</code><code class="p">/</code><code class="nt">span</code><code class="p">&gt;</code><code>&#13;
          </code><code class="p">&lt;</code><code class="nt">span</code><code class="p">&gt;</code><code>Price: ${{ pizza.price }}</code><code class="p">&lt;</code><code class="p">/</code><code class="nt">span</code><code class="p">&gt;</code><code>&#13;
        </code><code class="p">&lt;</code><code class="p">/</code><code class="nt">div</code><code class="p">&gt;</code><code>&#13;
      </code><code class="p">&lt;</code><code class="p">/</code><code class="nt">div</code><code class="p">&gt;</code><code>&#13;
    </code><code class="p">&lt;</code><code class="p">/</code><code class="nt">div</code><code class="p">&gt;</code><code>&#13;
  </code><code class="p">&lt;</code><code class="p">/</code><code class="nt">section</code><code class="p">&gt;</code><code>&#13;
  </code><code class="p">&lt;</code><code class="nt">p</code><code> </code><code class="na">v-else</code><code class="p">&gt;</code><code>No pizza found</code><code class="p">&lt;</code><code class="p">/</code><code class="nt">p</code><code class="p">&gt;</code><code>&#13;
</code><code class="p">&lt;</code><code class="p">/</code><code class="nt">template</code><code class="p">&gt;</code><code>&#13;
</code><code class="p">&lt;</code><code class="nt">script</code><code> </code><code class="na">setup</code><code> </code><code class="na">lang</code><code class="o">=</code><code class="s">"ts"</code><code class="p">&gt;</code><code class="w">&#13;
</code><code class="k">import</code><code class="w"> </code><code class="p">{</code><code class="w"> </code><code class="nx">usePizzas</code><code class="w"> </code><code class="p">}</code><code class="w"> </code><code class="kr">from</code><code class="w"> </code><code class="s2">"@/composables/usePizzas"</code><code class="p">;</code><code class="w">&#13;
&#13;
</code><code class="kd">const</code><code class="w"> </code><code class="nx">route</code><code class="w"> </code><code class="o">=</code><code class="w"> </code><code class="nx">useRoute</code><code class="p">(</code><code class="p">)</code><code class="p">;</code><code class="w"> </code><a class="co" href="#callout_server_side_rendering_with_vue_CO5-1" id="co_server_side_rendering_with_vue_CO5-1"><img alt="1" src="assets/1.png"/></a><code class="w">&#13;
&#13;
</code><code class="kd">const</code><code class="w"> </code><code class="p">{</code><code class="w"> </code><code class="nx">pizzas</code><code class="w"> </code><code class="p">}</code><code class="w"> </code><code class="o">=</code><code class="w"> </code><code class="nx">usePizzas</code><code class="p">(</code><code class="p">)</code><code class="p">;</code><code class="w">&#13;
&#13;
</code><code class="kd">const</code><code class="w"> </code><code class="nx">pizza</code><code class="w"> </code><code class="o">=</code><code class="w"> </code><code class="nx">pizzas</code><code class="p">.</code><code class="nx">value</code><code class="p">.</code><code class="nx">find</code><code class="p">(</code><code class="w">&#13;
    </code><code class="p">(</code><code class="nx">pizza</code><code class="p">)</code><code class="w"> </code><code class="p">=&gt;</code><code class="w"> </code><code class="nx">pizza</code><code class="p">.</code><code class="nx">id</code><code class="w"> </code><code class="o">===</code><code class="w"> </code><code class="nx">route</code><code class="p">.</code><code class="nx">params</code><code class="p">.</code><code class="nx">id</code><code class="w"> </code><a class="co" href="#callout_server_side_rendering_with_vue_CO5-2" id="co_server_side_rendering_with_vue_CO5-2"><img alt="2" src="assets/2.png"/></a><code class="w">&#13;
</code><code class="p">)</code><code class="p">;</code><code class="w">&#13;
</code><code class="p">&lt;</code><code class="p">/</code><code class="nt">script</code><code class="p">&gt;</code></pre></div>&#13;
<dl class="calloutlist">&#13;
<dt><a class="co" href="#co_server_side_rendering_with_vue_CO5-1" id="callout_server_side_rendering_with_vue_CO5-1"><img alt="1" src="assets/1.png"/></a></dt>&#13;
<dd><p>Use <code>useRoute</code>, the global composable from Vue Router, to get the current route’s information.</p></dd>&#13;
<dt><a class="co" href="#co_server_side_rendering_with_vue_CO5-2" id="callout_server_side_rendering_with_vue_CO5-2"><img alt="2" src="assets/2.png"/></a></dt>&#13;
<dd><p><code>route.params.id</code> is the id of the pizza in the URL<a data-primary="routing" data-secondary="server-side rendering with Nuxt" data-type="indexterm" id="id1792"/><a data-primary="useRoute()" data-type="indexterm" id="id1793"/>.</p></dd>&#13;
</dl>&#13;
&#13;
<p>When we go to <em>/pizzas/1</em>, we will see the pizza details page displayed in the browser (<a data-type="xref" href="#figure_ch12_nuxt_pizza_details">Figure 13-7</a>).</p>&#13;
&#13;
<figure><div class="figure" id="figure_ch12_nuxt_pizza_details">&#13;
<img alt="Details page for pizza of id 1" src="assets/lvue_1307.png"/>&#13;
<h6><span class="label">Figure 13-7. </span>The details page of pizza with id 1</h6>&#13;
</div></figure>&#13;
<div data-type="note" epub:type="note"><h6>Note</h6>&#13;
<p>Unlike a regular Vue application, we can’t map the routing params <code>id</code> to the <code>id</code> props of the <code>PizzaDetails</code> component. Instead, we need to use the <code>useRoute</code> composable to get the current route’s information, including its parameters.</p>&#13;
</div>&#13;
&#13;
<p>Next, we will implement a default layout for our application with a navigation bar. We will create a new file, <code>layouts/default.vue</code>, with the code from <a data-type="xref" href="#ch12-example-default-layout">Example 13-12</a>.</p>&#13;
<div data-type="example" id="ch12-example-default-layout">&#13;
<h5><span class="label">Example 13-12. </span>Default layout for the Pizza House application</h5>&#13;
&#13;
<pre data-code-language="html" data-type="programlisting"><code class="p">&lt;</code><code class="nt">template</code><code class="p">&gt;</code><code>&#13;
    </code><code class="p">&lt;</code><code class="nt">nav</code><code class="p">&gt;</code><code>&#13;
        </code><code class="p">&lt;</code><code class="nt">NuxtLink</code><code> </code><code class="na">to</code><code class="o">=</code><code class="s">"/"</code><code class="p">&gt;</code><code>Home</code><code class="p">&lt;</code><code class="p">/</code><code class="nt">NuxtLink</code><code class="p">&gt;</code><code> </code><a class="co" href="#callout_server_side_rendering_with_vue_CO6-1" id="co_server_side_rendering_with_vue_CO6-1"><img alt="1" src="assets/1.png"/></a><code>&#13;
        </code><code class="p">&lt;</code><code class="nt">NuxtLink</code><code> </code><code class="na">to</code><code class="o">=</code><code class="s">"/pizzas"</code><code class="p">&gt;</code><code>Pizzas</code><code class="p">&lt;</code><code class="p">/</code><code class="nt">NuxtLink</code><code class="p">&gt;</code><code>&#13;
    </code><code class="p">&lt;</code><code class="p">/</code><code class="nt">nav</code><code class="p">&gt;</code><code>&#13;
    </code><code class="p">&lt;</code><code class="nt">main</code><code class="p">&gt;</code><code>&#13;
        </code><code class="p">&lt;</code><code class="nt">slot</code><code> </code><code class="p">/</code><code class="p">&gt;</code><code> </code><a class="co" href="#callout_server_side_rendering_with_vue_CO6-2" id="co_server_side_rendering_with_vue_CO6-2"><img alt="2" src="assets/2.png"/></a><code>&#13;
    </code><code class="p">&lt;</code><code class="p">/</code><code class="nt">main</code><code class="p">&gt;</code><code>&#13;
</code><code class="p">&lt;</code><code class="p">/</code><code class="nt">template</code><code class="p">&gt;</code><code>&#13;
</code><code class="p">&lt;</code><code class="nt">style</code><code> </code><code class="na">scoped</code><code class="p">&gt;</code><code>&#13;
</code><code class="nt">nav</code><code> </code><code class="p">{</code><code>&#13;
    </code><code class="k">display</code><code class="o">:</code><code> </code><code class="nb">flex</code><code class="p">;</code><code>&#13;
    </code><code class="n">gap</code><code class="o">:</code><code> </code><code class="m">20px</code><code class="p">;</code><code>&#13;
    </code><code class="k">justify-content</code><code class="o">:</code><code> </code><code class="nb">center</code><code class="p">;</code><code>&#13;
</code><code class="p">}</code><code>&#13;
  </code><code class="nt">&lt;/style&gt;</code></pre></div>&#13;
<dl class="calloutlist">&#13;
<dt><a class="co" href="#co_server_side_rendering_with_vue_CO6-1" id="callout_server_side_rendering_with_vue_CO6-1"><img alt="1" src="assets/1.png"/></a></dt>&#13;
<dd><p><code>NuxtLink</code> is the Nuxt component for rendering link elements, similar to <code>RouterLink</code> in Vue Router.</p></dd>&#13;
<dt><a class="co" href="#co_server_side_rendering_with_vue_CO6-2" id="callout_server_side_rendering_with_vue_CO6-2"><img alt="2" src="assets/2.png"/></a></dt>&#13;
<dd><p><code>&lt;slot /&gt;</code> is the slot element to render the page’s content<a data-primary="NuxtLink" data-type="indexterm" id="id1794"/><a data-primary="NuxtLayout" data-type="indexterm" id="id1795"/><a data-primary="slots" data-secondary="server-side rendering with Nuxt" data-type="indexterm" id="id1796"/>.</p></dd>&#13;
</dl>&#13;
&#13;
<p>Nuxt will replace <code>NuxtLayout</code> with the default layout, and we will see the navigation bar displayed in the browser (<a data-type="xref" href="#figure_ch12_nuxt_default_layout">Figure 13-8</a>).</p>&#13;
&#13;
<figure><div class="figure" id="figure_ch12_nuxt_default_layout">&#13;
<img alt="Default layout for the Pizza House application" src="assets/lvue_1308.png"/>&#13;
<h6><span class="label">Figure 13-8. </span>Default layout for the Pizza House application</h6>&#13;
</div></figure>&#13;
&#13;
<p>We can also create different layout files in <code>layouts</code> and pass the desired layout file name to the props <code>name</code> of <code>NuxtLayout</code>. Nuxt will pick up the suitable layout component to render based on its value. For example, we can create a new layout file, <code>layouts/pizzas.vue</code>, with the code from <a data-type="xref" href="#ch12-example-pizzas-layout">Example 13-13</a><a data-primary="layouts file, server-side rendering with Nuxt" data-type="indexterm" id="id1797"/>.</p>&#13;
<div data-type="example" id="ch12-example-pizzas-layout">&#13;
<h5><span class="label">Example 13-13. </span>Pizzas layout for the Pizza House application</h5>&#13;
&#13;
<pre data-code-language="html" data-type="programlisting"><code class="p">&lt;</code><code class="nt">template</code><code class="p">&gt;</code>&#13;
    <code class="p">&lt;</code><code class="nt">h1</code><code class="p">&gt;</code>Pizzas Layout<code class="p">&lt;/</code><code class="nt">h1</code><code class="p">&gt;</code>&#13;
    <code class="p">&lt;</code><code class="nt">main</code><code class="p">&gt;</code>&#13;
        <code class="p">&lt;</code><code class="nt">slot</code> <code class="p">/&gt;</code>&#13;
    <code class="p">&lt;/</code><code class="nt">main</code><code class="p">&gt;</code>&#13;
<code class="p">&lt;/</code><code class="nt">template</code><code class="p">&gt;</code></pre></div>&#13;
&#13;
<p>In <code>app.vue</code>, we will pass the layout name to the <code>name</code> props of <code>NuxtLayout</code> conditionally (<a data-type="xref" href="#ch12-example-pizzas-layout-app">Example 13-14</a>).</p>&#13;
<div data-type="example" id="ch12-example-pizzas-layout-app">&#13;
<h5><span class="label">Example 13-14. </span>Using pizzas layout for PizzaDetails component</h5>&#13;
&#13;
<pre data-code-language="html" data-type="programlisting"><code class="p">&lt;</code><code class="nt">template</code><code class="p">&gt;</code>&#13;
    <code class="p">&lt;</code><code class="nt">NuxtLayout</code> <code class="na">:name</code><code class="o">=</code><code class="s">"customLayout"</code><code class="p">&gt;</code>&#13;
        <code class="p">&lt;</code><code class="nt">NuxtPage</code> <code class="p">/&gt;</code>&#13;
    <code class="p">&lt;/</code><code class="nt">NuxtLayout</code><code class="p">&gt;</code>&#13;
<code class="p">&lt;/</code><code class="nt">template</code><code class="p">&gt;</code>&#13;
<code class="p">&lt;</code><code class="nt">script</code> <code class="na">setup</code> <code class="na">lang</code><code class="o">=</code><code class="s">"ts"</code><code class="p">&gt;</code><code class="w"/>&#13;
<code class="k">import</code><code class="w"> </code><code class="p">{</code><code class="w"> </code><code class="nx">computed</code><code class="w"> </code><code class="p">}</code><code class="w"> </code><code class="kr">from</code><code class="w"> </code><code class="s2">"vue"</code><code class="p">;</code><code class="w"/>&#13;
&#13;
<code class="kd">const</code><code class="w"> </code><code class="nx">customLayout</code><code class="w"> </code><code class="o">=</code><code class="w"> </code><code class="nx">computed</code><code class="p">(</code><code class="w"/>&#13;
<code class="w">    </code><code class="p">()</code><code class="w"> </code><code class="p">=&gt;</code><code class="w"> </code><code class="p">{</code><code class="w"/>&#13;
<code class="w">      </code><code class="kd">const</code><code class="w"> </code><code class="nx">isPizzaLayout</code><code class="w"> </code><code class="o">=</code><code class="w"> </code><code class="nx">useRoute</code><code class="p">().</code><code class="nx">path</code><code class="p">.</code><code class="nx">startsWith</code><code class="p">(</code><code class="s2">"/pizzas/"</code><code class="p">);</code><code class="w"/>&#13;
<code class="w">      </code><code class="k">return</code><code class="w"> </code><code class="nx">isPizzaLayout</code><code class="w"> </code><code class="o">?</code><code class="w"> </code><code class="s1">'pizzas'</code><code class="w"> </code><code class="o">:</code><code class="w"> </code><code class="s1">'default'</code><code class="p">;</code><code class="w"/>&#13;
<code class="w">    </code><code class="p">}</code><code class="w"/>&#13;
<code class="p">);</code><code class="w"/>&#13;
<code class="p">&lt;/</code><code class="nt">script</code><code class="p">&gt;</code></pre></div>&#13;
&#13;
<p>When we head to <em>/pizzas/1</em>, we will see the pizza details page rendered with the &#13;
<span class="keep-together"><code>layouts/pizzas</code></span> layout (<a data-type="xref" href="#figure_ch12_nuxt_pizza_details_pizzas_layout">Figure 13-9</a>).</p>&#13;
<div data-type="note" epub:type="note"><h6>Note</h6>&#13;
<p>Apart from the <code>pages</code> structure, the rest of the application structure is the same as a regular Vue application. Hence, converting a Vue application to a Nuxt application is straightforward.</p>&#13;
</div>&#13;
&#13;
<p>With SSR, we can achieve a quicker initial page load and better SEO since the browser receives our app’s fully populated HTML file. However, a disadvantage of SSR is that with every browser refresh, the app requires complete reloading, compared to the client-side rendering with single-page application approach.<sup><a data-type="noteref" href="ch13.html#id1798" id="id1798-marker">5</a></sup></p>&#13;
&#13;
<figure><div class="figure" id="figure_ch12_nuxt_pizza_details_pizzas_layout">&#13;
<img alt="Pizza details page rendered with pizzas layout" src="assets/lvue_1309.png"/>&#13;
<h6><span class="label">Figure 13-9. </span>Pizza details page rendered with custom layout</h6>&#13;
</div></figure>&#13;
&#13;
<p>In addition, since SSR requires populating the page content dynamically on the server before returning the page content file to the browser, it can lead to a delay in rendering the page, and any interaction that requires page content changes can cause multiple server requests, affecting the app’s performance overall. We can use the static side generator (SSG) approach to address this issue<a data-primary="performance" data-secondary="server-side rendering" data-type="indexterm" id="id1799"/><a data-primary="performance" data-secondary="static-side generator (SSG)" data-type="indexterm" id="id1800"/><a data-primary="server-side rendering" data-secondary="performance" data-type="indexterm" id="id1801"/><a data-primary="server-side rendering" data-secondary="static-side generator (SSG)" data-type="indexterm" id="id1802"/>.</p>&#13;
</div></section>&#13;
&#13;
&#13;
&#13;
&#13;
&#13;
&#13;
<section data-pdf-bookmark="Static Side Generator (SSG)" data-type="sect1"><div class="sect1" id="id139">&#13;
<h1>Static Side Generator (SSG)</h1>&#13;
&#13;
<p>The static side generator (SSG) is a type of server-side rendering. Unlike regular server-side rendering, SSG will generate and index all the pages in the application at build time, and serve those pages to the browser on demand. By doing so, it ensures the initial load and the performance on the client side<a data-primary="SSG (static-side generator)" data-type="indexterm" id="id1803"/><a data-primary="static-side generator (SSG)" data-type="indexterm" id="id1804"/>.</p>&#13;
<div data-type="note" epub:type="note"><h6>Note</h6>&#13;
<p>This approach is suitable for applications that don’t require dynamic content, such as blogs, documentation, etc. However, if your application contains dynamic content such as user-generated content (authentication, etc.), consider using SSR or a <a href="https://oreil.ly/zqTn1">hybrid approach</a> instead.</p>&#13;
</div>&#13;
&#13;
<p>Using SSG in Nuxt is straightforward. We can use the <code>yarn generate</code> command, in the same codebase. This command will generate the static files for the application in the <code>dist</code> directory, ready for deployment<a data-primary="dist directory" data-type="indexterm" id="id1805"/><a data-primary="generate command, static-side generator" data-type="indexterm" id="id1806"/>.</p>&#13;
&#13;
<p>The <code>generate</code> command will generate the static files for the application in the <code>.output/public</code> directory, ready for deployment (<a data-type="xref" href="#figure_ch12_output_ssg">Figure 13-10</a>)<a data-primary="public directory, static-side generator" data-type="indexterm" id="id1807"/>.</p>&#13;
&#13;
<figure><div class="figure" id="figure_ch12_output_ssg">&#13;
<img alt="Screenshot of the build result after running yarn generate" src="assets/lvue_1310.png"/>&#13;
<h6><span class="label">Figure 13-10. </span>The <code>.output</code> directory after running <code>yarn generate</code></h6>&#13;
</div></figure>&#13;
&#13;
<p>That’s all it takes. The last step is to deploy the <code>dist</code> directory to a static hosting service, such as Netlify, Vercel, etc. These hosting platforms will deliver the static files to the browser on demand using a Content Delivery Network (CDN) with caches<a data-primary="" data-startref="ix-ssr-ssr3" data-type="indexterm" id="id1808"/><a data-primary="" data-startref="ix-ssr-ssr3a" data-type="indexterm" id="id1809"/><a data-primary="CDN (Content Delivery Network)" data-type="indexterm" id="id1810"/><a data-primary="Content Delivery Network (CDN)" data-type="indexterm" id="id1811"/><a data-primary="deployment" data-secondary="server-side rendering with static-side generators" data-type="indexterm" id="id1812"/><a data-primary="hosting platforms" data-secondary="server-side rendering with static-side generators" data-type="indexterm" id="id1813"/>.</p>&#13;
</div></section>&#13;
&#13;
&#13;
&#13;
&#13;
&#13;
&#13;
<section data-pdf-bookmark="Last Words" data-type="sect1"><div class="sect1" id="id368">&#13;
<h1>Last Words</h1>&#13;
&#13;
<p>In this chapter, we learned how to build SSR and SSG applications with Nuxt. With that, we end our journey together in this book.</p>&#13;
&#13;
<p>We have covered all the basics of Vue, including the core concepts, the Options API, the lifecycle of a Vue component, and how to use the Composition API effectively to create a robust and reusable component system in a Vue application. We also learned how to integrate Vue Router and Pinia to create a fully working Vue application with routings and data state management. We explored different aspects of developing a flow for a Vue application, from unit testing with Vitest and E2E testing with Playwright to creating a deployment pipeline with GitHub workflows and hosting using Netlify.</p>&#13;
&#13;
<p>You are now ready to explore more advanced Vue topics, and you have the necessary skills to build your own Vue projects. So, where should you go from here? A variety of possibilities await you. Start building your Vue applications and explore the Vue ecosystem further. If you want to develop content-based sites, consider digging deeper into Nuxt. If you are into making a UI library for Vue, check out Vite and design systems concepts like atomic design.</p>&#13;
&#13;
<p>Regardless of your choice, the skills you have learned in Vue will always be handy on your journey to becoming a great frontend engineer and Vue developer. Hopefully this book will be your companion as a reference and foundation along the way.</p>&#13;
&#13;
<p>Developing web applications, especially with Vue, is fun and exciting. Start creating and share what you achieve!</p>&#13;
</div></section>&#13;
<div data-type="footnotes"><p data-type="footnote" id="id1755"><sup><a href="ch13.html#id1755-marker">1</a></sup> SEO is the process of making your app better for search engines to index in the search results.</p><p data-type="footnote" id="id1756"><sup><a href="ch13.html#id1756-marker">2</a></sup> The time when the user can interact with the page.</p><p data-type="footnote" id="id1757"><sup><a href="ch13.html#id1757-marker">3</a></sup> The first time when content is visible to the user.</p><p data-type="footnote" id="id1766"><sup><a href="ch13.html#id1766-marker">4</a></sup> Express.js is a Node.js web application framework.</p><p data-type="footnote" id="id1798"><sup><a href="ch13.html#id1798-marker">5</a></sup> Single-page application is an approach to dynamically replace the current view with new data without the need to reload the entire page.</p></div></div></section></body></html>