["```\n{\n  \"_id\" : \"52cdef7c4bab8bd675297d8e\",\n  \"name\" : \"Facebook\",\n  \"category_code\" : \"social\",\n  \"founded_year\" : 2004,\n  \"description\" : \"Social network\",\n  \"funding_rounds\" : [{\n      \"id\" : 4,\n      \"round_code\" : \"b\",\n      \"raised_amount\" : 27500000,\n      \"raised_currency_code\" : \"USD\",\n      \"funded_year\" : 2006,\n      \"investments\" : [\n        {\n          \"company\" : null,\n          \"financial_org\" : {\n            \"name\" : \"Greylock Partners\",\n            \"permalink\" : \"greylock\"\n          },\n          \"person\" : null\n        },\n        {\n          \"company\" : null,\n          \"financial_org\" : {\n            \"name\" : \"Meritech Capital Partners\",\n            \"permalink\" : \"meritech-capital-partners\"\n          },\n          \"person\" : null\n        },\n        {\n          \"company\" : null,\n          \"financial_org\" : {\n            \"name\" : \"Founders Fund\",\n            \"permalink\" : \"founders-fund\"\n          },\n          \"person\" : null\n        },\n        {\n          \"company\" : null,\n          \"financial_org\" : {\n            \"name\" : \"SV Angel\",\n            \"permalink\" : \"sv-angel\"\n          },\n          \"person\" : null\n        }\n      ]\n    },\n    {\n      \"id\" : 2197,\n      \"round_code\" : \"c\",\n      \"raised_amount\" : 15000000,\n      \"raised_currency_code\" : \"USD\",\n      \"funded_year\" : 2008,\n      \"investments\" : [\n        {\n          \"company\" : null,\n          \"financial_org\" : {\n            \"name\" : \"European Founders Fund\",\n            \"permalink\" : \"european-founders-fund\"\n          },\n          \"person\" : null\n        }\n      ]\n    }],\n  \"ipo\" : {\n    \"valuation_amount\" : NumberLong(\"104000000000\"),\n    \"valuation_currency_code\" : \"USD\",\n    \"pub_year\" : 2012,\n    \"pub_month\" : 5,\n    \"pub_day\" : 18,\n    \"stock_symbol\" : \"NASDAQ:FB\"\n  }\n}\n```", "```\ndb.companies.aggregate([\n    {$match: {founded_year: 2004}},\n])\n```", "```\ndb.companies.find({founded_year: 2004})\n```", "```\ndb.companies.aggregate([\n  {$match: {founded_year: 2004}},\n  {$project: {\n    _id: 0,\n    name: 1,\n    founded_year: 1\n  }}\n])\n```", "```\n{\"name\": \"Digg\", \"founded_year\": 2004 }\n{\"name\": \"Facebook\", \"founded_year\": 2004 }\n{\"name\": \"AddThis\", \"founded_year\": 2004 }\n{\"name\": \"Veoh\", \"founded_year\": 2004 }\n{\"name\": \"Pando Networks\", \"founded_year\": 2004 }\n{\"name\": \"Jobster\", \"founded_year\": 2004 }\n{\"name\": \"AllPeers\", \"founded_year\": 2004 }\n{\"name\": \"blinkx\", \"founded_year\": 2004 }\n{\"name\": \"Yelp\", \"founded_year\": 2004 }\n{\"name\": \"KickApps\", \"founded_year\": 2004 }\n{\"name\": \"Flickr\", \"founded_year\": 2004 }\n{\"name\": \"FeedBurner\", \"founded_year\": 2004 }\n{\"name\": \"Dogster\", \"founded_year\": 2004 }\n{\"name\": \"Sway\", \"founded_year\": 2004 }\n{\"name\": \"Loomia\", \"founded_year\": 2004 }\n{\"name\": \"Redfin\", \"founded_year\": 2004 }\n{\"name\": \"Wink\", \"founded_year\": 2004 }\n{\"name\": \"Techmeme\", \"founded_year\": 2004 }\n{\"name\": \"Eventful\", \"founded_year\": 2004 }\n{\"name\": \"Oodle\", \"founded_year\": 2004 }\n...\n```", "```\ndb.companies.aggregate([\n  {$match: {founded_year: 2004}},\n  {$limit: 5},\n  {$project: {\n    _id: 0,\n    name: 1}}\n])\n```", "```\n{\"name\": \"Digg\"}\n{\"name\": \"Facebook\"}\n{\"name\": \"AddThis\"}\n{\"name\": \"Veoh\"}\n{\"name\": \"Pando Networks\"}\n```", "```\ndb.companies.aggregate([\n  {$match: {founded_year: 2004}},\n  {$project: {\n    _id: 0,\n    name: 1}},\n  {$limit: 5}\n])\n```", "```\ndb.companies.aggregate([\n    { $match: { founded_year: 2004 } },\n    { $sort: { name: 1} },\n    { $limit: 5 },\n    { $project: {\n        _id: 0,\n        name: 1 } }\n])\n```", "```\n{\"name\": \"1915 Studios\"}\n{\"name\": \"1Scan\"}\n{\"name\": \"2GeeksinaLab\"}\n{\"name\": \"2GeeksinaLab\"}\n{\"name\": \"2threads\"}\n```", "```\ndb.companies.aggregate([\n  {$match: {founded_year: 2004}},\n  {$sort: {name: 1}},\n  {$skip: 10},\n  {$limit: 5},\n  {$project: {\n    _id: 0,\n    name: 1}},\n])\n```", "```\ndb.companies.aggregate([\n  {$match: {\"funding_rounds.investments.financial_org.permalink\": \"greylock\" }},\n  {$project: {\n    _id: 0, \n    name: 1,\n    ipo: \"$ipo.pub_year\",\n    valuation: \"$ipo.valuation_amount\",\n    funders: \"$funding_rounds.investments.financial_org.permalink\"\n  }}\n]).pretty()\n```", "```\n{\n  \"_id\" : \"52cdef7c4bab8bd675297d8e\",\n  \"name\" : \"Facebook\",\n  \"category_code\" : \"social\",\n  \"founded_year\" : 2004,\n  \"description\" : \"Social network\",\n  \"funding_rounds\" : [{\n      \"id\" : 4,\n      \"round_code\" : \"b\",\n      \"raised_amount\" : 27500000,\n      \"raised_currency_code\" : \"USD\",\n      \"funded_year\" : 2006,\n      \"investments\" : [\n        {\n          \"company\" : null,\n          \"financial_org\" : {\n            \"name\" : \"Greylock Partners\",\n            \"permalink\" : \"greylock\"\n          },\n          \"person\" : null\n        },\n        {\n          \"company\" : null,\n          \"financial_org\" : {\n            \"name\" : \"Meritech Capital Partners\",\n            \"permalink\" : \"meritech-capital-partners\"\n          },\n          \"person\" : null\n        },\n        {\n          \"company\" : null,\n          \"financial_org\" : {\n            \"name\" : \"Founders Fund\",\n            \"permalink\" : \"founders-fund\"\n          },\n          \"person\" : null\n        },\n        {\n          \"company\" : null,\n          \"financial_org\" : {\n            \"name\" : \"SV Angel\",\n            \"permalink\" : \"sv-angel\"\n          },\n          \"person\" : null\n        }\n      ]\n    },\n    {\n      \"id\" : 2197,\n      \"round_code\" : \"c\",\n      \"raised_amount\" : 15000000,\n      \"raised_currency_code\" : \"USD\",\n      \"funded_year\" : 2008,\n      \"investments\" : [\n        {\n          \"company\" : null,\n          \"financial_org\" : {\n            \"name\" : \"European Founders Fund\",\n            \"permalink\" : \"european-founders-fund\"\n          },\n          \"person\" : null\n        }\n      ]\n    }],\n  \"ipo\" : {\n    \"valuation_amount\" : NumberLong(\"104000000000\"),\n    \"valuation_currency_code\" : \"USD\",\n    \"pub_year\" : 2012,\n    \"pub_month\" : 5,\n    \"pub_day\" : 18,\n    \"stock_symbol\" : \"NASDAQ:FB\"\n  }\n}\n```", "```\ndb.companies.aggregate([\n  {$match: {\"funding_rounds.investments.financial_org.permalink\": \"greylock\" }},\n  {$project: {\n    _id: 0, \n    name: 1,\n    ipo: \"$ipo.pub_year\",\n    valuation: \"$ipo.valuation_amount\",\n    funders: \"$funding_rounds.investments.financial_org.permalink\"\n  }}\n]).pretty()\n```", "```\n{\n  ...\n  \"name\" : \"Facebook\",\n  ...\n  \"funding_rounds\" : [{\n    ...\n    \"investments\" : [{\n      ...\n      \"financial_org\" : {\n        \"name\" : \"Greylock Partners\",\n        \"permalink\" : \"greylock\"\n      },\n      ...\n    },\n    {\n      ...\n      \"financial_org\" : {\n        \"name\" : \"Meritech Capital Partners\",\n        \"permalink\" : \"meritech-capital-partners\"\n      },\n      ...\n    },\n    {\n      ...\n      \"financial_org\" : {\n        \"name\" : \"Founders Fund\",\n        \"permalink\" : \"founders-fnd\"\n      },\n      ...\n    },\n    {\n      \"company\" : null,\n      \"financial_org\" : {\n        \"name\" : \"SV Angel\",\n        \"permalink\" : \"sv-angel\"\n      },\n      ...\n    }],\n    ...\n  ]},\n  {\n    ...\n    \"investments\" : [{\n      ...\n      \"financial_org\" : {\n        \"name\" : \"European Founders Fund\",\n        \"permalink\" : \"european-founders-fund\"\n      },\n      ...\n    }]\n  }],\n  \"ipo\" : {\n    \"valuation_amount\" : NumberLong(\"104000000000\"),\n    \"valuation_currency_code\" : \"USD\",\n    \"pub_year\" : 2012,\n    \"pub_month\" : 5,\n    \"pub_day\" : 18,\n    \"stock_symbol\" : \"NASDAQ:FB\"\n  }\n}\n```", "```\n{\n  \"name\" : \"Digg\",\n  \"funders\" : [\n    [\n      \"greylock\",\n      \"omidyar-network\"\n    ],\n    [\n      \"greylock\",\n      \"omidyar-network\",\n      \"floodgate\",\n      \"sv-angel\"\n    ],\n    [\n      \"highland-capital-partners\",\n      \"greylock\",\n      \"omidyar-network\",\n      \"svb-financial-group\"\n    ]\n  ]\n}\n{\n  \"name\" : \"Facebook\",\n  \"ipo\" : 2012,\n  \"valuation\" : NumberLong(\"104000000000\"),\n  \"funders\" : [\n    [\n      \"accel-partners\"\n    ],\n    [\n      \"greylock\",\n      \"meritech-capital-partners\",\n      \"founders-fund\",\n      \"sv-angel\"\n    ],\n    ...\n    [\n      \"goldman-sachs\",\n      \"digital-sky-technologies-fo\"\n    ]\n  ]\n}\n{\n  \"name\" : \"Revision3\",\n  \"funders\" : [\n    [\n      \"greylock\",\n      \"sv-angel\"\n    ],\n    [\n      \"greylock\"\n    ]\n  ]\n}\n...\n```", "```\ndb.companies.aggregate([\n  {$match: {\"funding_rounds.investments.financial_org.permalink\": \"greylock\"} },\n  {$project: {\n    _id: 0,\n    name: 1,\n    amount: \"$funding_rounds.raised_amount\",\n    year: \"$funding_rounds.funded_year\"\n  }}\n])\n```", "```\n{\n  \"_id\" : \"52cdef7c4bab8bd675297d8e\",\n  \"name\" : \"Facebook\",\n  \"category_code\" : \"social\",\n  \"founded_year\" : 2004,\n  \"description\" : \"Social network\",\n  \"funding_rounds\" : [{\n      \"id\" : 4,\n      \"round_code\" : \"b\",\n      \"raised_amount\" : 27500000,\n      \"raised_currency_code\" : \"USD\",\n      \"funded_year\" : 2006,\n      \"investments\" : [\n        {\n          \"company\" : null,\n          \"financial_org\" : {\n            \"name\" : \"Greylock Partners\",\n            \"permalink\" : \"greylock\"\n          },\n          \"person\" : null\n        },\n        {\n          \"company\" : null,\n          \"financial_org\" : {\n            \"name\" : \"Meritech Capital Partners\",\n            \"permalink\" : \"meritech-capital-partners\"\n          },\n          \"person\" : null\n        },\n        {\n          \"company\" : null,\n          \"financial_org\" : {\n            \"name\" : \"Founders Fund\",\n            \"permalink\" : \"founders-fund\"\n          },\n          \"person\" : null\n        },\n        {\n          \"company\" : null,\n          \"financial_org\" : {\n            \"name\" : \"SV Angel\",\n            \"permalink\" : \"sv-angel\"\n          },\n          \"person\" : null\n        }\n      ]\n    },\n    {\n      \"id\" : 2197,\n      \"round_code\" : \"c\",\n      \"raised_amount\" : 15000000,\n      \"raised_currency_code\" : \"USD\",\n      \"funded_year\" : 2008,\n      \"investments\" : [\n        {\n          \"company\" : null,\n          \"financial_org\" : {\n            \"name\" : \"European Founders Fund\",\n            \"permalink\" : \"european-founders-fund\"\n          },\n          \"person\" : null\n        }\n      ]\n    }],\n  \"ipo\" : {\n    \"valuation_amount\" : NumberLong(\"104000000000\"),\n    \"valuation_currency_code\" : \"USD\",\n    \"pub_year\" : 2012,\n    \"pub_month\" : 5,\n    \"pub_day\" : 18,\n    \"stock_symbol\" : \"NASDAQ:FB\"\n  }\n}\n```", "```\n{\n  \"name\" : \"Digg\",\n  \"amount\" : [\n    8500000,\n    2800000,\n    28700000,\n    5000000\n  ],\n  \"year\" : [\n    2006,\n    2005,\n    2008,\n    2011\n  ]\n}\n{\n  \"name\" : \"Facebook\",\n  \"amount\" : [\n    500000,\n    12700000,\n    27500000,\n    ...\n```", "```\ndb.companies.aggregate([\n  { $match: {\"funding_rounds.investments.financial_org.permalink\": \"greylock\"} },\n  { $unwind: \"$funding_rounds\" },\n  { $project: {\n    _id: 0,\n    name: 1,\n    amount: \"$funding_rounds.raised_amount\",\n    year: \"$funding_rounds.funded_year\"\n  } }\n])\n```", "```\n{\"name\": \"Digg\", \"amount\": 8500000, \"year\": 2006 }\n{\"name\": \"Digg\", \"amount\": 2800000, \"year\": 2005 }\n{\"name\": \"Digg\", \"amount\": 28700000, \"year\": 2008 }\n{\"name\": \"Digg\", \"amount\": 5000000, \"year\": 2011 }\n{\"name\": \"Facebook\", \"amount\": 500000, \"year\": 2004 }\n{\"name\": \"Facebook\", \"amount\": 12700000, \"year\": 2005 }\n{\"name\": \"Facebook\", \"amount\": 27500000, \"year\": 2006 }\n{\"name\": \"Facebook\", \"amount\": 240000000, \"year\": 2007 }\n{\"name\": \"Facebook\", \"amount\": 60000000, \"year\": 2007 }\n{\"name\": \"Facebook\", \"amount\": 15000000, \"year\": 2008 }\n{\"name\": \"Facebook\", \"amount\": 100000000, \"year\": 2008 }\n{\"name\": \"Facebook\", \"amount\": 60000000, \"year\": 2008 }\n{\"name\": \"Facebook\", \"amount\": 200000000, \"year\": 2009 }\n{\"name\": \"Facebook\", \"amount\": 210000000, \"year\": 2010 }\n{\"name\": \"Facebook\", \"amount\": 1500000000, \"year\": 2011 }\n{\"name\": \"Revision3\", \"amount\": 1000000, \"year\": 2006 }\n{\"name\": \"Revision3\", \"amount\": 8000000, \"year\": 2007 }\n...\n```", "```\ndb.companies.aggregate([\n  { $match: {\"funding_rounds.investments.financial_org.permalink\": \"greylock\"} },\n  { $unwind: \"$funding_rounds\" },\n  { $project: {\n    _id: 0,\n    name: 1,\n    funder: \"$funding_rounds.investments.financial_org.permalink\",\n    amount: \"$funding_rounds.raised_amount\",\n    year: \"$funding_rounds.funded_year\"\n  } }\n])\n```", "```\n{\n  \"name\" : \"Digg\",\n  \"funder\" : [\n    \"greylock\",\n    \"omidyar-network\"\n  ],\n  \"amount\" : 8500000,\n  \"year\" : 2006\n}\n{\n  \"name\" : \"Digg\",\n  \"funder\" : [\n    \"greylock\",\n    \"omidyar-network\",\n    \"floodgate\",\n    \"sv-angel\"\n  ],\n  \"amount\" : 2800000,\n  \"year\" : 2005\n}\n{\n  \"name\" : \"Digg\",\n  \"funder\" : [\n    \"highland-capital-partners\",\n    \"greylock\",\n    \"omidyar-network\",\n    \"svb-financial-group\"\n  ],\n  \"amount\" : 28700000,\n  \"year\" : 2008\n}\n...\n{\n  \"name\" : \"Farecast\",\n  \"funder\" : [\n    \"madrona-venture-group\",\n    \"wrf-capital\"\n  ],\n  \"amount\" : 1500000,\n  \"year\" : 2004\n}\n{\n  \"name\" : \"Farecast\",\n  \"funder\" : [\n    \"greylock\",\n    \"madrona-venture-group\",\n    \"wrf-capital\"\n  ],\n  \"amount\" : 7000000,\n  \"year\" : 2005\n}\n{\n  \"name\" : \"Farecast\",\n  \"funder\" : [\n    \"greylock\",\n    \"madrona-venture-group\",\n    \"par-capital-management\",\n    \"pinnacle-ventures\",\n    \"sutter-hill-ventures\",\n    \"wrf-capital\"\n  ],\n  \"amount\" : 12100000,\n  \"year\" : 2007\n}\n```", "```\ndb.companies.aggregate([\n  { $match: {\"funding_rounds.investments.financial_org.permalink\": \"greylock\"} },\n  { $unwind: \"$funding_rounds\" },\n  { $match: {\"funding_rounds.investments.financial_org.permalink\": \"greylock\"} },\n  { $project: {\n    _id: 0,\n    name: 1,\n    individualFunder: \"$funding_rounds.investments.person.permalink\",\n    fundingOrganization: \"$funding_rounds.investments.financial_org.permalink\",\n    amount: \"$funding_rounds.raised_amount\",\n    year: \"$funding_rounds.funded_year\"\n  } }\n])\n```", "```\ndb.companies.aggregate([\n  { $match: {\"funding_rounds.investments.financial_org.permalink\": \"greylock\"} },\n  { $project: {\n    _id: 0,\n    name: 1,\n    founded_year: 1,\n    rounds: { $filter: {\n      input: \"$funding_rounds\",\n      as: \"round\",\n      cond: { $gte: [\"$$round.raised_amount\", 100000000] } } }\n  } },\n  { $match: {\"rounds.investments.financial_org.permalink\": \"greylock\" } },\n]).pretty()\n```", "```\n{\n  \"name\" : \"Dropbox\",\n  \"founded_year\" : 2007,\n  \"rounds\" : [\n    {\n      \"id\" : 25090,\n      \"round_code\" : \"b\",\n      \"source_description\" : \n        \"Dropbox Raises $250M In Funding, Boasts 45 Million Users\",\n      \"raised_amount\" : 250000000,\n      \"raised_currency_code\" : \"USD\",\n      \"funded_year\" : 2011,\n      \"investments\" : [\n        {\n          \"financial_org\" : {\n            \"name\" : \"Index Ventures\",\n            \"permalink\" : \"index-ventures\"\n          }\n        },\n        {\n          \"financial_org\" : {\n            \"name\" : \"RIT Capital Partners\",\n            \"permalink\" : \"rit-capital-partners\"\n          }\n        },\n        {\n          \"financial_org\" : {\n            \"name\" : \"Valiant Capital Partners\",\n            \"permalink\" : \"valiant-capital-partners\"\n          }\n        },\n        {\n          \"financial_org\" : {\n            \"name\" : \"Benchmark\",\n            \"permalink\" : \"benchmark-2\"\n          }\n        },\n        {\n          \"company\" : null,\n          \"financial_org\" : {\n            \"name\" : \"Goldman Sachs\",\n            \"permalink\" : \"goldman-sachs\"\n          },\n          \"person\" : null\n        },\n        {\n          \"financial_org\" : {\n            \"name\" : \"Greylock Partners\",\n            \"permalink\" : \"greylock\"\n          }\n        },\n        {\n          \"financial_org\" : {\n            \"name\" : \"Institutional Venture Partners\",\n            \"permalink\" : \"institutional-venture-partners\"\n          }\n        },\n        {\n          \"financial_org\" : {\n            \"name\" : \"Sequoia Capital\",\n            \"permalink\" : \"sequoia-capital\"\n          }\n        },\n        {\n          \"financial_org\" : {\n            \"name\" : \"Accel Partners\",\n            \"permalink\" : \"accel-partners\"\n          }\n        },\n        {\n          \"financial_org\" : {\n            \"name\" : \"Glynn Capital Management\",\n            \"permalink\" : \"glynn-capital-management\"\n          }\n        },\n        {\n          \"financial_org\" : {\n            \"name\" : \"SV Angel\",\n            \"permalink\" : \"sv-angel\"\n          }\n        }\n      ]\n    }\n  ]\n}\n```", "```\ndb.companies.aggregate([\n  { $match: { \"founded_year\": 2010 } },\n  { $project: {\n    _id: 0,\n    name: 1,\n    founded_year: 1,\n    first_round: { $arrayElemAt: [ \"$funding_rounds\", 0 ] },\n    last_round: { $arrayElemAt: [ \"$funding_rounds\", -1 ] }\n  } }\n]).pretty()\n```", "```\n{\n  \"name\" : \"vufind\",\n  \"founded_year\" : 2010,\n  \"first_round\" : {\n    \"id\" : 19876,\n    \"round_code\" : \"angel\",\n    \"source_url\" : \"\",\n    \"source_description\" : \"\",\n    \"raised_amount\" : 250000,\n    \"raised_currency_code\" : \"USD\",\n    \"funded_year\" : 2010,\n    \"funded_month\" : 9,\n    \"funded_day\" : 1,\n    \"investments\" : [ ]\n  },\n  \"last_round\" : {\n    \"id\" : 57219,\n    \"round_code\" : \"seed\",\n    \"source_url\" : \"\",\n    \"source_description\" : \"\",\n    \"raised_amount\" : 500000,\n    \"raised_currency_code\" : \"USD\",\n    \"funded_year\" : 2012,\n    \"funded_month\" : 7,\n    \"funded_day\" : 1,\n    \"investments\" : [ ]\n  }\n}\n```", "```\ndb.companies.aggregate([\n  { $match: { \"founded_year\": 2010 } },\n  { $project: {\n    _id: 0,\n    name: 1,\n    founded_year: 1,\n    early_rounds: { $slice: [ \"$funding_rounds\", 1, 3 ] }\n  } }\n]).pretty()\n```", "```\ndb.companies.aggregate([\n  { $match: { \"founded_year\": 2004 } },\n  { $project: {\n    _id: 0,\n    name: 1,\n    founded_year: 1,\n    total_rounds: { $size: \"$funding_rounds\" }\n  } }\n]).pretty()\n```", "```\ndb.companies.aggregate([\n  { $match: { \"funding_rounds\": { $exists: true, $ne: [ ]} } },\n  { $project: {\n    _id: 0,\n    name: 1,\n    largest_round: { $max: \"$funding_rounds.raised_amount\" }\n  } }\n])\n```", "```\n{ \"name\" : \"Wetpaint\", \"largest_round\" : 25000000 }\n{ \"name\" : \"Digg\", \"largest_round\" : 28700000 }\n{ \"name\" : \"Facebook\", \"largest_round\" : 1500000000 }\n{ \"name\" : \"Omnidrive\", \"largest_round\" : 800000 }\n{ \"name\" : \"Geni\", \"largest_round\" : 10000000 }\n{ \"name\" : \"Twitter\", \"largest_round\" : 400000000 }\n{ \"name\" : \"StumbleUpon\", \"largest_round\" : 17000000 }\n{ \"name\" : \"Gizmoz\", \"largest_round\" : 6500000 }\n{ \"name\" : \"Scribd\", \"largest_round\" : 13000000 }\n{ \"name\" : \"Slacker\", \"largest_round\" : 40000000 }\n{ \"name\" : \"Lala\", \"largest_round\" : 20000000 }\n{ \"name\" : \"eBay\", \"largest_round\" : 6700000 }\n{ \"name\" : \"MeetMoi\", \"largest_round\" : 2575000 }\n{ \"name\" : \"Joost\", \"largest_round\" : 45000000 }\n{ \"name\" : \"Babelgum\", \"largest_round\" : 13200000 }\n{ \"name\" : \"Plaxo\", \"largest_round\" : 9000000 }\n{ \"name\" : \"Cisco\", \"largest_round\" : 2500000 }\n{ \"name\" : \"Yahoo!\", \"largest_round\" : 4800000 }\n{ \"name\" : \"Powerset\", \"largest_round\" : 12500000 }\n{ \"name\" : \"Technorati\", \"largest_round\" : 10520000 }\n...\n```", "```\ndb.companies.aggregate([\n  { $match: { \"funding_rounds\": { $exists: true, $ne: [ ]} } },\n  { $project: {\n    _id: 0,\n    name: 1,\n    total_funding: { $sum: \"$funding_rounds.raised_amount\" }\n  } }\n])\n```", "```\ndb.companies.aggregate([\n  { $group: {\n    _id: { founded_year: \"$founded_year\" },\n    average_number_of_employees: { $avg: \"$number_of_employees\" }\n  } },\n  { $sort: { average_number_of_employees: -1 } }\n\n])\n```", "```\n{ \"_id\" : { \"founded_year\" : 1847 }, \"average_number_of_employees\" : 405000 }\n{ \"_id\" : { \"founded_year\" : 1896 }, \"average_number_of_employees\" : 388000 }\n{ \"_id\" : { \"founded_year\" : 1933 }, \"average_number_of_employees\" : 320000 }\n{ \"_id\" : { \"founded_year\" : 1915 }, \"average_number_of_employees\" : 186000 }\n{ \"_id\" : { \"founded_year\" : 1903 }, \"average_number_of_employees\" : 171000 }\n{ \"_id\" : { \"founded_year\" : 1865 }, \"average_number_of_employees\" : 125000 }\n{ \"_id\" : { \"founded_year\" : 1921 }, \"average_number_of_employees\" : 107000 }\n{ \"_id\" : { \"founded_year\" : 1835 }, \"average_number_of_employees\" : 100000 }\n{ \"_id\" : { \"founded_year\" : 1952 }, \"average_number_of_employees\" : 92900 }\n{ \"_id\" : { \"founded_year\" : 1946 }, \"average_number_of_employees\" : 91500 }\n{ \"_id\" : { \"founded_year\" : 1947 }, \"average_number_of_employees\" : 88510.5 }\n{ \"_id\" : { \"founded_year\" : 1898 }, \"average_number_of_employees\" : 80000 }\n{ \"_id\" : { \"founded_year\" : 1968 }, \"average_number_of_employees\" : 73550 }\n{ \"_id\" : { \"founded_year\" : 1957 }, \"average_number_of_employees\" : 70055 }\n{ \"_id\" : { \"founded_year\" : 1969 }, \"average_number_of_employees\" : 67635.1 }\n{ \"_id\" : { \"founded_year\" : 1928 }, \"average_number_of_employees\" : 51000 }\n{ \"_id\" : { \"founded_year\" : 1963 }, \"average_number_of_employees\" : 50503 }\n{ \"_id\" : { \"founded_year\" : 1959 }, \"average_number_of_employees\" : 47432.5 }\n{ \"_id\" : { \"founded_year\" : 1902 }, \"average_number_of_employees\" : 41171.5 }\n{ \"_id\" : { \"founded_year\" : 1887 }, \"average_number_of_employees\" : 35000 }\n...\n```", "```\n{\n  \"_id\" : \"52cdef7c4bab8bd675297d8e\",\n  \"name\" : \"Facebook\",\n  \"permalink\" : \"facebook\",\n  \"category_code\" : \"social\",\n  \"founded_year\" : 2004,\n  ...\n  \"relationships\" : [\n    {\n      \"is_past\" : false,\n      \"title\" : \"Founder and CEO, Board Of Directors\",\n      \"person\" : {\n        \"first_name\" : \"Mark\",\n        \"last_name\" : \"Zuckerberg\",\n        \"permalink\" : \"mark-zuckerberg\"\n      }\n    },\n    {\n      \"is_past\" : true,\n      \"title\" : \"CFO\",\n      \"person\" : {\n        \"first_name\" : \"David\",\n        \"last_name\" : \"Ebersman\",\n        \"permalink\" : \"david-ebersman\"\n      }\n    },\n    ...\n  ],\n  \"funding_rounds\" : [\n    ...\n    {\n      \"id\" : 4,\n      \"round_code\" : \"b\",\n      \"source_url\" : \"http://www.facebook.com/press/info.php?factsheet\",\n      \"source_description\" : \"Facebook Funding\",\n      \"raised_amount\" : 27500000,\n      \"raised_currency_code\" : \"USD\",\n      \"funded_year\" : 2006,\n      \"funded_month\" : 4,\n      \"funded_day\" : 1,\n      \"investments\" : [\n        {\n          \"company\" : null,\n          \"financial_org\" : {\n            \"name\" : \"Greylock Partners\",\n            \"permalink\" : \"greylock\"\n          },\n          \"person\" : null\n        },\n        {\n          \"company\" : null,\n          \"financial_org\" : {\n            \"name\" : \"Meritech Capital Partners\",\n            \"permalink\" : \"meritech-capital-partners\"\n          },\n          \"person\" : null\n        },\n        {\n          \"company\" : null,\n          \"financial_org\" : {\n            \"name\" : \"Founders Fund\",\n            \"permalink\" : \"founders-fund\"\n          },\n          \"person\" : null\n        },\n        {\n          \"company\" : null,\n          \"financial_org\" : {\n            \"name\" : \"SV Angel\",\n            \"permalink\" : \"sv-angel\"\n          },\n          \"person\" : null\n        }\n      ]\n    },\n    ...\n  \"ipo\" : {\n    \"valuation_amount\" : NumberLong(\"104000000000\"),\n    \"valuation_currency_code\" : \"USD\",\n    \"pub_year\" : 2012,\n    \"pub_month\" : 5,\n    \"pub_day\" : 18,\n    \"stock_symbol\" : \"NASDAQ:FB\"\n  },\n  ...\n}\n```", "```\ndb.companies.aggregate( [\n  { $match: { \"relationships.person\": { $ne: null } } },\n  { $project: { relationships: 1, _id: 0 } },\n  { $unwind: \"$relationships\" },\n  { $group: {\n    _id: \"$relationships.person\",\n    count: { $sum: 1 }\n  } },\n  { $sort: { count: -1 } }\n]).pretty()\n```", "```\n{\n  \"_id\" : {\n    \"first_name\" : \"Tim\",\n    \"last_name\" : \"Hanlon\",\n    \"permalink\" : \"tim-hanlon\"\n  },\n  \"count\" : 28\n}\n{\n  \"_id\" : {\n    \"first_name\" : \"Pejman\",\n    \"last_name\" : \"Nozad\",\n    \"permalink\" : \"pejman-nozad\"\n  },\n  \"count\" : 24\n}\n{\n  \"_id\" : {\n    \"first_name\" : \"David S.\",\n    \"last_name\" : \"Rose\",\n    \"permalink\" : \"david-s-rose\"\n  },\n  \"count\" : 24\n}\n{\n  \"_id\" : {\n    \"first_name\" : \"Saul\",\n    \"last_name\" : \"Klein\",\n    \"permalink\" : \"saul-klein\"\n  },\n  \"count\" : 24\n}\n...\n```", "```\ndb.companies.aggregate([\n  { $match: { founded_year: { $gte: 2013 } } },\n  { $group: {\n    _id: { founded_year: \"$founded_year\"},\n    companies: { $push: \"$name\" }\n  } },\n  { $sort: { \"_id.founded_year\": 1 } }\n]).pretty()\n```", "```\n{\n  \"_id\" : {\n    \"founded_year\" : 2013\n  },\n  \"companies\" : [\n    \"Fixya\",\n    \"Wamba\",\n    \"Advaliant\",\n    \"Fluc\",\n    \"iBazar\",\n    \"Gimigo\",\n    \"SEOGroup\",\n    \"Clowdy\",\n    \"WhosCall\",\n    \"Pikk\",\n    \"Tongxue\",\n    \"Shopseen\",\n    \"VistaGen Therapeutics\"\n  ]\n}\n...\n```", "```\ndb.companies.aggregate([\n  { $match: { founded_year: { $gte: 2010 } } },\n  { $group: {\n    _id: { founded_year: \"$founded_year\", category_code: \"$category_code\" },\n    companies: { $push: \"$name\" }\n  } },\n  { $sort: { \"_id.founded_year\": 1 } }\n]).pretty()\n```", "```\ndb.companies.aggregate([\n  { $group: {\n    _id: { ipo_year: \"$ipo.pub_year\" },\n    companies: { $push: \"$name\" }\n  } },\n  { $sort: { \"_id.ipo_year\": 1 } }\n]).pretty()\n```", "```\n{\n  \"_id\" : {\n    \"ipo_year\" : 1999\n  },\n  \"companies\" : [\n    \"Akamai Technologies\",\n    \"TiVo\",\n    \"XO Group\",\n    \"Nvidia\",\n    \"Blackberry\",\n    \"Blue Coat Systems\",\n    \"Red Hat\",\n    \"Brocade Communications Systems\",\n    \"Juniper Networks\",\n    \"F5 Networks\",\n    \"Informatica\",\n    \"Iron Mountain\",\n    \"Perficient\",\n    \"Sitestar\",\n    \"Oxford Instruments\"\n  ]\n}\n```", "```\ndb.companies.aggregate( [\n  { $match: { \"relationships.person\": { $ne: null } } },\n  { $project: { relationships: 1, _id: 0 } },\n  { $unwind: \"$relationships\" },\n  { $group: {\n    _id: \"$relationships.person\",\n    count: { $sum: 1 }\n  } },\n  { $sort: { count: -1 } }\n] )\n```", "```\ndb.companies.aggregate([\n  { $match: { funding_rounds: { $ne: [ ] } } },\n  { $unwind: \"$funding_rounds\" },\n  { $sort: { \"funding_rounds.funded_year\": 1,\n    \"funding_rounds.funded_month\": 1,\n    \"funding_rounds.funded_day\": 1 } },\n  { $group: {\n    _id: { company: \"$name\" },\n    funding: {\n      $push: {\n        amount: \"$funding_rounds.raised_amount\",\n        year: \"$funding_rounds.funded_year\"\n      } }\n  } },\n] ).pretty()\n```", "```\n{\n  \"_id\" : {\n    \"company\" : \"Green Apple Media\"\n  },\n  \"funding\" : [\n    {\n      \"amount\" : 30000000,\n      \"year\" : 2013\n    },\n    {\n      \"amount\" : 100000000,\n      \"year\" : 2013\n    },\n    {\n      \"amount\" : 2000000,\n      \"year\" : 2013\n    }\n  ]\n}\n```", "```\ndb.companies.aggregate([\n  { $match: { funding_rounds: { $exists: true, $ne: [ ] } } },\n  { $unwind: \"$funding_rounds\" },\n  { $sort: { \"funding_rounds.funded_year\": 1,\n    \"funding_rounds.funded_month\": 1,\n    \"funding_rounds.funded_day\": 1 } },\n  { $group: {\n    _id: { company: \"$name\" },\n    first_round: { $first: \"$funding_rounds\" },\n    last_round: { $last: \"$funding_rounds\" },\n    num_rounds: { $sum: 1 },\n    total_raised: { $sum: \"$funding_rounds.raised_amount\" }\n  } },\n  { $project: {\n    _id: 0,\n    company: \"$_id.company\",\n    first_round: {\n      amount: \"$first_round.raised_amount\",\n      article: \"$first_round.source_url\",\n      year: \"$first_round.funded_year\"\n    },\n    last_round: {\n      amount: \"$last_round.raised_amount\",\n      article: \"$last_round.source_url\",\n      year: \"$last_round.funded_year\"\n    },\n    num_rounds: 1,\n    total_raised: 1,\n  } },\n  { $sort: { total_raised: -1 } }\n] ).pretty()\n```", "```\n{\n  \"first_round\" : {\n    \"amount\" : 7500000,\n    \"article\" : \"http://www.teslamotors.com/display_data/pressguild.swf\",\n    \"year\" : 2004\n  },\n  \"last_round\" : {\n    \"amount\" : 10000000,\n    \"article\" : \"http://www.bizjournals.com/sanfrancisco/news/2012/10/10/\n tesla-motors-to-get-10-million-from.html\",\n    \"year\" : 2012\n  },\n  \"num_rounds\" : 11,\n  \"total_raised\" : 823000000,\n  \"company\" : \"Tesla Motors\"\n}\n```"]