<html><head></head><body><section data-pdf-bookmark="Chapter 22. Mobile Application Shell" data-type="chapter" epub:type="chapter"><div class="chapter" id="mobile-shell">&#13;
<h1><span class="label">Chapter 22. </span>Mobile Application Shell</h1>&#13;
&#13;
&#13;
<p><a data-primary="mobile application shell" data-type="indexterm" id="ix_ch22-asciidoc0"/>My wife is a photographer, which means that much of her life is based around composing images within a rectangular frame. In photography there are many variables—subject, light, angle—but the proportions of the image remain consistent. With that limitation, incredible things happen, shaping the way that we see and remember the world around us. Mobile application development presents a similar opportunity. Within the constraints of a small rectangular screen, we can build incredibly powerful applications with immersive user experiences.</p>&#13;
&#13;
<p>In this chapter, we’ll begin to build out a shell for our application. To do this, we’ll first take a closer look at some of the key building blocks of React Native components. From there we’ll look at how to apply styles to our application, both with React Native’s built-in style support as well as with our CSS-in-JS library of choice, Styled Components. Once we’ve covered how to apply styles, we’ll take a look at how to integrate routing into our application. Finally, we’ll explore how to easily enhance our app interfaces with icons.</p>&#13;
&#13;
&#13;
&#13;
&#13;
&#13;
&#13;
<section data-pdf-bookmark="React Native Building Blocks" data-type="sect1"><div class="sect1" id="idm45339485533496">&#13;
<h1>React Native Building Blocks</h1>&#13;
&#13;
<p><a data-primary="mobile application shell" data-secondary="React Native building blocks" data-type="indexterm" id="ix_ch22-asciidoc1"/><a data-primary="React Native" data-secondary="mobile application shell" data-type="indexterm" id="ix_ch22-asciidoc2"/>Let’s begin by taking a look at the basic building blocks of a React Native application. You may have already guessed that a React Native application consists of React components written in JSX. But without an HTML page’s DOM (document object model), what exactly goes within those components? We can start by looking at the “Hello World” component at <em>src/Main.js</em>. For now, I’ve removed the styles:</p>&#13;
&#13;
<pre data-code-language="javascript" data-type="programlisting"><code class="kr">import</code> <code class="nx">React</code> <code class="nx">from</code> <code class="s1">'react'</code><code class="p">;</code>&#13;
<code class="kr">import</code> <code class="p">{</code> <code class="nx">Text</code><code class="p">,</code> <code class="nx">View</code> <code class="p">}</code> <code class="nx">from</code> <code class="s1">'react-native'</code><code class="p">;</code>&#13;
&#13;
<code class="kr">const</code> <code class="nx">Main</code> <code class="o">=</code> <code class="p">()</code> <code class="o">=&gt;</code> <code class="p">{</code>&#13;
  <code class="k">return</code> <code class="p">(</code>&#13;
    <code class="o">&lt;</code><code class="nx">View</code><code class="o">&gt;</code>&#13;
      <code class="o">&lt;</code><code class="nx">Text</code><code class="o">&gt;</code><code class="nx">Hello</code> <code class="nx">world</code><code class="o">!&lt;</code><code class="err">/Text&gt;</code>&#13;
    <code class="o">&lt;</code><code class="err">/View&gt;</code>&#13;
  <code class="p">);</code>&#13;
<code class="p">};</code>&#13;
&#13;
<code class="kr">export</code> <code class="k">default</code> <code class="nx">Main</code><code class="p">;</code></pre>&#13;
&#13;
<p>In this markup there are two notable JSX tags: <code>&lt;View&gt;</code> and <code>&lt;Text&gt;</code>. If you’re coming from a web background, a <a data-primary="&lt;view&gt;" data-type="indexterm" id="idm45339485472056"/><code>&lt;View&gt;</code> tag serves much of the same purpose as a <code>&lt;div&gt;</code> tag. It is a container for the content of our applications. On their own they don’t do much, but they contain all of our app’s content, can be nested within one another, and are used to apply styles. Each of our components will be contained within a <code>&lt;View&gt;</code>. In React Native, you can use a <code>&lt;View&gt;</code> anywhere that you might use a <code>&lt;div&gt;</code> or <code>&lt;span&gt;</code> tag on the web. The <a data-primary="&lt;Text&gt;" data-type="indexterm" id="idm45339485468584"/><code>&lt;Text&gt;</code> tag, unsurprisingly, is used to contain any text in our app. Unlike on the web, however, this single tag is used for all text.</p>&#13;
&#13;
<p>As you can imagine, we can also add images to our applications, by using the <a data-primary="&lt;Image&gt;" data-type="indexterm" id="idm45339485466968"/><code>&lt;Image&gt;</code> JSX element. Let’s update our <em>src/Main.js</em> file to include an image. To do so, we import the <code>Image</code> component from React Native and use an <code>&lt;Image&gt;</code> tag with a <code>src</code> attribute (see <a data-type="xref" href="#rn_image">Figure 22-1</a>):</p>&#13;
&#13;
<pre data-code-language="javascript" data-type="programlisting"><code class="kr">import</code> <code class="nx">React</code> <code class="nx">from</code> <code class="s1">'react'</code><code class="p">;</code>&#13;
<code class="kr">import</code> <code class="p">{</code> <code class="nx">Text</code><code class="p">,</code> <code class="nx">View</code><code class="p">,</code> <code class="nx">Image</code> <code class="p">}</code> <code class="nx">from</code> <code class="s1">'react-native'</code><code class="p">;</code>&#13;
&#13;
<code class="kr">const</code> <code class="nx">Main</code> <code class="o">=</code> <code class="p">()</code> <code class="o">=&gt;</code> <code class="p">{</code>&#13;
  <code class="k">return</code> <code class="p">(</code>&#13;
    <code class="o">&lt;</code><code class="nx">View</code> <code class="nx">style</code><code class="o">=</code><code class="p">{{</code> <code class="nx">flex</code><code class="o">:</code> <code class="mi">1</code><code class="p">,</code> <code class="nx">justifyContent</code><code class="o">:</code> <code class="s1">'center'</code><code class="p">,</code> <code class="nx">alignItems</code><code class="o">:</code> <code class="s1">'center'</code> <code class="p">}}</code><code class="o">&gt;</code>&#13;
      <code class="o">&lt;</code><code class="nx">Text</code><code class="o">&gt;</code><code class="nx">Hello</code> <code class="nx">world</code><code class="o">!&lt;</code><code class="err">/Text&gt;</code>&#13;
      <code class="o">&lt;</code><code class="nx">Image</code> <code class="nx">source</code><code class="o">=</code><code class="p">{</code><code class="nx">require</code><code class="p">(</code><code class="s1">'../assets/images/hello-world.jpg'</code><code class="p">)}</code> <code class="o">/&gt;</code>&#13;
    <code class="o">&lt;</code><code class="err">/View&gt;</code>&#13;
  <code class="p">);</code>&#13;
<code class="p">};</code>&#13;
&#13;
<code class="kr">export</code> <code class="k">default</code> <code class="nx">Main</code><code class="p">;</code></pre>&#13;
&#13;
<p>The preceding code renders some text and image within a view. You may notice that our <code>&lt;View&gt;</code> and <code>&lt;Image&gt;</code> JSX tags are passed properties that allow us to control specific behavior (in this case the style of the view and the source of the image). Passing properties to an element allows us to extend the element with all sorts of additional features. React Native’s <a href="https://oreil.ly/3fACI">API documentation</a> catalogs the properties that are made available to each element.</p>&#13;
&#13;
<figure><div class="figure" id="rn_image">&#13;
<img alt="A screenshot of an iPhone simulator demonstrating our app with an image" src="assets/jsev_2201.png"/>&#13;
<h6><span class="label">Figure 22-1. </span>Using the &lt;Image&gt; tag we can add images to our application (photo by <a href="https://oreil.ly/lkW3F">Windell Oskay</a>)</h6>&#13;
</div></figure>&#13;
&#13;
<p>Our app doesn’t do much yet, but in the next section we’ll explore how we can improve the look and feel using React Native’s built-in style support and Styled <span class="keep-together">Components.</span><a data-startref="ix_ch22-asciidoc2" data-type="indexterm" id="idm45339485354360"/><a data-startref="ix_ch22-asciidoc1" data-type="indexterm" id="idm45339485353656"/></p>&#13;
</div></section>&#13;
&#13;
&#13;
&#13;
&#13;
&#13;
&#13;
&#13;
&#13;
&#13;
&#13;
&#13;
&#13;
&#13;
<section data-pdf-bookmark="Style and Styled Components" data-type="sect1"><div class="sect1" id="idm45339485352856">&#13;
<h1>Style and Styled Components</h1>&#13;
&#13;
<p><a data-primary="mobile application shell" data-secondary="style and styled components" data-type="indexterm" id="ix_ch22-asciidoc3"/><a data-primary="Styled Components" data-type="indexterm" id="ix_ch22-asciidoc4"/>As app developers and designers, we want to be able to style our applications to have a precise look, feel, and user experience. There are a number of UI component libraries, such as <a href="https://nativebase.io">NativeBase</a> or <a href="https://oreil.ly/-M8EE">React Native Elements</a>, which offer a wide range of predefined and often customizable components. These are well worth a look, but for our purposes let’s explore how we might compose our own styles and application layouts.</p>&#13;
&#13;
<p>As we’ve already seen, React Native provides a <code>style</code> property that allows us to apply custom styles to any JSX element in our application. The style names and values match those of CSS, except that the names are written in camelCase, such as <code>lineHeight</code> and <code>backgroundColor</code>. Let’s update our <em>/src/Main.js</em> file to include some styles for the <code>&lt;Text&gt;</code> element (see <a data-type="xref" href="#rn_styles">Figure 22-2</a>):</p>&#13;
&#13;
<pre data-code-language="javascript" data-type="programlisting"><code class="kr">const</code> <code class="nx">Main</code> <code class="o">=</code> <code class="p">()</code> <code class="o">=&gt;</code> <code class="p">{</code>&#13;
  <code class="k">return</code> <code class="p">(</code>&#13;
    <code class="o">&lt;</code><code class="nx">View</code> <code class="nx">style</code><code class="o">=</code><code class="p">{{</code> <code class="nx">flex</code><code class="o">:</code> <code class="mi">1</code><code class="p">,</code> <code class="nx">justifyContent</code><code class="o">:</code> <code class="s1">'center'</code><code class="p">,</code> <code class="nx">alignItems</code><code class="o">:</code> <code class="s1">'center'</code> <code class="p">}}</code><code class="o">&gt;</code>&#13;
      <code class="o">&lt;</code><code class="nx">Text</code> <code class="nx">style</code><code class="o">=</code><code class="p">{{</code> <code class="nx">color</code><code class="o">:</code> <code class="s1">'#0077cc'</code><code class="p">,</code> <code class="nx">fontSize</code><code class="o">:</code> <code class="mi">48</code><code class="p">,</code> <code class="nx">fontWeight</code><code class="o">:</code> <code class="s1">'bold'</code> <code class="p">}}</code><code class="o">&gt;</code>&#13;
        <code class="nx">Hello</code> <code class="nx">world</code><code class="o">!</code>&#13;
      <code class="o">&lt;</code><code class="err">/Text&gt;</code>&#13;
      <code class="o">&lt;</code><code class="nx">Image</code> <code class="nx">source</code><code class="o">=</code><code class="p">{</code><code class="nx">require</code><code class="p">(</code><code class="s1">'../assets/images/hello-world.jpg'</code><code class="p">)}</code> <code class="o">/&gt;</code>&#13;
    <code class="o">&lt;</code><code class="err">/View&gt;</code>&#13;
  <code class="p">);</code>&#13;
<code class="p">};</code></pre>&#13;
&#13;
<figure><div class="figure" id="rn_styles">&#13;
<img alt="A screenshot of the hello world app with styled text" src="assets/jsev_2202.png"/>&#13;
<h6><span class="label">Figure 22-2. </span>Using styles we can adjust the look of our &lt;Text&gt; element</h6>&#13;
</div></figure>&#13;
&#13;
<p>You may be thinking, rightfully, that applying styles at the element level would quickly become an unmaintainable mess. We can use React Native’s <code>StyleSheet</code> library to help organize and reuse our styles.</p>&#13;
&#13;
<p>First, we need to add <code>StyleSheet</code> to our list of imports (<a data-type="xref" href="#rn_stylesheets">Figure 22-3</a>):</p>&#13;
&#13;
<pre data-code-language="javascript" data-type="programlisting"><code class="kr">import</code> <code class="p">{</code> <code class="nx">Text</code><code class="p">,</code> <code class="nx">View</code><code class="p">,</code> <code class="nx">Image</code><code class="p">,</code> <code class="nx">StyleSheet</code> <code class="p">}</code> <code class="nx">from</code> <code class="s1">'react-native'</code><code class="p">;</code></pre>&#13;
&#13;
<p>Now we can abstract our styles:</p>&#13;
&#13;
<pre data-code-language="javascript" data-type="programlisting"><code class="kr">const</code> <code class="nx">Main</code> <code class="o">=</code> <code class="p">()</code> <code class="o">=&gt;</code> <code class="p">{</code>&#13;
  <code class="k">return</code> <code class="p">(</code>&#13;
    <code class="o">&lt;</code><code class="nx">View</code> <code class="nx">style</code><code class="o">=</code><code class="p">{</code><code class="nx">styles</code><code class="p">.</code><code class="nx">container</code><code class="p">}</code><code class="o">&gt;</code>&#13;
      <code class="o">&lt;</code><code class="nx">Text</code> <code class="nx">style</code><code class="o">=</code><code class="p">{</code><code class="nx">styles</code><code class="p">.</code><code class="nx">h1</code><code class="p">}</code><code class="o">&gt;</code><code class="nx">Hello</code> <code class="nx">world</code><code class="o">!&lt;</code><code class="err">/Text&gt;</code>&#13;
      <code class="o">&lt;</code><code class="nx">Text</code> <code class="nx">style</code><code class="o">=</code><code class="p">{</code><code class="nx">styles</code><code class="p">.</code><code class="nx">paragraph</code><code class="p">}</code><code class="o">&gt;</code><code class="nx">This</code> <code class="nx">is</code> <code class="nx">my</code> <code class="nx">app</code><code class="o">&lt;</code><code class="err">/Text&gt;</code>&#13;
      <code class="o">&lt;</code><code class="nx">Image</code> <code class="nx">source</code><code class="o">=</code><code class="p">{</code><code class="nx">require</code><code class="p">(</code><code class="s1">'../assets/images/hello-world.jpg'</code><code class="p">)}</code> <code class="o">/&gt;</code>&#13;
    <code class="o">&lt;</code><code class="err">/View&gt;</code>&#13;
  <code class="p">);</code>&#13;
<code class="p">};</code>&#13;
&#13;
<code class="kr">const</code> <code class="nx">styles</code> <code class="o">=</code> <code class="nx">StyleSheet</code><code class="p">.</code><code class="nx">create</code><code class="p">({</code>&#13;
  <code class="nx">container</code><code class="o">:</code> <code class="p">{</code>&#13;
    <code class="nx">flex</code><code class="o">:</code> <code class="mi">1</code><code class="p">,</code>&#13;
    <code class="nx">justifyContent</code><code class="o">:</code> <code class="s1">'center'</code>&#13;
  <code class="p">},</code>&#13;
  <code class="nx">h1</code><code class="o">:</code> <code class="p">{</code>&#13;
    <code class="nx">fontSize</code><code class="o">:</code> <code class="mi">48</code><code class="p">,</code>&#13;
    <code class="nx">fontWeight</code><code class="o">:</code> <code class="s1">'bold'</code>&#13;
  <code class="p">},</code>&#13;
  <code class="nx">paragraph</code><code class="o">:</code> <code class="p">{</code>&#13;
    <code class="nx">marginTop</code><code class="o">:</code> <code class="mi">24</code><code class="p">,</code>&#13;
    <code class="nx">marginBottom</code><code class="o">:</code> <code class="mi">24</code><code class="p">,</code>&#13;
    <code class="nx">fontSize</code><code class="o">:</code> <code class="mi">18</code>&#13;
  <code class="p">}</code>&#13;
<code class="p">});</code></pre>&#13;
<div data-type="note" epub:type="note"><h1>Flexbox</h1>&#13;
<p><a data-primary="flexbox" data-type="indexterm" id="idm45339485240520"/>React Native uses the CSS flexbox algorithm to define layout styles. We won’t be covering flexbox in depth, but React Native <a href="https://oreil.ly/owhZK">offers documentation</a> that clearly explains flexbox and its use cases for arranging elements on the screen.</p>&#13;
</div>&#13;
&#13;
<figure><div class="figure" id="rn_stylesheets">&#13;
<img alt="A screenshot of our application with additional styles applied" src="assets/jsev_2203.png"/>&#13;
<h6><span class="label">Figure 22-3. </span>By using stylesheets we can scale the styles of our application</h6>&#13;
</div></figure>&#13;
&#13;
&#13;
&#13;
&#13;
&#13;
&#13;
&#13;
&#13;
<section data-pdf-bookmark="Styled Components" data-type="sect2"><div class="sect2" id="idm45339485023752">&#13;
<h2>Styled Components</h2>&#13;
&#13;
<p>While React Native’s built-in <code>style</code> properties and <code>StyleSheets</code> may offer everything that we need out of the box, they are far from our only options for styling our applications. We can also make use of popular web CSS-in-JS solutions, such as <a href="https://www.styled-components.com">Styled Components</a> and <a href="https://emotion.sh">Emotion</a>. These offer, in my opinion, a cleaner syntax, are more closely aligned to CSS, and limit the amount of context switching needed between the web and mobile application codebases. Using these web-enabled CSS-in-JS libraries also creates the opportunity to share styles or components across platforms.</p>&#13;
&#13;
<p>For our purposes, let’s look at how we can adapt the previous example to use the Styled Components library. First, in <em>src/Main.js</em> we will import the <code>native</code> version of the library:</p>&#13;
&#13;
<pre data-code-language="javascript" data-type="programlisting"><code class="kr">import</code> <code class="nx">styled</code> <code class="nx">from</code> <code class="s1">'styled-components/native'</code></pre>&#13;
&#13;
<p>From here we can migrate our styles to the Styled Components syntax. If you followed along in <a data-type="xref" href="ch13.html#web-styles">Chapter 13</a>, this syntax should look very familiar. The final code of our <em>src/Main.js</em> file becomes:</p>&#13;
&#13;
<pre data-code-language="javascript" data-type="programlisting"><code class="kr">import</code> <code class="nx">React</code> <code class="nx">from</code> <code class="s1">'react'</code><code class="p">;</code>&#13;
<code class="kr">import</code> <code class="p">{</code> <code class="nx">Text</code><code class="p">,</code> <code class="nx">View</code><code class="p">,</code> <code class="nx">Image</code> <code class="p">}</code> <code class="nx">from</code> <code class="s1">'react-native'</code><code class="p">;</code>&#13;
<code class="kr">import</code> <code class="nx">styled</code> <code class="nx">from</code> <code class="s1">'styled-components/native'</code><code class="p">;</code>&#13;
&#13;
<code class="kr">const</code> <code class="nx">StyledView</code> <code class="o">=</code> <code class="nx">styled</code><code class="p">.</code><code class="nx">View</code><code class="sb">`</code>&#13;
<code class="sb">  flex: 1;</code>&#13;
<code class="sb">  justify-content: center;</code>&#13;
<code class="sb">`</code><code class="p">;</code>&#13;
&#13;
<code class="kr">const</code> <code class="nx">H1</code> <code class="o">=</code> <code class="nx">styled</code><code class="p">.</code><code class="nx">Text</code><code class="sb">`</code>&#13;
<code class="sb">  font-size: 48px;</code>&#13;
<code class="sb">  font-weight: bold;</code>&#13;
<code class="sb">`</code><code class="p">;</code>&#13;
&#13;
<code class="kr">const</code> <code class="nx">P</code> <code class="o">=</code> <code class="nx">styled</code><code class="p">.</code><code class="nx">Text</code><code class="sb">`</code>&#13;
<code class="sb">  margin: 24px 0;</code>&#13;
<code class="sb">  font-size: 18px;</code>&#13;
<code class="sb">`</code><code class="p">;</code>&#13;
&#13;
<code class="kr">const</code> <code class="nx">Main</code> <code class="o">=</code> <code class="p">()</code> <code class="o">=&gt;</code> <code class="p">{</code>&#13;
  <code class="k">return</code> <code class="p">(</code>&#13;
    <code class="o">&lt;</code><code class="nx">StyledView</code><code class="o">&gt;</code>&#13;
      <code class="o">&lt;</code><code class="nx">H1</code><code class="o">&gt;</code><code class="nx">Hello</code> <code class="nx">world</code><code class="o">!&lt;</code><code class="err">/H1&gt;</code>&#13;
      <code class="o">&lt;</code><code class="nx">P</code><code class="o">&gt;</code><code class="nx">This</code> <code class="nx">is</code> <code class="nx">my</code> <code class="nx">app</code><code class="p">.</code><code class="o">&lt;</code><code class="err">/P&gt;</code>&#13;
      <code class="o">&lt;</code><code class="nx">Image</code> <code class="nx">source</code><code class="o">=</code><code class="p">{</code><code class="nx">require</code><code class="p">(</code><code class="s1">'../assets/images/hello-world.jpg'</code><code class="p">)}</code> <code class="o">/&gt;</code>&#13;
    <code class="o">&lt;</code><code class="err">/StyledView&gt;</code>&#13;
  <code class="p">);</code>&#13;
<code class="p">};</code>&#13;
&#13;
<code class="kr">export</code> <code class="k">default</code> <code class="nx">Main</code><code class="p">;</code></pre>&#13;
<div data-type="tip"><h1>Styled Components Capitalization</h1>&#13;
<p>In the Styled Components library, the element names must always be capitalized.</p>&#13;
</div>&#13;
&#13;
<p>With this we’re now able to apply custom styling to our applications, with the option of using React Native’s built-in style system or Styled Components library.<a data-startref="ix_ch22-asciidoc4" data-type="indexterm" id="idm45339484857128"/><a data-startref="ix_ch22-asciidoc3" data-type="indexterm" id="idm45339484856456"/></p>&#13;
</div></section>&#13;
&#13;
&#13;
&#13;
&#13;
&#13;
</div></section>&#13;
&#13;
&#13;
&#13;
&#13;
&#13;
&#13;
&#13;
&#13;
&#13;
&#13;
&#13;
&#13;
&#13;
<section class="less_space pagebreak-before" data-pdf-bookmark="Routing" data-type="sect1"><div class="sect1" id="idm45339485352264">&#13;
<h1>Routing</h1>&#13;
&#13;
<p><a data-primary="mobile application shell" data-secondary="routing" data-type="indexterm" id="ix_ch22-asciidoc5"/>On the web we can use HTML anchor links to link from one HTML document to any other, including those on our own site. For JavaScript-driven applications we use routing to link together JavaScript-rendered templates. What about native mobile applications? For these, we will route our users between screens. In this section we’ll explore two common routing types: tab-based navigation and stack navigation.</p>&#13;
&#13;
&#13;
&#13;
&#13;
&#13;
&#13;
&#13;
&#13;
<section data-pdf-bookmark="Tabbed Routing with React Navigation" data-type="sect2"><div class="sect2" id="idm45339484852152">&#13;
<h2>Tabbed Routing with React Navigation</h2>&#13;
&#13;
<p><a data-primary="mobile application shell" data-secondary="tabbed routing with React Navigation" data-type="indexterm" id="ix_ch22-asciidoc6"/><a data-primary="React Navigation" data-type="indexterm" id="ix_ch22-asciidoc7"/><a data-primary="routing" data-secondary="tabbed" data-type="indexterm" id="ix_ch22-asciidoc8"/><a data-primary="routing" data-secondary="tabbed routing with React Navigation" data-type="indexterm" id="ix_ch22-asciidoc9"/><a data-primary="tabbed routing" data-type="indexterm" id="ix_ch22-asciidoc10"/>To perform our routing we’ll make use of the <a href="https://reactnavigation.org">React Navigation library</a>, which is the routing solution recommended by both the React Native and Expo teams. Most importantly, it makes it very straightforward to implement common routing patterns with a platform-specific look and feel.</p>&#13;
&#13;
<p>To get started, let’s first create a new directory within our <em>src</em> directory named <em>screens</em>. Within the <em>screens</em> directory, let’s create three new files, each containing a very basic React component.</p>&#13;
&#13;
<p>Add the following in <em>src/screens/favorites.js</em>:</p>&#13;
&#13;
<pre data-code-language="javascript" data-type="programlisting"><code class="kr">import</code> <code class="nx">React</code> <code class="nx">from</code> <code class="s1">'react'</code><code class="p">;</code>&#13;
<code class="kr">import</code> <code class="p">{</code> <code class="nx">Text</code><code class="p">,</code> <code class="nx">View</code> <code class="p">}</code> <code class="nx">from</code> <code class="s1">'react-native'</code><code class="p">;</code>&#13;
&#13;
<code class="kr">const</code> <code class="nx">Favorites</code> <code class="o">=</code> <code class="p">()</code> <code class="o">=&gt;</code> <code class="p">{</code>&#13;
  <code class="k">return</code> <code class="p">(</code>&#13;
    <code class="o">&lt;</code><code class="nx">View</code> <code class="nx">style</code><code class="o">=</code><code class="p">{{</code> <code class="nx">flex</code><code class="o">:</code> <code class="mi">1</code><code class="p">,</code> <code class="nx">justifyContent</code><code class="o">:</code> <code class="s1">'center'</code><code class="p">,</code> <code class="nx">alignItems</code><code class="o">:</code> <code class="s1">'center'</code> <code class="p">}}</code><code class="o">&gt;</code>&#13;
      <code class="o">&lt;</code><code class="nx">Text</code><code class="o">&gt;</code><code class="nx">Favorites</code><code class="o">&lt;</code><code class="err">/Text&gt;</code>&#13;
    <code class="o">&lt;</code><code class="err">/View&gt;</code>&#13;
  <code class="p">);</code>&#13;
<code class="p">};</code>&#13;
&#13;
<code class="kr">export</code> <code class="k">default</code> <code class="nx">Favorites</code><code class="p">;</code></pre>&#13;
&#13;
<p>Add this in <em>src/screens/feed.js</em>:</p>&#13;
&#13;
<pre data-code-language="javascript" data-type="programlisting"><code class="kr">import</code> <code class="nx">React</code> <code class="nx">from</code> <code class="s1">'react'</code><code class="p">;</code>&#13;
<code class="kr">import</code> <code class="p">{</code> <code class="nx">Text</code><code class="p">,</code> <code class="nx">View</code> <code class="p">}</code> <code class="nx">from</code> <code class="s1">'react-native'</code><code class="p">;</code>&#13;
&#13;
<code class="kr">const</code> <code class="nx">Feed</code> <code class="o">=</code> <code class="p">()</code> <code class="o">=&gt;</code> <code class="p">{</code>&#13;
  <code class="k">return</code> <code class="p">(</code>&#13;
    <code class="o">&lt;</code><code class="nx">View</code> <code class="nx">style</code><code class="o">=</code><code class="p">{{</code> <code class="nx">flex</code><code class="o">:</code> <code class="mi">1</code><code class="p">,</code> <code class="nx">justifyContent</code><code class="o">:</code> <code class="s1">'center'</code><code class="p">,</code> <code class="nx">alignItems</code><code class="o">:</code> <code class="s1">'center'</code> <code class="p">}}</code><code class="o">&gt;</code>&#13;
      <code class="o">&lt;</code><code class="nx">Text</code><code class="o">&gt;</code><code class="nx">Feed</code><code class="o">&lt;</code><code class="err">/Text&gt;</code>&#13;
    <code class="o">&lt;</code><code class="err">/View&gt;</code>&#13;
  <code class="p">);</code>&#13;
<code class="p">};</code>&#13;
&#13;
<code class="kr">export</code> <code class="k">default</code> <code class="nx">Feed</code><code class="p">;</code></pre>&#13;
&#13;
<p>Finally, add this in <em>src/screens/mynotes.js</em>:</p>&#13;
&#13;
<pre data-code-language="javascript" data-type="programlisting"><code class="kr">import</code> <code class="nx">React</code> <code class="nx">from</code> <code class="s1">'react'</code><code class="p">;</code>&#13;
<code class="kr">import</code> <code class="p">{</code> <code class="nx">Text</code><code class="p">,</code> <code class="nx">View</code> <code class="p">}</code> <code class="nx">from</code> <code class="s1">'react-native'</code><code class="p">;</code>&#13;
&#13;
<code class="kr">const</code> <code class="nx">MyNotes</code> <code class="o">=</code> <code class="p">()</code> <code class="o">=&gt;</code> <code class="p">{</code>&#13;
  <code class="k">return</code> <code class="p">(</code>&#13;
    <code class="o">&lt;</code><code class="nx">View</code> <code class="nx">style</code><code class="o">=</code><code class="p">{{</code> <code class="nx">flex</code><code class="o">:</code> <code class="mi">1</code><code class="p">,</code> <code class="nx">justifyContent</code><code class="o">:</code> <code class="s1">'center'</code><code class="p">,</code> <code class="nx">alignItems</code><code class="o">:</code> <code class="s1">'center'</code> <code class="p">}}</code><code class="o">&gt;</code>&#13;
      <code class="o">&lt;</code><code class="nx">Text</code><code class="o">&gt;</code><code class="nx">My</code> <code class="nx">Notes</code><code class="o">&lt;</code><code class="err">/Text&gt;</code>&#13;
    <code class="o">&lt;</code><code class="err">/View&gt;</code>&#13;
  <code class="p">);</code>&#13;
<code class="p">};</code>&#13;
&#13;
<code class="kr">export</code> <code class="k">default</code> <code class="nx">MyNotes</code><code class="p">;</code></pre>&#13;
&#13;
<p>We can then create a new file at <em>src/screens/index.js</em> to be used as the root of our application’s routing. We’ll begin by importing our initial <code>react</code> and <code>react-navigation</code> dependencies:</p>&#13;
&#13;
<pre data-code-language="javascript" data-type="programlisting"><code class="kr">import</code> <code class="nx">React</code> <code class="nx">from</code> <code class="s1">'react'</code><code class="p">;</code>&#13;
<code class="kr">import</code> <code class="p">{</code> <code class="nx">createAppContainer</code> <code class="p">}</code> <code class="nx">from</code> <code class="s1">'react-navigation'</code><code class="p">;</code>&#13;
<code class="kr">import</code> <code class="p">{</code> <code class="nx">createBottomTabNavigator</code> <code class="p">}</code> <code class="nx">from</code> <code class="s1">'react-navigation-tabs'</code><code class="p">;</code>&#13;
&#13;
<code class="c1">// import screen components</code>&#13;
<code class="kr">import</code> <code class="nx">Feed</code> <code class="nx">from</code> <code class="s1">'./feed'</code><code class="p">;</code>&#13;
<code class="kr">import</code> <code class="nx">Favorites</code> <code class="nx">from</code> <code class="s1">'./favorites'</code><code class="p">;</code>&#13;
<code class="kr">import</code> <code class="nx">MyNotes</code> <code class="nx">from</code> <code class="s1">'./mynotes'</code><code class="p">;</code></pre>&#13;
&#13;
<p>With these dependencies imported, we can create a tab navigator between these three screens using React Navigation’s <a data-primary="createBottomTabNavigator" data-type="indexterm" id="idm45339484513320"/><code>createBottomTabNavigator</code> to define which React component screens should appear in our navigation:</p>&#13;
&#13;
<pre data-code-language="javascript" data-type="programlisting"><code class="kr">const</code> <code class="nx">TabNavigator</code> <code class="o">=</code> <code class="nx">createBottomTabNavigator</code><code class="p">({</code>&#13;
  <code class="nx">FeedScreen</code><code class="o">:</code> <code class="p">{</code>&#13;
    <code class="nx">screen</code><code class="o">:</code> <code class="nx">Feed</code><code class="p">,</code>&#13;
    <code class="nx">navigationOptions</code><code class="o">:</code> <code class="p">{</code>&#13;
      <code class="nx">tabBarLabel</code><code class="o">:</code> <code class="s1">'Feed'</code><code class="p">,</code>&#13;
    <code class="p">}</code>&#13;
  <code class="p">},</code>&#13;
  <code class="nx">MyNoteScreen</code><code class="o">:</code> <code class="p">{</code>&#13;
    <code class="nx">screen</code><code class="o">:</code> <code class="nx">MyNotes</code><code class="p">,</code>&#13;
    <code class="nx">navigationOptions</code><code class="o">:</code> <code class="p">{</code>&#13;
      <code class="nx">tabBarLabel</code><code class="o">:</code> <code class="s1">'My Notes'</code><code class="p">,</code>&#13;
    <code class="p">}</code>&#13;
  <code class="p">},</code>&#13;
  <code class="nx">FavoriteScreen</code><code class="o">:</code> <code class="p">{</code>&#13;
    <code class="nx">screen</code><code class="o">:</code> <code class="nx">Favorites</code><code class="p">,</code>&#13;
    <code class="nx">navigationOptions</code><code class="o">:</code> <code class="p">{</code>&#13;
      <code class="nx">tabBarLabel</code><code class="o">:</code> <code class="s1">'Favorites'</code><code class="p">,</code>&#13;
    <code class="p">}</code>&#13;
  <code class="p">}</code>&#13;
<code class="p">});</code>&#13;
&#13;
<code class="c1">// create the app container</code>&#13;
<code class="kr">export</code> <code class="k">default</code> <code class="nx">createAppContainer</code><code class="p">(</code><code class="nx">TabNavigator</code><code class="p">);</code></pre>&#13;
&#13;
<p>Finally, let’s update our <em>src/Main.js</em> file to do nothing but import our router. It should now be simplified to read as follows:</p>&#13;
&#13;
<pre data-code-language="javascript" data-type="programlisting"><code class="kr">import</code> <code class="nx">React</code> <code class="nx">from</code> <code class="s1">'react'</code><code class="p">;</code>&#13;
<code class="kr">import</code> <code class="nx">Screens</code> <code class="nx">from</code> <code class="s1">'./screens'</code><code class="p">;</code>&#13;
&#13;
<code class="kr">const</code> <code class="nx">Main</code> <code class="o">=</code> <code class="p">()</code> <code class="o">=&gt;</code> <code class="p">{</code>&#13;
  <code class="k">return</code> <code class="o">&lt;</code><code class="nx">Screens</code> <code class="o">/&gt;</code><code class="p">;</code>&#13;
<code class="p">};</code>&#13;
&#13;
<code class="kr">export</code> <code class="k">default</code> <code class="nx">Main</code><code class="p">;</code></pre>&#13;
&#13;
<p>Be sure that your application is running by entering the <strong><code>npm start</code></strong> command in your terminal. You should now see tab navigation at the bottom of the screen, where tapping a tab will route you to the appropriate screen (<a data-type="xref" href="#tabbed_navigation">Figure 22-4</a>).<a data-startref="ix_ch22-asciidoc10" data-type="indexterm" id="idm45339484352168"/><a data-startref="ix_ch22-asciidoc9" data-type="indexterm" id="idm45339484351496"/><a data-startref="ix_ch22-asciidoc8" data-type="indexterm" id="idm45339484350824"/><a data-startref="ix_ch22-asciidoc7" data-type="indexterm" id="idm45339484350152"/><a data-startref="ix_ch22-asciidoc6" data-type="indexterm" id="idm45339484349480"/></p>&#13;
&#13;
<figure><div class="figure" id="tabbed_navigation">&#13;
<img alt="A screenshot of our application with tab based navigation" src="assets/jsev_2204.png"/>&#13;
<h6><span class="label">Figure 22-4. </span>We can now navigate between screens with tabbed navigation</h6>&#13;
</div></figure>&#13;
</div></section>&#13;
&#13;
&#13;
&#13;
&#13;
&#13;
&#13;
&#13;
&#13;
&#13;
&#13;
&#13;
&#13;
&#13;
<section data-pdf-bookmark="Stack Navigation" data-type="sect2"><div class="sect2" id="idm45339484851560">&#13;
<h2>Stack Navigation</h2>&#13;
&#13;
<p><a data-primary="mobile application shell" data-secondary="stack navigation" data-type="indexterm" id="ix_ch22-asciidoc11"/><a data-primary="routing" data-secondary="stack navigation" data-type="indexterm" id="ix_ch22-asciidoc12"/><a data-primary="stack navigation" data-type="indexterm" id="ix_ch22-asciidoc13"/>A second kind of routing type is stack navigation, in which screens are conceptually “stacked” on top of one another, allowing users to navigate deeper into and backward through the stack. Consider a news application where a user views a feed of articles. The user can tap a news article title and navigate deeper in the stack to the article contents. They can then click a back button, navigating back to the article feed, or perhaps a different article title, navigating deeper into the stack.</p>&#13;
&#13;
<p>In our application we want users to be able to navigate from a feed of notes to the notes themselves and back. Let’s look at how we might implement a stack navigation for each of our screens.</p>&#13;
&#13;
<p>First, let’s create a new <code>NoteScreen</code> component, which will contain the second screen in our stack. Create a new file at <em>src/screens/note.js</em> with a minimal React Native <span class="keep-together">component:</span></p>&#13;
&#13;
<pre data-code-language="javascript" data-type="programlisting"><code class="kr">import</code> <code class="nx">React</code> <code class="nx">from</code> <code class="s1">'react'</code><code class="p">;</code>&#13;
<code class="kr">import</code> <code class="p">{</code> <code class="nx">Text</code><code class="p">,</code> <code class="nx">View</code> <code class="p">}</code> <code class="nx">from</code> <code class="s1">'react-native'</code><code class="p">;</code>&#13;
&#13;
<code class="kr">const</code> <code class="nx">NoteScreen</code> <code class="o">=</code> <code class="p">()</code> <code class="o">=&gt;</code> <code class="p">{</code>&#13;
  <code class="k">return</code> <code class="p">(</code>&#13;
    <code class="o">&lt;</code><code class="nx">View</code> <code class="nx">style</code><code class="o">=</code><code class="p">{{</code> <code class="nx">padding</code><code class="o">:</code> <code class="mi">10</code> <code class="p">}}</code><code class="o">&gt;</code>&#13;
      <code class="o">&lt;</code><code class="nx">Text</code><code class="o">&gt;</code><code class="nx">This</code> <code class="nx">is</code> <code class="nx">a</code> <code class="nx">note</code><code class="o">!&lt;</code><code class="err">/Text&gt;</code>&#13;
    <code class="o">&lt;</code><code class="err">/View&gt;</code>&#13;
  <code class="p">);</code>&#13;
<code class="p">};</code>&#13;
&#13;
<code class="kr">export</code> <code class="k">default</code> <code class="nx">NoteScreen</code><code class="p">;</code></pre>&#13;
&#13;
<p>Next, we will make the changes to our router to enable stacked navigation for the <code>NoteScreen</code> component. To do so, we’ll import <code>createStackNavigator</code> from <code>react-navigation-stack</code> as well as our new <em>note.js</em> component. In <em>src/screens/index.js</em> update the imports to look as follows:</p>&#13;
&#13;
<pre data-code-language="javascript" data-type="programlisting"><code class="kr">import</code> <code class="nx">React</code> <code class="nx">from</code> <code class="s1">'react'</code><code class="p">;</code>&#13;
<code class="kr">import</code> <code class="p">{</code> <code class="nx">Text</code><code class="p">,</code> <code class="nx">View</code><code class="p">,</code> <code class="nx">ScrollView</code><code class="p">,</code> <code class="nx">Button</code> <code class="p">}</code> <code class="nx">from</code> <code class="s1">'react-native'</code><code class="p">;</code>&#13;
<code class="kr">import</code> <code class="p">{</code> <code class="nx">createAppContainer</code> <code class="p">}</code> <code class="nx">from</code> <code class="s1">'react-navigation'</code><code class="p">;</code>&#13;
<code class="kr">import</code> <code class="p">{</code> <code class="nx">createBottomTabNavigator</code> <code class="p">}</code> <code class="nx">from</code> <code class="s1">'react-navigation-tabs'</code><code class="p">;</code>&#13;
<code class="c1">// add import for createStackNavigator</code>&#13;
<code class="kr">import</code> <code class="p">{</code> <code class="nx">createStackNavigator</code> <code class="p">}</code> <code class="nx">from</code> <code class="s1">'react-navigation-stack'</code><code class="p">;</code>&#13;
&#13;
<code class="c1">// import screen components, including note.js</code>&#13;
<code class="kr">import</code> <code class="nx">Feed</code> <code class="nx">from</code> <code class="s1">'./feed'</code><code class="p">;</code>&#13;
<code class="kr">import</code> <code class="nx">Favorites</code> <code class="nx">from</code> <code class="s1">'./favorites'</code><code class="p">;</code>&#13;
<code class="kr">import</code> <code class="nx">MyNotes</code> <code class="nx">from</code> <code class="s1">'./mynotes'</code><code class="p">;</code>&#13;
<code class="kr">import</code> <code class="nx">NoteScreen</code> <code class="nx">from</code> <code class="s1">'./note'</code><code class="p">;</code></pre>&#13;
&#13;
<p>With our libraries and files imported, we can implement the stack navigation capability. In our router file we must tell React Navigation which screens are “stackable.” For each of our tabbed routes, we’ll want a user to be able to navigate to a <code>Note</code> screen. Go ahead and define those stacks as follows:</p>&#13;
&#13;
<pre data-code-language="javascript" data-type="programlisting"><code class="kr">const</code> <code class="nx">FeedStack</code> <code class="o">=</code> <code class="nx">createStackNavigator</code><code class="p">({</code>&#13;
  <code class="nx">Feed</code><code class="o">:</code> <code class="nx">Feed</code><code class="p">,</code>&#13;
  <code class="nx">Note</code><code class="o">:</code> <code class="nx">NoteScreen</code>&#13;
<code class="p">});</code>&#13;
&#13;
<code class="kr">const</code> <code class="nx">MyStack</code> <code class="o">=</code> <code class="nx">createStackNavigator</code><code class="p">({</code>&#13;
  <code class="nx">MyNotes</code><code class="o">:</code> <code class="nx">MyNotes</code><code class="p">,</code>&#13;
  <code class="nx">Note</code><code class="o">:</code> <code class="nx">NoteScreen</code>&#13;
<code class="p">});</code>&#13;
&#13;
<code class="kr">const</code> <code class="nx">FavStack</code> <code class="o">=</code> <code class="nx">createStackNavigator</code><code class="p">({</code>&#13;
  <code class="nx">Favorites</code><code class="o">:</code> <code class="nx">Favorites</code><code class="p">,</code>&#13;
  <code class="nx">Note</code><code class="o">:</code> <code class="nx">NoteScreen</code>&#13;
<code class="p">});</code></pre>&#13;
&#13;
<p>Now we can update our <code>TabNavigator</code> to reference the stack, rather than an individual screen. To do this, update the <code>screen</code> property in each <code>TabNavigator</code> object:</p>&#13;
&#13;
<pre data-code-language="javascript" data-type="programlisting"><code class="kr">const</code> <code class="nx">TabNavigator</code> <code class="o">=</code> <code class="nx">createBottomTabNavigator</code><code class="p">({</code>&#13;
  <code class="nx">FeedScreen</code><code class="o">:</code> <code class="p">{</code>&#13;
    <code class="nx">screen</code><code class="o">:</code> <code class="nx">FeedStack</code><code class="p">,</code>&#13;
    <code class="nx">navigationOptions</code><code class="o">:</code> <code class="p">{</code>&#13;
      <code class="nx">tabBarLabel</code><code class="o">:</code> <code class="s1">'Feed'</code>&#13;
    <code class="p">}</code>&#13;
  <code class="p">},</code>&#13;
  <code class="nx">MyNoteScreen</code><code class="o">:</code> <code class="p">{</code>&#13;
    <code class="nx">screen</code><code class="o">:</code> <code class="nx">MyStack</code><code class="p">,</code>&#13;
    <code class="nx">navigationOptions</code><code class="o">:</code> <code class="p">{</code>&#13;
      <code class="nx">tabBarLabel</code><code class="o">:</code> <code class="s1">'My Notes'</code>&#13;
    <code class="p">}</code>&#13;
  <code class="p">},</code>&#13;
  <code class="nx">FavoriteScreen</code><code class="o">:</code> <code class="p">{</code>&#13;
    <code class="nx">screen</code><code class="o">:</code> <code class="nx">FavStack</code><code class="p">,</code>&#13;
    <code class="nx">navigationOptions</code><code class="o">:</code> <code class="p">{</code>&#13;
      <code class="nx">tabBarLabel</code><code class="o">:</code> <code class="s1">'Favorites'</code>&#13;
    <code class="p">}</code>&#13;
  <code class="p">}</code>&#13;
<code class="p">});</code></pre>&#13;
&#13;
<p>All together, our <em>src/screens/index.js</em> file should appear as follows:</p>&#13;
&#13;
<pre data-code-language="javascript" data-type="programlisting"><code class="kr">import</code> <code class="nx">React</code> <code class="nx">from</code> <code class="s1">'react'</code><code class="p">;</code>&#13;
<code class="kr">import</code> <code class="p">{</code> <code class="nx">Text</code><code class="p">,</code> <code class="nx">View</code><code class="p">,</code> <code class="nx">ScrollView</code><code class="p">,</code> <code class="nx">Button</code> <code class="p">}</code> <code class="nx">from</code> <code class="s1">'react-native'</code><code class="p">;</code>&#13;
<code class="kr">import</code> <code class="p">{</code> <code class="nx">createAppContainer</code> <code class="p">}</code> <code class="nx">from</code> <code class="s1">'react-navigation'</code><code class="p">;</code>&#13;
<code class="kr">import</code> <code class="p">{</code> <code class="nx">createBottomTabNavigator</code> <code class="p">}</code> <code class="nx">from</code> <code class="s1">'react-navigation-tabs'</code><code class="p">;</code>&#13;
<code class="kr">import</code> <code class="p">{</code> <code class="nx">createStackNavigator</code> <code class="p">}</code> <code class="nx">from</code> <code class="s1">'react-navigation-stack'</code><code class="p">;</code>&#13;
&#13;
<code class="c1">// import screen components</code>&#13;
<code class="kr">import</code> <code class="nx">Feed</code> <code class="nx">from</code> <code class="s1">'./feed'</code><code class="p">;</code>&#13;
<code class="kr">import</code> <code class="nx">Favorites</code> <code class="nx">from</code> <code class="s1">'./favorites'</code><code class="p">;</code>&#13;
<code class="kr">import</code> <code class="nx">MyNotes</code> <code class="nx">from</code> <code class="s1">'./mynotes'</code><code class="p">;</code>&#13;
<code class="kr">import</code> <code class="nx">NoteScreen</code> <code class="nx">from</code> <code class="s1">'./note'</code><code class="p">;</code>&#13;
&#13;
<code class="c1">// navigation stack</code>&#13;
<code class="kr">const</code> <code class="nx">FeedStack</code> <code class="o">=</code> <code class="nx">createStackNavigator</code><code class="p">({</code>&#13;
  <code class="nx">Feed</code><code class="o">:</code> <code class="nx">Feed</code><code class="p">,</code>&#13;
  <code class="nx">Note</code><code class="o">:</code> <code class="nx">NoteScreen</code>&#13;
<code class="p">});</code>&#13;
&#13;
<code class="kr">const</code> <code class="nx">MyStack</code> <code class="o">=</code> <code class="nx">createStackNavigator</code><code class="p">({</code>&#13;
  <code class="nx">MyNotes</code><code class="o">:</code> <code class="nx">MyNotes</code><code class="p">,</code>&#13;
  <code class="nx">Note</code><code class="o">:</code> <code class="nx">NoteScreen</code>&#13;
<code class="p">});</code>&#13;
&#13;
<code class="kr">const</code> <code class="nx">FavStack</code> <code class="o">=</code> <code class="nx">createStackNavigator</code><code class="p">({</code>&#13;
  <code class="nx">Favorites</code><code class="o">:</code> <code class="nx">Favorites</code><code class="p">,</code>&#13;
  <code class="nx">Note</code><code class="o">:</code> <code class="nx">NoteScreen</code>&#13;
<code class="p">});</code>&#13;
&#13;
<code class="c1">// navigation tabs</code>&#13;
<code class="kr">const</code> <code class="nx">TabNavigator</code> <code class="o">=</code> <code class="nx">createBottomTabNavigator</code><code class="p">({</code>&#13;
  <code class="nx">FeedScreen</code><code class="o">:</code> <code class="p">{</code>&#13;
    <code class="nx">screen</code><code class="o">:</code> <code class="nx">FeedStack</code><code class="p">,</code>&#13;
    <code class="nx">navigationOptions</code><code class="o">:</code> <code class="p">{</code>&#13;
      <code class="nx">tabBarLabel</code><code class="o">:</code> <code class="s1">'Feed'</code>&#13;
    <code class="p">}</code>&#13;
  <code class="p">},</code>&#13;
  <code class="nx">MyNoteScreen</code><code class="o">:</code> <code class="p">{</code>&#13;
    <code class="nx">screen</code><code class="o">:</code> <code class="nx">MyStack</code><code class="p">,</code>&#13;
    <code class="nx">navigationOptions</code><code class="o">:</code> <code class="p">{</code>&#13;
      <code class="nx">tabBarLabel</code><code class="o">:</code> <code class="s1">'My Notes'</code>&#13;
    <code class="p">}</code>&#13;
  <code class="p">},</code>&#13;
  <code class="nx">FavoriteScreen</code><code class="o">:</code> <code class="p">{</code>&#13;
    <code class="nx">screen</code><code class="o">:</code> <code class="nx">FavStack</code><code class="p">,</code>&#13;
    <code class="nx">navigationOptions</code><code class="o">:</code> <code class="p">{</code>&#13;
      <code class="nx">tabBarLabel</code><code class="o">:</code> <code class="s1">'Favorites'</code>&#13;
    <code class="p">}</code>&#13;
  <code class="p">}</code>&#13;
<code class="p">});</code>&#13;
&#13;
<code class="c1">// create the app container</code>&#13;
<code class="kr">export</code> <code class="k">default</code> <code class="nx">createAppContainer</code><code class="p">(</code><code class="nx">TabNavigator</code><code class="p">);</code></pre>&#13;
&#13;
<p>If we open our application in a simulator or the Expo app on our device, we should see no discernible difference. This is because we have yet to add a link to our stacked navigation. Let’s update our <em>src/screens/feed.js</em> component to include a stacked navigation link.</p>&#13;
&#13;
<p class="pagebreak-before">To do so, first include the <code>Button</code> dependency from React Native:</p>&#13;
&#13;
<pre data-code-language="javascript" data-type="programlisting"><code class="kr">import</code> <code class="p">{</code> <code class="nx">Text</code><code class="p">,</code> <code class="nx">View</code><code class="p">,</code> <code class="nx">Button</code> <code class="p">}</code> <code class="nx">from</code> <code class="s1">'react-native'</code><code class="p">;</code></pre>&#13;
&#13;
<p>Now we can include a button that, on press, will navigate to the content of our <em>note.js</em> component. We will pass the component <code>props</code>, which will contain the navigation information, and add a <code>&lt;Button&gt;</code> that will include the <code>title</code> and <code>onPress</code> props:</p>&#13;
&#13;
<pre data-code-language="javascript" data-type="programlisting"><code class="kr">const</code> <code class="nx">Feed</code> <code class="o">=</code> <code class="nx">props</code> <code class="o">=&gt;</code> <code class="p">{</code>&#13;
  <code class="k">return</code> <code class="p">(</code>&#13;
    <code class="o">&lt;</code><code class="nx">View</code> <code class="nx">style</code><code class="o">=</code><code class="p">{{</code> <code class="nx">flex</code><code class="o">:</code> <code class="mi">1</code><code class="p">,</code> <code class="nx">justifyContent</code><code class="o">:</code> <code class="s1">'center'</code><code class="p">,</code> <code class="nx">alignItems</code><code class="o">:</code> <code class="s1">'center'</code> <code class="p">}}</code><code class="o">&gt;</code>&#13;
      <code class="o">&lt;</code><code class="nx">Text</code><code class="o">&gt;</code><code class="nx">Note</code> <code class="nx">Feed</code><code class="o">&lt;</code><code class="err">/Text&gt;</code>&#13;
      <code class="o">&lt;</code><code class="nx">Button</code>&#13;
        <code class="nx">title</code><code class="o">=</code><code class="s2">"Keep reading"</code>&#13;
        <code class="nx">onPress</code><code class="o">=</code><code class="p">{()</code> <code class="o">=&gt;</code> <code class="nx">props</code><code class="p">.</code><code class="nx">navigation</code><code class="p">.</code><code class="nx">navigate</code><code class="p">(</code><code class="s1">'Note'</code><code class="p">)}</code>&#13;
      <code class="o">/&gt;</code>&#13;
    <code class="o">&lt;</code><code class="err">/View&gt;</code>&#13;
  <code class="p">);</code>&#13;
<code class="p">};</code></pre>&#13;
&#13;
<p>With this, we should be able to navigate between our screens. Click the button from the Feed screen to navigate to the Note screen, and click the arrow to return (<a data-type="xref" href="#stack_navigation">Figure 22-5</a>).<a data-startref="ix_ch22-asciidoc13" data-type="indexterm" id="idm45339483693464"/><a data-startref="ix_ch22-asciidoc12" data-type="indexterm" id="idm45339483524728"/><a data-startref="ix_ch22-asciidoc11" data-type="indexterm" id="idm45339483524056"/></p>&#13;
&#13;
<figure><div class="figure" id="stack_navigation">&#13;
<img alt="A screenshot of the Feed and Note screen" src="assets/jsev_2205.png"/>&#13;
<h6><span class="label">Figure 22-5. </span>Clicking the button link will navigate to the new screen, while clicking the arrow will return the user to the previous screen</h6>&#13;
</div></figure>&#13;
</div></section>&#13;
&#13;
&#13;
&#13;
&#13;
&#13;
&#13;
&#13;
&#13;
&#13;
&#13;
&#13;
&#13;
&#13;
<section data-pdf-bookmark="Adding Screen Titles" data-type="sect2"><div class="sect2" id="idm45339484345992">&#13;
<h2>Adding Screen Titles</h2>&#13;
&#13;
<p><a data-primary="mobile application shell" data-secondary="adding screen titles" data-type="indexterm" id="idm45339483519976"/><a data-primary="routing" data-secondary="adding screen titles" data-type="indexterm" id="idm45339483519032"/><a data-primary="screen titles" data-type="indexterm" id="idm45339483518088"/>Adding the stack navigator automatically adds a title bar to the top of our app. We can style or even remove that top bar. For now let’s add a title to each screen at the top of our stack. To do this, we will set the component <code>navigationOptions</code> outside of the component itself. In <em>src/screens/feed.js</em>:</p>&#13;
&#13;
<pre data-code-language="javascript" data-type="programlisting"><code class="kr">import</code> <code class="nx">React</code> <code class="nx">from</code> <code class="s1">'react'</code><code class="p">;</code>&#13;
<code class="kr">import</code> <code class="p">{</code> <code class="nx">Text</code><code class="p">,</code> <code class="nx">View</code><code class="p">,</code> <code class="nx">Button</code> <code class="p">}</code> <code class="nx">from</code> <code class="s1">'react-native'</code><code class="p">;</code>&#13;
&#13;
<code class="kr">const</code> <code class="nx">Feed</code> <code class="o">=</code> <code class="nx">props</code> <code class="o">=&gt;</code> <code class="p">{</code>&#13;
<code class="c1">// component code</code>&#13;
<code class="p">};</code>&#13;
&#13;
<code class="nx">Feed</code><code class="p">.</code><code class="nx">navigationOptions</code> <code class="o">=</code> <code class="p">{</code>&#13;
  <code class="nx">title</code><code class="o">:</code> <code class="s1">'Feed'</code>&#13;
<code class="p">};</code>&#13;
&#13;
<code class="kr">export</code> <code class="k">default</code> <code class="nx">Feed</code><code class="p">;</code></pre>&#13;
&#13;
<p>We can repeat this process for our other screen components.</p>&#13;
&#13;
<p>In <em>src/screens/favorites.js</em>:</p>&#13;
&#13;
<pre data-code-language="javascript" data-type="programlisting"><code class="nx">Favorites</code><code class="p">.</code><code class="nx">navigationOptions</code> <code class="o">=</code> <code class="p">{</code>&#13;
  <code class="nx">title</code><code class="o">:</code> <code class="s1">'Favorites'</code>&#13;
<code class="p">};</code></pre>&#13;
&#13;
<p>In <em>src/screens/mynotes.js</em>:</p>&#13;
&#13;
<pre data-code-language="javascript" data-type="programlisting"><code class="nx">MyNotes</code><code class="p">.</code><code class="nx">navigationOptions</code> <code class="o">=</code> <code class="p">{</code>&#13;
  <code class="nx">title</code><code class="o">:</code> <code class="s1">'My Notes'</code>&#13;
<code class="p">};</code></pre>&#13;
&#13;
<p>Now each of our screens will include a title in the top navigation bar (<a data-type="xref" href="#mobile_nav_title">Figure 22-6</a>).<a data-startref="ix_ch22-asciidoc5" data-type="indexterm" id="idm45339483477912"/></p>&#13;
&#13;
<figure><div class="figure" id="mobile_nav_title">&#13;
<img alt="A screenshot of our app with a top navigation title" src="assets/jsev_2206.png"/>&#13;
<h6><span class="label">Figure 22-6. </span>Setting the title in navigationOptions will add it to the top nav bar</h6>&#13;
</div></figure>&#13;
</div></section>&#13;
&#13;
&#13;
&#13;
&#13;
&#13;
</div></section>&#13;
&#13;
&#13;
&#13;
&#13;
&#13;
&#13;
&#13;
&#13;
&#13;
&#13;
&#13;
&#13;
&#13;
<section data-pdf-bookmark="Icons" data-type="sect1"><div class="sect1" id="idm45339483520952">&#13;
<h1>Icons</h1>&#13;
&#13;
<p><a data-primary="icons, mobile application shell" data-type="indexterm" id="idm45339507309976"/><a data-primary="mobile application shell" data-secondary="icons" data-type="indexterm" id="idm45339507309304"/>Right now our navigation is functionally complete, but lacks a visual component to make it easier for users. Thankfully, Expo makes it incredibly easy to include icons in our application. We can search all of the icons that Expo makes available by visiting <a class="orm:hideurl" href="https://expo.github.io/vector-icons"><em>expo.github.io/vector-icons</em></a>. A number of icon sets are included, such as Ant Design, Ionicons, Font Awesome, Entypo, Foundation, Material Icons, and Material Community Icons. This provides us with a tremendous amount of variety out of the box.</p>&#13;
&#13;
<p>Let’s add some icons to our tabbed navigation. First, we must import the icon sets that we’d like to use. In our case, we’ll make use of the Material Community Icons by adding the following in <em>src/screens/index.js</em>:</p>&#13;
&#13;
<pre data-code-language="javascript" data-type="programlisting"><code class="kr">import</code> <code class="p">{</code> <code class="nx">MaterialCommunityIcons</code> <code class="p">}</code> <code class="nx">from</code> <code class="s1">'@expo/vector-icons'</code><code class="p">;</code></pre>&#13;
&#13;
<p>Now anywhere we want to use an icon in a component, we can include it as JSX, including setting properties such as <code>size</code> and <code>color</code>:</p>&#13;
&#13;
<pre data-code-language="javascript" data-type="programlisting"><code class="o">&lt;</code><code class="nx">MaterialCommunityIcons</code> <code class="nx">name</code><code class="o">=</code><code class="s2">"star"</code> <code class="nx">size</code><code class="o">=</code><code class="p">{</code><code class="mi">24</code><code class="p">}</code> <code class="nx">color</code><code class="o">=</code><code class="p">{</code><code class="s1">'blue'</code><code class="p">}</code> <code class="o">/&gt;</code></pre>&#13;
&#13;
<p>We’ll be adding our icons to our tab navigation. React Navigation includes a property called the <code>tabBarIcon</code> property, which allows us to set the icon. We can pass this as a function, which enables us to set the <code>tintColor</code>, so that active tab icons have a different color than those that are inactive:</p>&#13;
&#13;
<pre data-code-language="javascript" data-type="programlisting"><code class="kr">const</code> <code class="nx">TabNavigator</code> <code class="o">=</code> <code class="nx">createBottomTabNavigator</code><code class="p">({</code>&#13;
  <code class="nx">FeedScreen</code><code class="o">:</code> <code class="p">{</code>&#13;
    <code class="nx">screen</code><code class="o">:</code> <code class="nx">FeedStack</code><code class="p">,</code>&#13;
    <code class="nx">navigationOptions</code><code class="o">:</code> <code class="p">{</code>&#13;
      <code class="nx">tabBarLabel</code><code class="o">:</code> <code class="s1">'Feed'</code><code class="p">,</code>&#13;
      <code class="nx">tabBarIcon</code><code class="o">:</code> <code class="p">({</code> <code class="nx">tintColor</code> <code class="p">})</code> <code class="o">=&gt;</code> <code class="p">(</code>&#13;
        <code class="o">&lt;</code><code class="nx">MaterialCommunityIcons</code> <code class="nx">name</code><code class="o">=</code><code class="s2">"home"</code> <code class="nx">size</code><code class="o">=</code><code class="p">{</code><code class="mi">24</code><code class="p">}</code> <code class="nx">color</code><code class="o">=</code><code class="p">{</code><code class="nx">tintColor</code><code class="p">}</code> <code class="o">/&gt;</code>&#13;
      <code class="p">)</code>&#13;
    <code class="p">}</code>&#13;
  <code class="p">},</code>&#13;
  <code class="nx">MyNoteScreen</code><code class="o">:</code> <code class="p">{</code>&#13;
    <code class="nx">screen</code><code class="o">:</code> <code class="nx">MyStack</code><code class="p">,</code>&#13;
    <code class="nx">navigationOptions</code><code class="o">:</code> <code class="p">{</code>&#13;
      <code class="nx">tabBarLabel</code><code class="o">:</code> <code class="s1">'My Notes'</code><code class="p">,</code>&#13;
      <code class="nx">tabBarIcon</code><code class="o">:</code> <code class="p">({</code> <code class="nx">tintColor</code> <code class="p">})</code> <code class="o">=&gt;</code> <code class="p">(</code>&#13;
        <code class="o">&lt;</code><code class="nx">MaterialCommunityIcons</code> <code class="nx">name</code><code class="o">=</code><code class="s2">"notebook"</code> <code class="nx">size</code><code class="o">=</code><code class="p">{</code><code class="mi">24</code><code class="p">}</code> <code class="nx">color</code><code class="o">=</code><code class="p">{</code><code class="nx">tintColor</code><code class="p">}</code> <code class="o">/&gt;</code>&#13;
      <code class="p">)</code>&#13;
    <code class="p">}</code>&#13;
  <code class="p">},</code>&#13;
  <code class="nx">FavoriteScreen</code><code class="o">:</code> <code class="p">{</code>&#13;
    <code class="nx">screen</code><code class="o">:</code> <code class="nx">FavStack</code><code class="p">,</code>&#13;
    <code class="nx">navigationOptions</code><code class="o">:</code> <code class="p">{</code>&#13;
      <code class="nx">tabBarLabel</code><code class="o">:</code> <code class="s1">'Favorites'</code><code class="p">,</code>&#13;
      <code class="nx">tabBarIcon</code><code class="o">:</code> <code class="p">({</code> <code class="nx">tintColor</code> <code class="p">})</code> <code class="o">=&gt;</code> <code class="p">(</code>&#13;
        <code class="o">&lt;</code><code class="nx">MaterialCommunityIcons</code> <code class="nx">name</code><code class="o">=</code><code class="s2">"star"</code> <code class="nx">size</code><code class="o">=</code><code class="p">{</code><code class="mi">24</code><code class="p">}</code> <code class="nx">color</code><code class="o">=</code><code class="p">{</code><code class="nx">tintColor</code><code class="p">}</code> <code class="o">/&gt;</code>&#13;
      <code class="p">)</code>&#13;
    <code class="p">}</code>&#13;
  <code class="p">}</code>&#13;
<code class="p">});</code></pre>&#13;
&#13;
<p>With this, our tabbed navigation will display icons (<a data-type="xref" href="#mobile_nav_icon">Figure 22-7</a>).</p>&#13;
&#13;
<figure><div class="figure" id="mobile_nav_icon">&#13;
<img alt="A screenshot of the application including navigation icons" src="assets/jsev_2207.png"/>&#13;
<h6><span class="label">Figure 22-7. </span>Our application’s navigation now includes icons</h6>&#13;
</div></figure>&#13;
</div></section>&#13;
&#13;
&#13;
&#13;
&#13;
&#13;
&#13;
&#13;
&#13;
&#13;
&#13;
&#13;
&#13;
&#13;
<section data-pdf-bookmark="Conclusion" data-type="sect1"><div class="sect1" id="idm45339507310952">&#13;
<h1>Conclusion</h1>&#13;
&#13;
<p>In this chapter we covered how to build the basic components of a React Native application. You’re now able to create components, add styles to them, and navigate between them. Hopefully with this basic setup, you can see the incredible potential of React Native. With minimal new technologies, you are already able to build the beginnings of an impressive and professional mobile application. In the next chapter, we’ll use GraphQL to include data from our API within the application.<a data-startref="ix_ch22-asciidoc0" data-type="indexterm" id="idm45339483144584"/></p>&#13;
</div></section>&#13;
&#13;
&#13;
&#13;
&#13;
&#13;
&#13;
&#13;
</div></section></body></html>