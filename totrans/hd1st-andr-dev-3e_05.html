<html><head></head><body><div id="sbo-rt-content"><section data-type="chapter" epub:type="chapter" data-pdf-bookmark="Chapter 3. Layouts: Being a layout"><div class="chapter" id="layoutscolon_being_a_layout">
<h1><span class="label">Chapter 3. </span>Layouts: <em>Being a layout</em></h1>
<figure class="informal"><div class="figure">
<img src="Images/f0081-01.png" alt="image" width="600" height="580"/>
<h6/>
</div></figure>
<p><a data-type="indexterm" data-primary="layouts" id="idm46053742685872"/><strong>We’ve only scratched the surface of using layouts</strong>.</p>
<p>So far, you’ve seen how to arrange views in a simple linear layout, but there’s so much more that layouts can do. In this chapter we’ll <strong>go a little deeper</strong> and show you how layouts really work. You’ll learn <strong>how to fine-tune your linear layouts</strong>. You’ll discover how to use <strong>frame layouts</strong> and <strong>scroll views</strong>. And by the end of the chapter, you’ll learn that even though they might look a little different, all layouts—and the views you add to them—have <strong>more in common than you might think</strong>.</p>
<section data-type="sect1" data-pdf-bookmark="It all starts with a layout"><div class="sect1" id="it_all_starts_with_a_layout">
<h1>It all starts with a layout</h1>
<p><a data-type="indexterm" data-primary="layouts" data-secondary="tasks in creating" id="idm46053742680176"/>As you already know, layout files are written in XML, and they let you define what your app looks like.</p>
<p>Each time you write a layout, you need to do three things:</p>
<ol>
<li><p><strong>Specify the type of layout.</strong></p>
<p>You tell Android how you want any views (such as buttons and text views) to be arranged by specifying a type of layout. A linear layout, for example, arranges views in a linear column or row, one after another.</p>
<pre data-type="programlisting">&lt;LinearLayout ...&gt;

&lt;/LinearLayout&gt;</pre></li>
<li><p><strong>Specify the views.</strong></p>
<p>Each layout contains one or more views, which your app uses to display information or interact with the user.</p>
<pre data-type="programlisting">&lt;Button
    android:layout_width="wrap_content"
    android:layout_height="wrap_content"
    android:text="Click me" /&gt;</pre></li>
<li><p><strong>Tell an activity to use the layout.</strong></p>
<p>You tell Android which activity uses the layout you’ve just defined by adding Kotlin code like this to the activity.</p>
<pre data-type="programlisting">setContentView(R.layout.activity_main)</pre></li>
</ol>
<figure class="informal"><div class="figure">
<img src="Images/f0082-01.png" alt="image" width="600" height="209"/>
<h6/>
</div></figure>
</div></section>
<section data-type="sect1" data-pdf-bookmark="Android has different types of layout"><div class="sect1" id="android_has_different_types_of_layout">
<h1>Android has different types of layout</h1>
<p><a data-type="indexterm" data-primary="screens" data-secondary="choosing best layout for" id="idm46053742667904"/>Android has different types of layout, and each one has its own policy about how its views are arranged. A linear layout, for example, will always lay views out in a linear row or column, while a frame layout stacks its views, one on top of another. Which type of layout you use depends on how you want views to be arranged on the device screen.</p>
<figure class="informal"><div class="figure">
<img src="Images/f0083-01.png" alt="image" width="600" height="371"/>
<h6/>
</div></figure>
<section data-type="sect2" data-pdf-bookmark="Use the best layout for your screen design"><div class="sect2" id="use_the_best_layout_for_your_screen_desi">
<h2>Use the best layout for your screen design</h2>
<p>All the apps you’ve seen so far have used linear layouts to arrange views in a single column. In this chapter, we’re going to take a deeper look at linear layouts, and introduce you to two other types: a frame layout and a scroll view.</p>
<p>Let’s start with linear layouts.</p>
</div></section>
</div></section>
<section data-type="sect1" data-pdf-bookmark="Let’s build a linear layout"><div class="sect1" id="letapostrophes_build_a_linear_layout">
<h1>Let’s build a linear layout</h1>
<figure class="informal"><div class="figure">
<img src="Images/f0084-01.png" alt="image" width="255" height="87"/>
<h6/>
</div></figure>
<p><a data-type="indexterm" data-primary="LinearLayout" data-secondary="building" id="idm46053742658256"/><a data-type="indexterm" data-primary="views" data-secondary="LinearLayout" id="idm46053742656624"/>We’re going to use a linear layout to build the layout shown below. A linear layout is a good choice here, because the views are arranged in a single column. As you already know, a linear layout arranges views one after another in a vertical column or a horizontal row.</p>
<p>The layout is composed of two editable text views (text views that allow you to enter text) and a button. Here’s what we want the layout to look like:</p>
<figure class="informal"><div class="figure">
<img src="Images/f0084-02.png" alt="image" width="600" height="558"/>
<h6/>
</div></figure>
<section data-type="sect2" data-pdf-bookmark="Create a new project"><div class="sect2" id="create_a_new_project">
<h2>Create a new project</h2>
<p>We’ll use a new Android Studio project for the linear layout app.</p>
<p>Create a new project using the same steps you used in the previous chapters. Choose the Empty Activity option, enter a name of “Linear Layout Example” and a package name of “com.hfad.linearlayoutexample”, and accept the default save location. Make sure the language is set to Kotlin and the minimum SDK is API 21 so that it will run on most Android devices.</p>
</div></section>
</div></section>
<section data-type="sect1" data-pdf-bookmark="How to define a linear layout"><div class="sect1" id="how_to_define_a_linear_layout">
<h1>How to define a linear layout</h1>
<p><a data-type="indexterm" data-primary="density-independent pixels" data-see="dp" id="idm46053742648448"/><a data-type="indexterm" data-primary="dp (density-independent pixels)" id="idm46053742647072"/><a data-type="indexterm" data-primary="layout_height attribute" data-secondary="LinearLayout" id="idm46053742646272"/><a data-type="indexterm" data-primary="layout_width attribute" data-secondary="LinearLayout" id="idm46053742645168"/><a data-type="indexterm" data-primary="LinearLayout" data-secondary="attributes" id="idm46053742643712"/><a data-type="indexterm" data-primary="scalable pixels" data-see="sp" id="idm46053742642640"/><a data-type="indexterm" data-primary="sp (scalable pixels)" id="idm46053742641536"/>As you already know, you define a linear layout using a <code>&lt;LinearLayout&gt;</code> element. The code looks like this:</p>
<figure class="informal"><div class="figure">
<img src="Images/f0085-02.png" alt="image" width="600" height="337"/>
<h6/>
</div></figure>
<p>The <code>&lt;LinearLayout&gt;</code> element contains various different attributes that it needs to specify its appearance and behavior.</p>
<p>The first is <code><strong>xmlns:android</strong></code>. This defines a namespace named <code>android</code>, and it needs to be set to <code>"<a href="http://schemas.android.com/apk/res/android">http://schemas.android.com/apk/res/android</a>"</code> as above. Defining this namespace gives your layout access to the elements and attributes that your layout needs, and you need to define it in every layout file you create.</p>
<p>The next two attributes are <code><strong>android:layout_width</strong></code> and <code><strong>android:layout_height</strong></code>, and these specify how wide and high you want the layout to be. These attributes are mandatory for <em>all</em> types of layout and view.</p>
<p>You can set <code>android:layout_width</code> and <code>android:layout_height</code> to <code>"wrap_content"</code>, <code>"match_parent",</code> or a specific size such as 8dp—that’s 8 density-independent pixels. <code>"wrap_content"</code> means that you want the layout to be just big enough to hold all of the views inside it, and <code>"match_parent"</code> means that you want the layout to be as big as its parent—in this case, as big as the device screen minus any padding (there’s more about padding a few pages ahead). You will usually set the layout width and height to <code>"match_parent"</code>.</p>
<p>The next attribute sets the linear layout’s orientation. We’ll look at options for this attribute next.</p>
<aside data-type="sidebar" epub:type="sidebar"><div class="sidebar" id="serious_coding">
<h5><span class="inlineimage"><img src="Images/cap.png" alt="Images" width="91" height="93"/></span> Serious Coding</h5>
<p>Some devices create very sharp images by using very tiny pixels. Other devices are cheaper to produce because they have fewer, larger pixels.</p>
<p>You use <strong>density-independent pixels (dp)</strong> to avoid creating interfaces that are overly small on some devices, and overly large on others. A measurement in density-independent pixels is roughly the same size across all devices.</p>
<p>You set text sizes using <strong>scalable pixels (sp)</strong>. Scalable pixels are like density-independent pixels except they’re used for fonts.</p>
</div></aside>
</div></section>
<section data-type="sect1" data-pdf-bookmark="Orientation can be vertical or horizontal"><div class="sect1" id="orientation_can_be_vertical_or_horizonta">
<h1>Orientation can be vertical or horizontal</h1>
<p><a data-type="indexterm" data-primary="AndroidManifest.xml file" data-secondary="language settings" id="idm46053742619824"/><a data-type="indexterm" data-primary="LinearLayout" data-secondary="orientation" id="idm46053742618528"/><a data-type="indexterm" data-primary="supportsRtl property, AndroidManifest.xml" id="idm46053742617392"/>You specify the direction in which you wish to arrange views using the <code><strong>android:orientation</strong></code> attribute.</p>
<p>You arrange views vertically in a single column using:</p>
<pre data-type="programlisting"><strong>android:orientation="vertical"</strong></pre>
<p>and you arrange views horizontally in a single row with:</p>
<pre data-type="programlisting"><strong>android:orientation="horizontal"</strong></pre>
<p>If the orientation is horizontal, the order in which the views are arranged depends on the device language settings.</p>
<p>If the device language is set to one that is read from left to right, such as English, the views are displayed in a horizontal row from left to right like this:</p>
<figure class="informal"><div class="figure">
<img src="Images/f0086-02.png" alt="image" width="432" height="362"/>
<h6/>
</div></figure>
<figure class="informal"><div class="figure">
<img src="Images/f0086-03.png" alt="image" width="600" height="167"/>
<h6/>
</div></figure>
<p>If the language on the device is set to one that’s read from right to left instead, like Arabic, you can choose to display the views from right to left, so that the first view appears against the rightmost edge of the layout. You enable this feature by including a property named <code><strong>supportsRtl</strong></code> in a file named <em>AndroidManifest.xml</em> file, and setting it to <code>"true"</code>:</p>
<div data-type="note" epub:type="note"><h6>Note</h6>
<p><span style="color:#9D9EA0;">supportsRtl means “supports right to left”.</span></p>
</div>
<figure class="informal"><div class="figure">
<img src="Images/f0086-05.png" alt="image" width="600" height="161"/>
<h6/>
</div></figure>
<p>Before we look at what other attributes you can use with linear layouts, let’s take a quick detour to find out more about <em>AndroidManifest.xml</em>.</p>
<aside data-type="sidebar" epub:type="sidebar"><div class="sidebar" id="anatomy_of_androidmanifestdotxml">
<h5>Anatomy of AndroidManifest.xml <span class="inlineimage"><img src="Images/common03.png" alt="Images" width="84" height="150"/></span></h5>
<p><a data-type="indexterm" data-primary="Android apps" data-secondary="package name for" id="idm46053742599280"/><a data-type="indexterm" data-primary="AndroidManifest.xml file" data-secondary="location of" id="idm46053742597904"/><a data-type="indexterm" data-primary="package name" id="idm46053742596832"/>Every Android app must include a file called <em>AndroidManifest.xml</em>, which lives in the <em>app/src/main</em> folder of your project. The <em>AndroidManifest.xml</em> file contains essential information about your app that the Android operating system, the Android build tools, and the Google Play Store need to know about. This includes the app’s package name, details of any activities, and any permissions the app requires. Android Studio creates the <em>AndroidManifest.xml</em> file for you when you create your project.</p>
<figure class="informal"><div class="figure">
<img src="Images/f0087-02.png" alt="image" width="240" height="169"/>
<h6/>
</div></figure>
<p>A typical <em>AndroidManifest.xml</em> looks like this:</p>
<figure class="informal"><div class="figure">
<img src="Images/f0087-03.png" alt="image" width="600" height="427"/>
<h6/>
</div></figure>
<p>Android Studio usually adds the <code>supportsRtl</code> property to <em>AndroidManifest.xml</em> automatically, so that your app supports right-to-left languages by default.</p>
</div></aside>
</div></section>
<section data-type="sect1" data-pdf-bookmark="Use padding to add space to the layout’s edges"><div class="sect1" id="use_padding_to_add_space_to_the_layoutap">
<h1>Use padding to add space to the layout’s edges</h1>
<p><a data-type="indexterm" data-primary="padding attribute, LinearLayout" id="idm46053742585520"/><a data-type="indexterm" data-primary="paddingEnd attribute, LinearLayout" id="idm46053742584432"/><a data-type="indexterm" data-primary="paddingStart attribute, LinearLayout" id="idm46053742583600"/><a data-type="indexterm" data-primary="paddingVertical attribute, LinearLayout" id="idm46053742582800"/>Once you’ve specified the type of layout you want to use, you can optionally use one or more <strong>padding</strong> attributes to add some extra space between each of the layout’s edges and its contents. The following code, for example, uses the <code>android:padding</code> attribute to add 16dp to each edge:</p>
<figure class="informal"><div class="figure">
<img src="Images/f0088-03.png" alt="image" width="600" height="201"/>
<h6/>
</div></figure>
<p>If you want to add different amounts of padding to different edges, you can specify the edges individually. The following code, for example, adds padding of 32dp to the top of the layout, and 16dp to the other edges:</p>
<figure class="informal"><div class="figure">
<img src="Images/f0088-04.png" alt="image" width="600" height="185"/>
<h6/>
</div></figure>
<p>The <code>android:paddingStart</code> attribute adds padding to the start edge of the layout. For left-to-right languages (such as English), the start edge is on the left, while if the device language is set to one that’s read from right to left—and the app supports right-to-left languages—the start edge is on the right.</p>
<p>The <code>android:paddingEnd</code> attribute adds padding to the end edge of the layout. This is on the right for left-to-right languages, and on the left for right-to-left languages (where the app supports this feature).</p>
<p>If you want to apply the same amount of padding to the horizontal or vertical edges, you can also use <code>android:paddingHorizontal</code> and <code>android:paddingVertical</code>. These attributes add padding to the horizontal and vertical edges of the layout, respectively.</p>
<figure class="informal"><div class="figure">
<img src="Images/f0088-05.png" alt="image" width="490" height="294"/>
<h6/>
</div></figure>
<p>Now that you’ve learned how to add padding to a linear layout, let’s add some to the layout we’re building.</p>
</div></section>
<section data-type="sect1" data-pdf-bookmark="The layout code so far"><div class="sect1" id="the_layout_code_so_far">
<h1>The layout code so far</h1>
<p>In the app, we’re going to use a linear layout with a vertical orientation, and add padding of 16dp to each edge so that there’s a bit of space between the layout’s edges and its contents.</p>
<p>Open <em>activity_main.xml</em>, and replace its code so that it matches the code below:</p>
<figure class="informal"><div class="figure">
<img src="Images/f0089-02.png" alt="image" width="600" height="296"/>
<h6/>
</div></figure>
<p>We’ve now defined an empty linear layout; let’s go ahead and add some views to it.</p>
<blockquote>
<p><strong>Padding puts extra space between the layout’s edges and its contents.</strong></p>
<p><strong>You can also use padding with views. This adds extra space between the view’s edges and its contents</strong></p>
</blockquote>
<aside data-type="sidebar" epub:type="sidebar"><div class="sidebar" id="there_are_no_dumb_questions-id00025">
<h5>there are no Dumb Questions</h5>
<p><strong>Q: I see the above layout code includes an extra <code><strong>tools</strong></code> namespace. What’s that for?</strong></p>
<p><strong>A:</strong> The <code>tools</code> namespace includes a set of attributes that are used by the tools included in Android Studio. It doesn’t change the appearance of your app on the device screen: it’s just there to make your coding life a little easier.</p>
</div></aside>
</div></section>
<section data-type="sect1" data-pdf-bookmark="An edit text lets you enter text"><div class="sect1" id="an_edit_text_lets_you_enter_text">
<h1>An edit text lets you enter text</h1>
<p><a data-type="indexterm" data-primary="EditText, LinearLayout" id="idm46053742558144"/><a data-type="indexterm" data-primary="hint attribute, EditText" id="idm46053742556992"/><a data-type="indexterm" data-primary="inputType attribute, EditText" id="idm46053742555808"/><a data-type="indexterm" data-primary="LinearLayout" data-secondary="editable text view" id="idm46053742555072"/><a data-type="indexterm" data-primary="views" data-secondary="editable text" id="idm46053742553968"/><a data-type="indexterm" data-primary="views" data-secondary="LinearLayout" id="idm46053742552864"/>The linear layout needs to display a button and two editable text views (which are used to enter text). You already know how to use buttons, so before we update the layout, let’s find out how to include an editable text view.</p>
<figure class="informal"><div class="figure">
<img src="Images/f0090-01.png" alt="image" width="432" height="291"/>
<h6/>
</div></figure>
<p>An editable text view is a type of text view that lets you input text. You add one to your layout using an <code><strong>&lt;EditText&gt;</strong></code> element, and the code looks like this:</p>
<pre data-type="programlisting"><strong>&lt;EditText</strong>
    <strong>android:layout_width="match_parent"</strong>
    <strong>android:layout_height="wrap_content"</strong>
    <strong>android:hint="To"</strong>
    <strong>android:inputType="text" /&gt;</strong></pre>
<figure class="informal"><div class="figure">
<img src="Images/f0090-02.png" alt="image" width="288" height="441"/>
<h6/>
</div></figure>
<p>The above code creates an editable text view that’s as wide as its parent, and just high enough to hold its contents.</p>
<p>The <code><strong>android:hint</strong></code> attribute is used to define hint text. This is displayed when the editable text view is empty, and it gives users a hint as to what sort of text they should enter. In the above example, we’ve hardcoded the hint text, but in the real world you’d want to include this as a <code>String</code> resource instead.</p>
<p>The <code>android:inputType</code> attribute specifies what type of data you expect the user to enter so that Android can provide the correct keyboard type. In the above example, we’re using:</p>
<pre data-type="programlisting">android:inputType="text"</pre>
<p>which lets user enter a single line of text. Here are some more useful input types you might want to use:</p>
<table class="border">
<tbody>
<tr>
<td><strong>Value</strong></td>
<td><strong>What it does</strong></td>
</tr>
<tr>
<td><strong>text</strong></td>
<td>Lets the user enter a single line of text.</td>
</tr>
<tr>
<td><strong>textMultiLine</strong></td>
<td>Lets the user enter multiple lines of text.</td>
</tr>
<tr>
<td><strong>phone</strong></td>
<td>Provides a phone number keypad.</td>
</tr>
<tr>
<td><strong>textPassword</strong></td>
<td>Displays a text entry keypad, and your input is concealed.<br/><br/><span style="color:#9D9EA0;">You can find out more in the online Android developer documentation at <a href="https://developer.android.com/training/keyboard-input/style">https://developer.android.com/training/keyboard-input/style</a>.</span></td>
</tr>
<tr>
<td><strong>textCapSentences</strong></td>
<td>Capitalizes the first word of a sentence.</td>
</tr>
</tbody>
</table>
<p>Now that you’ve learned how to use editable text views, let’s add views to the layout code in the app we’re building.</p>
</div></section>
<section data-type="sect1" data-pdf-bookmark="Add views to the layout XML"><div class="sect1" id="add_views_to_the_layout_xml">
<h1>Add views to the layout XML</h1>
<p><a data-type="indexterm" data-primary="LinearLayout" data-secondary="order of views in" id="idm46053742525472"/>When you define a linear layout, you list views in the layout in the order you want them to display.</p>
<p>In the app we’re building, we want to show two editable text views with a button underneath. The layout code looks like this, so update the code for <em>activity_main.xml</em> to include these changes (in bold):</p>
<figure class="informal"><div class="figure">
<img src="Images/f0091-02.png" alt="image" width="600" height="453"/>
<h6/>
</div></figure>
<p>Those are all the views the layout needs. So what’s next?</p>
</div></section>
<section data-type="sect1" data-pdf-bookmark="Make a view streeeeetch by adding weight"><div class="sect1" id="make_a_view_streeeeetch_by_adding_weight">
<h1>Make a view streeeeetch by adding weight</h1>
<p><a data-type="indexterm" data-primary="layout_weight attribute, view" id="idm46053742517728"/><a data-type="indexterm" data-primary="LinearLayout" data-secondary="weight of views in" id="idm46053742516672"/>All of the views in the current layout take up just as much vertical space as they need for their content. But what we <em>really</em> want is to make the Message edit text stretch to take up any vertical space in the layout that’s not being used by the other views like this:</p>
<figure class="informal"><div class="figure">
<img src="Images/f0092-02.png" alt="image" width="600" height="602"/>
<h6/>
</div></figure>
<p>To do this, we need to allocate some <strong>weight</strong> to the Message area. Allocating weight to a view is a way of telling it to stretch to take up extra space in the layout.</p>
<p>You assign weight to a view using:</p>
<pre data-type="programlisting"><strong>android:layout_weight="number"</strong></pre>
<p>where <code>number</code> is some number greater than 0.</p>
<p>When you allocate weight to a view, the layout first makes sure that each view has enough space for its content: each button has space for its text, each edit text has space for its hint, and so on. Once it’s done that, the layout takes any extra space and divides it proportionally between the views with a weight of 1 or greater.</p>
<p>Let’s see how to apply this to the layout we’re building.</p>
</div></section>
<section data-type="sect1" data-pdf-bookmark="How to add weight to one view"><div class="sect1" id="how_to_add_weight_to_one_view">
<h1>How to add weight to one view</h1>
<p><a data-type="indexterm" data-primary="LinearLayout" data-secondary="height of views in" id="idm46053742509616"/>We need the Message edit text to take up any extra space in the layout that’s not used by either of the other two views. To do this, we’ll set its <code>android:layout_weight</code> attribute to <code>1</code>. As this is the only view in the layout with a weight value, this will make the text field stretch vertically to fill the remainder of the screen.</p>
<p>Here’s the code; update <em>activity_main.xml</em> to include the changes (in bold):</p>
<figure class="informal"><div class="figure">
<img src="Images/f0093-02.png" alt="image" width="600" height="389"/>
<h6/>
</div></figure>
<p>Giving the Message edit text a weight of <code>1</code> means that it takes up all of the extra space that’s not used by the other views in the layout. This is because neither of the other two views has been allocated any weight in the layout XML.</p>
<figure class="informal"><div class="figure">
<img src="Images/f0093-03.png" alt="image" width="600" height="575"/>
<h6/>
</div></figure>
<p>In this example, we only need to give a weight to a single view. Before we update the layout further, let’s see what happens when we need to assign weight to multiple views.</p>
</div></section>
<section data-type="sect1" data-pdf-bookmark="How to add weight to multiple views"><div class="sect1" id="how_to_add_weight_to_multiple_views">
<h1>How to add weight to multiple views</h1>
<p>When you assign weight to multiple views, the linear layout uses the weight you assign to each view to work out what proportion of the remaining space each view should take up.</p>
<p>As an example, suppose we give the To edit text a weight of <code>1</code>, and the Message edit text a weight of <code>2</code>, like this:</p>
<pre data-type="programlisting">&lt;LinearLayout ... &gt;
    &lt;EditText
        android:layout_width="match_parent"
        <strong>android:layout_height="0dp"</strong>
        <strong>android:layout_weight="1"</strong>
        android:hint="To"
        android:inputType="text" /&gt;
   
    &lt;EditText
        android:layout_width="match_parent"
        <strong>android:layout_height="0dp"</strong>
        <strong>android:layout_weight="2"</strong>
        android:hint="Message"
        android:inputType="textMultiLine" /&gt;
   
       &lt;Button
        android:layout_width="wrap_content"
        android:layout_height="wrap_content"
        android:text="Send" /&gt;
&lt;/LinearLayout&gt;</pre>
<p>The linear layout spots that the To and Message editable text views have weights, and it uses these to work out how much space each view should take up.</p>
<p>It starts by adding together the <code>android:layout_weight</code> attributes for each view. In this example, the To and Message views have weights of 1 and 2 respectively, giving a total of 3.</p>
<p>The proportion of extra space taken up by each view is the view’s weight divided by the total weight. The To view has a weight of <code>1</code>, so this means it will take up 1/3 of the remaining space in the layout. The Message view has a weight of <code>2</code>, so it will take up 2/3 of the remaining space.</p>
<p>Now that you’ve learned how to use weight, let’s continue to update the layout.</p>
<figure class="informal"><div class="figure">
<img src="Images/f0094-02.png" alt="image" width="354" height="800"/>
<h6/>
</div></figure>
</div></section>
<section data-type="sect1" data-pdf-bookmark="The gravity attribute controls the position of a view’s contents"><div class="sect1" id="the_gravity_attribute_controls_the_posit">
<h1>The gravity attribute controls the position of a view’s contents</h1>
<p><a data-type="indexterm" data-primary="gravity attribute, view" id="idm46053742483504"/><a data-type="indexterm" data-primary="LinearLayout" data-secondary="gravity for view contents" id="idm46053742482512"/>The next thing we’ll do is move the hint text that’s displayed inside the Message edit text. At the moment, it’s centered vertically inside the view. We want to change it so that the text appears at the top of the edit text field, and we can achieve this using the <code><strong>android:gravity</strong></code> attribute.</p>
<p>The <code>android:gravity</code> attribute lets you specify how you want to position the contents of a view inside the view—for example, how you want to position text inside a text view. If you want a view’s contents to appear at the top of the view, as we do here, we can set its <code>android:gravity</code> attribute to <code>"top"</code> like this:</p>
<pre data-type="programlisting"><strong>android:gravity="top"</strong></pre>
<p>We’ll add an <code>android:gravity</code> attribute to the Message edit text so that the hint text moves to the top of the view. Here’s the code; update <em>activity_main.xml</em> to include the change (in bold):</p>
<figure class="informal"><div class="figure">
<img src="Images/f0095-02.png" alt="image" width="351" height="674"/>
<h6/>
</div></figure>
<figure class="informal"><div class="figure">
<img src="Images/f0095-03.png" alt="image" width="544" height="551"/>
<h6/>
</div></figure>
<figure class="informal"><div class="figure">
<img src="Images/f0095-04.png" alt="image" width="309" height="282"/>
<h6/>
</div></figure>
<p>You’ll find a list of other values you can use with the <code>android:gravity</code> attribute on the next page.</p>
</div></section>
<section data-type="sect1" data-pdf-bookmark="Values you can use with the android:gravity attribute"><div class="sect1" id="values_you_can_use_with_the_androidcolon">
<h1>Values you can use with the android:gravity attribute</h1>
<p>Here are some more of the values you can use with the <code>android:gravity</code> attribute. Add the attribute to your view, and set its value to one of the values below:</p>
<pre data-type="programlisting">android:gravity="value"</pre>
<table class="border">
<tbody>
<tr>
<td><strong><code>top</code></strong></td>
<td>Puts the view’s contents at the top of the view.</td>
</tr>
<tr>
<td><strong><code>bottom</code></strong></td>
<td>Puts the view’s contents at the bottom of the view.</td>
</tr>
<tr>
<td><strong><code>start</code></strong></td>
<td>Puts the view’s contents at the start of the view.</td>
</tr>
<tr>
<td><strong><code>end</code></strong></td>
<td>Puts the view’s contents at the end of the view.</td>
</tr>
<tr>
<td><strong><code>center_vertical</code></strong></td>
<td>Centers the view’s contents vertically.</td>
</tr>
<tr>
<td><strong><code>center_horizontal</code></strong></td>
<td>Centers the view’s contents horizontally.</td>
</tr>
<tr>
<td><strong><code>center</code></strong></td>
<td>Centers the view’s contents vertically and horizontally.</td>
</tr>
<tr>
<td><strong><code>fill_vertical</code></strong></td>
<td>Makes the view’s contents fill the view vertically.</td>
</tr>
<tr>
<td><strong><code>fill_horizontal</code></strong></td>
<td>Makes the view’s contents fill the view horizontally.</td>
</tr>
<tr>
<td><strong><code>fill</code></strong></td>
<td>Makes the view’s contents fill the view vertically and horizontally.</td>
</tr>
</tbody>
</table>
<p>You can also apply multiple gravities to a view by separating each value with a “|”. To sink a view’s contents to the bottom-end corner, for example, you’d use:</p>
<pre data-type="programlisting">android:gravity="bottom|end"</pre>
<p>Now that you know how to position a view’s contents using gravity, have a go at the following exercise on the next page.</p>
<blockquote>
<p><strong>android:gravity lets you say where you want the view’s contents to appear inside the view.</strong></p>
</blockquote>
</div></section>
<section data-type="sect1" data-pdf-bookmark="Layout Magnets"><div class="sect1" id="layout_magnets">
<h1>Layout Magnets</h1>
<figure class="informal"><div class="figure">
<img src="Images/common02.png" alt="image" width="86" height="144"/>
<h6/>
</div></figure>
<p><a data-type="indexterm" data-primary="exercises" data-secondary="Magnets" id="idm46053742442736"/><a data-type="indexterm" data-primary="LinearLayout" data-secondary="exercise" id="idm46053742441760"/>Somebody used fridge magnets to create a linear layout that, when run, produces the output below. Unfortunately, a passing sharknado has dislodged some of the magnets. Can you piece the code back together again?</p>
<div data-type="note" epub:type="note"><h6>Note</h6>
<p><span style="color:#9D9EA0;">Hint: You won’t need to use all of the magnets.</span></p>
</div>
<figure class="informal"><div class="figure">
<img src="Images/f0097-01.png" alt="image" width="600" height="570"/>
<h6/>
</div></figure>
</div></section>
<section data-type="sect1" data-pdf-bookmark="Layout Magnets Solution"><div class="sect1" id="layout_magnets_solution">
<h1>Layout Magnets Solution</h1>
<figure class="informal"><div class="figure">
<img src="Images/common02.png" alt="image" width="86" height="144"/>
<h6/>
</div></figure>
<p>Somebody used fridge magnets to create a linear layout that, when run, produces the output below. Unfortunately, a passing sharknado has dislodged some of the magnets. Can you piece the code back together again?</p>
<figure class="informal"><div class="figure">
<img src="Images/f0098-01.png" alt="image" width="600" height="554"/>
<h6/>
</div></figure>
</div></section>
<section data-type="sect1" data-pdf-bookmark="The story so far"><div class="sect1" id="the_story_so_far-id00026">
<h1>The story so far</h1>
<p>So far, we’ve added three views to the linear layout, and adjusted their position by adding <code>layout_weight</code> and <code>gravity</code> attributes to the Message edit text. These attributes mean that the edit text uses up any extra space that’s not being used by either of the other views, and its hint text is displayed at the top of the view:</p>
<figure class="informal"><div class="figure">
<img src="Images/f0099-02.png" alt="image" width="351" height="675"/>
<h6/>
</div></figure>
<p>Our linear layout is nearly complete, but there are just two more changes we’re going to make.</p>
<ol>
<li><p><strong>Move the Send button to the end edge.</strong></p>
<p>For left-to-right languages, this will move the button over to the right.</p></li>
<li><p><strong>Add more space between the Message edit text and the top of the button.</strong></p></li>
</ol>
<p>Let’s see how to do this, starting with moving the button to the end.</p>
</div></section>
<section data-type="sect1" data-pdf-bookmark="layout-gravity controls the position of a view within a layout"><div class="sect1" id="layout-gravity_controls_the_position_of">
<h1>layout-gravity controls the position of a view within a layout</h1>
<p><a data-type="indexterm" data-primary="gravity attribute, view" id="idm46053742419952"/><a data-type="indexterm" data-primary="layout_gravity attribute" data-secondary="view" id="idm46053742419184"/><a data-type="indexterm" data-primary="LinearLayout" data-secondary="gravity for view contents" id="idm46053742418112"/><a data-type="indexterm" data-primary="views" data-secondary="height" id="idm46053742417040"/><a data-type="indexterm" data-primary="views" data-secondary="LinearLayout" id="idm46053742415936"/>To move the button to the end edge of the layout, we’ll add an <code><strong>android:layout_gravity</strong></code> attribute to the button.</p>
<p>The <code>android:layout_gravity</code> attribute lets you specify where you want a view in a linear layout to appear in its enclosing space. You can use it to push a view to the right, for instance, or center the view horizontally.</p>
<p>To move the Send button to the end edge of the layout, we’ll set the <code>android:layout_gravity</code> attribute to <code>"end"</code> using code like this:</p>
<figure class="informal"><div class="figure">
<img src="Images/f0100-02.png" alt="image" width="395" height="298"/>
<h6/>
</div></figure>
<pre data-type="programlisting">&lt;Button
    android:layout_width="wrap_content"
    android:layout_height="wrap_content"
    <strong>android:layout_gravity="end"</strong>
    android:text="Send" /&gt;</pre>
<p><strong>Linear layouts have two attributes that sound similar to one another, gravity and layout_gravity.</strong></p>
<p>Previously, we used the <code>android:gravity</code> attribute to position the Message hint text inside an edit text. This is because the <code>android:gravity</code> attribute lets you say where you want a view’s <strong>contents</strong> to appear.</p>
<p><code>android:layout_gravity</code> deals with the <strong>placement of the view itself</strong>, and lets you control where views appear in their available space. In our case, we want the view to move to the end of its available space, so we’re using:</p>
<figure class="informal"><div class="figure">
<img src="Images/f0100-03.png" alt="image" width="586" height="698"/>
<h6/>
</div></figure>
<pre data-type="programlisting">android:layout_gravity="end"</pre>
<p>Take a look at the next page, and you’ll see a list of some of the other values you can use with the <code>android:layout_gravity</code> attribute.</p>
</div></section>
<section data-type="sect1" data-pdf-bookmark="More values you can use with the android:layout-gravity attribute"><div class="sect1" id="more_values_you_can_use_with_the_android">
<h1>More values you can use with the android:layout-gravity attribute</h1>
<p>Here are some of the values you can use with the <code>android:layout_gravity</code> attribute. Add the attribute to your view, and set its value to one of the values below:</p>
<pre data-type="programlisting">android:layout_gravity="value"</pre>
<table class="border">
<tbody>
<tr>
<td><strong>Value</strong></td>
<td><strong>What it does</strong></td>
</tr>
<tr>
<td><strong><code>top, bottom, start, end</code></strong></td>
<td>Puts the view at the top, bottom, start, or end of its available space.</td>
</tr>
<tr>
<td><strong><code>center_vertical, center_horizontal</code></strong></td>
<td>Centers the view vertically or horizontally in its available space.</td>
</tr>
<tr>
<td><strong><code>center</code></strong></td>
<td>Centers the view vertically and horizontally in its available space.</td>
</tr>
<tr>
<td><strong><code>fill_vertical, fill_horizontal</code></strong></td>
<td>Grows the view so that it fills its available space vertically or horizontally.</td>
</tr>
<tr>
<td><strong><code>fill</code></strong></td>
<td>Grows the view so that it fills its available space vertically and horizontally.</td>
</tr>
</tbody>
</table>
<p>You can assign multiple values to a view’s <code>android:layout_gravity</code> attribute by separating each value with a “<code>|</code>”. To move a view to the bottom-end corner of its available space, for example, you’d use the code:</p>
<pre data-type="programlisting">android:layout_gravity="bottom|end"</pre>
<p>Now that you know how change a view’s position using the <code>android:layout_gravity</code> attribute, let’s find out how to add more space between views.</p>
<blockquote>
<p><strong>android:layout_gravity lets you say where you want views to appear in their available space.</strong></p>
<p><strong>android:layout_gravity deals with the placement of the <u>view itself</u>, whereas android:gravity controls the <u>view’s contents</u></strong>.</p>
</blockquote>
</div></section>
<section data-type="sect1" data-pdf-bookmark="Use margins to add space between views"><div class="sect1" id="use_margins_to_add_space_between_views">
<h1>Use margins to add space between views</h1>
<p><a data-type="indexterm" data-primary="layout_margin attributes, view" id="idm46053742379712"/><a data-type="indexterm" data-primary="LinearLayout" data-secondary="margins for view contents" id="idm46053742378656"/><a data-type="indexterm" data-primary="margins, view" id="idm46053742377584"/>When you position views using a linear layout, the layout doesn’t leave much space between them. You can increase the amount of space around a view by adding one or more <strong>margins</strong> to it.</p>
<p>Suppose you have two views in a linear layout—an edit text that’s positioned above a button. If you wanted to increase the space between the two views, you could add a margin of 40dp to the top of the button using the <code>android:layout_marginTop</code> attribute like this:</p>
<figure class="informal"><div class="figure">
<img src="Images/f0102-02.png" alt="image" width="600" height="219"/>
<h6/>
</div></figure>
<p>Here’s a list of the types of margin you can use to give your views extra space. Add the attribute to the view, and set its value to the size of margin you want:</p>
<pre data-type="programlisting">android:attribute="8dp"</pre>
<table class="border">
<tbody>
<tr>
<td><strong>Attribute</strong></td>
<td><strong>What it does</strong></td>
</tr>
<tr>
<td><strong><code>layout_marginTop</code></strong></td>
<td>Adds extra space to the top of the view.</td>
</tr>
<tr>
<td><strong><code>layout_marginBottom</code></strong></td>
<td>Adds extra space to the bottom of the view.</td>
</tr>
<tr>
<td><strong><code>layout_marginStart</code></strong></td>
<td>Adds extra space to the start of the view.</td>
</tr>
<tr>
<td><strong><code>layout_marginEnd</code></strong></td>
<td>Adds extra space to the end of the view.</td>
</tr>
<tr>
<td><strong><code>layout_margin</code></strong></td>
<td>Adds equal space to each side of the view.</td>
</tr>
<tr>
<td><strong><code>layout_marginVertical, layout_marginHorizontal</code></strong></td>
<td>Adds equal space to the vertical (top and bottom) or horizontal (start and end) edges of the view.</td>
</tr>
</tbody>
</table>
</div></section>
<section data-type="sect1" data-pdf-bookmark="The full linear layout code"><div class="sect1" id="the_full_linear_layout_code">
<h1>The full linear layout code</h1>
<p><a data-type="indexterm" data-primary="LinearLayout" data-secondary="code for" id="idm46053742357920"/>Now that you know a view’s <code>layout_gravity</code> and <code>margin</code> attributes, let’s use them in the linear layout code to reposition the button and add some space to its top edge. Here’s the full code for <em>activity_main.xml</em>; update the code to include the changes below (in bold):</p>
<figure class="informal"><div class="figure">
<img src="Images/f0103-02.png" alt="image" width="600" height="529"/>
<h6/>
</div></figure>
<p>We’ve now finished writing the linear layout code, so let’s take it for a test drive.</p>
</div></section>
<section data-type="sect1" data-pdf-bookmark=" Test Drive"><div class="sect1" id="test_drive-id00027">
<h1><span class="inlineimage"><img src="Images/car.png" alt="Images" width="119" height="58"/></span> Test Drive</h1>
<p>Once you’ve made the changes to your app, go ahead and run it.</p>
<p>The app displays a linear layout featuring three views: two editable text views and a button. The views are displayed in a vertical column. The To view appears at the top, the Send button is displayed in the bottom end corner, and the Message view takes up any extra space, allowing for a margin of 40dp at the top edge of the button.</p>
<p>Now that you know how to create a linear layout, and control how its views are displayed, have a go at the exercise on the next page.</p>
<figure class="informal"><div class="figure">
<img src="Images/f0104-02.png" alt="image" width="411" height="800"/>
<h6/>
</div></figure>
<aside data-type="sidebar" epub:type="sidebar"><div class="sidebar" id="there_are_no_dumb_questions-id00028">
<h5>there are no Dumb Questions</h5>
<p><strong>Q: Could I have used a <code><strong>paddingTop</strong></code> attribute with the button instead of <code><strong>layout_marginTop</strong></code>? Would that have had the same effect?</strong></p>
<p><strong>A:</strong> You can use padding attributes such as <code>paddingTop</code> with views, but it has a different effect. As you’ve seen, <code>layout_marginTop</code> increases the amount of space <em>above</em> the view. <code>paddingTop</code>, however, increases the height of the view by adding extra space <em>inside it</em>:</p>
<figure class="informal"><div class="figure">
<img src="Images/f0104-03.png" alt="image" width="227" height="206"/>
<h6/>
</div></figure>
</div></aside>
</div></section>
<section data-type="sect1" data-pdf-bookmark="BE the Layout"><div class="sect1" id="be_the_layout">
<h1>BE the Layout</h1>
<figure class="informal"><div class="figure">
<img src="Images/common04.png" alt="image" width="156" height="199"/>
<h6/>
</div></figure>
<p><a data-type="indexterm" data-primary="exercises" id="idm46053742333904"/><a data-type="indexterm" data-primary="exercises" data-secondary="Be the . . ." id="idm46053742332800"/><strong>The code below describes a complete linear layout. Your job is to play like you’re the layout, and say which screen (A or B) the layout will produce when run.</strong></p>
<pre data-type="programlisting">&lt;?xml version="1.0" encoding="utf-8"?&gt;
&lt;LinearLayout
    
    
    android:layout_width="match_parent"
    android:layout_height="match_parent"
    android:orientation="vertical"
    android:padding="16dp"
    tools:context=".MainActivity"&gt;

    &lt;Button
        android:layout_width="wrap_content"
        android:layout_height="0dp"
        android:layout_weight="1"
        android:layout_gravity="center_horizontal"
        android:text="Hello!" /&gt;
    &lt;Button
        android:layout_width="wrap_content"
        android:layout_height="0dp"
        android:layout_weight="1"
        android:gravity="center_horizontal"
        android:text="Goodbye!" /&gt;

&lt;/LinearLayout&gt;</pre>
<figure class="informal"><div class="figure">
<img src="Images/f0105-01.png" alt="image" width="352" height="566"/>
<h6/>
</div></figure>
<figure class="informal"><div class="figure">
<img src="Images/f0105-02.png" alt="image" width="352" height="583"/>
<h6/>
</div></figure>
</div></section>
<section data-type="sect1" data-pdf-bookmark="BE the Layout Solution"><div class="sect1" id="be_the_layout_solution">
<h1>BE the Layout Solution</h1>
<figure class="informal"><div class="figure">
<img src="Images/common04.png" alt="image" width="156" height="199"/>
<h6/>
</div></figure>
<p><strong>The code below describes a complete linear layout. Your job is to play like you’re the layout, and say which screen (A or B) the layout will produce when run.</strong></p>
<pre data-type="programlisting">&lt;?xml version="1.0" encoding="utf-8"?&gt;
&lt;LinearLayout
    
    
    android:layout_width="match_parent"
    android:layout_height="match_parent"
    android:orientation="vertical"
    android:padding="16dp"
    tools:context=".MainActivity"&gt;

    &lt;Button
        android:layout_width="wrap_content"
        android:layout_height="0dp"
        android:layout_weight="1"
        android:layout_gravity="center_horizontal"
        android:text="Hello!" /&gt;
    &lt;Button
        android:layout_width="wrap_content"
        android:layout_height="0dp"
        android:layout_weight="1"
        android:gravity="center_horizontal"
        android:text="Goodbye!" /&gt;

&lt;/LinearLayout&gt;</pre>
<figure class="informal"><div class="figure">
<img src="Images/f0106-02.png" alt="image" width="543" height="568"/>
<h6/>
</div></figure>
<figure class="informal"><div class="figure">
<img src="Images/f0106-03.png" alt="image" width="449" height="569"/>
<h6/>
</div></figure>
</div></section>
<section data-type="sect1" data-pdf-bookmark="Your activity code tells Android which layout it uses"><div class="sect1" id="your_activity_code_tells_android_which_l">
<h1>Your activity code tells Android which layout it uses</h1>
<p><a data-type="indexterm" data-primary="activities" data-secondary="layout inflation" id="idm46053742314128"/><a data-type="indexterm" data-primary="layouts" data-secondary="inflation of" id="idm46053742312672"/><a data-type="indexterm" data-primary="setContentView() method, activity" data-secondary="converting view to object" id="idm46053742311568"/>So far in this chapter, you’ve learned how to use a linear layout and fine-tune the way in which its views are displayed. Before we introduce you to another type of layout, let’s go behind the scenes and look at what happens to the layout when the app runs.</p>
<p>As you already know, when Android runs an app, it launches the app’s main activity. In the current app, this is an activity named <code>MainActivity</code>.</p>
<p>When the activity launches, its <code>onCreate()</code> method runs. This method includes the following code that specifies which layout the activity should use:</p>
<figure class="informal"><div class="figure">
<img src="Images/f0107-01.png" alt="image" width="600" height="93"/>
<h6/>
</div></figure>
<p>As you can see, the above code tells Android which layout to use by passing the name of a layout to a method named <code>setContentView()</code>. The method then displays the layout on the screen.</p>
<section data-type="sect2" data-pdf-bookmark="The layout’s views are inflated into objects"><div class="sect2" id="the_layoutapostrophes_views_are_inflated">
<h2>The layout’s views are inflated into objects</h2>
<p>As well as displaying the layout on the device screen, the <code>setContentView()</code> method converts the views in the layout’s XML into objects. This process is called <strong>layout inflation</strong> because it <em>inflates</em> each view into an object:</p>
<figure class="informal"><div class="figure">
<img src="Images/f0107-02.png" alt="image" width="507" height="210"/>
<h6/>
</div></figure>
<p>Layout inflation is important because it’s what allows your activity code to manipulate the views in your layout. Behind the scenes, each view is rendered to an object, which you can interact with using activity code.</p>
<p>Let’s see how layout inflation works with the linear layout code we’ve built.</p>
<blockquote>
<p><strong>When you run your app, Android instantiates the layout XML by converting each of the layout’s items into an object. This is known as <u>layout inflation.</u></strong></p>
</blockquote>
</div></section>
</div></section>
<section data-type="sect1" data-pdf-bookmark="Layout inflation: an example"><div class="sect1" id="layout_inflationcolon_an_example">
<h1>Layout inflation: an example</h1>
<p>As you already know, the linear layout code displays two editable text views and a button inside a linear layout:</p>
<figure class="informal"><div class="figure">
<img src="Images/f0108-02.png" alt="image" width="600" height="381"/>
<h6/>
</div></figure>
<p>When the app runs, the views in the layout get inflated into objects. The linear layout is inflated to a <code>LinearLayout</code> object, the editable text views are inflated to <code>EditText</code> objects, and the button is inflated to a <code>Button</code>:</p>
<figure class="informal"><div class="figure">
<img src="Images/f0108-03.png" alt="image" width="577" height="275"/>
<h6/>
</div></figure>
<figure class="informal"><div class="figure">
<img src="Images/f0108-04.png" alt="image" width="309" height="281"/>
<h6/>
</div></figure>
<p>Now that you know how layout inflation works, let’s find out how to use a new type of layout: a <strong>frame layout</strong>.</p>
</div></section>
<section data-type="sect1" data-pdf-bookmark="A frame layout stacks its views"><div class="sect1" id="a_frame_layout_stacks_its_views">
<h1>A frame layout stacks its views</h1>
<figure class="informal"><div class="figure">
<img src="Images/f0109-01.png" alt="image" width="255" height="90"/>
<h6/>
</div></figure>
<p><a data-type="indexterm" data-primary="FrameLayout" id="idm46053742283728"/><a data-type="indexterm" data-primary="FrameLayout" data-secondary="height" id="idm46053742282720"/><a data-type="indexterm" data-primary="FrameLayout" data-secondary="width" id="idm46053742281616"/><a data-type="indexterm" data-primary="layout_height attribute" data-secondary="FrameLayout" id="idm46053742280512"/><a data-type="indexterm" data-primary="layouts" data-secondary="FrameLayout" id="idm46053742279408"/><a data-type="indexterm" data-primary="layout_width attribute" id="idm46053742278304"/><a data-type="indexterm" data-primary="layout_width attribute" data-secondary="FrameLayout" id="idm46053742277472"/><a data-type="indexterm" data-primary="views" data-secondary="FrameLayout" id="idm46053742276368"/>As you already know, a linear layout arranges its views in a single row or column. Each view is allocated its own space on the screen, and they don’t overlap one another.</p>
<p>Sometimes, however, you <em>want</em> your views to overlap. As an example, suppose you want to display an image with some text overlaid on top of it. You wouldn’t be able to achieve this just using a linear layout.</p>
<p>If you want a layout whose views can overlap, a simple option is to use a frame layout. Instead of displaying its views in a single row or column, it stacks them, one on top of another. It’s often used to hold just a single view.</p>
<p>We’ll examine how frame layouts work by creating a useful app which displays some text on top of a duck image. We’ll start by creating a new project.</p>
<figure class="informal"><div class="figure">
<img src="Images/f0109-02.png" alt="image" width="378" height="678"/>
<h6/>
</div></figure>
<section data-type="sect2" data-pdf-bookmark="Create a new project"><div class="sect2" id="create_a_new_project-id00029">
<h2>Create a new project</h2>
<p>Create a new Android Studio project using the same steps you used earlier. Choose the Empty Activity option, enter a name of “Frame Layout Example” and a package name of “com.hfad.framelayoutexample”, and accept the default save location. Make sure the language is set to Kotlin, and that the minimum SDK is API 21 so that it will run on most Android devices.</p>
<p>Now that we’ve created the project, let’s define a frame layout.</p>
</div></section>
<section data-type="sect2" data-pdf-bookmark="How to define a frame layout"><div class="sect2" id="how_to_define_a_frame_layout">
<h2>How to define a frame layout</h2>
<p>You define a frame layout using the <code>&lt;FrameLayout&gt;</code> element like this:</p>
<figure class="informal"><div class="figure">
<img src="Images/f0109-03.png" alt="image" width="600" height="102"/>
<h6/>
</div></figure>
<p>Just like a linear layout and any other type of view or view group, the <code>android:layout_width</code> and <code>android:layout_height</code> attributes specify the layout’s width and height, and are mandatory. You can optionally add <code>padding</code> attributes too, although we’ve not done so here.</p>
<p>The above code creates an empty frame layout, so let’s go ahead and add a duck image to it.</p>
</div></section>
</div></section>
<section data-type="sect1" data-pdf-bookmark="Add an image to your project"><div class="sect1" id="add_an_image_to_your_project">
<h1>Add an image to your project</h1>
<p><a data-type="indexterm" data-primary="contentDescription attribute, FrameLayout" id="idm46053742263552"/><a data-type="indexterm" data-primary="FrameLayout" data-secondary="view attributes" id="idm46053742260080"/><a data-type="indexterm" data-primary="image resources" id="idm46053742257424"/><a data-type="indexterm" data-primary="image resources" data-secondary="adding" id="idm46053742256656"/><a data-type="indexterm" data-primary="image resources" data-secondary="ImageView" id="idm46053742255552"/><a data-type="indexterm" data-primary="image resources" data-secondary="WebP image format" id="idm46053742254448"/><a data-type="indexterm" data-primary="resource files" data-secondary="image resources" data-see="image resources" id="idm46053742253344"/><a data-type="indexterm" data-primary="scaleType attribute, FrameLayout" id="idm46053742251968"/><a data-type="indexterm" data-primary="src attribute, FrameLayout" id="idm46053742251168"/><a data-type="indexterm" data-primary="WebP image format" id="idm46053742250368"/>We’re going to display an image called <em>duck.webp</em> in the frame layout, but first, we need to add the file to the project.</p>
<p>To do this, you need to create a <em>drawable</em> resource folder (if Android Studio hasn’t already created one for you). This is the default folder for storing image resources in your app. Switch to the Project view of Android Studio’s explorer, select the <em>app/src/main/res</em> folder, go to the File menu, choose the New… option, then click on the option to create a new Android resource directory. When prompted, choose a resource type of “drawable”, name the folder “drawable”, and click on OK.</p>
<p>Next, download the file <em>duck.webp</em> from <em>tinyurl.com/hfad3</em>, then add it to the <em>app/src/main/res/drawable</em> folder.</p>
<p>We’re going to display <em>duck.webp</em> in an image view (a view that displays an image) that we’ll add to the frame layout. An image view is defined using the <code>&lt;ImageView&gt;</code> element like this:</p>
<aside data-type="sidebar" epub:type="sidebar"><div class="sidebar" id="serious_coding-id00030">
<h5><span class="inlineimage"><img src="Images/cap.png" alt="Images" width="91" height="93"/></span> Serious Coding</h5>
<p>Android’s preferred image format is <strong>WebP</strong>, which combines a small file size with a minimum loss of quality.</p>
<p>You can convert images to WebP in Android Studio by right-clicking on the image, and choosing the “Convert to WebP” option.</p>
</div></aside>
<figure class="informal"><div class="figure">
<img src="Images/f0110-02.png" alt="image" width="600" height="207"/>
<h6/>
</div></figure>
<p>The <code>&lt;ImageView&gt;</code> element includes the <code>android:layout_width</code> and <code>android:layout_height</code> attributes, which you’re already familiar with, along with three new ones.</p>
<p>The <code>android:src</code> attribute specifies what image should be displayed in the image view. We’ve set this to <code>"@drawable/duck"</code> so that it uses <em>duck.webp</em> in the <em>drawable</em> folder.</p>
<p>The <code>android:contentDescription</code> attribute provides a text description of the image for accessibility.</p>
<p>Finally, the <code>android:scaleType</code> attribute describes how you want to scale the image. We’ve used <code>"centerCrop"</code>, which crops the edges of the image.</p>
<p>That’s everything that you need to know in order to display the duck image in a frame layout. Before we find out how to display some text on top of it, let’s take a closer look at how you use image—or <em>drawable</em>—resources.</p>
<aside data-type="sidebar" epub:type="sidebar"><div class="sidebar" id="drawable_resources_up_close">
<h5>Drawable Resources Up Close <span class="inlineimage"><img src="Images/zoomr.png" alt="Images" width="134" height="81"/></span></h5>
<p><a data-type="indexterm" data-primary="drawable resource" id="idm46053742227072"/>As you’ve just learned, you can add an image to your project by putting it in your app’s <em>app/src/main/res/drawable</em> folder. Doing this includes the image in your project as a drawable resource, which you can display in your layout using code like this:</p>
<pre data-type="programlisting">&lt;ImageView
    android:id="@+id/image"
    android:layout_width="200dp"
    android:layout_height="100dp"
    android:src="@drawable/duck"
    android:contentDescription="Duck image" /&gt;</pre>
<figure class="informal"><div class="figure">
<img src="Images/f0111-01.png" alt="image" width="391" height="158"/>
<h6/>
</div></figure>
<p>If you want, you can use different versions of the image depending on the screen density of the device. This allows you to display higher-resolution images on higher-density screens, and lower-resolution images on lower-density screens.</p>
<p>To do this, you first create different <em>drawable</em> folders in <em>app/src/main/res</em> for the different screen densities. Each folder has a suffix that relates to a specific screen density:</p>
<figure class="informal"><div class="figure">
<img src="Images/f0111-02.png" alt="image" width="600" height="223"/>
<h6/>
</div></figure>
<p>You then add the different resolution images to each of the <em>drawable</em> folders, making sure that each of the image files has the same name. Android decides which version of the image to use at runtime, depending on the screen density of the device it’s running on. If the device has an extra-high-density screen, for example, it will use the image located in the <em>drawable-xhdpi</em> folder.</p>
<p>If an image is added to just one of the folders, Android will use the same image file for all devices. If you want your app to use the same image regardless of screen density, you’d normally put it in the <em>drawable</em> folder.</p>
</div></aside>
</div></section>
<section data-type="sect1" data-pdf-bookmark="A frame layout stacks views in the order they appear in the layout XML"><div class="sect1" id="a_frame_layout_stacks_views_in_the_order">
<h1>A frame layout stacks views in the order they appear in the layout XML</h1>
<p><a data-type="indexterm" data-primary="FrameLayout" data-secondary="order of views in" id="idm46053742214352"/>When you define a frame layout, you list views in the order you want them to be stacked. The first view is displayed first, the second is stacked on top of it, and so on.</p>
<p>Here, we’re going to display a text view on top of the image view, so we’ll add it below the image view in the XML. Update the <em>activity_main.xml</em> code so that it matches the code shown here:</p>
<figure class="informal"><div class="figure">
<img src="Images/f0112-02.png" alt="image" width="600" height="455"/>
<h6/>
</div></figure>
</div></section>
<section data-type="sect1" data-pdf-bookmark=" Test Drive"><div class="sect1" id="test_drive-id00031">
<h1><span class="inlineimage"><img src="Images/car.png" alt="Images" width="119" height="58"/></span> Test Drive</h1>
<p>When we run the app, an image of a duck appears on the device with the text “It’s a duck!” in the top corner.</p>
<figure class="informal"><div class="figure">
<img src="Images/f0112-03.png" alt="image" width="470" height="396"/>
<h6/>
</div></figure>
</div></section>
<section data-type="sect1" data-pdf-bookmark="All layouts are a type of ViewGroup…"><div class="sect1" id="all_layouts_are_a_type_of_viewgrouphelli">
<h1>All layouts are a type of <u>ViewGroup…</u></h1>
<p><a data-type="indexterm" data-primary="ViewGroup subclass" id="idm46053742203056"/>Even though they display their views in different ways, you may have noticed that linear layouts and frame layouts have a lot in common with one another. They can each hold views, for example, and they also have their own policy that determines how views are displayed.</p>
<p>There’s a good reason for this commonality. Behind the scenes, all layouts—including linear layouts and frame layouts—are subclasses of the <code>android.view.ViewGroup</code> superclass:</p>
<figure class="informal"><div class="figure">
<img src="Images/f0113-02.png" alt="image" width="600" height="284"/>
<h6/>
</div></figure>
<section data-type="sect2" data-pdf-bookmark="…and a ViewGroup is a type of View"><div class="sect2" id="hellipand_a_viewgroup_is_a_type_of_view">
<h2>…and a ViewGroup is a type of View</h2>
<p>The <code>ViewGroup</code> class is a subclass of <code>View</code> that can hold other views. Behind the scenes, every layout is a subclass of <code>ViewGroup</code>, which means that <strong>every layout is also a type of</strong> <code><strong>View</strong></code>.</p>
<p>This class hierarchy means that all views and layouts share common attributes and behavior. They can all be displayed on the screen, for instance, and you get to say how tall or wide they should be. It’s why you need to specify values for each view and layout’s <code>android:layout_height</code> and <code>android:layout_width</code> attributes. These attributes are mandatory for all views, and as a layout is a type of view, they are also mandatory for all layouts.</p>
<blockquote>
<p><strong>Every UI component you add to a layout is a type of View: an object that takes up space on the screen.</strong></p>
<p><strong>Every layout is a type of ViewGroup: a type of View that can contain other Views.</strong></p>
</blockquote>
<p><a data-type="indexterm" data-primary="layouts" data-secondary="nested" id="idm46053742189280"/><a data-type="indexterm" data-primary="nested layouts" id="idm46053742188208"/><strong>She’s right.</strong></p>
<p>As you already know, a layout is a type of view that can hold other views. As every layout is also a type of view, this means that <strong>layouts can hold other layouts</strong>.</p>
<p>Being able to nest layouts inside other layouts is useful because it lets you design more complex user interfaces. You can, for example, add horizontal rows to a vertical linear layout by nesting horizontal linear layouts inside the root linear layout. And if you want to arrange text vertically on top of an image, you can do so by nesting a vertical linear layout inside a frame layout.</p>
<p>Let’s take a closer look at how this works using a new type of layout: a scroll view.</p>
<figure class="informal"><div class="figure">
<img src="Images/f0114-02.png" alt="image" width="600" height="648"/>
<h6/>
</div></figure>
<aside data-type="sidebar" epub:type="sidebar"><div class="sidebar" id="there_are_no_dumb_questions-id00032">
<h5>there are no Dumb Questions</h5>
<p><strong>Q: You said earlier that I can display an image in my layout using an image view. What if I want to add an image to a button? Can I do that?</strong></p>
<p><strong>A:</strong> Yes. Buttons can include attributes such as <code>android:drawableStart</code> and <code>android:drawableEnd</code>, which allow you to position an image at the start or end of the button. The following code, for example, adds a duck image at the start of a button:</p>
<p><code>android:drawableStart="@drawable/duck"</code></p>
<p>Android also includes an image button view: a button with an image but no text. We’re not covering image buttons in this book, but if it’s something you think you might want to do, you can find out more here:</p>
<p><em><a href="https://developer.android.com/guide/topics/ui/controls/button">https://developer.android.com/guide/topics/ui/controls/button</a></em></p>
</div></aside>
</div></section>
</div></section>
<section data-type="sect1" data-pdf-bookmark="A scroll view inserts a vertical scrollbar"><div class="sect1" id="a_scroll_view_inserts_a_vertical_scrollb">
<h1>A scroll view inserts a vertical scrollbar</h1>
<figure class="informal"><div class="figure">
<img src="Images/f0115-01.png" alt="image" width="255" height="92"/>
<h6/>
</div></figure>
<p><a data-type="indexterm" data-primary="FrameLayout" data-secondary="scroll view" id="idm46053742173312"/><a data-type="indexterm" data-primary="ScrollView" id="idm46053742171984"/><a data-type="indexterm" data-primary="views" data-secondary="scroll view" id="idm46053742171152"/>A <strong>scroll view</strong> is a type of frame layout that has a vertical scrollbar. It’s useful for layouts that are too big for the device they’re running on, as it means that you can use it to scroll to any views that don’t fit on the screen.</p>
<figure class="informal"><div class="figure">
<img src="Images/f0115-02.png" alt="image" width="300" height="282"/>
<h6/>
</div></figure>
<p>We’re going to create an app that uses a scroll view. Create a new project named “Scroll View Example”, choosing the Empty Activity option. Make sure that the language is set to Kotlin, and that the minimum SDK is API 21 so that it will run on most Android devices. Then replace the code in <em>activity_main.xml</em> with the code below:</p>
<figure class="informal"><div class="figure">
<img src="Images/f0115-03.png" alt="image" width="600" height="358"/>
<h6/>
</div></figure>
<p>As you can see, the above layout consists of a simple linear layout that contains a Message edit text and a Send button.</p>
<p>Try running the app, and type lots of text into the edit text. The view expands to fit the content, and it eventually pushes the Send button off the edge of the screen. As there’s no scrollbar, you can no longer access the button.</p>
<p>To fix this problem, we’ll add a scroll view to the layout. This will give us a scrollbar we can use to access the Send button if it’s not visible on the screen.</p>
<figure class="informal"><div class="figure">
<img src="Images/f0115-04.png" alt="image" width="496" height="661"/>
<h6/>
</div></figure>
</div></section>
<section data-type="sect1" data-pdf-bookmark="How to add a scroll view"><div class="sect1" id="how_to_add_a_scroll_view">
<h1>How to add a scroll view</h1>
<p><a data-type="indexterm" data-primary="fillViewport attribute, ScrollView" id="idm46053742159328"/>You add a scroll view to your layout using the <code><strong>&lt;ScrollView&gt;</strong></code> element. The <code>&lt;ScrollView&gt;</code> element is used in the same way as <code>&lt;FrameLayout&gt;</code> except that it includes an extra attribute, <code><strong>fillViewport</strong></code>, which is used to specify whether the scroll view should fill the device screen.</p>
<div data-type="note" epub:type="note"><h6>Note</h6>
<p><span style="color:#9D9EA0;">ScrollView is a subclass of FrameLayout, which means it can do everything a FrameLayout can, and more.</span></p>
</div>
<p>In the code below, we’ve added a scroll view to the layout code so that it encloses the original linear layout. Update the <em>activity_main.xml</em> code to include the changes shown here (in bold):</p>
<figure class="informal"><div class="figure">
<img src="Images/f0116-02.png" alt="image" width="600" height="477"/>
<h6/>
</div></figure>
<p>We’ll take the code for a test drive after you’ve had a go at the following exercise.</p>
<aside data-type="sidebar" epub:type="sidebar"><div class="sidebar" id="sharpen_your_pencil-id00033">
<h5><span class="inlineimage"><img src="Images/pencil.png" alt="Images" width="149" height="65"/></span> Sharpen your pencil</h5>
<p><a data-type="indexterm" data-primary="exercises" data-secondary="Sharpen your pencil" id="idm46053742150144"/>As you’ve learned, you can nest layouts inside one another to produce more complex layouts. Use this knowledge to say or draw how you might produce the layout shown below.</p>
<p>We’re not expecting you to write all the code for the layout, just say how you might construct it.</p>
<figure class="informal"><div class="figure">
<img src="Images/f0117-01.png" alt="image" width="600" height="742"/>
<h6/>
</div></figure>
</div></aside>
<aside data-type="sidebar" epub:type="sidebar"><div class="sidebar" id="sharpen_your_pencil_solution-id00034">
<h5><span class="inlineimage"><img src="Images/pencil.png" alt="Images" width="149" height="65"/></span> Sharpen your pencil Solution</h5>
<p><a data-type="indexterm" data-primary="nested layouts" id="idm46053742141200"/>As you’ve learned, you can nest layouts inside one another to produce more complex layouts. Use this knowledge to say or draw how you might produce the layout shown below.</p>
<p>We’re not expecting you to write all the code for the layout, just say how you might construct it.</p>
<figure class="informal"><div class="figure">
<img src="Images/f0118-01.png" alt="image" width="600" height="566"/>
<h6/>
</div></figure>
</div></aside>
</div></section>
<section data-type="sect1" data-pdf-bookmark=" Test Drive"><div class="sect1" id="test_drive-id00035">
<h1><span class="inlineimage"><img src="Images/car.png" alt="Images" width="119" height="58"/></span> Test Drive</h1>
<p>Once you’ve added a scroll view to your layout code, go ahead and run the app.</p>
<p>When you enter lots of text into the Message edit text, the Send button gets pushed off the edge of the screen as before. This time, however, we can scroll the device screen to reach the button.</p>
<p>Congratulations! You’ve now learned how to use different types of layout to control the appearance of your app’s UI. You’ll build on this knowledge in the next chapter.</p>
<figure class="informal"><div class="figure">
<img src="Images/f0119-02.png" alt="image" width="499" height="709"/>
<h6/>
</div></figure>
<blockquote>
<p><strong>All layouts (including linear layouts, frame layouts, and scroll views) can hold other layouts.</strong></p>
<p><strong>You can build complex layouts by nesting one type of layout inside another.</strong></p>
</blockquote>
<aside data-type="sidebar" epub:type="sidebar"><div class="sidebar" id="there_are_no_dumb_questions-id00036">
<h5>there are no Dumb Questions</h5>
<p><strong>Q: Does a scroll view just add a vertical scrollbar? What if I want to include a horizontal scrollbar?</strong></p>
<p><strong>A:</strong> Yes, <code>&lt;ScrollView&gt;</code> only adds a vertical scrollbar, not a horizontal one.</p>
<p>If you want to add a horizontal scrollbar to your layout, you can do so using the <code>&lt;HorizontalScrollView&gt;</code> element instead. A horizontal scroll view works in the same way as a scroll view, except that it adds a horizontal scrollbar instead of a vertical one.</p>
</div></aside>
</div></section>
<section data-type="sect1" data-pdf-bookmark="Your Android Toolbox"><div class="sect1" id="your_android_toolbox-id00037">
<h1>Your Android Toolbox</h1>
<figure class="informal"><div class="figure">
<img src="Images/f0120-01.png" alt="image" width="248" height="171"/>
<h6/>
</div></figure>
<p><strong>You’ve got <a data-type="xref" href="#layoutscolon_being_a_layout">Chapter 3</a> under your belt and now you’ve added building layouts to your toolbox.</strong></p>
<figure class="informal"><div class="figure">
<img src="Images/f0120-02.png" alt="image" width="233" height="210"/>
<h6/>
</div></figure>
<aside data-type="sidebar" epub:type="sidebar"><div class="sidebar" id="bullet_points-id00038">
<h5>Bullet Points</h5>
<ul>
<li><p><code>&lt;EditText&gt;</code> defines an editable text view.</p></li>
<li><p>Use <code>&lt;ImageView&gt;</code> to display an image.</p></li>
<li><p>A linear layout lists views either horizontally or vertically. You specify the direction using the <code>android:orientation</code> attribute.</p></li>
<li><p>In a linear layout, use <code>android:layout_weight</code> if you want a view to use up extra space in the layout.</p></li>
<li><p>Use <code>android:padding</code> attributes to specify how much padding you want between a view’s edges and its contents.</p></li>
<li><p><code>android:layout_gravity</code> lets you say where you want views to appear in their available space.</p></li>
<li><p><code>android:gravity</code> lets you say where you want the contents to appear inside a view.</p></li>
<li><p>Use <code>android:layout_margin</code> to add extra space around a view.</p></li>
<li><p>A frame layout stacks views, one on top of another.</p></li>
<li><p>Add scrollbars using a scroll view or a horizontal scroll view. These are both types of frame layout.</p></li>
<li><p>All layouts are subclasses of the <code>android.view.ViewGroup</code> class. A view group is a type of view that can contain multiple views.</p></li>
<li><p>Layouts can include other layouts.</p></li>
</ul>
</div></aside>
</div></section>
</div></section></div></body></html>