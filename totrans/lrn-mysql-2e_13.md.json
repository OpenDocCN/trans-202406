["```\nmysql> `UPDATE` `customer` `SET` `last_update``=``NOW``(``)` `WHERE` `customer_id``=``1``;`\n```", "```\n[mysqld]\nlog-bin=mysql-bin\nserver-id=1\n\n```", "```\n[mysqld]\nlog-bin=mysql-replica-bin\nserver-id=1617565330\nbinlog_format = ROW\nlog_slave_updates\n\n```", "```\nmysql> `CREATE` `USER` `'repl'``@``'%'` `IDENTIFIED` `BY` `'P@ssw0rd!'``;`\nmysql> `GRANT` `REPLICATION` `SLAVE` `ON` `*``.``*` `TO` `'repl'``@``'%'``;`\n```", "```\n# date '+%s'\n```", "```\n1617565330\n```", "```\n# xtrabackup --defaults-file=my.cnf -uroot -p_<password>_ \\\n    -H *<host>* -P 3306 --backup --parallel=4 \\\n    --datadir=./data/ --target-dir=./backup/\n```", "```\n# scp -r ./backup/* *<user>@<host>*:/backup\n```", "```\n# xtrabackup --prepare --apply-log --target-dir=./\n```", "```\n# xtrabackup --defaults-file=/etc/my.cnf --copy-back --target-dir=./backup\n```", "```\n$ cat /backup/xtrabackup_binlog_info\nmysql-bin.000003    156\n```", "```\nmysql> `CHANGE` `MASTER` `TO` `MASTER_HOST``=``'192.168.1.2'``,` `MASTER_USER``=``'repl'``,`\n    -> `MASTER_PASSWORD``=``'P@ssw0rd!'``,`\n    -> `MASTER_LOG_FILE``=``'mysql-bin.000003'``,` `MASTER_LOG_POS``=``156``;`\nmysql> `START` `SLAVE``;`\n```", "```\nmysql> `SHOW` `SLAVE` `STATUS``\\``G`\n\n```", "```\n             Slave_IO_Running: Yes\n            Slave_SQL_Running: Yes\n                   Last_Errno: 0\n                   Last_Error:\n                 Skip_Counter: 0\n          Exec_Master_Log_Pos: 8332\n              Relay_Log_Space: 8752\n              Until_Condition: None\n        Seconds_Behind_Master: 0\nMaster_SSL_Verify_Server_Cert: No\n                Last_IO_Errno: 0\n                Last_IO_Error:\n               Last_SQL_Errno: 0\n               Last_SQL_Error:\n```", "```\nmysql> `INSTALL` `PLUGIN` `CLONE` `SONAME` `\"mysql_clone.so\"``;`\nmysql> `CREATE` `USER` `clone_user``@``'%'` `IDENTIFIED` `BY` `\"clone_password\"``;`\nmysql> `GRANT` `BACKUP_ADMIN` `ON` `*``.``*` `to` `clone_user``;`\n```", "```\nmysql> `GRANT` `SELECT` `ON` `performance_schema``.``*` `TO` `clone_user``;`\nmysql> `GRANT` `EXECUTE` `ON` `*``.``*` `to` `clone_user``;`\n```", "```\nmysql> `INSTALL` `PLUGIN` `CLONE` `SONAME` `\"mysql_clone.so\"``;`\nmysql> `SET` `GLOBAL` `clone_valid_donor_list` `=` `\"127.0.0.1:21122\"``;`\nmysql> `CREATE` `USER` `clone_user` `IDENTIFIED` `BY` `\"clone_password\"``;`\nmysql> `GRANT` `CLONE_ADMIN` `ON` `*``.``*` `to` `clone_user``;`\n```", "```\nmysql> `GRANT` `SELECT` `ON` `performance_schema``.``*` `TO` `clone_user``;`\nmysql> `GRANT` `EXECUTE` `ON` `*``.``*` `to` `clone_user``;`\n```", "```\nmysql> `CLONE` `INSTANCE` `FROM` `clone_user``@``192``.``168``.``1``.``2``:``3306`\n    -> `IDENTIFIED` `BY` `\"clone_password\"``;`\n```", "```\nSELECT STAGE, STATE, CAST(BEGIN_TIME AS TIME) as \"START TIME\",\nCASE WHEN END_TIME IS NULL THEN\nLPAD(sys.format_time(POWER(10,12) * (UNIX_TIMESTAMP(now()) -\n    UNIX_TIMESTAMP(BEGIN_TIME))), 10,' *)\nELSE\nLPAD(sys.format_time(POWER(10,12) * (UNIX_TIMESTAMP(END_TIME) -\n    UNIX_TIMESTAMP(BEGIN_TIME))), 10,* *)\nEND AS DURATION,\nLPAD(CONCAT(FORMAT(ROUND(ESTIMATE/1024/1024,0), 0),\" MB\"), 16,* *)\nAS \"Estimate\",\nCASE WHEN BEGIN_TIME IS NULL THEN LPAD('0%*, 7, ' *)\nWHEN ESTIMATE > 0 THEN\nLPAD(CONCAT(CAST(ROUND(DATA*100/ESTIMATE, 0) AS BINARY), \"%\"), 7, ' ')\nWHEN END_TIME IS NULL THEN LPAD('0%*, 7, ' *)\nELSE LPAD('100%*, 7, ' ') END AS \"Done(%)\"\nfrom performance_schema.clone_progress;\n```", "```\n+-----------+-----------+------------+-----------+----------+---------+\n| STAGE     | STATE     | START TIME | DURATION  | Estimate | Done(%) |\n+-----------+-----------+------------+-----------+----------+---------+\n| DROP DATA | Completed | 14:44:46   |    1.33 s |     0 MB | 100%    |\n+-----------+-----------+------------+-----------+----------+---------+\n| FILE COPY | Completed | 14:44:48   |    5.62 s | 1,511 MB | 100%    |\n+-----------+-----------+------------+-----------+----------+---------+\n| PAGE COPY | Completed | 14:44:53   |  95.06 ms |     0 MB | 100%    |\n+-----------+-----------+------------+-----------+----------+---------+\n| REDO COPY | Completed | 14:44:54   |  99.71 ms |     0 MB | 100%    |\n+-----------+-----------+------------+-----------+----------+---------+\n| FILE SYNC | Completed | 14:44:54   |    6.33 s |     0 MB | 100%    |\n+-----------+-----------+------------+-----------+----------+---------+\n| RESTART   | Completed | 14:45:00   |    4.08 s |     0 MB | 100%    |\n+-----------+-----------+------------+-----------+----------+---------+\n| RECOVERY  | Completed | 14:45:04   | 516.86 ms |     0 MB | 100%    |\n+-----------+-----------+------------+-----------+----------+---------+\n7 rows in set (0.08 sec)\n```", "```\nmysql> `SELECT` `BINLOG_FILE``,` `BINLOG_POSITION` `FROM` `performance_schema``.``clone_status``;`\n```", "```\n+------------------+-----------------+\n| BINLOG_FILE      | BINLOG_POSITION |\n+------------------+-----------------+\n| mysql-bin.000002 |       816804753 |\n+------------------+-----------------+\n1 row in set (0.01 sec)\n```", "```\nmysql> `SELECT` `@``@``GLOBAL``.``GTID_EXECUTED``;`\n```", "```\n+------------------------+\n| @@GLOBAL.GTID_EXECUTED |\n+------------------------+\n|                        |\n+------------------------+\n1 row in set (0.00 sec)\n```", "```\nmysql> `CHANGE` `MASTER` `TO` `MASTER_HOST` `=` `'192.168.1.2'``,` `MASTER_PORT` `=` `3306``,`\n    -> `MASTER_USER` `=` `'repl'``,` `MASTER_PASSWORD` `=` `'P@ssw0rd!'``,`\n    -> `MASTER_LOG_FILE` `=` `'mysql-bin.000002'``,`\n    -> `MASTER_LOG_POSITION` `=` `816804753``;`\nmysql> `START` `SLAVE``;`\n\n```", "```\n# mysqldump -uroot -p<*password*> --single-transaction \\\n    --all-databases --routines --triggers --events \\\n    --master-data=2 > backup.sql\n\n```", "```\n# tail -1f backup.sql\n```", "```\n-- Dump completed on 2021-04-26 20:16:33\n```", "```\n$ mysql < backup.sql\n```", "```\n$ head -n 35 out\n-- MySQL dump 10.13  Distrib 5.7.31-34, for Linux (x86_64)\n--\n-- Host: 127.0.0.1    Database:\n-- ------------------------------------------------------\n-- Server version   5.7.33-log\n\n...\n\n--\n-- Position to start replication or point-in-time recovery from\n--\n\n-- CHANGE MASTER TO MASTER_LOG_FILE='mysql-bin.000001', MASTER_LOG_POS=4089;\n```", "```\n--\n-- GTID state at the beginning of the backup\n-- (origin: @@global.gtid_executed)\n--\n\nSET @@GLOBAL.GTID_PURGED=*00048008-1111-1111-1111-111111111111:1-16*;\n```", "```\nmysql> `CHANGE` `MASTER` `TO` `MASTER_HOST``=``'192.168.1.2'``,` `MASTER_USER``=``'repl'``,`\n    -> `MASTER_PASSWORD` `=` `'P@ssw0rd!'``,` `MASTER_AUTO_POSITION``=``1``;`\nmysql> `START` `SLAVE``;`\n```", "```\nmysql> `CHANGE` `MASTER` `TO` `MASTER_LOG_FILE``=``'mysql-bin.000001'``,` `MASTER_LOG_POS``=``4089``,`\n    -> `MASTER_HOST``=``'192.168.1.2'``,` `MASTER_USER``=``'repl'``,`\n    -> `MASTER_PASSWORD``=``'P@ssw0rd!'``;`\nmysql> `START` `SLAVE``;`\n```", "```\n# yum install https://github.com/maxbube/mydumper/releases/download/v0.10.3/ \\\nmydumper-0.10.3-1.el7.x86_64.rpm -y\n```", "```\n$ mydumper --version\nmydumper 0.10.3, built against MySQL 5.7.33-36\n\n$ myloader --version\nmyloader 0.10.3, built against MySQL 5.7.33-36\n```", "```\n# mydumper --regex '^(?!(mysql\\.|test\\.|sys\\.))' --threads=15\n--user=learning_user --password='learning_mysql' --host=192.168.1.2 \\\n    --port=3306 --trx-consistency-only --events --routines --triggers \\\n    --compress --outputdir /backup --logfile /tmp/log.out --verbose=2\n\n```", "```\n# ls -l backup/\ntotal 5008\n-rw...1 vinicius.grippa percona   182 May  1 19:30 metadata\n-rw...1 vinicius.grippa percona   258 May  1 19:30 sysbench.sbtest10-schema.sql.gz\n-rw...1 vinicius.grippa percona 96568 May  1 19:30 sysbench.sbtest10.sql.gz\n-rw...1 vinicius.grippa percona   258 May  1 19:30 sysbench.sbtest11-schema.sql.gz\n-rw...1 vinicius.grippa percona 96588 May  1 19:30 sysbench.sbtest11.sql.gz\n-rw...1 vinicius.grippa percona   258 May  1 19:30 sysbench.sbtest12-schema.sql.gz\n...\n\n```", "```\n# myloader --user=learning_user --password='learning_mysql'\n--threads=25 --host=192.168.1.3 --port=3306\n--directory=/backup --overwrite-tables --verbose 3\n\n```", "```\n$ cat backup/metadata\nStarted dump at: 2021-05-01 19:30:00\nSHOW MASTER STATUS:\n    Log: mysql-bin.000002\n    Pos: 9530779\n    GTID:00049010-1111-1111-1111-111111111111:1-319\n\nFinished dump at: 2021-05-01 19:30:01\n\n```", "```\nmysql> `CHANGE` `MASTER` `TO` `MASTER_HOST``=``'192.168.1.2'``,` `MASTER_USER``=``'repl'``,`\n    -> `MASTER_PASSWORD``=``'P@ssw0rd!'``,`  `MASTER_LOG_FILE``=``'mysql-bin.000002'``,`\n    -> `MASTER_LOG_POS``=``9530779``,` `MASTER_PORT``=``49010``;`\nmysql> `START` `SLAVE``;`\n```", "```\nmysql> `SELECT` `PLUGIN_NAME``,` `PLUGIN_STATUS``,` `PLUGIN_TYPE`\n    -> `FROM` `INFORMATION_SCHEMA``.``PLUGINS`\n    -> `WHERE` `PLUGIN_NAME` `LIKE` `'group_replication'``;`\n```", "```\n+-------------------+---------------+-------------------+\n| PLUGIN_NAME       | PLUGIN_STATUS | PLUGIN_TYPE       |\n+-------------------+---------------+-------------------+\n| group_replication | ACTIVE        | GROUP REPLICATION |\n+-------------------+---------------+-------------------+\n1 row in set (0.00 sec)\n```", "```\nmysql> `INSTALL` `PLUGIN` `group_replication` `SONAME` `'group_replication.so'``;`\n```", "```\n[mysqld]\nserver_id=175907211\nlog-bin=mysqld-bin\nenforce_gtid_consistency=ON\ngtid_mode=ON\nlog-slave-updates\ntransaction_write_set_extraction=XXHASH64\nmaster_info_repository=TABLE\nrelay_log_info_repository=TABLE\nbinlog_checksum=NONE\n```", "```\n[mysqld]\n\nloose-group_replication_group_name=\"8dc32851-d7f2-4b63-8989-5d4b467d8251\"\nloose-group_replication_start_on_boot=OFF\nloose-group_replication_local_address=\"10.124.33.139:33061\"\nloose-group_replication_group_seeds=\"10.124.33.139:33061,\n10.124.33.90:33061, 10.124.33.224:33061\"\nloose-group_replication_bootstrap_group=OFF\nbind-address = \"0.0.0.0\"\nreport_host = \"10.124.33.139\"\n```", "```\n$ uuidgen\n\n```", "```\n8dc32851-d7f2-4b63-8989-5d4b467d8251\n```", "```\nmysql> `SET` `SQL_LOG_BIN``=``0``;`\nmysql> `CREATE` `USER` `replication_user``@``'%'` `IDENTIFIED` `BY` `'P@ssw0rd!'``;`\nmysql> `GRANT` `REPLICATION` `SLAVE` `ON` `*``.``*` `TO` `'replication_user'``@``'%'``;`\nmysql> `FLUSH` `PRIVILEGES``;`\nmysql> `SET` `SQL_LOG_BIN``=``1``;`\n\n```", "```\nmysql> `CHANGE` `MASTER` `TO` `MASTER_USER``=``'replication_user'``,`\n    -> `MASTER_PASSWORD``=``'P@ssw0rd!'` `FOR` `CHANNEL`\n    -> `'group_replication_recovery'``;`\n\n```", "```\nmysql> `SET` `GLOBAL` `group_replication_bootstrap_group``=``ON``;`\nmysql> `START` `GROUP_REPLICATION``;`\nmysql> `SET` `GLOBAL` `group_replication_bootstrap_group``=``OFF``;`\n```", "```\nmysql> `SELECT` `*` `FROM` `performance_schema``.``replication_group_members``;`\n\n```", "```\n+---------------------------+--------------------------------------+...\n| CHANNEL_NAME              | MEMBER_ID                            |...\n+---------------------------+--------------------------------------+...\n| group_replication_applier | d58b2766-ab90-11eb-ba00-00163ed02a2e |...\n+-------------+-------------+--------------+-------------+---------+...\n...+---------------+-------------+--------------+-------------+----------------+\n...| MEMBER_HOST   | MEMBER_PORT | MEMBER_STATE | MEMBER_ROLE | MEMBER_VERSION |\n...+---------------+-------------+--------------+-------------+----------------+\n...| 10.124.33.139 |        3306 | ONLINE       | PRIMARY     | 8.0.22         |\n...+---------------+-------------+--------------+-------------+----------------+\n1 row in set (0.00 sec)\n```", "```\n[mysqld]\nloose-group_replication_group_name=\"8dc32851-d7f2-4b63-8989-5d4b467d851\"\nloose-group_replication_start_on_boot=OFF\nloose-group_replication_local_address=\"10.124.33.90:33061\"\nloose-group_replication_group_seeds=\"10.124.33.139:33061,\n10.124.33.90:33061, 10.124.33.224:33061\"\nloose-group_replication_bootstrap_group=OFF\nbind-address = \"0.0.0.0\"\n```", "```\n# systemctl restart mysqld\n```", "```\nmysql> `SET` `SQL_LOG_BIN``=``0``;`\nmysql> `CREATE` `USER` `'replication_user'``@``'%'` `IDENTIFIED` `BY` `'P@ssw0rd!'``;`\nmysql> `GRANT` `REPLICATION` `SLAVE` `ON` `*``.` TO 'replication_user'@'%';*\nmysql> `SET` `SQL_LOG_BIN``=``1``;`\nmysql> `CHANGE` `MASTER` `TO` `MASTER_USER``=``'replication_user'``,`\n`MASTER_PASSWORD``=``'PASSWORD'` `FOR` `CHANNEL`\n`'group_replication_recovery'``;`\n```", "```\nmysql> `START` `GROUP_REPLICATION``;`\n```", "```\nmysql> `SELECT` `*` `FROM` `performance_schema``.``replication_group_members``;`\n\n```", "```\n+---------------------------+--------------------------------------+...\n| CHANNEL_NAME              | MEMBER_ID                            |...\n+---------------------------+--------------------------------------+...\n| group_replication_applier | 9e971ba0-ab9d-11eb-afc6-00163ec43109 |...\n| group_replication_applier | d58b2766-ab90-11eb-ba00-00163ed02a2e |...\n+-------------+-------------+--------------+-------------+---------+...\n...+---------------+-------------+--------------+...\n...| MEMBER_HOST   | MEMBER_PORT | MEMBER_STATE |...\n...+---------------+-------------+--------------+...\n...| 10.124.33.90  |        3306 | ONLINE       |...\n...| 10.124.33.139 |        3306 | ONLINE       |...\n...+---------------+-------------+--------------+...\n...+-------------+----------------+\n...| MEMBER_ROLE | MEMBER_VERSION |\n...+-------------+----------------+\n...| SECONDARY   | 8.0.22         |\n...| PRIMARY     | 8.0.22         |\n...+-------------+----------------+\n2 rows in set (0.00 sec)\n```", "```\nmysql> `CREATE` `DATABASE` `learning_mysql``;`\n\n```", "```\nQuery OK, 1 row affected (0.00 sec)\n```", "```\nmysql> `USE` `learning_mysql`\n\n```", "```\nDatabase changed\n```", "```\nmysql> `CREATE` `TABLE` `test` `(``i` `int` `primary` `key``)``;`\n\n```", "```\nQuery OK, 0 rows affected (0.01 sec)\n```", "```\nmysql> `INSERT` `INTO` `test` `VALUES` `(``1``)``;`\n\n```", "```\nQuery OK, 1 row affected (0.00 sec)\n```", "```\n# `yum install https://repo.percona.com/yum/percona-release-latest.noar` `ch``.``rpm` `-``y`\n```", "```\n# `yum install Percona-XtraDB-Cluster-57 -y`\n```", "```\n# 'systemctl start mysqld'\n# 'grep temporary password'/var/log/mysqld.log'\n\n```", "```\n$ mysql -u root -p\n```", "```\nmysql> `ALTER` `USER` `'root'``@``'localhost'` `IDENTIFIED` `BY` `'P@ssw0rd!'``;`\n\n```", "```\n# systemctl stop mysql\n\n```", "```\n[mysqld]\n wsrep_provider=/usr/lib64/galera3/libgalera_smm.so\n wsrep_cluster_name=pxc-cluster\n wsrep_cluster_address=gcomm://172.16.2.56,172.16.2.198,172.16.3.177\n\n wsrep_node_name=pxc1\n wsrep_node_address=172.16.2.56\n\n wsrep_sst_method=xtrabackup-v2\n wsrep_sst_auth=sstuser:P@ssw0rd!\n\n pxc_strict_mode=ENFORCING\n\n binlog_format=ROW\n default_storage_engine=InnoDB\n innodb_autoinc_lock_mode=2\n```", "```\nwsrep_node_name=pxc2\nwsrep_node_address=172.16.2.198\n```", "```\nwsrep_node_name=pxc3\nwsrep_node_address=172.16.3.177\n```", "```\n# systemctl start mysql@bootstrap\n```", "```\nmysql> `CREATE` `USER` `'sstuser'``@``'localhost'` `IDENTIFIED` `BY` `'P@ssw0rd!'``;`\nmysql> `GRANT` `RELOAD``,` `LOCK` `TABLES``,` `PROCESS``,` `REPLICATION` `CLIENT` `ON` `.`\n    -> `TO` `'sstuser'``@``'localhost'``;`\nmysql> `FLUSH` `PRIVILEGES``;`\n```", "```\n# systemctl start mysql\n```", "```\nmysq> `CREATE` `DATABASE` `learning_mysql``;`\n\n```", "```\nQuery ok, 1 row affected (0.01 sec)\n```", "```\nmysql> `USE` `learning_mysql``;`\n\n```", "```\nDatabase changed\n```", "```\nmysql> `CREATE` `TABLE` `example` `(``node_id` `INT` `PRIMARY` `KEY``,` `node_name` `VARCHAR``(``30``)``)``;`\n\n```", "```\nQuery ok, 0 rows affected (0.05 sec)\n```", "```\nmysql> `INSERT` `INTO` `learning_mysql``.``example` `VALUES` `(``1``,` `\"Vinicius1\"``)``;`\n\n```", "```\nQuery OK, 1 row affected (0.02 sec)\n```", "```\nmysql> `SELECT` `*` `FROM` `learning_mysql``.``example``;`\n```", "```\n+---------+-----------+\n| node_id | node_name |\n+---------+-----------+\n|       1 | Vinicius1 |\n+---------+-----------+\n1 row in set (0.00 sec)\n```", "```\nmysql> `SHOW` `GLOBAL` `STATUS` `LIKE` `'wsrep_cluster_size'``;`\n\n```", "```\n+--------------------+-------+\n| Variable_name      | Value |\n+--------------------+-------+\n| wsrep_cluster_size | 3     |\n+--------------------+-------+\n1 row in set (0.00 sec)\n```", "```\nmysql> `SHOW` `GLOBAL` `STATUS` `LIKE` `'wsrep_cluster_status'``;`\n\n```", "```\n+----------------------+---------+\n| Variable_name        | Value   |\n+----------------------+---------+\n| wsrep_cluster_status | Primary |\n+----------------------+---------+\n1 row in set (0.00 sec)\n```"]