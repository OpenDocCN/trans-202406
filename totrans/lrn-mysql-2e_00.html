<html><head></head><body><div id="sbo-rt-content"><section data-type="preface" epub:type="preface" data-pdf-bookmark="Preface"><div class="preface" id="CH_PREFACE">
<h1>Preface</h1>


<p>Database management systems are part of the core of many companies. Even if a business is not technology-focused, it needs to store, access, and manipulate data in a fast, secure, and reliable way. Because of the COVID-19 pandemic, many areas that had traditionally resisted digital transformation, like the judiciary systems in many countries, are now being integrated through technology due to travel and meeting restrictions, and online shopping and working from home are more popular than ever before.</p>

<p>But it’s not just disasters that have propelled such far-reaching changes. With the advent of 5G, we will soon have many more machines connected to the internet than humans. Vast amounts of data are already being harvested, stored, and used to train machine learning models, artificial intelligence, and much more. We are living at the beginning of the next revolution.</p>

<p>Several database types have emerged to help with the mission of storing more data—especially unstructured data—including NoSQL databases like MongoDB, Cassandra, and Redis. However, traditional SQL databases remain popular, and there is no sign that they will vanish in the near future. And in the SQL world, undoubtedly the most popular open source solution is MySQL.</p>

<p>Both of the authors of this book have worked with many customers from all parts of the world. Along the way, we have learned lots of lessons and experienced a vast number of use cases, ranging from mission-critical monolith applications to simpler microservices applications. This book is full of the tips and advice we think most readers will find helpful for their daily activities.</p>






<section data-type="sect1" class="less_space pagebreak-before" data-pdf-bookmark="Who This Book Is For"><div class="sect1" id="WHO_IS_THIS_FOR">
<h1>Who This Book Is For</h1>

<p>This book is primarily for people using MySQL for the first time or learning it as a second database. If you are entering the database arena for the first time, the first chapters will introduce you to the database design concepts and show you how to deploy MySQL into different operating systems and in the cloud.</p>

<p>For those coming from another ecosystem, like Postgres, Oracle, or SQL Server, the book covers backup, high availability, and disaster recovery strategies.</p>

<p>We hope all readers will also find this book to be a good companion for learning or reviewing fundamentals, from the architecture to advice for the production 
<span class="keep-together">environment.</span></p>
</div></section>













<section data-type="sect1" data-pdf-bookmark="How This Book Is Organized"><div class="sect1" id="PREFACE-HOW-ORGANIZED">
<h1>How This Book Is Organized</h1>

<p>We introduce many topics, from the basic installation process, database design, backups, and recovery to CPU performance analysis and bug investigation. We’ve divided the book into four main parts:</p>
<ol>
<li>
<p>Starting with MySQL</p>
</li>
<li>
<p>Using MySQL</p>
</li>
<li>
<p>MySQL in Production</p>
</li>
<li>
<p>Miscellaneous Topics</p>
</li>

</ol>

<p>Let’s look at how we’ve organized the chapters.</p>








<section data-type="sect2" data-pdf-bookmark="Starting with MySQL"><div class="sect2" id="idm46177493424040">
<h2>Starting with MySQL</h2>

<p><a data-type="xref" data-xrefstyle="chap-num-title" href="ch01.xhtml#CH1_INSTALL">Chapter 1, <em>Installing MySQL</em></a> explains how to install and configure the MySQL software on different operating systems. This chapter provides far more detail than most books do. We know that those initiating their career with MySQL are often unfamiliar with various Linux distributions and installation options, and running the MySQL “hello world” requires far more steps than compiling a hello world in any programming language does. You will see how to set up MySQL on Linux, Windows, macOS, and Docker, and how to deploy instances quickly for testing.</p>
</div></section>













<section data-type="sect2" data-pdf-bookmark="Using MySQL"><div class="sect2" id="idm46177493420808">
<h2>Using MySQL</h2>

<p>Before we dive into creating and using databases, we look at proper database design in <a data-type="xref" data-xrefstyle="chap-num-title" href="ch02.xhtml#CH2_DESIGN">Chapter 2, <em>Modeling and Designing Databases</em></a>. You will learn how to access your database’s features and see how the information items in your database relate to each other. You will see that lousy database designs are challenging to change and can lead to performance problems. We will introduce the concept of strong and weak entities and their relationships (<em>foreign keys</em>) and explain the process of normalization. This chapter also shows how to download and configure database examples such as <code>sakila</code>, <code>world</code>, and <code>employees</code>.</p>

<p>In <a data-type="xref" data-xrefstyle="chap-num-title" href="ch03.xhtml#CH3_BASICS">Chapter 3, <em>Basic SQL</em></a>, we explore the famous SQL commands that are part of the CRUD (create, read, update, and delete) operations. You will see how to read data from an existing MySQL database, store data in it, and manipulate existing data.</p>

<p>In <a data-type="xref" data-xrefstyle="chap-num-title" href="ch04.xhtml#CH4_MODIFY">Chapter 4, <em>Working with Database Structures</em></a>, we explain how to create a new MySQL database and create and modify tables, indexes, and other database structures.</p>

<p><a data-type="xref" data-xrefstyle="chap-num-title" href="ch05.xhtml#CH5_ADV1">Chapter 5, <em>Advanced Querying</em></a> covers more advanced operations such as using nested queries and using different MySQL database engines. This chapter will give you the ability to perform more complex queries.</p>
</div></section>













<section data-type="sect2" data-pdf-bookmark="MySQL in Production"><div class="sect2" id="idm46177505153864">
<h2>MySQL in Production</h2>

<p>Now that you know how to install MySQL and manipulate data, the next step is to understand how MySQL handles simultaneous access to the same data. The concepts of isolation, transaction, and deadlocks are explored in <a data-type="xref" data-xrefstyle="chap-num-title" href="ch06.xhtml#CH6_TRANSACTION_LOCKING">Chapter 6, <em>Transactions and Locking</em></a>.</p>

<p>In <a data-type="xref" data-xrefstyle="chap-num-title" href="ch07.xhtml#CH7_DOING_MORE">Chapter 7, <em>Doing More with MySQL</em></a>, you will see more complex queries that you can perform in MySQL as well as how to observe the query plan to check whether the query is efficient or not. We’ll also explain the different engines available in MySQL (InnoDB and MyISAM are the most famous ones).</p>

<p>In <a data-type="xref" data-xrefstyle="chap-num-title" href="ch08.xhtml#CH8_USER_MANAGEMENT">Chapter 8, <em>Managing Users and Privileges</em></a>, you will learn how to create and delete users in the database. This step is one of the most important in terms of security since users with more privileges than they need can cause considerable damage to the database and the company’s reputation. You will see how to establish security policies, give and remove privileges, and restrict access to specific network IPs.</p>

<p><a data-type="xref" data-xrefstyle="chap-num-title" href="ch09.xhtml#CH9_OPTIONS_FILE">Chapter 9, <em>Using Option Files</em></a> covers the MySQL configuration files, or <em>option files</em>, which contain all the necessary parameters to start MySQL and optimize its performance. Those familiar with MySQL will recognize the <em>/etc/my.cnf</em> configuration file. You will also see that it is possible to configure user access using special option files.</p>

<p>Databases without backup policies are headed for disaster sooner or later. In <a data-type="xref" data-xrefstyle="chap-num-title" href="ch10.xhtml#CH10_BACKUP">Chapter 10, <em>Backups and Recovery</em></a> we discuss the different types of backups (<em>logical</em> versus <em>physical</em>), the options available to execute this task, and the ones that are more appropriate for large production databases.</p>

<p><a data-type="xref" data-xrefstyle="chap-num-title" href="ch11.xhtml#CH11_CONFIGURE_TUNE">Chapter 11, <em>Configuring and Tuning the Server</em></a> discusses the essential parameters you need to pay attention to when setting up a new server. We provide formulas for that and help you to identify whether a parameter value is the correct one for the database workload.</p>
</div></section>













<section data-type="sect2" data-pdf-bookmark="Miscellaneous Topics"><div class="sect2" id="idm46177505068968">
<h2>Miscellaneous Topics</h2>

<p>With the essentials established, it is time to go beyond. <a data-type="xref" data-xrefstyle="chap-num-title" href="ch12.xhtml#CH12_MONITORING">Chapter 12, <em>Monitoring MySQL Servers</em></a> teaches you how to monitor your database and collect data from it. Since database workload behavior can change according to the volume of users, transactions, and data being manipulated, identifying which resource is saturated and what is causing the problem is 
<span class="keep-together">crucial.</span></p>

<p><a data-type="xref" data-xrefstyle="chap-num-title" href="ch13.xhtml#CH13_HA">Chapter 13, <em>High Availability</em></a> explains how to replicate servers to provide high availability. We also introduce the cluster concept, highlighting two solutions: InnoDB Cluster and Galera/PXC Cluster.</p>

<p><a data-type="xref" data-xrefstyle="chap-num-title" href="ch14.xhtml#CH14_MYSQL_CLOUD">Chapter 14, <em>MySQL in the Cloud</em></a> expands the MySQL universe to the cloud. You will learn about the database-as-a-service (DBaaS) option and how to use the managed database services provided by the most prominent three cloud providers: Amazon Web Services (AWS), Google Cloud Platform (GCP), and Microsoft Azure.</p>

<p>In <a data-type="xref" data-xrefstyle="chap-num-title" href="ch15.xhtml#CH15_LOAD_BAlANCERS">Chapter 15, <em>Load Balancing MySQL</em></a>, we’ll show you the most commonly used tools to distribute queries among different MySQL servers to extract even more performance from MySQL.</p>

<p>Finally, <a data-type="xref" data-xrefstyle="chap-num-title" href="ch16.xhtml#CH16_EXTRA_TOPICS">Chapter 16, <em>Miscellaneous Topics</em></a> introduces more advanced analysis methods and  tools, and a bit of programming. In this chapter we’ll talk about MySQL Shell, flame graphs, and how to analyze bugs.</p>
</div></section>





</div></section>













<section data-type="sect1" data-pdf-bookmark="Conventions Used in This Book"><div class="sect1" id="idm46177504822408">
<h1>Conventions Used in This Book</h1>

<p>The following typographical conventions are used in this book:</p>
<dl>
<dt><em>Italic</em></dt>
<dd>
<p>Indicates new terms, URLs, email addresses, filenames, and file extensions.</p>
</dd>
<dt><code>Constant width</code></dt>
<dd>
<p>Used for program listings, as well as within paragraphs to refer to program elements such as variable or function names, databases, data types, environment variables, statements, and keywords.</p>
</dd>
<dt><code><strong>Constant width bold</strong></code></dt>
<dd>
<p>Shows commands or other text that should be typed literally by the user.</p>
</dd>
<dt><code><em>Constant width italic</em></code></dt>
<dd>
<p>Shows text that should be replaced with user-supplied values or by values determined by context.</p>
</dd>
</dl>
<div data-type="tip"><h6>Tip</h6>
<p>This element signifies a tip or suggestion.</p>
</div>
<div data-type="note" epub:type="note"><h6>Note</h6>
<p>This element signifies a general note.</p>
</div>
<div data-type="warning" epub:type="warning"><h6>Warning</h6>
<p>This element indicates a warning or caution.</p>
</div>
</div></section>













<section data-type="sect1" data-pdf-bookmark="Using Code Examples"><div class="sect1" id="idm46177504810184">
<h1>Using Code Examples</h1>

<p>Code examples are available for download at <a href="https://github.com/learning-mysql-2nd/learning-mysql-2nd"><em class="hyperlink">https://github.com/learning-mysql-2nd/learning-mysql-2nd</em></a>.</p>

<p>If you have a technical question or a problem using the code examples, please send email to <a class="email" href="mailto:bookquestions@oreilly.com"><em>bookquestions@oreilly.com</em></a>.</p>

<p>This book is here to help you get your job done. In general, if an example code is offered with this book, you may use it in your programs and documentation. You do not need to contact us for permission unless you’re reproducing a significant portion of the code. For example, writing a program that uses several chunks of code from this book does not require permission. Selling or distributing examples from O’Reilly books does require permission. Answering a question by citing this book and quoting example code does not require permission. Incorporating a significant amount of example code from this book into your product’s documentation does require 
<span class="keep-together">permission.</span></p>

<p>We appreciate, but generally do not require attribution. An attribution usually includes the title, author, publisher, and ISBN. For example: “<em>Learning MySQL</em>, 2nd ed., by Vinicius M. Grippa and Sergey Kuzmichev (O’Reilly). Copyright 2021 Vinicius M. Grippa and Sergey Kuzmichev, 978-1-492-08592-8.”</p>

<p>If you feel your use of code examples falls outside fair use or the permission given above, feel free to contact us at <a class="email" href="mailto:permissions@oreilly.com"><em>permissions@oreilly.com</em></a>.</p>
</div></section>













<section data-type="sect1" data-pdf-bookmark="O’Reilly Online Learning"><div class="sect1" id="idm46177504805400">
<h1>O’Reilly Online Learning</h1>
<div data-type="note" epub:type="note" class="ormenabled"><h6>Note</h6>
<p>For more than 40 years, <a href="http://oreilly.com" class="orm:hideurl"><em class="hyperlink">O’Reilly Media</em></a> has provided technology and business training, knowledge, and insight to help companies succeed.</p>
</div>

<p>Our unique network of experts and innovators share their knowledge and expertise through books, articles, and our online learning platform. O’Reilly’s online learning platform gives you on-demand access to live training courses, in-depth learning paths, interactive coding environments, and a vast collection of text and video from O’Reilly and 200+ other publishers. For more information, visit <a href="http://oreilly.com" class="orm:hideurl"><em>http://oreilly.com</em></a>.</p>
</div></section>













<section data-type="sect1" data-pdf-bookmark="How to Contact Us"><div class="sect1" id="idm46177504357032">
<h1>How to Contact Us</h1>

<p>Please address comments and questions concerning this book to the publisher:</p>
<ul class="simplelist">
  <li>O’Reilly Media, Inc.</li>
  <li>1005 Gravenstein Highway North</li>
  <li>Sebastopol, CA 95472</li>
  <li>800-998-9938 (in the United States or Canada)</li>
  <li>707-829-0515 (international or local)</li>
  <li>707-829-0104 (fax)</li>
</ul>

<p>We have a web page for this book, where we list errata, examples,<a data-type="indexterm" data-primary="book web page" id="idm46177504351368"/><a data-type="indexterm" data-primary="web links in book" data-secondary="book web page" id="idm46177504350696"/> and any additional information. You can access this page at <a href="https://oreil.ly/learn-mysql-2e"><em class="hyperlink">https://oreil.ly/learn-mysql-2e</em></a>.</p>
<!--Don't forget to update the link above.-->

<p>Email <a class="email" href="mailto:bookquestions@oreilly.com"><em>bookquestions@oreilly.com</em></a> to comment on or ask technical questions about this book.</p>

<p>For news and information about our books and courses, visit <a href="http://oreilly.com"><em class="hyperlink">http://oreilly.com</em></a>.</p>

<p>Find us on Facebook: <a href="http://facebook.com/oreilly"><em class="hyperlink">http://facebook.com/oreilly</em></a></p>

<p>Follow us on Twitter: <a href="http://twitter.com/oreillymedia"><em class="hyperlink">http://twitter.com/oreillymedia</em></a></p>

<p>Watch us on YouTube: <a href="http://youtube.com/oreillymedia"><em class="hyperlink">http://youtube.com/oreillymedia</em></a></p>
</div></section>













<section data-type="sect1" data-pdf-bookmark="Acknowledgments"><div class="sect1" id="idm46177504356408">
<h1>Acknowledgments</h1>








<section data-type="sect2" data-pdf-bookmark="From Vinicius Grippa"><div class="sect2" id="idm46177504960392">
<h2>From Vinicius Grippa</h2>

<p>Thanks to the following people who helped improve this book: Corbin Collins, Charly Batista, Sami Ahlroos, and Brett Holleman. Without them, this book would not have achieved the excellence we strove for.</p>

<p>Thanks to the MySQL community (especially Shlomi Noach, Giuseppe Maxia, Jeremy Cole, and Brendan Gregg) and all the bloggers on <a href="https://oreil.ly/MSFP1">Planet MySQL</a>, <a href="https://oreil.ly/X1UZN">Several Nines</a>, <a href="https://oreil.ly/rsrAA">Percona Blog</a>, and <a href="https://oreil.ly/yXkuy">MySQL Entomologist</a> who have contributed so much material and so many great tools.</p>

<p>Thanks to everyone at Percona who provided the means to write this book, notably Bennie Grant, Carina Punzo, and Marcelo Altmann, and who have helped me grow as a professional and human being.</p>

<p>Thanks to the O’Reilly staff who do such a classy job of publishing books and running conferences.</p>

<p>I want to thank my parents Divaldo and Regina, my sister Juliana, and my girlfriend Karin for having patience and supporting this project in many ways. A special thanks to Paulo Piffer, who gave me my first opportunity to work with what I love.</p>

<p>And last, to Sergey Kuzmichev, the cowriter of this book. Without his expertise, dedication, and hard work, this book would not have been possible. I am grateful for having him as a colleague and for having had the honor of working with him on this project.</p>
</div></section>













<section data-type="sect2" data-pdf-bookmark="From Sergey Kuzmichev"><div class="sect2" id="idm46177504952520">
<h2>From Sergey Kuzmichev</h2>

<p>I would like to thank my wife, Kate, for supporting and helping me on every step of this difficult but rewarding project. From ruminating about whether to take on writing this book, to many sometimes difficult days of writing it, she was there. Our first child was born while the book was in writing, and yet Kate found time and strength to continue motivating and helping me.</p>

<p>Thanks to my parents, relatives, and friends, who over the years helped me grow as a person and as an expert. Thank you for supporting me in this project.</p>

<p>Thanks to the amazing people of Percona for helping me with all the technical and non-technical questions and issues I had while writing this book: Iwo Panowicz, Przemyslaw Malkowski, Sveta Smirnova, and Marcos Albe. Thanks to Stuart Bell and everyone in Percona’s support management for the amazing level of assistance we received every step of the way.</p>

<p>Thanks to everyone at O’Reilly for leading us and helping us to create this edition. Thanks to Corbin Collins for helping to mold the structure of the book and keeping us firmly on our path. Thanks to Rachel Head for finding myriad issues during the copyedit phase and for spotting problems with the technical details of MySQL in our writing. Without you, and everyone at O’Reilly, this book wouldn’t be a book, but merely a collection of loosely related words.</p>

<p>Special thanks to our technical editors Sami Ahlroos, Brett Holleman, and Charly Batista. They were instrumental in making the technical and non-technical contents of this book of the highest quality.</p>

<p>Thanks to everyone in the MySQL community for being open, helpful, and sharing their knowledge in every way possible. The world of MySQL is not a walled garden, but is open for everybody. I’d like to mention Valerii Kravchuk, Mark Callaghan, Dimitri Kravchuk, and Jeremy Cole for helping me through their blogs to understand MySQL’s internals better.</p>

<p>I want to thank the authors of the first edition of this book: Hugh E. Williams and Seyed M.M. Tahaghoghi. We built this project on top of a solid foundation thanks to their work.</p>

<p>Last but not least, I would like to thank Vinicius Grippa for being a great coauthor and colleague. This wouldn’t be the same book without him.</p>

<p>I dedicate this edition to my son Grigorii.</p>
</div></section>





</div></section>







</div></section></div></body></html>