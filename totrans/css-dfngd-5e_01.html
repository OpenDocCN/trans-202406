<html><head></head><body><section class="pagenumrestart" data-pdf-bookmark="Chapter 1. CSS Fundamentals" data-type="chapter" epub:type="chapter"><div class="chapter" id="css_fundamentals">&#13;
<h1><span class="label">Chapter 1. </span>CSS Fundamentals</h1>&#13;
&#13;
&#13;
<p><em>Cascading Style Sheets</em> (<em>CSS</em>), a <a data-primary="CSS (Cascading Style Sheets)" data-type="indexterm" id="ix_css_ch1"/>powerful programming language that transforms the presentation of a document or a collection of documents, has spread to nearly every corner of the web as well as many ostensibly nonweb environments. For example, embedded-device displays often use CSS to style their user interfaces, many RSS clients let you apply CSS to feeds and feed entries, and some instant message clients use CSS to format chat windows. Aspects of CSS can be found in the syntax used by JavaScript (JS) frameworks and even in JS itself. It’s everywhere!</p>&#13;
&#13;
&#13;
&#13;
&#13;
&#13;
&#13;
<section data-pdf-bookmark="A Brief History of (Web) Style" data-type="sect1"><div class="sect1" id="a_brief_history_of_open_parenthesis_web">&#13;
<h1>A Brief History of (Web) Style</h1>&#13;
&#13;
<p><a data-primary="generated content" data-secondary="counters" data-see="counters" data-type="indexterm" id="idm45176113821136"/><a data-primary="positioning" data-secondary="transforms" data-see="transforms" data-type="indexterm" id="idm45176113819232"/><a data-primary="fonts" data-secondary="text properties" data-see="text properties" data-type="indexterm" id="idm45176113818016"/><a data-primary="elements" data-secondary="nonreplaced" data-see="nonreplaced elements" data-type="indexterm" id="idm45176114387152"/><a data-primary="word-wrap property" data-see="overflow-wrap property" data-type="indexterm" id="idm45176114385936"/><a data-primary="visual formatting" data-secondary="padding" data-see="padding" data-type="indexterm" id="idm45176114384992"/><a data-primary="element boxes" data-secondary="positioning" data-see="positioning" data-type="indexterm" id="idm45176114004976"/><a data-primary="phantom classes" data-see="pseudo-class selectors" data-type="indexterm" id="idm45176114003792"/><a data-primary="selectors" data-secondary="pseudo-class" data-see="pseudo-class selectors" data-type="indexterm" id="idm45176114002848"/><a data-primary="circular gradients" data-see="radial gradients" data-type="indexterm" id="idm45176114001632"/><a data-primary="elliptical gradients" data-see="radial gradients" data-type="indexterm" id="idm45176113536800"/><a data-primary="elements" data-secondary="replaced" data-see="replaced elements" data-type="indexterm" id="idm45176113535856"/><a data-primary="blank space" data-see="spacing" data-type="indexterm" id="idm45176113534640"/><a data-primary="brackets" data-see="square brackets" data-type="indexterm" id="idm45176113533696"/><a data-primary="display roles" data-secondary="table display" data-see="table layout" data-type="indexterm" id="idm45176113904208"/><a data-primary="state, pseudo-classes based on" data-see="UI-state pseudo-classes" data-type="indexterm" id="idm45176113903104"/><a data-primary="measurement units" data-see="units of measure" data-type="indexterm" id="idm45176113902096"/><a data-primary="visual formatting" data-secondary="vertical formatting" data-see="vertical formatting" data-type="indexterm" id="idm45176113901152"/><a data-primary="display, device" data-see="viewport" data-type="indexterm" id="idm45176117452048"/><a data-primary="hyperlinks" data-see="&lt;link&gt; tag; links" data-type="indexterm" id="idm45176117451104"/><a data-primary="visual formatting" data-secondary="margins" data-see="margins" data-type="indexterm" id="idm45176117450160"/><a data-primary="blending" data-secondary="mix-blend-mode" data-see="mix-blend-mode property" data-type="indexterm" id="idm45176117448944"/><a data-primary="markup" data-see="HTML" data-type="indexterm" id="idm45176115629168"/><a data-primary="dashes" data-see="hyphens" data-type="indexterm" id="idm45176115628224"/><a data-primary="borders" data-secondary="images as" data-see="image borders" data-type="indexterm" id="idm45176115627280"/><a data-primary="horizontal writing direction" data-see="inline direction" data-type="indexterm" id="idm45176115626064"/><a data-primary="positioning" data-secondary="absolute" data-see="absolute positioning" data-type="indexterm" id="idm45176116267504"/><a data-primary="images" data-secondary="background" data-see="background images" data-type="indexterm" id="idm45176116266288"/><a data-primary="visual formatting" data-secondary="boxes" data-see="boxes" data-type="indexterm" id="idm45176116265072"/><a data-primary="precedence rules" data-see="cascade" data-type="indexterm" id="idm45176116263856"/><a data-primary="values" data-secondary="color" data-see="color values" data-type="indexterm" id="idm45176114064512"/><a data-primary="boxes" data-secondary="container queries" data-see="container queries" data-type="indexterm" id="idm45176114063296"/><a data-primary="Cascading Style Sheets" data-see="CSS" data-type="indexterm" id="idm45176114062080"/><a data-primary="style sheets" data-see="CSS" data-type="indexterm" id="idm45176114061136"/><a data-primary="braces" data-see="curly braces" data-type="indexterm" id="idm45176138848528"/><a data-primary="CSS variables" data-see="custom properties" data-type="indexterm" id="idm45176138847584"/><a data-primary="variables" data-see="custom properties" data-type="indexterm" id="idm45176138846640"/><a data-primary="DOM" data-see="Document Object Model" data-type="indexterm" id="idm45176138845696"/><a data-primary="display roles" data-secondary="flex and inline-flex display" data-see="flexible box layout" data-type="indexterm" id="idm45176138844752"/><a data-primary="flex display" data-see="flexible box layout" data-type="indexterm" id="idm45176138519312"/><a data-primary="layout" data-see="flexible box layout; grid layout" data-type="indexterm" id="idm45176138518368"/><a data-primary="navigation bars" data-see="flexible box layout" data-type="indexterm" id="idm45176138517408"/><a data-primary="images" data-secondary="floating" data-see="floating" data-type="indexterm" id="idm45176138516464"/><a data-primary="at-rules" data-secondary="@font-face" data-secondary-sortas="font-face" data-see="@font-face rule" data-type="indexterm" id="idm45176113897936"/><a data-primary="text properties" data-secondary="fonts" data-see="fonts" data-type="indexterm" id="idm45176113896560"/><a data-primary="background images" data-secondary="gradients" data-see="gradients" data-type="indexterm" id="idm45176113895344"/><a data-primary="images" data-secondary="gradients" data-see="gradients" data-type="indexterm" id="idm45176113894128"/><a data-primary="directives" data-see="at-rules" data-type="indexterm" id="idm45176139638800"/>CSS <a data-primary="CSS (Cascading Style Sheets)" data-secondary="historical development" data-type="indexterm" id="ix_css_history_ch1"/>was first proposed in 1994, just as the web was beginning to really catch on. At the time, browsers gave all sorts of styling power to the user—the presentation preferences in NCSA Mosaic, for example, permitted the user to define each element’s font family, size, and color. None of this was available to document authors; all they could do was mark a piece of content as a paragraph, as a heading of some level, as preformatted text, or one of a dozen other element types. If a user configured their browser to make all level-one headings tiny and pink and all level-six headings huge and red, well, that was their &#13;
<span class="keep-together">lookout.</span></p>&#13;
&#13;
<p>It was into this milieu that CSS was introduced. Its goal was to provide a simple, declarative styling language that was flexible for web page authors and, most importantly, provided styling power to authors and users alike. By means of the <em>cascade</em>, these styles could be combined and prioritized so that both site authors and readers had a say—though readers always had the last say.</p>&#13;
&#13;
<p>Work <a data-primary="CSS1 specification" data-type="indexterm" id="idm45176139634976"/><a data-primary="CSS2 specification" data-type="indexterm" id="idm45176113576000"/>quickly advanced, and by late 1996, CSS1 was finished. While the newly established <a data-primary="CSS Working Group" data-type="indexterm" id="idm45176113575200"/>CSS Working Group moved forward with CSS2, browsers struggled to implement CSS1 in an interoperable way. Although each piece of CSS was fairly simple on its own, the combination of those pieces created some surprisingly complex behaviors. Unfortunate missteps also occurred, such as the infamous discrepancy in box model implementations. These problems threatened to derail CSS altogether, but fortunately some clever proposals were implemented, and browsers began to harmonize. Within a few years, thanks to increasing interoperability and high-profile developments such as the CSS-based redesign of <em>Wired</em> magazine and the CSS Zen Garden, CSS began to catch on.</p>&#13;
&#13;
<p>Before <a data-primary="CSS3" data-type="indexterm" id="idm45176113573600"/>all that happened, though, the CSS Working Group had finalized the CSS2 specification in early 1998. Once CSS2 was finished, work immediately began on CSS3, as well as a clarified version of CSS2 called CSS2.1. In keeping with the spirit of the times, what was initially coined <em>CSS3</em> was constructed as a series of (theoretically) standalone modules instead of a single monolithic specification. This approach reflected the then-active XHTML specification, which was split into modules for similar reasons.</p>&#13;
&#13;
<p>The rationale for modularizing CSS was that each module could be worked on at its own pace, and particularly critical (or popular) modules could be advanced along the World Wide Web Consortium’s (W3C’s) progress track without being held up by others. Indeed, this has turned out to be the case. By early 2012, three CSS Level 3 modules (along with CSS1 and CSS 2.1) had reached full Recommendation status—CSS Color Level 3, CSS Namespaces, and Selectors Level 3. At that same time, seven modules were at Candidate Recommendation status, and several dozen others were in various stages of Working Draft-ness. Under the old approach, colors, selectors, and namespaces would have had to wait for every other part of the specification to be done or cut before they could be part of a completed specification. Thanks to modularization, they didn’t have to wait.</p>&#13;
&#13;
<p>So while we can’t really point to a single tome and say, “This is CSS,” we can talk of features by the module name under which they are introduced. The flexibility permitted by modules more than makes up for the semantic awkwardness they sometimes create.  (If you want something approximating a single monolithic specification, the CSS Working Group publishes yearly “Snapshot” documents.)</p>&#13;
&#13;
<p>With that established, we’re ready to start understanding CSS. Let’s start by covering the basics of what goes inside a stylesheet.<a data-primary="" data-startref="ix_css_history_ch1" data-type="indexterm" id="idm45176113581328"/></p>&#13;
</div></section>&#13;
&#13;
&#13;
&#13;
&#13;
&#13;
&#13;
<section data-pdf-bookmark="Stylesheet Contents" data-type="sect1"><div class="sect1" id="style_sheet_contents">&#13;
<h1>Stylesheet Contents</h1>&#13;
&#13;
<p>Inside a <a data-primary="rules" data-seealso="at-rules" data-type="indexterm" id="idm45176113578256"/>stylesheet, you’ll find a number of <em>rules</em> that look a little something like this:</p>&#13;
&#13;
<pre data-code-language="css" data-type="programlisting"><code class="nt">h1</code> <code class="p">{</code><code class="k">color</code><code class="o">:</code> <code class="nb">maroon</code><code class="p">;}</code>&#13;
<code class="nt">body</code> <code class="p">{</code><code class="k">background</code><code class="o">:</code> <code class="nb">yellow</code><code class="p">;}</code></pre>&#13;
&#13;
<p>Styles such as these make up the bulk of any stylesheet—simple or complex, short or long.  But which parts are which, and what do they represent?</p>&#13;
&#13;
&#13;
&#13;
&#13;
&#13;
&#13;
&#13;
&#13;
<section data-pdf-bookmark="Rule Structure" data-type="sect2"><div class="sect2" id="rule_structure">&#13;
<h2>Rule Structure</h2>&#13;
&#13;
<p>To illustrate the concept of rules in more detail, let’s break down the structure.</p>&#13;
&#13;
<p>Each <em>rule</em> has two fundamental parts: the selector and the declaration block. The declaration block is composed of one or more declarations, and each declaration is a pairing of a property and a value. Every stylesheet is made up of a series of these rules. <a data-type="xref" href="#the_structure_of_a_rule">Figure 1-1</a> shows the parts of a rule.</p>&#13;
&#13;
<figure><div class="figure" id="the_structure_of_a_rule">&#13;
<img alt="css5 0101" src="assets/css5_0101.png"/>&#13;
<h6><span class="label">Figure 1-1. </span>The structure of a rule</h6>&#13;
</div></figure>&#13;
&#13;
<p>The <em>selector</em>, <a data-primary="selectors" data-type="indexterm" id="idm45176113927984"/>shown on the left side of the rule, defines which piece of the document will be selected for styling. In <a data-type="xref" href="#the_structure_of_a_rule">Figure 1-1</a>, <code>&lt;h1&gt;</code> (heading level 1) elements are selected. If the selector were <code>p</code>, then all <code>&lt;p&gt;</code> (paragraph) elements would be selected.</p>&#13;
&#13;
<p>The <a data-primary="properties" data-seealso="specific properties by name" data-type="indexterm" id="idm45176113924656"/><a data-primary="declaration blocks" data-type="indexterm" id="idm45176136284496"/><a data-primary="declarations" data-type="indexterm" id="idm45176136283824"/><a data-primary="values" data-seealso="specific values by name" data-type="indexterm" id="idm45176136283152"/>right side of the rule contains the <em>declaration block</em>, which is made up of one or more declarations. Each <em>declaration</em> is a combination of a CSS <em>property</em> and a <em>value</em> of that property. In <a data-type="xref" href="#the_structure_of_a_rule">Figure 1-1</a>, the declaration block contains two declarations. The first states that this rule will cause parts of the document to have a <code>color</code> of <code>red</code>, and the second states that part of the document will have a <code>background</code> of <code>yellow</code>. So, all of the <code>&lt;h1&gt;</code> elements in the document (defined by the selector) will be styled in red text with a yellow &#13;
<span class="keep-together">background</span>.</p>&#13;
</div></section>&#13;
&#13;
&#13;
&#13;
&#13;
&#13;
&#13;
&#13;
&#13;
<section data-pdf-bookmark="Vendor Prefixing" data-type="sect2"><div class="sect2" id="vendor_prefixing">&#13;
<h2>Vendor Prefixing</h2>&#13;
&#13;
<p>Sometimes <a data-primary="vendor prefixes" data-type="indexterm" id="idm45176117455712"/><a data-primary="rules" data-secondary="vendor prefixes" data-type="indexterm" id="idm45176117454976"/><a data-primary="CSS (Cascading Style Sheets)" data-secondary="vendor prefixing" data-type="indexterm" id="idm45176117454032"/>you’ll see pieces of CSS with hyphens and labels in front of them, like this: <code>-o-border-image</code>. <a data-primary="hyphens (-…​-), enclosing vendor prefixes" data-type="indexterm" id="idm45176117452608"/>These <em>vendor prefixes</em> were a way for browser vendors to mark properties, values, or other bits of CSS as being experimental or proprietary (or both). As of early 2023, a few vendor prefixes are in the wild, with the most common shown in <a data-type="xref" href="#common_vendor_prefixes">Table 1-1</a>.</p>&#13;
<table id="common_vendor_prefixes">&#13;
<caption><span class="label">Table 1-1. </span>Some common vendor prefixes</caption>&#13;
<thead>&#13;
<tr>&#13;
<th>Prefix</th>&#13;
<th>Vendor</th>&#13;
</tr>&#13;
</thead>&#13;
<tbody>&#13;
<tr>&#13;
<td><p><code>-epub-</code></p></td>&#13;
<td><p>International Digital Publishing Forum ePub format</p></td>&#13;
</tr>&#13;
<tr>&#13;
<td><p><code>-moz-</code></p></td>&#13;
<td><p>Gecko-based browsers (e.g., Mozilla Firefox)</p></td>&#13;
</tr>&#13;
<tr>&#13;
<td><p><code>-ms-</code></p></td>&#13;
<td><p>Microsoft Internet Explorer</p></td>&#13;
</tr>&#13;
<tr>&#13;
<td><p><code>-o-</code></p></td>&#13;
<td><p>Opera-based browsers</p></td>&#13;
</tr>&#13;
<tr>&#13;
<td><p><code>-webkit-</code></p></td>&#13;
<td><p>WebKit-based browsers (e.g., Apple Safari and Google Chrome)</p></td>&#13;
</tr>&#13;
</tbody>&#13;
</table>&#13;
&#13;
<p>As <a data-type="xref" href="#common_vendor_prefixes">Table 1-1</a> indicates, the generally accepted format of a vendor prefix is a hyphen, a label, and a hyphen, although a few prefixes erroneously omit the first hyphen.</p>&#13;
&#13;
<p>The uses and abuses of vendor prefixes are long, tortuous, and beyond the scope of this book. Suffice to say that they started out as a way for vendors to test out new <span class="keep-together">features</span>, thus helping speed interoperability without worrying about being locked into legacy behaviors that were incompatible with other browsers. This avoided a whole class of problems that nearly strangled CSS in its infancy. Unfortunately, prefixed properties were then publicly deployed by web authors and ended up causing a whole new class of problems.</p>&#13;
&#13;
<p>As of early 2023, vendor-prefixed CSS features are nearly nonexistent, with old prefixed properties and values being slowly but steadily removed from browser implementations. You’ll quite likely never write prefixed CSS, but you may encounter it in the wild or inherit it in a legacy codebase.  Here’s an example:</p>&#13;
&#13;
<pre data-code-language="css" data-type="programlisting"><code class="k">-webkit-transform-origin</code><code class="o">:</code> <code class="m">0</code> <code class="m">0</code><code class="p">;</code>&#13;
<code class="k">-moz-transform-origin</code><code class="o">:</code> <code class="m">0</code> <code class="m">0</code><code class="p">;</code>&#13;
<code class="k">-o-transform-origin</code><code class="o">:</code> <code class="m">0</code> <code class="m">0</code><code class="p">;</code>&#13;
<code class="k">transform-origin</code><code class="o">:</code> <code class="m">0</code> <code class="m">0</code><code class="p">;</code></pre>&#13;
&#13;
<p>That’s saying the same thing four times: once each for the WebKit, Gecko (Firefox), and Opera browser lines, and then finally the CSS-standard way.  Again, this is no longer necessary.  We’re including it here only to give you an idea of what it might look like, should you come across this in the future.</p>&#13;
</div></section>&#13;
&#13;
&#13;
&#13;
&#13;
&#13;
&#13;
&#13;
&#13;
<section data-pdf-bookmark="Whitespace Handling" data-type="sect2"><div class="sect2" id="whitespace_handling">&#13;
<h2>Whitespace Handling</h2>&#13;
&#13;
<p>CSS is basically insensitive to <a data-primary="CSS (Cascading Style Sheets)" data-secondary="whitespace in" data-type="indexterm" id="idm45176115635168"/><a data-primary="whitespace" data-secondary="handling of" data-type="indexterm" id="idm45176115634224"/>whitespace between rules, and largely insensitive to whitespace within rules, although a few exceptions exist.</p>&#13;
&#13;
<p>In general, CSS treats whitespace just like HTML does: any sequence of whitespace characters is collapsed to a single space for parsing purposes. Thus, you can format this hypothetical <code>rainbow</code> rule in the following ways,</p>&#13;
&#13;
<pre data-code-language="css" data-type="programlisting"><code class="n">rainbow</code><code class="o">:</code> <code class="n">infrared</code>  <code class="nb">red</code>  <code class="nb">orange</code>  <code class="nb">yellow</code>  <code class="nb">green</code>  <code class="nb">blue</code>  <code class="nb">indigo</code>  <code class="nb">violet</code>  <code class="n">ultraviolet</code><code class="p">;</code>&#13;
&#13;
<code class="n">rainbow</code><code class="o">:</code>&#13;
   <code class="n">infrared</code>  <code class="nb">red</code>  <code class="nb">orange</code>  <code class="nb">yellow</code>  <code class="nb">green</code>  <code class="nb">blue</code>  <code class="nb">indigo</code>  <code class="nb">violet</code>  <code class="n">ultraviolet</code><code class="p">;</code>&#13;
&#13;
<code class="n">rainbow</code><code class="o">:</code>&#13;
   <code class="n">infrared</code>&#13;
   <code class="nb">red</code>&#13;
   <code class="nb">orange</code>&#13;
   <code class="nb">yellow</code>&#13;
   <code class="nb">green</code>&#13;
   <code class="nb">blue</code>&#13;
   <code class="nb">indigo</code>&#13;
   <code class="nb">violet</code>&#13;
   <code class="n">ultraviolet</code>&#13;
   <code class="p">;</code></pre>&#13;
&#13;
<p>as well as any other separation patterns you can think up. The only restriction is that the separating characters be whitespace: an empty space, a tab, or a newline, alone or in combination, as many as you like.</p>&#13;
&#13;
<p>Similarly, you can format series of rules with whitespace in any fashion you like. These are just five examples out of an effectively infinite number of possibilities:</p>&#13;
&#13;
<pre data-code-language="css" data-type="programlisting"><code class="nt">html</code><code class="p">{</code><code class="k">color</code><code class="o">:</code><code class="nb">black</code><code class="p">;}</code>&#13;
<code class="nt">body</code> <code class="p">{</code><code class="k">background</code><code class="o">:</code> <code class="nb">white</code><code class="p">;}</code>&#13;
<code class="nt">p</code> <code class="p">{</code>&#13;
  <code class="k">color</code><code class="o">:</code> <code class="nb">gray</code><code class="p">;}</code>&#13;
<code class="nt">h2</code> <code class="p">{</code>&#13;
     <code class="k">color</code> <code class="o">:</code> <code class="nb">silver</code> <code class="p">;</code>&#13;
   <code class="p">}</code>&#13;
<code class="nt">ol</code>&#13;
   <code class="p">{</code>&#13;
      <code class="k">color</code>&#13;
         <code class="o">:</code>&#13;
      <code class="nb">silver</code>&#13;
         <code class="p">;</code>&#13;
<code class="p">}</code></pre>&#13;
&#13;
<p>As <a data-primary="minified CSS" data-type="indexterm" id="idm45176113555664"/>you can see from the first rule, whitespace can be largely omitted. Indeed, this is usually the case with <em>minified</em> CSS, which is CSS that’s had every last possible bit of extraneous whitespace removed, usually by an automated server-side script of some sort. The rules after the first two use progressively more extravagant amounts of whitespace until, in the last rule, pretty much everything that can be separated onto its own line has been.</p>&#13;
&#13;
<p>All of these approaches are valid, so you should pick the formatting that makes the most sense—that is, is easiest to read—in your eyes, and stick with it.</p>&#13;
</div></section>&#13;
&#13;
&#13;
&#13;
&#13;
&#13;
&#13;
&#13;
&#13;
<section data-pdf-bookmark="CSS Comments" data-type="sect2"><div class="sect2" id="css_comments">&#13;
<h2>CSS Comments</h2>&#13;
&#13;
<p>CSS does allow for <a data-primary="slashes" data-secondary="forward slash" data-type="indexterm" id="ix_slash_forward"/><a data-primary="forward slash, asterisk (/*…​/*), enclosing CSS comments" data-type="indexterm" id="ix_for_slash_comments2"/><a data-primary="comments" data-type="indexterm" id="ix_comments_css"/><a data-primary="CSS (Cascading Style Sheets)" data-secondary="comments" data-type="indexterm" id="ix_css_comments"/><a data-primary="/*…​*/ (forward slash, asterisk), enclosing CSS comments" data-type="indexterm" id="ix_for_slash_comments"/>comments. These are very similar to C/C++ comments in that they are surrounded by /<code>*</code> and <code>*</code>/:</p>&#13;
&#13;
<pre data-code-language="css" data-type="programlisting"><code class="c">/* This is a CSS comment */</code></pre>&#13;
&#13;
<p>Comments can span multiple lines, just as in C++:</p>&#13;
&#13;
<pre data-code-language="css" data-type="programlisting"><code class="c">/* This is a CSS comment, and it</code>&#13;
<code class="c">can be several lines long without</code>&#13;
<code class="c">any problem whatsoever. */</code></pre>&#13;
&#13;
<p>It’s important to remember that CSS comments cannot be nested. So, for example, this would <em>not</em> be correct:</p>&#13;
&#13;
<pre data-code-language="css" data-type="programlisting"><code class="c">/* This is a comment, in which we find</code>&#13;
<code class="c"> another comment, which is WRONG</code>&#13;
<code class="c">   /* Another comment */</code>&#13;
 <code class="n">and</code> <code class="n">back</code> <code class="n">to</code> <code class="n">the</code> <code class="n">first</code> <code class="n">comment</code><code class="o">,</code> <code class="n">which</code> <code class="n">is</code> <code class="n">not</code> <code class="n">a</code> <code class="n">comment</code><code class="o">.*/</code></pre>&#13;
<div data-type="warning" epub:type="warning"><h6>Warning</h6>&#13;
<p>One way to create “nested” comments accidentally is to temporarily comment out a large block of a stylesheet that already contains a comment. Since CSS doesn’t permit nested comments, the “outside” comment will end where the “inside” comment ends.</p>&#13;
</div>&#13;
&#13;
<p>Unfortunately, there is no “rest of the line” comment pattern such as <code>//</code> or <code>#</code> (the latter of which is reserved for ID selectors anyway). The only comment pattern in CSS is /<code>*</code> <code>*</code>/. Therefore, if you wish to place comments on the same line as markup, you need to be careful about how you place them. For example, this is the correct way to do it:</p>&#13;
&#13;
<pre data-code-language="css" data-type="programlisting"><code class="nt">h1</code> <code class="p">{</code><code class="k">color</code><code class="o">:</code> <code class="nb">gray</code><code class="p">;}</code>   <code class="c">/* This CSS comment is several lines */</code>&#13;
<code class="nt">h2</code> <code class="p">{</code><code class="k">color</code><code class="o">:</code> <code class="nb">silver</code><code class="p">;}</code> <code class="c">/* long, but since it is alongside */</code>&#13;
<code class="nt">p</code> <code class="p">{</code><code class="k">color</code><code class="o">:</code> <code class="nb">white</code><code class="p">;}</code>   <code class="c">/* actual styles, each line needs to */</code>&#13;
<code class="nt">pre</code> <code class="p">{</code><code class="k">color</code><code class="o">:</code> <code class="nb">gray</code><code class="p">;}</code>  <code class="c">/* be wrapped in comment markers. */</code></pre>&#13;
&#13;
<p>Given this example, if each line isn’t marked off, most of the stylesheet will become part of the comment and thus will not work:</p>&#13;
&#13;
<pre data-code-language="css" data-type="programlisting"><code class="nt">h1</code> <code class="p">{</code><code class="k">color</code><code class="o">:</code> <code class="nb">gray</code><code class="p">;}</code>   <code class="c">/* This CSS comment is several lines</code>&#13;
<code class="c">h2 {color: silver;}  long, but since it is not wrapped</code>&#13;
<code class="c">p {color: white;}    in comment markers, the last three</code>&#13;
<code class="c">pre {color: gray;}   styles are part of the comment. */</code></pre>&#13;
&#13;
<p>In this example, only the first rule (<code>h1&#13;
      {color: gray;}</code>) will be applied to the document. The rest of the rules, as part of the comment, are ignored by the browser’s rendering engine.</p>&#13;
<div data-type="note" epub:type="note"><h6>Note</h6>&#13;
<p>CSS <a data-primary="whitespace" data-secondary="handling of" data-type="indexterm" id="idm45176113919728"/><a data-primary="CSS (Cascading Style Sheets)" data-secondary="whitespace in" data-type="indexterm" id="idm45176113918720"/><a data-primary="whitespace" data-secondary="CSS comments not considered" data-type="indexterm" id="idm45176113917808"/>comments are treated by the CSS parser as if they do not exist at all, and so do not count as whitespace for parsing purposes.<a data-primary="" data-startref="ix_for_slash_comments" data-type="indexterm" id="idm45176138530528"/><a data-primary="" data-startref="ix_css_comments" data-type="indexterm" id="idm45176138529584"/><a data-primary="" data-startref="ix_slash_forward" data-type="indexterm" id="idm45176138528640"/><a data-primary="" data-startref="ix_for_slash_comments2" data-type="indexterm" id="idm45176138527696"/><a data-primary="" data-startref="ix_comments_css" data-type="indexterm" id="idm45176138526752"/> This means you can put them into the middle of rules—even right inside declarations!</p>&#13;
</div>&#13;
</div></section>&#13;
&#13;
&#13;
&#13;
&#13;
&#13;
&#13;
&#13;
&#13;
<section data-pdf-bookmark="Markup" data-type="sect2"><div class="sect2" id="markup">&#13;
<h2>Markup</h2>&#13;
&#13;
<p><em>There is no markup in stylesheets</em>. This might seem obvious, but you’d be surprised. <a data-primary="&lt;style&gt; element" data-primary-sortas="style element" data-secondary="media attribute" data-type="indexterm" id="idm45176138523584"/><a data-primary="&lt;!--…​--&gt; (angle brackets, exclamation point), enclosing HTML comments" data-type="indexterm" id="idm45176115757440"/><a data-primary="angle brackets, exclamation point (&lt;!--…​--&gt;), enclosing HTML comments" data-type="indexterm" id="idm45176115756800"/><a data-primary="CSS (Cascading Style Sheets)" data-secondary="markup in" data-type="indexterm" id="idm45176115756160"/><a data-primary="HTML" data-secondary="comment syntax from, in style sheets" data-type="indexterm" id="idm45176115755248"/>The one exception is HTML comment markup, which is permitted inside <code>&lt;style&gt;</code> elements for historical reasons:</p>&#13;
&#13;
<pre data-code-language="xml" data-type="programlisting"><code class="nt">&lt;style&gt;</code><code class="cm">&lt;!--</code>&#13;
<code class="cm">h1 {color: maroon;}</code>&#13;
<code class="cm">body {background: yellow;}</code>&#13;
<code class="cm">--&gt;</code><code class="nt">&lt;/style&gt;</code><code class="w"/></pre>&#13;
&#13;
<p>That’s it, and even that isn’t recommended anymore; the browsers that needed it have faded into near oblivion.</p>&#13;
&#13;
<p>Speaking of markup, it’s time to take a very slight detour to talk about the elements that our CSS will be used to style, and how those can be affected by CSS in the most &#13;
<span class="keep-together">fundamental ways.</span></p>&#13;
</div></section>&#13;
</div></section>&#13;
&#13;
&#13;
&#13;
&#13;
&#13;
&#13;
<section data-pdf-bookmark="Elements" data-type="sect1"><div class="sect1" id="elements">&#13;
<h1>Elements</h1>&#13;
&#13;
<p><em>Elements</em> are the basis of <a data-primary="elements" data-type="indexterm" id="ix_elements_ch1"/><a data-primary="document structure" data-secondary="element types" data-type="indexterm" id="ix_doc_struct_ch1"/><a data-primary="element boxes" data-type="indexterm" id="ix_elem_box_ch1"/>document structure. In HTML, the most common elements are easily recognizable, such as <code>&lt;p&gt;</code>, <code>&lt;table&gt;</code>, <code>&lt;span&gt;</code>, <code>&lt;a&gt;</code>, and <code>&lt;article&gt;</code>. Every single element in a document plays a part in its presentation.</p>&#13;
&#13;
&#13;
&#13;
&#13;
&#13;
&#13;
&#13;
&#13;
<section data-pdf-bookmark="Replaced and Nonreplaced Elements" data-type="sect2"><div class="sect2" id="replaced_and_nonreplaced_elements">&#13;
<h2>Replaced and Nonreplaced Elements</h2>&#13;
&#13;
<p>Although CSS depends on elements, not all elements are created equal. For example, images and paragraphs are not the same type of element. In CSS, elements generally take two forms: replaced and nonreplaced.</p>&#13;
&#13;
&#13;
&#13;
&#13;
&#13;
&#13;
&#13;
&#13;
&#13;
&#13;
<section data-pdf-bookmark="Replaced elements" data-type="sect3"><div class="sect3" id="replaced_elements">&#13;
<h3>Replaced elements</h3>&#13;
&#13;
<p><em>Replaced elements</em> are used to indicate <a data-primary="replaced elements" data-type="indexterm" id="idm45176138431888"/>content that is to be replaced by something not directly represented in the document. <a data-primary="&lt;img&gt; element" data-primary-sortas="img element" data-type="indexterm" id="idm45176137584928"/>Probably the most familiar HTML example is the <code>&lt;img&gt;</code> element, which is replaced by an image file external to the document itself. In fact, <code>&lt;img&gt;</code> has no actual content, as you can see in this simple example:</p>&#13;
&#13;
<pre data-code-language="xml" data-type="programlisting"><code class="nt">&lt;img</code><code class="w"> </code><code class="na">src=</code><code class="s">"howdy.gif"</code><code class="w"> </code><code class="na">alt=</code><code class="s">"Hello, friend!"</code><code class="nt">&gt;</code><code class="w"/></pre>&#13;
&#13;
<p>This markup fragment contains only an element name and an attribute. The element presents nothing unless you point it to external content (in this case, an image file whose location is given by the <code>src</code> attribute). If you point to a valid image file, the image will be placed in the document. If not, the browser will either display nothing or will show a “broken image” placeholder.</p>&#13;
&#13;
<p>Similarly, the <code>input</code> element can also be replaced—by a radio button, checkbox, text input box, or other, depending on its type.</p>&#13;
</div></section>&#13;
&#13;
&#13;
&#13;
&#13;
&#13;
&#13;
&#13;
&#13;
&#13;
&#13;
<section data-pdf-bookmark="Nonreplaced elements" data-type="sect3"><div class="sect3" id="nonreplaced_elements">&#13;
<h3>Nonreplaced elements</h3>&#13;
&#13;
<p>The <a data-primary="nonreplaced elements" data-type="indexterm" id="idm45176116683184"/>majority of HTML elements are <em>nonreplaced elements</em>. Their content is presented by the user agent (generally a browser) inside a box generated by the element itself. For example, <code>&lt;span&gt;hi there&lt;/span&gt;</code> is a nonreplaced element, and the text “hi there” will be displayed by the user agent. This is true of paragraphs, headings, table cells, lists, and almost everything else in HTML.</p>&#13;
</div></section>&#13;
</div></section>&#13;
&#13;
&#13;
&#13;
&#13;
&#13;
&#13;
&#13;
&#13;
<section data-pdf-bookmark="Element Display Roles" data-type="sect2"><div class="sect2" id="element_display_roles">&#13;
<h2>Element Display Roles</h2>&#13;
&#13;
<p>CSS <a data-primary="visual formatting" data-secondary="display roles" data-type="indexterm" id="ix_vis_format_disp"/><a data-primary="elements" data-secondary="display roles" data-type="indexterm" id="ix_elements_disp"/><a data-primary="display roles" data-secondary="inline display" data-type="indexterm" id="ix_disp_role_inline"/><a data-primary="display roles" data-secondary="block display" data-type="indexterm" id="ix_block_disp_roles"/><a data-primary="CSS (Cascading Style Sheets)" data-secondary="elements of document structure" data-type="indexterm" id="ix_CSS_elem_ch1"/>has two basic display roles: <em>block formatting context</em> and <em>inline formatting context</em>. Many more display types exist, but these are the most basic, and the types to which most, if not all, other display types refer. The block and inline contexts will be familiar to authors who have spent time with HTML markup and its display in web browsers. The display roles are illustrated in <a data-type="xref" href="#block-_and_inline-level_elements_in_an">Figure 1-2</a>.</p>&#13;
&#13;
<figure><div class="figure" id="block-_and_inline-level_elements_in_an">&#13;
<img alt="css5 0102" src="assets/css5_0102.png"/>&#13;
<h6><span class="label">Figure 1-2. </span>Block- and inline-level elements in an HTML document</h6>&#13;
</div></figure>&#13;
&#13;
&#13;
&#13;
&#13;
&#13;
&#13;
&#13;
&#13;
&#13;
&#13;
<section data-pdf-bookmark="Block-level elements" data-type="sect3"><div class="sect3" id="block-level_elements">&#13;
<h3>Block-level elements</h3>&#13;
&#13;
<p>By <a data-primary="elements" data-secondary="block-level" data-type="indexterm" id="ix_elements_block"/><a data-primary="blocks" data-type="indexterm" id="ix_block_elem_ch1"/><a data-primary="content area" data-secondary="block-level elements" data-type="indexterm" id="idm45176137813424"/><a data-primary="element boxes" data-secondary="blocks" data-type="indexterm" id="idm45176139242752"/>default, <em>block-level elements</em> generate an element box that (by default) fills its parent element’s content area and cannot have other elements at its sides. In other words, it generates “breaks” before and after the element box. The most familiar block elements from HTML are <code>&lt;p&gt;</code> and <code>&lt;div&gt;</code>. Replaced elements can be block-level elements, but usually they are not.</p>&#13;
&#13;
<p>In CSS, <a data-primary="blocks" data-secondary="formatting context" data-type="indexterm" id="idm45176138488848"/><a data-primary="inline formatting" data-secondary="context of" data-type="indexterm" id="idm45176139337008"/><a data-primary="outer display type" data-type="indexterm" id="idm45176137932096"/>this is referred to as an element generating a <em>block formatting context</em>.  It also means that the element generates a block <em>outer display type</em>.  The parts inside the element may have different display types.</p>&#13;
</div></section>&#13;
&#13;
&#13;
&#13;
&#13;
&#13;
&#13;
&#13;
&#13;
&#13;
&#13;
<section data-pdf-bookmark="Inline-level elements" data-type="sect3"><div class="sect3" id="inline-level_elements">&#13;
<h3>Inline-level elements</h3>&#13;
&#13;
<p>By <a data-primary="inline-level elements" data-type="indexterm" id="ix_inline_level_elem"/><a data-primary="inline display" data-type="indexterm" id="ix_inline_disp"/><a data-primary="elements" data-secondary="inline-level" data-type="indexterm" id="ix_elements_inline"/><a data-primary="element boxes" data-secondary="inline boxes" data-type="indexterm" id="idm45176135968512"/><a data-primary="inline boxes" data-type="indexterm" id="idm45176125775968"/>default, <em>inline-level elements</em> generate an element box within a line of text and do not break up the flow of that line. The best inline element example is the <code>&lt;a&gt;</code> element in HTML. Other candidates are <code>&lt;strong&gt;</code> and <code>&lt;em&gt;</code>. These elements do not generate a “break” before or after themselves, so they can appear within the content of another element without disrupting its display.</p>&#13;
&#13;
<p>In CSS, this is referred to as an element generating an <em>inline formatting context</em>.  <a data-primary="inline outer display type" data-type="indexterm" id="idm45176136809840"/>It also means that the element generates an <em>inline outer display</em> type.  The parts inside the element may have different display types.  (In CSS, there is no restriction on how display roles can be nested within each other.)</p>&#13;
&#13;
<p>To see how this works, <a data-primary="display property" data-secondary="inline-level elements" data-type="indexterm" id="ix_display_inline"/>let’s consider the CSS property <code>display</code>.</p>&#13;
<aside data-type="sidebar" epub:type="sidebar"><div class="sidebar" id="idm45176139385056">&#13;
<h1>display</h1><table>&#13;
&#13;
<tbody>&#13;
<tr>&#13;
<td><p><strong>Values</strong></p></td>&#13;
<td><p>[ &lt;<em><code>display-outside</code></em>&gt; ‖ &lt;<em><code>display-inside</code></em>&gt; ] | &lt;<em><code>display-listitem</code></em>&gt; | &lt;<em><code>display-internal</code></em>&gt; | &lt;<em><code>display-box</code></em>&gt; | &lt;<em><code>display-legacy</code></em>&gt;</p></td>&#13;
</tr>&#13;
<tr>&#13;
<td><p><strong>Definitions</strong></p></td>&#13;
<td><p>See below</p></td>&#13;
</tr>&#13;
<tr>&#13;
<td><p><strong>Initial value</strong></p></td>&#13;
<td><p><code>inline</code></p></td>&#13;
</tr>&#13;
<tr>&#13;
<td><p><strong>Applies to</strong></p></td>&#13;
<td><p>All elements</p></td>&#13;
</tr>&#13;
<tr>&#13;
<td><p><strong>Computed value</strong></p></td>&#13;
<td><p>As specified</p></td>&#13;
</tr>&#13;
<tr>&#13;
<td><p><strong>Inherited</strong></p></td>&#13;
<td><p>No</p></td>&#13;
</tr>&#13;
<tr>&#13;
<td><p><strong>Animatable</strong></p></td>&#13;
<td><p>No</p></td>&#13;
</tr>&#13;
</tbody>&#13;
</table>&#13;
<dl>&#13;
<dt>&lt;<em><code>display-outside</code></em>&gt;</dt>&#13;
<dd>&#13;
<p><code>block</code> | <code>inline</code> | <code>run-in</code></p>&#13;
</dd>&#13;
<dt>&lt;<em><code>display-inside</code></em>&gt;</dt>&#13;
<dd>&#13;
<p><code>flow</code> | <code>flow-root</code> | <code>table</code> | <code>flex</code> | <code>grid</code> | <code>ruby</code></p>&#13;
</dd>&#13;
<dt>&lt;<em><code>display-listitem</code></em>&gt;</dt>&#13;
<dd>&#13;
<p><code>list-item</code> &amp;&amp; &lt;<em><code>display-outside</code></em>&gt;? &amp;&amp; [ <code>flow</code> | <code>flow-root</code> ]?</p>&#13;
</dd>&#13;
<dt>&lt;<em><code>display-internal</code></em>&gt;</dt>&#13;
<dd>&#13;
<p><code>table-row-group</code> | <code>table-header-group</code> | <code>table-footer-group</code> | <code>table-row</code> | <code>table-cell</code> | <code>table-column-group</code> | <code>table-column</code> | <code>table-caption</code> | <span class="keep-together"><code>ruby-base</code> |</span> <code>ruby-text</code> | <code>ruby-base-container</code> | <code>ruby-text-container</code></p>&#13;
</dd>&#13;
<dt>&lt;<em><code>display-box</code></em>&gt;</dt>&#13;
<dd>&#13;
<p><code>contents</code> | <code>none</code></p>&#13;
</dd>&#13;
<dt>&lt;<em><code>display-legacy</code></em>&gt;</dt>&#13;
<dd>&#13;
<p><code>inline-block</code> | <code>inline-list-item</code> | <code>inline-table</code> | <code>inline-flex</code> | <code>inline-grid</code></p>&#13;
</dd>&#13;
</dl>&#13;
</div></aside>&#13;
&#13;
<p>You may have noticed that there are a <em>lot</em> of values here, only two of which we’ve mentioned: <code>block</code> and <code>inline</code>.  Most of these values are dealt with elsewhere in the book; for example, <code>grid</code> and <code>inline-grid</code> are covered in <a data-type="xref" href="ch12.html#grid-layout">Chapter 12</a>, and the table-related values are all covered in <a data-type="xref" href="ch13.html#title-table-layout-in-css">Chapter 13</a>.</p>&#13;
&#13;
<p>For now, let’s concentrate on <code>block</code> and <code>inline</code>. Consider the following markup:</p>&#13;
&#13;
<pre data-code-language="xml" data-type="programlisting"><code class="nt">&lt;body&gt;</code><code class="w"/>&#13;
<code class="nt">&lt;p&gt;</code>This<code class="w"> </code>is<code class="w"> </code>a<code class="w"> </code>paragraph<code class="w"> </code>with<code class="w"> </code><code class="nt">&lt;em&gt;</code>an<code class="w"> </code>inline<code class="w"> </code>element<code class="nt">&lt;/em&gt;</code><code class="w"> </code>within<code class="w"> </code>it.<code class="nt">&lt;/p&gt;</code><code class="w"/>&#13;
<code class="nt">&lt;/body&gt;</code><code class="w"/></pre>&#13;
&#13;
<p>Here we have two elements (<code>&lt;body&gt;</code> and <code>&lt;p&gt;</code>) that are generating block formatting contexts, and one element (<code>&lt;em&gt;</code>) with an inline formatting context. According to the HTML specification, <code>&lt;em&gt;</code> can descend from <code>&lt;p&gt;</code>, but the reverse is not true. Typically, the HTML hierarchy works out so that inlines descend from blocks, but not the other way around.</p>&#13;
&#13;
<p>CSS, on the other hand, has no such restrictions. You can leave the markup as it is but change the display roles of the two elements like this:</p>&#13;
&#13;
<pre data-code-language="css" data-type="programlisting"><code class="nt">p</code> <code class="p">{</code><code class="k">display</code><code class="o">:</code> <code class="nb">inline</code><code class="p">;}</code>&#13;
<code class="nt">em</code> <code class="p">{</code><code class="k">display</code><code class="o">:</code> <code class="nb">block</code><code class="p">;}</code></pre>&#13;
&#13;
<p>This causes the elements to generate a block box inside an inline box. This is perfectly legal and violates no part of CSS.</p>&#13;
&#13;
<p>While changing the display roles of elements can be useful in HTML documents, it becomes downright critical for XML documents. An XML document is unlikely to have any inherent display roles, so it’s up to the author to define them. For example, you might wonder how to lay out the following snippet of XML:</p>&#13;
&#13;
<pre data-code-language="xml" data-type="programlisting"><code class="nt">&lt;book&gt;</code><code class="w"/>&#13;
<code class="w"> </code><code class="nt">&lt;maintitle&gt;</code>The<code class="w"> </code>Victorian<code class="w"> </code>Internet<code class="nt">&lt;/maintitle&gt;</code><code class="w"/>&#13;
<code class="w"> </code><code class="nt">&lt;subtitle&gt;</code>The<code class="w"> </code>Remarkable<code class="w"> </code>Story<code class="w"> </code>of<code class="w"> </code>the<code class="w"> </code>Telegraph<code class="w"> </code>and<code class="w"> </code>the<code class="w"> </code>Nineteenth<code class="w"> </code>Century's<code class="w"/>&#13;
<code class="w">   </code>On-Line<code class="w"> </code>Pioneers<code class="nt">&lt;/subtitle&gt;</code><code class="w"/>&#13;
<code class="w"> </code><code class="nt">&lt;author&gt;</code>Tom<code class="w"> </code>Standage<code class="nt">&lt;/author&gt;</code><code class="w"/>&#13;
<code class="w"> </code><code class="nt">&lt;publisher&gt;</code>Bloomsbury<code class="w"> </code>Pub<code class="w"> </code>Plc<code class="w"> </code>USA<code class="nt">&lt;/publisher&gt;</code><code class="w"/>&#13;
<code class="w"> </code><code class="nt">&lt;pubdate&gt;</code>February<code class="w"> </code>25,<code class="w"> </code>2014<code class="nt">&lt;/pubdate&gt;</code><code class="w"/>&#13;
<code class="w"> </code><code class="nt">&lt;isbn</code><code class="w"> </code><code class="na">type=</code><code class="s">"isbn-13"</code><code class="nt">&gt;</code>9781620405925<code class="nt">&lt;/isbn&gt;</code><code class="w"/>&#13;
<code class="w"> </code><code class="nt">&lt;isbn</code><code class="w"> </code><code class="na">type=</code><code class="s">"isbn-10"</code><code class="nt">&gt;</code>162040592X<code class="nt">&lt;/isbn&gt;</code><code class="w"/>&#13;
<code class="nt">&lt;/book&gt;</code><code class="w"/></pre>&#13;
&#13;
<p>Since the default value of <code>display</code> is <code>inline</code>, the content would be rendered as inline text by default, as illustrated in <a data-type="xref" href="#default_display_of_an_xml_document">Figure 1-3</a>. This isn’t a terribly useful display.</p>&#13;
&#13;
<figure class="coderesult"><div class="figure" id="default_display_of_an_xml_document">&#13;
<img alt="css5 0103" src="assets/css5_0103.png"/>&#13;
<h6><span class="label">Figure 1-3. </span>Default display of an XML document</h6>&#13;
</div></figure>&#13;
&#13;
<p>You can define the basics of the layout with <code>display</code>:</p>&#13;
&#13;
<pre data-code-language="css" data-type="programlisting"><code class="nt">book</code><code class="o">,</code> <code class="nt">maintitle</code><code class="o">,</code> <code class="nt">subtitle</code><code class="o">,</code> <code class="nt">author</code><code class="o">,</code> <code class="nt">isbn</code> <code class="p">{</code><code class="k">display</code><code class="o">:</code> <code class="nb">block</code><code class="p">;}</code>&#13;
<code class="nt">publisher</code><code class="o">,</code> <code class="nt">pubdate</code> <code class="p">{</code><code class="k">display</code><code class="o">:</code> <code class="nb">inline</code><code class="p">;}</code></pre>&#13;
&#13;
<p>We’ve now set five of the seven elements to be block and two to be inline. This means each of the block elements will generate its own block formatting context, and the two inlines will generate their own inline formatting contexts.<a data-primary="" data-startref="ix_display_inline" data-type="indexterm" id="idm45176119740672"/></p>&#13;
&#13;
<p>We could take the preceding rules as a starting point, add a few other styles for greater visual impact, and get the result shown in <a data-type="xref" href="#styled_display_of_an_xml_document">Figure 1-4</a>.</p>&#13;
&#13;
<figure class="coderesult"><div class="figure" id="styled_display_of_an_xml_document">&#13;
<img alt="css5 0104" src="assets/css5_0104.png"/>&#13;
<h6><span class="label">Figure 1-4. </span>Styled display of an XML document</h6>&#13;
</div></figure>&#13;
&#13;
<p>That said, before learning how to write CSS in detail, we need to look at how to associate CSS with a document. After all, without tying the two together, there’s no way for the CSS to affect the document. We’ll explore this in an HTML setting since it’s the most familiar.<a data-primary="" data-startref="ix_block_elem_ch1" data-type="indexterm" id="idm45176119762240"/><a data-primary="" data-startref="ix_CSS_elem_ch1" data-type="indexterm" id="idm45176119761264"/><a data-primary="" data-startref="ix_disp_role_inline" data-type="indexterm" id="idm45176119760320"/><a data-primary="" data-startref="ix_doc_struct_ch1" data-type="indexterm" id="idm45176119759376"/><a data-primary="" data-startref="ix_elem_box_ch1" data-type="indexterm" id="idm45176119758432"/><a data-primary="" data-startref="ix_elements_ch1" data-type="indexterm" id="idm45176119757488"/><a data-primary="" data-startref="ix_elements_block" data-type="indexterm" id="idm45176119756544"/><a data-primary="" data-startref="ix_elements_disp" data-type="indexterm" id="idm45176119755600"/><a data-primary="" data-startref="ix_elements_inline" data-type="indexterm" id="idm45176119754656"/><a data-primary="" data-startref="ix_inline_disp" data-type="indexterm" id="idm45176119753712"/><a data-primary="" data-startref="ix_inline_level_elem" data-type="indexterm" id="idm45176119752768"/><a data-primary="" data-startref="ix_block_disp_roles" data-type="indexterm" id="idm45176119751824"/><a data-primary="" data-startref="ix_vis_format_disp" data-type="indexterm" id="idm45176119750880"/></p>&#13;
</div></section>&#13;
</div></section>&#13;
</div></section>&#13;
&#13;
&#13;
&#13;
&#13;
&#13;
&#13;
<section data-pdf-bookmark="Bringing CSS and HTML Together" data-type="sect1"><div class="sect1" id="bringing_css_and_html_together">&#13;
<h1>Bringing CSS and HTML Together</h1>&#13;
&#13;
<p>We’ve <a data-primary="HTML" data-secondary="relationship to CSS" data-type="indexterm" id="ix_html_link_css"/><a data-primary="CSS (Cascading Style Sheets)" data-secondary="linking to HTML documents" data-type="indexterm" id="ix_css_link_html"/>mentioned that HTML documents have an inherent structure, and that’s a point worth repeating. In fact, that’s part of the problem with web pages of old: too many of us forgot that documents are supposed to have an internal structure, which is altogether different from a visual structure. In our rush to create the coolest-looking pages on the web, we bent, warped, and generally ignored the idea that pages should contain information with some structural meaning.</p>&#13;
&#13;
<p>That structure is an inherent part of the relationship between HTML and CSS; without it, there couldn’t be a relationship at all. To understand it better, let’s look at an example HTML document and break it down by pieces:</p>&#13;
&#13;
<pre data-code-language="xml" data-type="programlisting"><code class="cp">&lt;!DOCTYPE html&gt;</code><code class="w"/>&#13;
<code class="nt">&lt;html</code><code class="w"> </code><code class="na">lang=</code><code class="s">"en-us"</code><code class="nt">&gt;</code><code class="w"/>&#13;
<code class="nt">&lt;head&gt;</code><code class="w"/>&#13;
<code class="w">  </code><code class="nt">&lt;meta</code><code class="w"> </code><code class="na">charset=</code><code class="s">"utf-8"</code><code class="nt">&gt;</code><code class="w"/>&#13;
<code class="w">  </code><code class="nt">&lt;meta</code><code class="w"> </code><code class="na">name=</code><code class="s">"viewport"</code><code class="w"> </code><code class="na">content=</code><code class="s">"width=device-width"</code><code class="nt">&gt;</code><code class="w"/>&#13;
<code class="w">  </code><code class="nt">&lt;title&gt;</code>Eric's<code class="w"> </code>World<code class="w"> </code>of<code class="w"> </code>Waffles<code class="nt">&lt;/title&gt;</code><code class="w"/>&#13;
<code class="w">  </code><code class="nt">&lt;link</code><code class="w"> </code><code class="na">rel=</code><code class="s">"stylesheet"</code><code class="w"> </code><code class="na">media=</code><code class="s">"screen, print"</code><code class="w"> </code><code class="na">href=</code><code class="s">"sheet1.css"</code><code class="nt">&gt;</code><code class="w"/>&#13;
<code class="w">  </code><code class="nt">&lt;style&gt;</code><code class="w"/>&#13;
<code class="w">    </code>/*<code class="w"> </code>These<code class="w"> </code>are<code class="w"> </code>my<code class="w"> </code>styles!<code class="w"> </code>Yay!<code class="w"> </code>*/<code class="w"/>&#13;
<code class="w">    </code>@import<code class="w"> </code>url(sheet2.css);<code class="w"/>&#13;
<code class="w">  </code><code class="nt">&lt;/style&gt;</code><code class="w"/>&#13;
<code class="nt">&lt;/head&gt;</code><code class="w"/>&#13;
<code class="nt">&lt;body&gt;</code><code class="w"/>&#13;
<code class="w">  </code><code class="nt">&lt;h1&gt;</code>Waffles!<code class="nt">&lt;/h1&gt;</code><code class="w"/>&#13;
<code class="w">  </code><code class="nt">&lt;p</code><code class="w"> </code><code class="na">style=</code><code class="s">"color: gray;"</code><code class="nt">&gt;</code>The<code class="w"> </code>most<code class="w"> </code>wonderful<code class="w"> </code>of<code class="w"> </code>all<code class="w"> </code>breakfast<code class="w"> </code>foods<code class="w"> </code>is<code class="w"/>&#13;
<code class="w">  </code>the<code class="w"> </code>waffle—a<code class="w"> </code>ridged<code class="w"> </code>and<code class="w"> </code>cratered<code class="w"> </code>slab<code class="w"> </code>of<code class="w"> </code>home-cooked,<code class="w"> </code>fluffy<code class="w"> </code>goodness<code class="w"/>&#13;
<code class="w">  </code>that<code class="w"> </code>makes<code class="w"> </code>every<code class="w"> </code>child's<code class="w"> </code>heart<code class="w"> </code>soar<code class="w"> </code>with<code class="w"> </code>joy.<code class="w"> </code>And<code class="w"> </code>they're<code class="w"> </code>so<code class="w"> </code>easy<code class="w"> </code>to<code class="w"> </code>make!<code class="w"/>&#13;
<code class="w">  </code>Just<code class="w"> </code>a<code class="w"> </code>simple<code class="w"> </code>waffle-maker<code class="w"> </code>and<code class="w"> </code>some<code class="w"> </code>batter,<code class="w"> </code>and<code class="w"> </code>you're<code class="w"> </code>ready<code class="w"> </code>for<code class="w"> </code>a<code class="w"> </code>morning<code class="w"/>&#13;
<code class="w">  </code>of<code class="w"> </code>aromatic<code class="w"> </code>ecstasy!<code class="w"/>&#13;
<code class="w">  </code><code class="nt">&lt;/p&gt;</code><code class="w"/>&#13;
<code class="nt">&lt;/body&gt;</code><code class="w"/>&#13;
<code class="nt">&lt;/html&gt;</code><code class="w"/></pre>&#13;
&#13;
<p><a data-type="xref" href="#a_simple_document">Figure 1-5</a> shows the result of this markup and the applied styles.</p>&#13;
&#13;
<figure><div class="figure" id="a_simple_document">&#13;
<img alt="css5 0105" src="assets/css5_0105.png"/>&#13;
<h6><span class="label">Figure 1-5. </span>A simple document</h6>&#13;
</div></figure>&#13;
&#13;
<p>Now, let’s examine the various ways this document connects to CSS.</p>&#13;
&#13;
&#13;
&#13;
&#13;
&#13;
&#13;
&#13;
&#13;
<section data-pdf-bookmark="The &lt;link&gt; Tag" data-type="sect2"><div class="sect2" id="the_link_tag">&#13;
<h2>The &lt;link&gt; Tag</h2>&#13;
&#13;
<p>First, <a data-primary="&lt;link&gt; tag" data-primary-sortas="link tag" data-secondary="linking CSS to HTML documents" data-type="indexterm" id="ix_link_tag"/>consider the use of the <code>&lt;link&gt;</code> tag:</p>&#13;
&#13;
<pre data-code-language="xml" data-type="programlisting"><code class="nt">&lt;link</code><code class="w"> </code><code class="na">rel=</code><code class="s">"stylesheet"</code><code class="w"> </code><code class="na">href=</code><code class="s">"sheet1.css"</code><code class="w"> </code><code class="na">media=</code><code class="s">"screen, print"</code><code class="nt">&gt;</code><code class="w"/></pre>&#13;
&#13;
<p>The <code>&lt;link&gt;</code> tag’s basic purpose is to allow HTML authors to associate other documents with the document containing the <code>&lt;link&gt;</code> tag. CSS uses it to link stylesheets to the &#13;
<span class="keep-together">document.</span></p>&#13;
&#13;
<p>These <a data-primary="external stylesheets" data-type="indexterm" id="idm45176119614944"/>stylesheets, which are not part of the HTML document but are still used by it, are referred to as <em>external stylesheets</em>. This is because they’re stylesheets that are external to the HTML document. (Go figure.)</p>&#13;
&#13;
<p>To successfully load an external stylesheet, <code>&lt;link&gt;</code> should be placed inside the <code>&lt;head&gt;</code> element, though it can also appear inside the <code>&lt;body&gt;</code> element. This will cause the web browser to locate and load the stylesheet and use whatever styles it contains to render the HTML document; <a data-type="xref" href="#a_representation_of_how_external_style">Figure 1-6</a> depicts the stylesheet called <em>sheet1.css</em> being linked to the document.</p>&#13;
&#13;
<p>Also shown in <a data-type="xref" href="#a_representation_of_how_external_style">Figure 1-6</a> is the loading of the external <em>sheet2.css</em> via an <code>@import</code> declaration. Imports must be placed at the beginning of the stylesheet that contains them.</p>&#13;
&#13;
<figure class="bordernone"><div class="figure" id="a_representation_of_how_external_style">&#13;
<img alt="css5 0106" src="assets/css5_0106.png"/>&#13;
<h6><span class="label">Figure 1-6. </span>A representation of how external stylesheets are applied to documents</h6>&#13;
</div></figure>&#13;
&#13;
<p>And <a data-primary="rules" data-type="indexterm" id="ix_rules_css_html"/>what is the format of an external stylesheet? It’s a list of rules, just like those you saw in the previous section and in the example HTML document; but in this case, the rules are saved into their own file. Just remember that no HTML or any other markup language can be included in the stylesheet—only style rules. Here are the contents of an &#13;
<span class="keep-together">external stylesheet:</span></p>&#13;
&#13;
<pre data-code-language="css" data-type="programlisting"><code class="nt">h1</code> <code class="p">{</code><code class="k">color</code><code class="o">:</code> <code class="nb">red</code><code class="p">;}</code>&#13;
<code class="nt">h2</code> <code class="p">{</code><code class="k">color</code><code class="o">:</code> <code class="nb">maroon</code><code class="p">;</code> <code class="k">background-color</code><code class="o">:</code> <code class="nb">white</code><code class="p">;}</code>&#13;
<code class="nt">h3</code> <code class="p">{</code><code class="k">color</code><code class="o">:</code> <code class="nb">white</code><code class="p">;</code> <code class="k">background-color</code><code class="o">:</code> <code class="nb">black</code><code class="p">;</code>&#13;
  <code class="k">font</code><code class="o">:</code> <code class="nb">medium</code> <code class="n">Helvetica</code><code class="p">;}</code></pre>&#13;
&#13;
<p>That’s all there is to it—no HTML markup or comments at all, just plain-and-simple style declarations. These are saved into a plain-text file and are usually given an extension of <em>.css</em>, as in <em>sheet1.css</em>.<a data-primary="" data-startref="ix_link_tag" data-type="indexterm" id="idm45176119498144"/></p>&#13;
<div data-type="warning" epub:type="warning"><h6>Warning</h6>&#13;
<p>An external stylesheet cannot contain any document markup at all, only CSS rules and CSS comments. The presence of markup in an external stylesheet can cause some or all of it to be ignored.</p>&#13;
</div>&#13;
&#13;
&#13;
&#13;
&#13;
&#13;
&#13;
&#13;
&#13;
&#13;
&#13;
<section data-pdf-bookmark="Attributes" data-type="sect3"><div class="sect3" id="attributes">&#13;
<h3>Attributes</h3>&#13;
&#13;
<p>For <a data-primary="attributes" data-secondary="external stylesheet linking to HTML" data-type="indexterm" id="ix_attrib_HTML"/><a data-primary="rel attribute (HTML)" data-type="indexterm" id="idm45176119477680"/>the rest of the <code>&lt;link&gt;</code> tag, the attributes and values are fairly straightforward. The <code>rel</code> attribute stands for <em>relation</em>, and in this case, the relation is <code>stylesheet</code>. Note that the <code>rel</code> attribute is <em>required</em>. CSS has an optional <code>type</code> attribute whose default value is <code>text/css</code>, so you can include <code>type="text/css"</code> or leave it out, whichever you prefer.</p>&#13;
&#13;
<p>These attribute values describe the relationship and type of data that will be loaded using the <code>&lt;link&gt;</code> tag. That way, the web browser knows that the stylesheet is a CSS stylesheet, a fact that will determine how the browser will deal with the data it imports. (Other style languages may be used in the future. In such a future, if you are using a different style language, the <code>type</code> attribute will need to be declared.)</p>&#13;
&#13;
<p>Next, we find the <code>href</code> attribute. <a data-primary="href attribute" data-type="indexterm" id="idm45176119471040"/>The value of this attribute is the URL of your stylesheet. This URL can be either absolute or relative—that is, either relative to the URL of the document containing the URL, or else a complete URL that points to a unique location on the web. In our example, the URL is relative. It could have been something absolute, like <em><a class="bare" href="http://example.com/sheet1.css"><em class="hyperlink">http://example.com/sheet1.css</em></a></em>.</p>&#13;
&#13;
<p>Finally, we have a <code>media</code> attribute. <a data-primary="&lt;link&gt; tag" data-primary-sortas="link tag" data-secondary="media attribute" data-type="indexterm" id="idm45176119467664"/><a data-primary="media attribute" data-type="indexterm" id="idm45176119466384"/><a data-primary="media queries (@media)" data-secondary="media attribute" data-type="indexterm" id="idm45176119465712"/><a data-primary=", (comma)" data-secondary="separating attribute values" data-type="indexterm" id="idm45176119464768"/><a data-primary="comma (,)" data-secondary="separating attribute values" data-type="indexterm" id="idm45176119463856"/>The value of this attribute is one or more <em>media descriptors</em>, which are rules regarding media types and the features of those media, with each rule separated by a comma. Thus, for example, you can use a linked stylesheet in both screen and print media:</p>&#13;
&#13;
<pre data-code-language="xml" data-type="programlisting"><code class="nt">&lt;link</code><code class="w"> </code><code class="na">rel=</code><code class="s">"stylesheet"</code><code class="w"> </code><code class="na">href=</code><code class="s">"visual-sheet.css"</code><code class="w"> </code><code class="na">media=</code><code class="s">"screen, print"</code><code class="nt">&gt;</code><code class="w"/></pre>&#13;
&#13;
<p>Media descriptors can get quite complicated and are explained in detail in <a data-type="xref" href="ch21.html#css-at-rules">Chapter 21</a>. For now, we’ll stick with the basic media types shown.  <a data-primary="all media type" data-type="indexterm" id="idm45176122498032"/>The default value is <code>all</code>, which means the CSS will be applied in all media.</p>&#13;
&#13;
<p>Note that more than one linked stylesheet can be associated with a document. In these cases, only those <code>&lt;link&gt;</code> tags with a <code>rel</code> of <code>stylesheet</code> will be used in the initial display of the document. Thus, if you wanted to link two stylesheets named <em>basic.css</em> and <em>splash.css</em>, it would look like this:</p>&#13;
&#13;
<pre data-code-language="xml" data-type="programlisting"><code class="nt">&lt;link</code><code class="w"> </code><code class="na">rel=</code><code class="s">"stylesheet"</code><code class="w"> </code><code class="na">href=</code><code class="s">"basic.css"</code><code class="nt">&gt;</code><code class="w"/>&#13;
<code class="nt">&lt;link</code><code class="w"> </code><code class="na">rel=</code><code class="s">"stylesheet"</code><code class="w"> </code><code class="na">href=</code><code class="s">"splash.css"</code><code class="nt">&gt;</code><code class="w"/></pre>&#13;
&#13;
<p>This will cause the browser to load both stylesheets, combine the rules from each, and apply them all to the document in all media types (because the <code>media</code> attribute is omitted, its default value <code>all</code> is used). For example:</p>&#13;
&#13;
<pre data-code-language="xml" data-type="programlisting"><code class="nt">&lt;link</code><code class="w"> </code><code class="na">rel=</code><code class="s">"stylesheet"</code><code class="w"> </code><code class="na">href=</code><code class="s">"basic.css"</code><code class="nt">&gt;</code><code class="w"/>&#13;
<code class="nt">&lt;link</code><code class="w"> </code><code class="na">rel=</code><code class="s">"stylesheet"</code><code class="w"> </code><code class="na">href=</code><code class="s">"splash.css"</code><code class="nt">&gt;</code><code class="w"/>&#13;
&#13;
<code class="nt">&lt;p</code><code class="w"> </code><code class="na">class=</code><code class="s">"a1"</code><code class="nt">&gt;</code>This<code class="w"> </code>paragraph<code class="w"> </code>will<code class="w"> </code>be<code class="w"> </code>gray<code class="w"> </code>only<code class="w"> </code>if<code class="w"> </code>styles<code class="w"> </code>from<code class="w"> </code>the<code class="w"/>&#13;
stylesheet<code class="w"> </code>'basic.css'<code class="w"> </code>are<code class="w"> </code>applied.<code class="nt">&lt;/p&gt;</code><code class="w"/>&#13;
<code class="nt">&lt;p</code><code class="w"> </code><code class="na">class=</code><code class="s">"b1"</code><code class="nt">&gt;</code>This<code class="w"> </code>paragraph<code class="w"> </code>will<code class="w"> </code>be<code class="w"> </code>gray<code class="w"> </code>only<code class="w"> </code>if<code class="w"> </code>styles<code class="w"> </code>from<code class="w"> </code>the<code class="w"/>&#13;
stylesheet<code class="w"> </code>'splash.css'<code class="w"> </code>are<code class="w"> </code>applied.<code class="nt">&lt;/p&gt;</code><code class="w"/></pre>&#13;
&#13;
<p>The one attribute that isn’t in this example markup, but could be, is <code>title</code>. This attribute is not often used but could become important in the future and, if used improperly, can have unexpected effects. Why? We’ll explore that in the next section.<a data-primary="" data-startref="ix_attrib_HTML" data-type="indexterm" id="idm45176122327200"/></p>&#13;
</div></section>&#13;
&#13;
&#13;
&#13;
&#13;
&#13;
&#13;
&#13;
&#13;
&#13;
&#13;
<section data-pdf-bookmark="Alternate stylesheets" data-type="sect3"><div class="sect3" id="alternate_style_sheets">&#13;
<h3>Alternate stylesheets</h3>&#13;
&#13;
<p>It’s <a data-primary="alternate stylesheets" data-type="indexterm" id="ix_alt_style"/>possible to define <em>alternate stylesheets</em> that users can select in some browsers. These are defined by making the value of the <code>rel</code> attribute <code>alternate stylesheet</code>, and they are used in document presentation only if selected by the user.</p>&#13;
&#13;
<p>Should a <a data-primary="title attribute" data-type="indexterm" id="ix_title_attrib"/>browser be able to use alternate stylesheets, it will use the values of the <code>&lt;link&gt;</code> element’s <code>title</code> attributes to generate a list of style alternatives. So you could write the following:</p>&#13;
&#13;
<pre data-code-language="xml" data-type="programlisting"><code class="nt">&lt;link</code><code class="w"> </code><code class="na">rel=</code><code class="s">"stylesheet"</code><code class="w"> </code><code class="na">href=</code><code class="s">"sheet1.css"</code><code class="w"> </code><code class="na">title=</code><code class="s">"Default"</code><code class="nt">&gt;</code><code class="w"/>&#13;
<code class="nt">&lt;link</code><code class="w"> </code><code class="na">rel=</code><code class="s">"alternate stylesheet"</code><code class="w"> </code><code class="na">href=</code><code class="s">"bigtext.css"</code><code class="w"> </code><code class="na">title=</code><code class="s">"Big Text"</code><code class="nt">&gt;</code><code class="w"/>&#13;
<code class="nt">&lt;link</code><code class="w"> </code><code class="na">rel=</code><code class="s">"alternate stylesheet"</code><code class="w"> </code><code class="na">href=</code><code class="s">"zany.css"</code><code class="w"> </code><code class="na">title=</code><code class="s">"Crazy colors!"</code><code class="nt">&gt;</code><code class="w"/></pre>&#13;
&#13;
<p>Users could then pick the style they want to use, and the browser would switch from the first one, labeled <code>Default</code> in this case, to whichever the user picked. <a data-type="xref" href="#a_browser_offering_alternate_style">Figure 1-7</a> shows one way in which this selection mechanism might be accomplished (and in fact was, early in the resurgence of CSS).</p>&#13;
&#13;
<figure class="bordernone"><div class="figure" id="a_browser_offering_alternate_style">&#13;
<img alt="css5 0107" src="assets/css5_0107.png"/>&#13;
<h6><span class="label">Figure 1-7. </span>A browser offering alternate stylesheet selection</h6>&#13;
</div></figure>&#13;
<div data-type="note" epub:type="note"><h6>Note</h6>&#13;
<p>As of early 2023, alternate stylesheets are supported in most Gecko-based browsers like Firefox. The Chromium and WebKit families do not support selecting alternate stylesheets. Compare this to the build date of the browser shown in <a data-type="xref" href="#a_browser_offering_alternate_style">Figure 1-7</a>, which is late 2002.</p>&#13;
</div>&#13;
&#13;
<p>It’s also possible to group alternate stylesheets together by giving them the same <code>title</code> value. Thus, you make it possible for the user to pick a different presentation for your site in both screen and print media:</p>&#13;
&#13;
<pre data-code-language="xml" data-type="programlisting"><code class="nt">&lt;link</code><code class="w"> </code><code class="na">rel=</code><code class="s">"stylesheet"</code><code class="w"/>&#13;
<code class="w">   </code><code class="na">href=</code><code class="s">"sheet1.css"</code><code class="w"> </code><code class="na">title=</code><code class="s">"Default"</code><code class="w"> </code><code class="na">media=</code><code class="s">"screen"</code><code class="nt">&gt;</code><code class="w"/>&#13;
<code class="nt">&lt;link</code><code class="w"> </code><code class="na">rel=</code><code class="s">"stylesheet"</code><code class="w"/>&#13;
<code class="w">   </code><code class="na">href=</code><code class="s">"print-sheet1.css"</code><code class="w"> </code><code class="na">title=</code><code class="s">"Default"</code><code class="w"> </code><code class="na">media=</code><code class="s">"print"</code><code class="nt">&gt;</code><code class="w"/>&#13;
<code class="nt">&lt;link</code><code class="w"> </code><code class="na">rel=</code><code class="s">"alternate stylesheet"</code><code class="w"/>&#13;
<code class="w">   </code><code class="na">href=</code><code class="s">"bigtext.css"</code><code class="w"> </code><code class="na">title=</code><code class="s">"Big Text"</code><code class="w"> </code><code class="na">media=</code><code class="s">"screen"</code><code class="nt">&gt;</code><code class="w"/>&#13;
<code class="nt">&lt;link</code><code class="w"> </code><code class="na">rel=</code><code class="s">"alternate stylesheet"</code><code class="w"/>&#13;
<code class="w">   </code><code class="na">href=</code><code class="s">"print-bigtext.css"</code><code class="w"> </code><code class="na">title=</code><code class="s">"Big Text"</code><code class="w"> </code><code class="na">media=</code><code class="s">"print"</code><code class="nt">&gt;</code><code class="w"/></pre>&#13;
&#13;
<p>If a user selects Big Text from the alternate stylesheet selection mechanism in a conforming user agent, <em>bigtext.css</em> will be used to style the document in the screen medium, and <em>print-bigtext.css</em> will be used in the print medium. Neither <em>sheet1.css</em> nor <em>print-sheet1.css</em> will be used in any medium.</p>&#13;
&#13;
<p>Why is that? <a data-primary="preferred stylesheet" data-type="indexterm" id="idm45176122219120"/>Because if you give a <code>&lt;link&gt;</code> with a <code>rel</code> of <code>stylesheet</code> a title, you are designating that stylesheet as a <em>preferred stylesheet</em>. Its use is preferred to alternate stylesheets, and it will be used when the document is first displayed. Once you select an alternate stylesheet, however, the preferred stylesheet will <em>not</em> be used.</p>&#13;
&#13;
<p>Furthermore, if you designate a number of stylesheets as preferred, all but one of them will be ignored. Consider the following code example:</p>&#13;
&#13;
<pre data-code-language="xml" data-type="programlisting"><code class="nt">&lt;link</code><code class="w"> </code><code class="na">rel=</code><code class="s">"stylesheet"</code><code class="w"/>&#13;
<code class="w">   </code><code class="na">href=</code><code class="s">"sheet1.css"</code><code class="w"> </code><code class="na">title=</code><code class="s">"Default Layout"</code><code class="nt">&gt;</code><code class="w"/>&#13;
<code class="nt">&lt;link</code><code class="w"> </code><code class="na">rel=</code><code class="s">"stylesheet"</code><code class="w"/>&#13;
<code class="w">   </code><code class="na">href=</code><code class="s">"sheet2.css"</code><code class="w"> </code><code class="na">title=</code><code class="s">"Default Text Sizes"</code><code class="nt">&gt;</code><code class="w"/>&#13;
<code class="nt">&lt;link</code><code class="w"> </code><code class="na">rel=</code><code class="s">"stylesheet"</code><code class="w"/>&#13;
<code class="w">   </code><code class="na">href=</code><code class="s">"sheet3.css"</code><code class="w"> </code><code class="na">title=</code><code class="s">"Default Colors"</code><code class="nt">&gt;</code><code class="w"/></pre>&#13;
&#13;
<p>All three <code>&lt;link&gt;</code> elements now refer to preferred stylesheets, thanks to the presence of a <code>title</code> attribute on all three, but only one of them will actually be used in that manner. The other two will be ignored completely. Which two? There’s no way to be certain, as HTML doesn’t provide a method of determining which preferred stylesheets should be ignored and which should be used.</p>&#13;
&#13;
<p>If you don’t give a stylesheet a title, it becomes a <em>persistent stylesheet</em> and is always used in the display of the document. Often, this is exactly what an author wants, especially since alternate stylesheets are not widely supported and are almost completely unknown &#13;
<span class="keep-together">to users</span>.<a data-primary="" data-startref="ix_alt_style" data-type="indexterm" id="idm45176122194208"/><a data-primary="" data-startref="ix_title_attrib" data-type="indexterm" id="idm45176122193200"/></p>&#13;
</div></section>&#13;
</div></section>&#13;
&#13;
&#13;
&#13;
&#13;
&#13;
&#13;
&#13;
&#13;
<section data-pdf-bookmark="The &lt;style&gt; Element" data-type="sect2"><div class="sect2" id="the_style_element">&#13;
<h2>The &lt;style&gt; Element</h2>&#13;
&#13;
<p>The <code>&lt;style&gt;</code> element is one way to include a <a data-primary="&lt;style&gt; element" data-primary-sortas="style element" data-secondary="linking CSS to HTML documents" data-type="indexterm" id="idm45176122190176"/>stylesheet, and it appears in the document itself:</p>&#13;
&#13;
<pre data-code-language="xml" data-type="programlisting"><code class="nt">&lt;style&gt;</code>...<code class="nt">&lt;/style&gt;</code><code class="w"/></pre>&#13;
&#13;
<p>The <a data-primary="document stylesheet" data-type="indexterm" id="idm45176122186176"/><a data-primary="embedded stylesheet" data-type="indexterm" id="idm45176122185568"/>styles between the opening and closing <code>&lt;style&gt;</code> tags are referred to as the <em>document stylesheet</em> or the <em>embedded stylesheet</em> (because this kind of stylesheet is embedded within the document). It contains styles that apply to the document, but it can also contain multiple links to external stylesheets via the <code>@import</code> directive, discussed in the next section.</p>&#13;
&#13;
<p>You can give <code>&lt;style&gt;</code> elements a <code>media</code> attribute, which functions in the same manner as it does on linked stylesheets.  This, for example, will restrict an embedded stylesheet’s rules to be applied in print media only:</p>&#13;
&#13;
<pre data-code-language="css" data-type="programlisting"><code class="o">&lt;</code><code class="n">style</code> <code class="n">media</code><code class="o">=</code><code class="s2">"print"</code><code class="o">&gt;</code><code class="err">…</code><code class="o">&lt;/</code><code class="n">style</code><code class="o">&gt;</code></pre>&#13;
&#13;
<p>You can also label an embedded stylesheet with a <code>&lt;title&gt;</code> element, in the same manner and for the same reasons discussed in the previous section on alternate stylesheets.</p>&#13;
&#13;
<p>As with the <code>&lt;link&gt;</code> element, the <code>&lt;style&gt;</code> element can use the attribute <code>type</code>; in the case of a CSS document, the correct value is <code>"text/css"</code>. The <code>type</code> attribute is optional in HTML as long as you’re loading CSS, because the default value for the <code>type</code> attribute on the <code>&lt;style&gt;</code> element is <code>text/css</code>.  It would be necessary to explicitly declare a <code>type</code> value only if you were using some other styling language, perhaps in a future where such a thing is supported.  For the time being, though, the attribute remains wholly optional.<a data-primary="" data-startref="ix_rules_css_html" data-type="indexterm" id="idm45176130031888"/></p>&#13;
</div></section>&#13;
&#13;
&#13;
&#13;
&#13;
&#13;
&#13;
&#13;
&#13;
<section data-pdf-bookmark="The @import Directive" data-type="sect2"><div class="sect2" id="the_at_import_directive">&#13;
<h2>The @import Directive</h2>&#13;
&#13;
<p>Now we’ll <a data-primary="@import rule" data-primary-sortas="import rule" data-type="indexterm" id="ix_import_rule"/><a data-primary="at-rules" data-secondary="@import" data-secondary-sortas="import" data-type="indexterm" id="ix_atrule_import"/>discuss the stuff that is found inside the <code>&lt;style&gt;</code> tag. First, we have something very similar to <code>&lt;link&gt;</code>, the <code>@import</code> directive:</p>&#13;
&#13;
<pre data-code-language="css" data-type="programlisting"><code class="cp">@import url(sheet2.css);</code></pre>&#13;
&#13;
<p>Just like <code>&lt;link&gt;</code>, <code>@import</code> can be used to direct the web browser to load an external stylesheet and use its styles in the rendering of the HTML document. The only major difference is in the syntax and placement of the command. As you can see, <code>@import</code> is found inside the <code>&lt;style&gt;</code> element. It must be placed first, before the other CSS rules, or it won’t work at all. Consider this example:</p>&#13;
&#13;
<pre data-code-language="xml" data-type="programlisting"><code class="nt">&lt;style&gt;</code><code class="w"/>&#13;
@import<code class="w"> </code>url(styles.css);<code class="w"> </code>/*<code class="w"> </code>@import<code class="w"> </code>comes<code class="w"> </code>first<code class="w"> </code>*/<code class="w"/>&#13;
h1<code class="w"> </code>{color:<code class="w"> </code>gray;}<code class="w"/>&#13;
<code class="nt">&lt;/style&gt;</code><code class="w"/></pre>&#13;
&#13;
<p>As with <code>&lt;link&gt;</code>, a document can have more than one <code>@import</code> statement. Unlike <code>&lt;link&gt;</code>, however, the stylesheets of every <code>@import</code> directive will be loaded and used; there is no way to designate alternate stylesheets with <code>@import</code>. So, given the following markup:</p>&#13;
&#13;
<pre data-code-language="css" data-type="programlisting"><code class="cp">@import url(sheet2.css);</code>&#13;
<code class="cp">@import url(blueworld.css);</code>&#13;
<code class="cp">@import url(zany.css);</code></pre>&#13;
&#13;
<p>…all three external stylesheets will be loaded, and all of their style rules will be used in the display of the document.</p>&#13;
&#13;
<p>As with <code>&lt;link&gt;</code>, you can restrict imported stylesheets to one or more media by providing media descriptors after the stylesheet’s URL:</p>&#13;
&#13;
<pre data-code-language="css" data-type="programlisting"><code class="cp">@import url(sheet2.css) all;</code>&#13;
<code class="cp">@import url(blueworld.css) screen;</code>&#13;
<code class="cp">@import url(zany.css) screen, print;</code></pre>&#13;
&#13;
<p>As noted in <a data-type="xref" href="#the_link_tag">“The &lt;link&gt; Tag”</a>, media descriptors can get quite complicated and are explained in detail in <a data-type="xref" href="ch21.html#css-at-rules">Chapter 21</a>.</p>&#13;
&#13;
<p>The <code>@import</code> directive can be highly useful if you have an external stylesheet that needs to use the styles found in other external stylesheets. Since external stylesheets cannot contain any document markup, the <code>&lt;link&gt;</code> element can’t be used—but <code>@import</code> can. Therefore, you might have an external stylesheet that contains the following:</p>&#13;
&#13;
<pre data-code-language="css" data-type="programlisting"><code class="k">@import</code> <code class="sx">url(http://example.org/library/layout.css)</code><code class="p">;</code>&#13;
<code class="k">@import</code> <code class="sx">url(basic-text.css)</code><code class="p">;</code>&#13;
<code class="k">@import</code> <code class="sx">url(printer.css)</code> <code class="nt">print</code><code class="p">;</code>&#13;
<code class="nt">body</code> <code class="p">{</code><code class="k">color</code><code class="o">:</code> <code class="nb">red</code><code class="p">;}</code>&#13;
<code class="nt">h1</code> <code class="p">{</code><code class="k">color</code><code class="o">:</code> <code class="nb">blue</code><code class="p">;}</code></pre>&#13;
&#13;
<p>Well, maybe not those exact styles, but hopefully you get the idea. Note the use of both absolute and relative URLs in the previous example. Either URL form can be used, just as with <code>&lt;link&gt;</code>.</p>&#13;
&#13;
<p>Note also that the <code>@import</code> directives appear at the beginning of the stylesheet, as they did in the example document. As we said previously, CSS requires the <code>@import</code> directives to come before any rules in a stylesheet, though they can be preceded by <code>@charset</code> and <code>@layer</code> declarations. An <code>@import</code> that comes after other rules (e.g., <code>body {color</code>: <code>red;}</code>) will be ignored by conforming user agents.</p>&#13;
<div data-type="warning" epub:type="warning"><h6>Warning</h6>&#13;
<p>Some versions of Internet Explorer for Windows did not ignore any <code>@import</code> directive, even those that come after other rules, but all modern browsers do ignore improperly placed <code>@import</code> &#13;
<span class="keep-together">directives.</span></p>&#13;
</div>&#13;
&#13;
<p>Another <a data-primary="cascade layer" data-type="indexterm" id="idm45176129853408"/>descriptor that can be added to an <code>@import</code> directive is a <em>cascade layer</em> identifier.  This assigns all of the styles in the imported stylesheet to a cascade layer, which is a concept we’ll explore in <a data-type="xref" href="ch04.html#specificity_comma_inheritance">Chapter 4</a>.  It looks like this:</p>&#13;
&#13;
<pre data-code-language="css" data-type="programlisting"><code class="cp">@import url(basic-text.css) screen layer(basic);</code></pre>&#13;
&#13;
<p>That assigns the styles from <em>basic-text.css</em> to the <code>basic</code> cascade layer.  If you want to assign the styles to an unnamed layer, use <code>layer</code> without the parenthetical naming, like so:</p>&#13;
&#13;
<pre data-code-language="css" data-type="programlisting"><code class="cp">@import url(basic-text.css) screen layer;</code></pre>&#13;
&#13;
<p>Note that this ability is a difference between <code>@import</code> and <code>&lt;link&gt;</code>, as the latter cannot be labeled with a cascade layer.<a data-primary="" data-startref="ix_atrule_import" data-type="indexterm" id="idm45176129830752"/><a data-primary="" data-startref="ix_import_rule" data-type="indexterm" id="idm45176129830240"/></p>&#13;
</div></section>&#13;
&#13;
&#13;
&#13;
&#13;
&#13;
&#13;
&#13;
&#13;
<section data-pdf-bookmark="HTTP Linking" data-type="sect2"><div class="sect2" id="http_linking">&#13;
<h2>HTTP Linking</h2>&#13;
&#13;
<p>In <a data-primary="HTTP headers, linking CSS to HTML documents" data-type="indexterm" id="idm45176129826112"/>another, far more obscure way to associate CSS with a document, you can link the two via HTTP headers.</p>&#13;
&#13;
<p>Under <a data-primary=".htaccess file" data-primary-sortas="htaccess file" data-type="indexterm" id="idm45176129824656"/>Apache HTTP Server, this can be accomplished by adding a reference to the CSS file in a <em>.htaccess</em> file. For example:</p>&#13;
&#13;
<pre data-code-language="apache" data-type="programlisting"><code class="nb">Header</code><code class="w"> </code>add<code class="w"> </code>Link<code class="w"> </code><code class="s2">"&lt;/ui/testing.css&gt;;rel=stylesheet;type=text/css"</code><code class="w"/></pre>&#13;
&#13;
<p>This will cause supporting browsers to associate the referenced stylesheet with any documents served from under that <em>.htaccess</em> file. The browser will then treat it as if it were a linked stylesheet. Alternatively, and probably more efficiently, you can add an equivalent rule to the server’s <em>httpd.conf</em> file:</p>&#13;
&#13;
<pre data-code-language="apache" data-type="programlisting"><code class="nt">&lt;Directory</code><code class="w"> </code><code class="s">/path/to/ /public/html/directory</code><code class="nt">&gt;</code><code class="w"/>&#13;
<code class="nb">Header</code><code class="w"> </code>add<code class="w"> </code>Link<code class="w"> </code><code class="s2">"&lt;/ui/testing.css&gt;;rel=stylesheet;type=text/css"</code><code class="w"/>&#13;
<code class="nt">&lt;/Directory&gt;</code><code class="w"/></pre>&#13;
&#13;
<p>The effect is exactly the same in supporting browsers. The only difference is in where you declare the linking.</p>&#13;
&#13;
<p>You probably noticed the use of the term “supporting browsers.” As of late 2022, the widely used browsers that support HTTP linking of stylesheets are the Firefox family and Opera. That restricts this technique mostly to development environments based on one of those browsers. In such a situation, you can use HTTP linking on the test server to mark when you’re on the development site as opposed to the public site. It’s also an interesting way to hide styles from Chromium browsers, assuming you have a reason to do so.</p>&#13;
<div data-type="note" epub:type="note"><h6>Note</h6>&#13;
<p>Equivalents to this linking technique are used in common scripting languages such as PHP and IIS, both of which allow the author to emit HTTP headers. It’s also possible to use such languages to explicitly write <code>link</code> elements into the document based on the server offering up the document. This is a more robust approach in terms of browser support: every browser supports the <code>link</code> &#13;
<span class="keep-together">element.</span></p>&#13;
</div>&#13;
</div></section>&#13;
&#13;
&#13;
&#13;
&#13;
&#13;
&#13;
&#13;
&#13;
<section class="less_space pagebreak-before" data-pdf-bookmark="Inline Styles" data-type="sect2"><div class="sect2" id="inline_styles">&#13;
<h2>Inline Styles</h2>&#13;
&#13;
<p>If <a data-primary="inline styles" data-type="indexterm" id="idm45176129730496"/>you want to just assign a few styles to one individual element, without the need for embedded or external stylesheets, you can employ the HTML attribute <code>style</code>:</p>&#13;
&#13;
<pre data-code-language="xml" data-type="programlisting"><code class="nt">&lt;p</code><code class="w"> </code><code class="na">style=</code><code class="s">"color: gray;"</code><code class="nt">&gt;</code>The<code class="w"> </code>most<code class="w"> </code>wonderful<code class="w"> </code>of<code class="w"> </code>all<code class="w"> </code>breakfast<code class="w"> </code>foods<code class="w"> </code>is<code class="w"/>&#13;
the<code class="w"> </code>waffle—a<code class="w"> </code>ridged<code class="w"> </code>and<code class="w"> </code>cratered<code class="w"> </code>slab<code class="w"> </code>of<code class="w"> </code>home-cooked,<code class="w"> </code>fluffy<code class="w"> </code>goodness...<code class="w"/>&#13;
<code class="nt">&lt;/p&gt;</code><code class="w"/></pre>&#13;
&#13;
<p>The <code>style</code> attribute<a data-primary="style attribute (HTML)" data-type="indexterm" id="idm45176129622064"/> can be associated with any HTML tag whatsoever, even tags found outside of <code>&lt;body&gt;</code> (<code>&lt;head&gt;</code> or <code>&lt;title&gt;</code>, for instance).</p>&#13;
&#13;
<p>The syntax of a <code>style</code> attribute is fairly ordinary. In fact, it looks very much like the declarations found in the <code>&lt;style&gt;</code> container, except here the curly braces are replaced by double quotation marks. So <code>&lt;p style="color</code>: <code>maroon; background</code>: <code>yellow;"&gt;</code> will set the text color to be maroon and the background to be yellow <em>for that paragraph only</em>. No other part of the document will be affected by this declaration.</p>&#13;
&#13;
<p>Note <a data-primary="rules" data-secondary="declarations" data-type="indexterm" id="idm45176129651760"/>that you can place only a declaration block, not an entire stylesheet, inside an inline <code>style</code> attribute. Therefore, you can’t put an <code>@import</code> into a <code>style</code> attribute, nor can you include any complete rules. The only thing you can put into the value of a <code>style</code> attribute is what might go between the curly braces of a rule.</p>&#13;
&#13;
<p>Use of the <code>style</code> attribute is discouraged. Many of the primary advantages of CSS—the ability to organize centralized styles that control an entire document’s appearance or the appearance of all documents on a web server—are negated when you place styles into a <code>style</code> attribute. In many ways, inline styles are not much better than the ancient <code>&lt;font&gt;</code> tag, even if they do have a good deal more flexibility in terms of which visual effects they can apply.<a data-primary="" data-startref="ix_css_link_html" data-type="indexterm" id="idm45176129647040"/><a data-primary="" data-startref="ix_html_link_css" data-type="indexterm" id="idm45176129646064"/></p>&#13;
</div></section>&#13;
</div></section>&#13;
&#13;
&#13;
&#13;
&#13;
&#13;
&#13;
<section data-pdf-bookmark="Summary" data-type="sect1"><div class="sect1" id="doc_summary">&#13;
<h1>Summary</h1>&#13;
&#13;
<p>With CSS, you can completely change the way elements are presented by a user agent. You can do this at a basic level with the <code>display</code> property, and in a different way by associating stylesheets with a document. The user will never know whether this is done via an external or embedded stylesheet, or even with an inline style. The real importance of external stylesheets is the way in which they allow you to put all of a site’s presentation information in one place, and point all of the documents to that place. This not only makes site updates and maintenance a breeze, but also helps to save bandwidth, since all of the presentation is removed from documents.<a data-primary="" data-startref="ix_css_ch1" data-type="indexterm" id="idm45176129675216"/></p>&#13;
&#13;
<p>To make the most of the power of CSS, you need to know how to associate a set of styles with the elements in a document. To fully understand how CSS can do all of this, you need a firm grasp of the way CSS selects pieces of a document for styling, which is the subject of the next few chapters.</p>&#13;
</div></section>&#13;
</div></section></body></html>