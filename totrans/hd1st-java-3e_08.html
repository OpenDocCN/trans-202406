<html><head></head><body><div id="sbo-rt-content"><section data-type="chapter" epub:type="chapter" data-pdf-bookmark="Chapter 6. Using the Java Library: Get to Know the Java API"><div class="chapter" id="using_the_java_library_get_to_know_the_j">
<h1><span class="label">Chapter 6. </span>Using the Java Library: Get to Know the Java API</h1>
<figure class="informal"><div class="figure">
<img src="Images/f0125-01.png" alt="image" width="472" height="586"/>
<h6/>
</div></figure>
<p><a data-type="indexterm" data-primary="Java API" id="idm46038395428656"/><strong>Java ships with hundreds of prebuilt classes.</strong> You don’t have to reinvent the wheel if you know how to find what you need in the Java library, known as the <strong>Java API</strong>. <em>You’ve got better things to do</em>. If you’re going to write code, you might as well write <em>only</em> the parts that are truly custom for your application. You know those programmers who walk out the door each night at 5 PM? The ones who don’t even show <em>up</em> until 10 AM? They use the Java API. And about eight pages from now, so will you. The core Java library is a giant pile of classes just waiting for you to use like building blocks, to assemble your own program out of largely prebuilt code. The Ready-Bake Java we use in this book is code you don’t have to create from scratch, but you still have to type it. The Java API is full of code you don’t even have to <em>type</em>. All you need to do is learn to use it.</p>
<section data-type="sect1" data-pdf-bookmark="In our last chapter, we left you with the cliff-hanger: a bug"><div class="sect1" id="in_our_last_chaptercomma_we_left_you_wit">
<h1>In our last chapter, we left you with the cliff-hanger: a bug</h1>
<section data-type="sect2" data-pdf-bookmark="How it’s supposed to look"><div class="sect2" id="how_itapostrophes_supposed_to_look">
<h2>How it’s supposed to look</h2>
<p><a data-type="indexterm" data-primary="SimpleStartupGame class" id="idm46038395820064"/>Here’s what happens when we run it and enter the numbers 1,2,3,4,5,6. Lookin’ good.</p>
<p><strong>A complete game interaction</strong> (your mileage may vary)</p>
<figure class="informal"><div class="figure">
<img src="Images/f0126-01.png" alt="image" width="312" height="534"/>
<h6/>
</div></figure>
</div></section>
<section data-type="sect2" data-pdf-bookmark="How the bug looks"><div class="sect2" id="how_the_bug_looks">
<h2>How the bug looks</h2>
<p>Here’s what happens when we enter 2,2,2.</p>
<p><strong>A different game interaction</strong> (yikes)</p>
<figure class="informal"><div class="figure">
<img src="Images/f0126-02.png" alt="image" width="312" height="324"/>
<h6/>
</div></figure>
<p><strong>In the current version, once you get a hit, you can simply repeat that hit two more times for the kill!</strong></p>
</div></section>
</div></section>
<section data-type="sect1" data-pdf-bookmark="So what happened?"><div class="sect1" id="so_what_happenedquestion_mark">
<h1>So what happened?</h1>
<p/>
<figure class="informal"><div class="figure">
<img src="Images/f0127-01.png" alt="image" width="1019" height="875"/>
<h6/>
</div></figure>
</div></section>
<section data-type="sect1" data-pdf-bookmark="How do we fix it?"><div class="sect1" id="how_do_we_fix_itquestion_mark">
<h1>How do we fix it?</h1>
<p><a data-type="indexterm" data-primary="arrays" data-secondary="SimpleStartupGame bug fix" id="idm46038395407376"/>We need a way to know whether a cell has already been hit. Let’s run through some possibilities, but first, we’ll look at what we kno w so far...</p>
<p>We have a virtual row of seven cells, and a Startup will occupy three consecutive cells somewhere in that row. This virtual row shows a Startup placed at cell locations 4, 5, and 6.</p>
<figure class="informal"><div class="figure">
<img src="Images/f0128-01.png" alt="image" width="699" height="83"/>
<h6/>
</div></figure>
<p>The Startup has an instance variable—an int array —that holds that Startup object’s cell locations.</p>
<figure class="informal"><div class="figure">
<img src="Images/f0128-02.png" alt="image" width="858" height="168"/>
<h6/>
</div></figure>
<aside data-type="sidebar" epub:type="sidebar"><div class="sidebar" id="id00000013">
<p><span class="inlineimage"><img src="Images/1.png" alt="Images" width="20" height="21"/></span> <strong>Option one</strong></p>
<p>We could make a second array, and each time the user makes a hit , we store that hit in the second array , and then check that array each time we get a hit, to see if that cell has been hit before.</p>
<figure class="informal"><div class="figure">
<img src="Images/f0128-03.png" alt="image" width="848" height="297"/>
<h6/>
</div></figure>
</div></aside>
</div></section>
<section data-type="sect1" data-pdf-bookmark="Option one is too clunky"><div class="sect1" id="option_one_is_too_clunky">
<h1>Option one is too clunky</h1>
<p>Option one seems like more work than y ou’d expect. It means that each time the user makes a hit, y ou have to change the state of the second array (the hitCells array), oh—but first you have to CHECK the hitCells array to see if that cell has already been hit anyway. It would work, but there’s got to be something better...</p>
<aside data-type="sidebar" epub:type="sidebar"><div class="sidebar" id="id00000014">
<p><span class="inlineimage"><img src="Images/2.png" alt="Images" width="20" height="21"/></span> <strong>Option two</strong></p>
<p>We could just keep the one original array but change the value of any hit cells to -1. That way, we only have ONE array to check and manipulate.</p>
<figure class="informal"><div class="figure">
<img src="Images/f0129-01.png" alt="image" width="859" height="197"/>
<h6/>
</div></figure>
</div></aside>
</div></section>
<section data-type="sect1" data-pdf-bookmark="Option two is a little better, but still pretty clunky"><div class="sect1" id="option_two_is_a_little_bettercomma_but_s">
<h1>Option two is a little better, but still pretty clunky</h1>
<p>Option two is a little less clunky than option one, but it’s not very efficient. You’d still have to loop through all three slots (index positions) in the array, even if one or more are already invalid because they’ve been “hit” (and have a -1 value). There has to be something better...</p>
<aside data-type="sidebar" epub:type="sidebar"><div class="sidebar" id="id00000015">
<p><a data-type="indexterm" data-primary="checkYourself()" id="idm46038398547824"/><span class="inlineimage"><img src="Images/3.png" alt="Images" width="20" height="21"/></span> <strong>Option three</strong></p>
<p>We delete each cell location as it gets hit and then modify the array to be smaller. Except arrays can’t change their size, so we have to make a <strong>new</strong> array and copy the remaining cells from the old array into the new smaller array.</p>
<figure class="informal"><div class="figure">
<img src="Images/f0130-01.png" alt="image" width="774" height="370"/>
<h6/>
</div></figure>
<p><strong>Option three would be much better if the array could shrink so that we wouldn’t have to make a new smaller array, copy the remaining values in, and reassign the reference.</strong></p>
</div></aside>
<table class="border">
<thead>
<tr>
<th>The original prep code for part of the checkYourself() method:</th>
<th>Life would be good if only we could change it to:</th>
</tr>
</thead>
<tbody>
<tr>
<td colspan="2"><figure class="informal"><div class="figure">
<img src="Images/f0130-02.png" alt="image" width="1008" height="353"/>
<h6/>
</div></figure>
</td>
</tr>
</tbody>
</table>
<figure class="informal"><div class="figure">
<img src="Images/f0131-01.png" alt="image" width="816" height="869"/>
<h6/>
</div></figure>
</div></section>
<section data-type="sect1" data-pdf-bookmark="Wake up and smell the library"><div class="sect1" id="wake_up_and_smell_the_library">
<h1>Wake up and smell the library</h1>
<p><a data-type="indexterm" data-primary="ArrayList" id="idm46038395367008"/><a data-type="indexterm" data-primary="collections" data-secondary="ArrayList" data-see="ArrayList" id="idm46038395366112"/><strong>As if by magic, there really is such a thing.</strong></p>
<p><strong>But it’s not an <em>array</em>, it’s <em>an ArrayList.</em></strong></p>
<p><strong>A class in the core Java library (the API).</strong></p>
<p>The Java Platform, Standard Edition (Java SE) ships with hundreds of prebuilt classes. Just like our Ready-Bake Code. Except that these built-in classes are already compiled.</p>
<p><strong><em>That means no typing.</em></strong></p>
<p>Just use ’em.</p>
<figure class="informal"><div class="figure">
<img src="Images/f0132-01.png" alt="image" width="1363" height="1118"/>
<h6/>
</div></figure>
</div></section>
<section data-type="sect1" data-pdf-bookmark="Some things you can do with ArrayList"><div class="sect1" id="some_things_you_can_do_with_arraylist">
<h1>Some things you can do with <u>ArrayList</u></h1>
<p/>
<figure class="informal"><div class="figure">
<img src="Images/f0133-01.png" alt="image" width="966" height="1139"/>
<h6/>
</div></figure>
<aside data-type="sidebar" epub:type="sidebar"><div class="sidebar" id="sharpen_your_pencil-id00009">
<h5>Sharpen your pencil</h5>
<figure class="informal"><div class="figure">
<img src="Images/pencil.png" alt="image" width="122" height="80"/>
<h6/>
</div></figure>
<p><a data-type="indexterm" data-primary="exercises" data-secondary="Sharpen Your Pencil" id="idm46038395351952"/>Fill in the rest of the table below by looking at the ArrayList code on the left and putting in what you think the code might be if it were using a regular array instead. We don’t expect you to get all of them exactly right, so just make your best guess.</p>
<figure class="informal"><div class="figure">
<img src="Images/f0134-01.png" alt="image" width="1484" height="1517"/>
<h6/>
</div></figure>
<p><span class="inlineimage"><img src="Images/arr1.png" alt="Images" width="137" height="12"/></span> <strong>Answers in <a data-type="xref" href="#solution-id00002">“Solution”</a>.</strong></p>
</div></aside>
<aside data-type="sidebar" epub:type="sidebar"><div class="sidebar" id="there_are_no_dumb_questions-id00008">
<h5>there are no Dumb Questions</h5>
<p><strong>Q: So ArrayList is cool, but how would I know it exists?</strong></p>
<p><strong>A:</strong> The question is really, “How do I <em>know</em> what’s in the API?”  and that’s the key to your success as a Java programmer. Not to mention your key to being as lazy as possible while still managing to build software. You might be amazed at how much time you can save when somebody else has already done most of the heavy lifting and all you have to do is step in and create the fun part.</p>
<p>But we digress...the short answer is that you spend some time learning what’s in the core API.  The long answer is at the end of this chapter, where you’ll learn <em>how</em> to do that.</p>
<p><strong>Q: But that’s a pretty big issue. Not only do I need to know that the Java library comes with ArrayList, but more importantly I  have to know that ArrayList is the thing that can do what I want! So how do I go from a need-to-do-something to a-way-to-do-it using the API?</strong></p>
<p><strong>A:</strong> Now you’re really at the heart of it. By the time you’ve finished this book, you’ll have a good grasp of the language, and the rest of your learning curve really is about knowing how to get from a problem to a solution, with you writing the least amount of code. If you can be patient for a few more pages, we start talking about it at the end of this chapter.</p>
</div></aside>
</div></section>
<section data-type="sect1" data-pdf-bookmark="Java Exposed"><div class="sect1" id="java_exposed-id00002">
<h1>Java Exposed</h1>
<figure class="informal"><div class="figure">
<img src="Images/common-01.png" alt="image" width="150" height="128"/>
<h6/>
</div></figure>
<p><strong>This week’s interview: ArrayList, on arrays</strong></p>
<p><strong>HeadFirst:</strong> So, ArrayLists are like arrays, right?</p>
<p><strong>ArrayList:</strong> In their dreams! <strong><em>I</em></strong> am an <em>object</em>, thank you very much.</p>
<p><strong>HeadFirst:</strong> If I’m not mistaken, arrays are objects too. They live on the heap right there with all the other objects.</p>
<p><strong>ArrayList:</strong> Sure arrays go on the heap, <strong><em>duh</em></strong>, but an array is still a wanna-be ArrayList. A poser. Objects have state <em>and</em> behavior, right? We’re clear on that. But have you actually tried calling a method on an array?</p>
<p><strong>HeadFirst:</strong> Now that you mention it, can’t say I have. But what method would I call, anyway? I only care about calling methods on the stuff I put <em>in</em> the array, not the array itself. And I can use array syntax when I want to put things in and take things out of the array.</p>
<p><strong>ArrayList:</strong> Is that so? You mean to tell me you actually <em>removed</em> something from an array? (Sheesh, where do they train you guys?)</p>
<p><strong>HeadFirst:</strong> Of <em>course</em> I take something out of the array. I say Dog d = dogArray[1], and I get the Dog object at index 1 out of the array.</p>
<p><strong>ArrayList:</strong> Alright, I’ll try to speak slowly so you can follow along. You were <em>not</em>, I repeat <em>not</em>, removing that Dog from the array. All you did was make a copy of the <em>reference to the Dog</em> and assign it to another Dog variable.</p>
<p><strong>HeadFirst:</strong> Oh, I see what you’re saying. No, I didn’t actually remove the Dog object from the array. It’s still there. But I can just set its reference to null, I guess.</p>
<p><strong>ArrayList:</strong> But I’m a first-class object, so I have methods, and I can actually, you know, <em>do</em> things like remove the Dog’s reference from myself, not just set it to null. And I can change my size, <em>dynamically</em> (look it up). Just try to get an <em>array</em> to do that!</p>
<p><strong>HeadFirst:</strong> Gee, hate to bring this up, but the rumor is that you’re nothing more than a glorified but less-efficient array. That in fact you’re just a wrapper for an array, adding extra methods for things like resizing that I would have had to write myself. And while we’re at it, <em>you can’t even hold primitives</em>! Isn’t that a big limitation?</p>
<p><strong>ArrayList:</strong> I can’t <em>believe</em> you buy into that urban legend. No, I am <em>not</em> just a less-efficient array. I will admit that there are a few <em>extremely</em> rare situations where an array might be just a tad, I repeat, <em>tad</em> bit faster for certain things. But is it worth the <em>miniscule</em> performance gain to give up all this <em>power</em>? Still, look at all this <em>flexibility</em>. And as for the primitives, of <em>course</em> you can put a primitive in an ArrayList, as long as it’s wrapped in a primitive wrapper class (you’ll see a lot more on that in <a data-type="xref" href="ch10.xhtml#numbers_matter_numbers_and_statics">Chapter 10</a>). And if you’re using Java 5 or above, that wrapping (and unwrapping when you take the primitive out again) happens automatically. And alright, I’ll <em>acknowledge</em> that yes, if you’re using an ArrayList of <em>primitives</em>, it probably is faster with an array, because of all the wrapping and unwrapping, but still...who really uses primitives <em>these</em> days?</p>
<p>Oh, look at the time! <em>I’m late for Pilates.</em> We’ll have to do this again sometime.</p>
</div></section>
<section data-type="sect1" data-pdf-bookmark="Solution"><div class="sect1" id="solution-id00002">
<h1>Solution</h1>
<p/>
<section data-type="sect2" data-pdf-bookmark="Sharpen your pencil"><div class="sect2" id="sharpen_your_pencil_left_parenthesis-id0">
<h2>Sharpen your pencil</h2>
<p>(from <a data-type="xref" href="#sharpen_your_pencil-id00009">“Sharpen your pencil”</a>)</p>
<figure class="informal"><div class="figure">
<img src="Images/pencil.png" alt="image" width="122" height="80"/>
<h6/>
</div></figure>
<figure class="informal"><div class="figure">
<img src="Images/f0136-01.png" alt="image" width="1511" height="995"/>
<h6/>
</div></figure>
<p>Notice how with ArrayList, you’re working with an object of type ArrayList, so you’re just invoking regular old methods on a regular old object, using the regular old dot operator.</p>
<p>With an <em>array</em>, you use <em>special array syntax</em> (like myList[0] = foo) that you won’t use anywhere else except with arrays. Even though an array is an object, it lives in its own special world, and you can’t invoke any methods on it, although you can access its one and only instance variable, <em>length.</em></p>
</div></section>
</div></section>
<section data-type="sect1" data-pdf-bookmark="Comparing ArrayList to a regular array"><div class="sect1" id="comparing_arraylist_to_a_regular_array">
<h1>Comparing ArrayList to a regular array</h1>
<ul style="list-style-type:none">
<li><p><a data-type="indexterm" data-primary="add(anObject), ArrayList" id="idm46038395296432"/><a data-type="indexterm" data-primary="arrays" data-secondary="versus ArrayList" id="idm46038395295344"/><a data-type="indexterm" data-primary="collections" data-secondary="parameterized types" id="idm46038395294240"/><a data-type="indexterm" data-primary="parameterized types" id="idm46038395293136"/><a data-type="indexterm" data-primary="type parameters" data-secondary="String in angle brackets as" id="idm46038395292304"/><span class="inlineimage"><img src="Images/1.png" alt="Images" width="20" height="21"/></span> <strong>A plain old array has to know its size at the time it’s created.</strong></p>
<p>But for ArrayList, you just make an object of type ArrayList. Every time. It never needs to know how big it should be, because it grows and shrinks as objects are added or removed.</p>
<figure class="informal"><div class="figure">
<img src="Images/f0137-01.png" alt="image" width="399" height="150"/>
<h6/>
</div></figure></li>
<li><p><span class="inlineimage"><img src="Images/2.png" alt="Images" width="20" height="21"/></span> <strong>To put an object in a regular array, you must assign it to a specific location.</strong></p>
<p>(An index from 0 to one less than the length of the array.)</p>
<figure class="informal"><div class="figure">
<img src="Images/f0137-02.png" alt="image" width="153" height="78"/>
<h6/>
</div></figure>
<p>If that index is outside the boundaries of the array (like the array was declared with a size of 2, and now you’re trying to assign something to index 3), it blows up at runtime.</p>
<p>With ArrayList, you can specify an index using the <em>add(anInt, anObject)</em> method, or you can just keep saying <em>add(anObject)</em> and the ArrayList will keep growing to make room for the new thing.</p>
<figure class="informal"><div class="figure">
<img src="Images/f0137-03.png" alt="image" width="232" height="74"/>
<h6/>
</div></figure></li>
<li><p><span class="inlineimage"><img src="Images/3.png" alt="Images" width="20" height="21"/></span> <strong>Arrays use array syntax that’s not used anywhere else in Java.</strong></p>
<p>But ArrayLists are plain old Java objects, so they have no special syntax.</p>
<figure class="informal"><div class="figure">
<img src="Images/f0137-04.png" alt="image" width="325" height="107"/>
<h6/>
</div></figure></li>
<li><p><span class="inlineimage"><img src="Images/4.png" alt="Images" width="20" height="20"/></span> <strong>ArrayLists are parameterized.</strong></p>
<p>We just said that unlike arrays, ArrayLists have no special syntax. But they <em>do</em> use something special—<strong><em>parameterized types.*</em></strong></p>
<figure class="informal"><div class="figure">
<img src="Images/f0137-05.png" alt="image" width="390" height="153"/>
<h6/>
</div></figure></li>
</ul>
<p>Using the &lt;TypeGoesHere&gt; syntax, we can declare and create an ArrayList that knows (and restricts) the types of objects it can hold. We’ll look at the details of parameterized types in ArrayLists in <a data-type="xref" href="ch11.xhtml#data_structures_collections_and_generics">Chapter 11</a>, <em>Data Structures</em>, so for now, don’t think too much about the angle bracket &lt;&gt; syntax you see when we use ArrayLists. Just know that it’s a way to force the compiler to allow only a specific type of object <em>(the type in angle brackets)</em> in the ArrayList.</p>
<p><em>*Parameterized types were added to Java in Java 5, which came out so long ago that you are almost definitely using a version that supports them!</em></p>
<figure class="informal"><div class="figure">
<img src="Images/inline1.png" alt="image" width="310" height="57"/>
<h6/>
</div></figure>
</div></section>
<section data-type="sect1" data-pdf-bookmark="Let’s fix the Startup code"><div class="sect1" id="letapostrophes_fix_the_startup_code">
<h1>Let’s fix the Startup code</h1>
<p><a data-type="indexterm" data-primary="Startup class" id="idm46038395269344"/>Remember, this is how the buggy version looks:</p>
<figure class="informal"><div class="figure">
<img src="Images/f0138-01.png" alt="image" width="781" height="798"/>
<h6/>
</div></figure>
</div></section>
<section data-type="sect1" data-pdf-bookmark="New and improved Startup class"><div class="sect1" id="new_and_improved_startup_class">
<h1>New and improved Startup class</h1>
<p/>
<figure class="informal"><div class="figure">
<img src="Images/f0139-01.png" alt="image" width="1014" height="1112"/>
<h6/>
</div></figure>
</div></section>
<section data-type="sect1" data-pdf-bookmark="Let’s build the REAL game: “Sink a Startup”"><div class="sect1" id="letapostrophes_build_the_real_game_quota">
<h1>Let’s build the REAL game: “Sink a Startup”</h1>
<p><a data-type="indexterm" data-primary="Sink a Startup game" id="idm46038395260704"/>We’ve been working on the “simple” version, but now let’s build the real one. Instead of a single row, we’ll use a grid. And instead of one Startup, we’ll use three.</p>
<p><strong>Goal:</strong> Sink all of the computer’s Startups in the fewest number of guesses. You’re given a rating level based on how well you perform.</p>
<p><strong>Setup:</strong> When the game program is launched, the computer places three Startups, randomly, on the <strong>virtual 7 x 7 grid</strong>. When that’s complete, the game asks for your first guess.</p>
<p><strong>How you play:</strong> We haven’t learned to build a GUI yet, so this version works at the command line. The computer will prompt you to enter a guess (a cell), which you’ll type at the command line (as “A3,” “C5,” etc.). In response to your guess, you’ll see a result at the command-line, either “hit,” “miss,” or “You sunk poniez” (or whatever the lucky Startup of the day is). When you’ve sent all three Startups to that big 404 in the sky, the game ends by printing out your rating.</p>
<figure class="informal"><div class="figure">
<img src="Images/f0140-01.png" alt="image" width="487" height="473"/>
<h6/>
</div></figure>
<p><strong>You’re going to build the Sink a Startup game, with a 7 x 7 grid and three Startups. Each Startup takes up three cells.</strong></p>
<p><strong>part of a game interaction</strong></p>
<figure class="informal"><div class="figure">
<img src="Images/f0140-02.png" alt="image" width="447" height="805"/>
<h6/>
</div></figure>
</div></section>
<section data-type="sect1" data-pdf-bookmark="What needs to change?"><div class="sect1" id="what_needs_to_changequestion_mark">
<h1>What needs to change?</h1>
<p><a data-type="indexterm" data-primary="StartupBust class" id="idm46038395235760"/><a data-type="indexterm" data-primary="Startup class" id="idm46038395235024"/>We have three classes that need to change: the Startup class (which is now called Startup instead of SimpleStartup), the game class (StartupBust), and the game helper class (which we won’t worry about now).</p>
<ul style="list-style-type:none">
<li><p><span class="inlineimage"><img src="Images/acirclea.png" alt="Images" width="20" height="20"/></span> <strong>Startup class</strong></p>
<ul>
<li><p><strong>A Add a <em>name</em> variable</strong> to hold the name of the Startup (“poniez,” “cabista,” etc.) so each Startup can print its name when it’s killed (see the output screen on the opposite page).</p></li>
</ul></li>
<li><p><span class="inlineimage"><img src="Images/acircleb.png" alt="Images" width="20" height="20"/></span> <strong>StartupBust class (the game)</strong></p>
<ul>
<li><p><strong>Create <em>three</em> Startups instead of one.</strong></p></li>
<li><p><strong>Give each of the three Startups a <em>name.</em></strong> Call a setter method on each Startup instance so that the Startup can assign the name to its name instance variable.</p></li>
<li><p><strong>Put the Startups on a grid rather than just a single row, and do it for all three Startups.</strong></p>
<p>This step is now way more complex than before, if we’re going to place the Startups randomly. Since we’re not here to mess with the math, we put the algorithm for giving the Startups a location into the GameHelper (Ready-Bake Code) class.</p></li>
<li><p><strong>Check each user guess <em>with all three Startups</em>, instead of just one.</strong></p></li>
<li><p><strong>Keep playing the game</strong> (i.e., accepting user guesses and checking them with the remaining Startups) <strong><em>until there are no more live Startups.</em></strong></p></li>
<li><p><strong>Get out of main.</strong> We kept the simple one in main just to...keep it simple. But that’s not what we want for the <em>real</em> game.</p></li>
</ul></li>
</ul>
<p><strong>3 Classes:</strong></p>
<figure class="informal"><div class="figure">
<img src="Images/f0141-01.png" alt="image" width="763" height="308"/>
<h6/>
</div></figure>
<p><strong>5 Objects:</strong></p>
<figure class="informal"><div class="figure">
<img src="Images/f0141-02.png" alt="image" width="747" height="183"/>
<h6/>
</div></figure>
</div></section>
<section data-type="sect1" data-pdf-bookmark="Who does what in the StartupBust game (and when)"><div class="sect1" id="who_does_what_in_the_startupbust_game_le">
<h1>Who does what in the StartupBust game (and when)</h1>
<ul style="list-style-type:none">
<li><p><a data-type="indexterm" data-primary="ArrayList" data-secondary="StartupBust object" id="idm46038395216608"/><a data-type="indexterm" data-primary="GameHelper class" id="idm46038395215280"/><a data-type="indexterm" data-primary="main()" data-secondary="StartupBust object" id="idm46038395214448"/><span class="inlineimage"><img src="Images/1circlea.png" alt="Images" width="23" height="23"/></span></p>
<figure class="informal"><div class="figure">
<img src="Images/f0142-01.png" alt="image" width="721" height="182"/>
<h6/>
</div></figure></li>
<li><p><span class="inlineimage"><img src="Images/1circleb.png" alt="Images" width="23" height="23"/></span></p>
<figure class="informal"><div class="figure">
<img src="Images/f0142-02.png" alt="image" width="722" height="266"/>
<h6/>
</div></figure></li>
<li><p><span class="inlineimage"><img src="Images/1circlec.png" alt="Images" width="23" height="23"/></span></p>
<figure class="informal"><div class="figure">
<img src="Images/f0142-03.png" alt="image" width="704" height="386"/>
<h6/>
</div></figure></li>
<li><p><a data-type="indexterm" data-primary="GameHelper object" id="idm46038395202272"/><a data-type="indexterm" data-primary="Startup objects" id="idm46038395201072"/><span class="inlineimage"><img src="Images/1circled.png" alt="Images" width="23" height="23"/></span></p>
<figure class="informal"><div class="figure">
<img src="Images/f0143-01.png" alt="image" width="870" height="306"/>
<h6/>
</div></figure></li>
<li><p><span class="inlineimage"><img src="Images/1circlee.png" alt="Images" width="23" height="23"/></span></p>
<figure class="informal"><div class="figure">
<img src="Images/f0143-02.png" alt="image" width="1014" height="412"/>
<h6/>
</div></figure></li>
<li><p><span class="inlineimage"><img src="Images/1circlef.png" alt="Images" width="23" height="23"/></span></p>
<figure class="informal"><div class="figure">
<img src="Images/f0143-03.png" alt="image" width="1011" height="405"/>
<h6/>
</div></figure></li>
</ul>
</div></section>
<section data-type="sect1" data-pdf-bookmark="Prep code for the real StartupBust class"><div class="sect1" id="prep_code_for_the_real_startupbust_class">
<h1>Prep code for the <u>real</u> StartupBust class</h1>
<figure class="informal"><div class="figure">
<img src="Images/f0144-01.png" alt="image" width="219" height="302"/>
<h6/>
</div></figure>
<p><a data-type="indexterm" data-primary="declarations" data-secondary="method" id="idm46038395185232"/><a data-type="indexterm" data-primary="declarations" data-secondary="variable" id="idm46038395184256"/><a data-type="indexterm" data-primary="methods" data-secondary="declarations and implementations" id="idm46038395183280"/><a data-type="indexterm" data-primary="prep code" data-secondary="StartupBust class" id="idm46038395182304"/><a data-type="indexterm" data-primary="variables" data-secondary="declaring" id="idm46038395181232"/>The StartupBust class has three main jobs: set up the game, play the game until the Startups are dead, and end the game. Although we could map those three jobs directly into three methods, we split the middle job (play the game) into <em>two</em> methods to keep the granularity smaller. Smaller methods (meaning smaller chunks of functionality) help us test, debug, and modify the code more easily.</p>
<p><strong>Variable Declarations</strong></p>
<p><strong>DECLARE</strong> and instantiate the <em>GameHelper</em> instance variable, named <em>helper.</em></p>
<p><strong>DECLARE</strong> and instantiate an <em>ArrayList</em> to hold the list of Startups (initially three) Call it <em>startups.</em></p>
<p><strong>DECLARE</strong> an int variable to hold the number of user guesses (so that we can give the user a score at the end of the game). Name it <em>numOfGuesses</em> and set it to 0.</p>
<hr/>
<p><strong>Method Declarations</strong></p>
<p><strong>DECLARE</strong> a <em>setUpGame()</em> method to create and initialize the Startup objects with names and locations. Display brief instructions to the user.</p>
<p><strong>DECLARE</strong> a <em>startPlaying()</em> method that asks the player for guesses and calls the checkUserGuess() method until all the Startup objects are removed from play.</p>
<p><strong>DECLARE</strong> a <em>checkUserGuess()</em> method that loops through all remaining Startup objects and calls each Startup object’s checkYourself() method.</p>
<p><strong>DECLARE</strong> a <em>finishGame()</em> method that prints a message about the user’s performance, based on how many guesses it took to sink all of the Startup objects.</p>
<hr/>
<p><strong>Method Implementations</strong></p>
<p><strong>METHOD: <em>void setUpGame()</em></strong></p>
<p>   // make three Startup objects and name them</p>
<p>  <strong>CREATE</strong> three Startup objects.</p>
<p>  <strong>SET</strong> a name for each Startup.</p>
<p>  <strong>ADD</strong> the Startups to <em>startups</em> (the ArrayList).</p>
<p>  <strong>REPEAT</strong> with each of the Startup objects in the <em>startups</em> List:</p>
<p>       <strong>CALL</strong> the <em>placeStartup()</em> method on the helper object, to get a randomly-selected</p>
<p>       location for this Startup (three cells, vertically or horizontally aligned, on a 7 X 7 grid).</p>
<p>       <strong>SET</strong> the location for each Startup based on the result of the <em>placeStartup()</em> call.</p>
<p>   END REPEAT</p>
<p>END METHOD</p>
<p><a data-type="indexterm" data-primary="checkUserGuess()" id="idm46038395158064"/><a data-type="indexterm" data-primary="exercises" data-secondary="Sharpen Your Pencil" id="idm46038395157056"/><a data-type="indexterm" data-primary="test code" id="idm46038395155952"/><strong>METHOD: <em>void startPlaying()</em></strong></p>
<p>      <strong>REPEAT</strong> while any Startups exist.</p>
<p>           <strong>GET</strong> user input by calling the helper <em>getUserInput()</em> method.</p>
<p>           <strong>EVALUATE</strong> the user’s guess by <em>checkUserGuess()</em> method.</p>
<p>     END REPEAT</p>
<p>END METHOD</p>
<p> </p>
<p><strong>METHOD: <em>void checkUserGuess(String userGuess)</em></strong></p>
<p>      // find out if there’s a hit (and kill) on any Startup</p>
<p>      <strong>INCREMENT</strong> the number of user guesses in the <em>numOfGuesses</em> variable.</p>
<p>      <strong>SET</strong> the local <em>result</em> variable (a <em>String</em>) to “miss”, assuming that the user’s guess will be a miss.</p>
<p>      <strong>REPEAT</strong> with each of the Startup objects in the <em>startups</em> List.</p>
<p>          <strong>EVALUATE</strong> the user’s guess by calling the Startup object’s <em>checkYourself()</em> method.</p>
<p>          <strong>SET</strong> the result variable to “hit” or “kill” if appropriate.</p>
<p>          <strong>IF</strong> the result is “kill”, <strong>REMOVE</strong> the Startup from the <em>startups</em> List.</p>
<p>     END REPEAT</p>
<p>     <strong>DISPLAY</strong> the result value to the user.</p>
<p>END METHOD</p>
<p> </p>
<p><strong>METHOD: <em>void finishGame()</em></strong></p>
<p>       <strong>DISPLAY</strong> a generic “game over” message, then:</p>
<p>            <strong>IF</strong> number of user guesses is small,</p>
<p>                <strong>DISPLAY</strong> a congratulations message.</p>
<p>            <strong>ELSE</strong></p>
<p>                <strong>DISPLAY</strong> an insulting one.</p>
<p>       END IF</p>
<p>END METHOD</p>
<p><span class="inlineimage"><img src="Images/arr1.png" alt="Images" width="137" height="12"/></span> <strong>Yours to solve.</strong></p>
<aside data-type="sidebar" epub:type="sidebar"><div class="sidebar" id="sharpen_your_pencil-id00010">
<h5>Sharpen your pencil</h5>
<figure class="informal"><div class="figure">
<img src="Images/pencil.png" alt="image" width="122" height="80"/>
<h6/>
</div></figure>
<p>How should we go from prep code to the final code? First we start with test code, and then test and build up our methods bit by bit. We won’t keep showing you test code in this book, so now it’s up to you to think about what you’d need to know to test these methods. And which method do you test and write first? See if you can work out some prep code for a set of tests. Prep code or even bullet points are good enough for this exercise, but if you want to try to write the <em>real</em> test code (in Java), knock yourself out.</p>
</div></aside>
<figure class="informal"><div class="figure">
<img src="Images/f0146-01.png" alt="image" width="908" height="817"/>
<h6/>
</div></figure>
<aside data-type="sidebar" epub:type="sidebar"><div class="sidebar" id="sharpen_your_pencil-id00011">
<h5>Sharpen your pencil</h5>
<figure class="informal"><div class="figure">
<img src="Images/pencil.png" alt="image" width="122" height="80"/>
<h6/>
</div></figure>
<p>Annotate the code yourself!</p>
<p>Match the annotations at the bottom of each page with the numbers in the code. Write the number in the slot in front of the corresponding annotation.</p>
<p>You’ll use each annotation just once, and you’ll need all of the annotations.</p>
</div></aside>
<figure class="informal"><div class="figure">
<img src="Images/f0146-02.png" alt="image" width="1007" height="227"/>
<h6/>
</div></figure>
<figure class="informal"><div class="figure">
<img src="Images/f0147-01.png" alt="image" width="950" height="838"/>
<h6/>
</div></figure>
<aside data-type="sidebar" epub:type="sidebar"><div class="sidebar" id="id00000016">
<p><strong>Whatever you do, DON’T turn the page!</strong></p>
<p><strong>Not until you’ve finished this exercise.</strong></p>
<p><strong>Our version is on the next page.</strong></p>
<p><span class="inlineimage"><img src="Images/arr1.png" alt="Images" width="137" height="12"/></span></p>
</div></aside>
<figure class="informal"><div class="figure">
<img src="Images/f0147-02.png" alt="image" width="1008" height="257"/>
<h6/>
</div></figure>
<p/>
<figure class="informal"><div class="figure">
<img src="Images/f0148-01.png" alt="image" width="970" height="1073"/>
<h6/>
</div></figure>
<p/>
<figure class="informal"><div class="figure"><img src="Images/f0149-01.png" alt="image" width="1007" height="1099"/>
<h6/>
</div></figure>
</div></section>
<section data-type="sect1" data-pdf-bookmark="The final version of the Startup class"><div class="sect1" id="the_final_version_of_the_startup_class">
<h1>The final version of the Startup class</h1>
<figure class="informal"><div class="figure">
<img src="Images/f0150-01.png" alt="image" width="1002" height="891"/>
<h6/>
</div></figure>
</div></section>
<section data-type="sect1" data-pdf-bookmark="Super powerful Boolean expressions"><div class="sect1" id="super_powerful_boolean_expressions">
<h1>Super powerful Boolean expressions</h1>
<p><a data-type="indexterm" data-primary="Startup class" id="idm46038395097600"/><a data-type="indexterm" data-primary="!= and ! (not equals)" id="idm46038395096560"/><a data-type="indexterm" data-primary="&amp;&amp;, || (‘and’ and ‘or’ operators)" id="idm46038395095728"/><a data-type="indexterm" data-primary="&lt;=, ==,!=, &gt;, &gt;= (comparison operators)" id="idm46038395094928"/><a data-type="indexterm" data-primary="‘and’ and ‘or’ operators (&amp;&amp;, ||)" id="idm46038395094128"/><a data-type="indexterm" data-primary="Boolean expressions" data-secondary="not equals (!= and !)" id="idm46038395093328"/><a data-type="indexterm" data-primary="comparison operators" id="idm46038395092224"/><a data-type="indexterm" data-primary="non short circuit operators (&amp; , |)" id="idm46038395091392"/><a data-type="indexterm" data-primary="not equals (!equals and !)" id="idm46038395090592"/><a data-type="indexterm" data-primary="operators" data-secondary="‘and’ and ‘or’ operators" id="idm46038395089792"/><a data-type="indexterm" data-primary="operators" data-secondary="comparison" id="idm46038395088720"/><a data-type="indexterm" data-primary="operators" data-secondary="non short circuit" id="idm46038395087616"/><a data-type="indexterm" data-primary="operators" data-secondary="short circuit" id="idm46038395086512"/><a data-type="indexterm" data-primary="short circuit operators (&amp;&amp; ,||)" id="idm46038395085408"/>So far, when we’ve used Boolean expressions for our loops or <code>if</code> tests, they’ve been pretty simple. We will be using more powerful boolean expressions in some of the Ready-Bake Code you’re about to see, and even though we know you wouldn’t peek, we thought this would be a good time to discuss how to energize your expressions.</p>
<p><strong>“And” and “Or” Operators</strong> <code>( &amp;&amp;, || )</code></p>
<p>Let’s say you’re writing a chooseCamera( ) method, with lots of rules about which camera to select. Maybe you can choose cameras ranging from $50 to $1000, but in some cases you want to limit the price range more precisely. You want to say something like:</p>
<p>“If the price range is between $300 <strong><em>and</em></strong> $400, then choose X.”</p>
<pre data-type="programlisting">if (price &gt;= 300 &amp;&amp; price &lt; 400) {
  camera = "X";
}</pre>
<p>Let’s say that of the ten camera brands available, you have some logic that applies to only a <em>few</em> of the list:</p>
<pre data-type="programlisting">if (brand.equals("A") || brand.equals("B")) {
  // do stuff for only brand A or brand B
}</pre>
<p>Boolean expressions can get really big and complicated:</p>
<pre data-type="programlisting">if ((zoomType.equals("optical") &amp;&amp;
     (zoomDegree &gt;= 3 &amp;&amp; zoomDegree &lt;= 8)) ||
   (zoomType.equals("digital") &amp;&amp;
    (zoomDegree &gt;= 5 &amp;&amp; zoomDegree &lt;= 12))) {
   // do appropriate zoom stuff
}</pre>
<p>If you want to get <em>really</em> technical, you might wonder about the precedence of these operators. Instead of becoming an expert in the arcane world of precedence, we recommend that you <strong><em>use parentheses</em></strong> to make your code clear.</p>
<p><strong>Not equals ( != and ! )</strong></p>
<p>Let’s say that you have a logic like “of the ten available camera models, a certain thing is <em>true for all but one. “</em></p>
<pre data-type="programlisting">if (model != 2000) {
  //  do non-model 2000 stuff
}</pre>
<p>or for comparing objects like strings...</p>
<pre data-type="programlisting">if (!brand.equals("X")) {
 // do non-brand X stuff
}</pre>
<p><strong>Short-Circuit Operators ( &amp;&amp; , || )</strong></p>
<p>The operators we’ve looked at so far, &amp;&amp; and ||, are known as <strong><em>short-circuit</em></strong> operators. In the case of &amp;&amp;, the expression will be true only if both sides of the &amp;&amp; are true. So if the JVM sees that the left side of a &amp;&amp; expression is false, it stops right there! Doesn’t even bother to look at the right side.</p>
<p>Similarly, with ||, the expression will be true if <em>either</em> side is true, so if the JVM sees that the left side is true, it declares the entire statement to be true and doesn’t bother to check the right side.</p>
<p>Why is this great? Let’s say that you have a reference variable and you’re not sure whether it’s been assigned to an object. If you try to call a method using this null reference variable (i.e., no object has been assigned), you’ll get a NullPointerException. So, try this:</p>
<pre data-type="programlisting">if (refVar != null &amp;&amp;
    refVar.isValidType()) {
  // do ‘got a valid type’ stuff
}</pre>
<p><strong>Non-Short-Circuit Operators ( &amp;, | )</strong></p>
<p>When used in boolean expressions, the &amp; and | operators act like their &amp;&amp; and || counterparts, except that they force the JVM to <em>always</em> check <em>both</em> sides of the expression.  Typically, &amp; and | are used in another context, for manipulating bits.</p>
</div></section>
<section data-type="sect1" data-pdf-bookmark="Ready-Bake Code"><div class="sect1" id="ready-bake_code">
<h1>Ready-Bake Code</h1>
<figure class="informal"><div class="figure">
<img src="Images/f0152-02a.png" alt="image" width="140" height="154"/>
<h6/>
</div></figure>
<p><a data-type="indexterm" data-primary="GameHelper class" id="idm46038395068656"/><a data-type="indexterm" data-primary="Ready-Bake Code" id="idm46038395068144"/><a data-type="indexterm" data-primary="Ready-Bake Code" data-secondary="GameHelper class" id="idm46038395067440"/>This is the helper class for the game. Besides the user input method (that prompts the user and reads input from the command line), the helper’s Big Service is to create the cell locations for the Startups. We tried to keep it fairly small so you wouldn’t have to type so much. And remember, you won’t be able to compile the StartupBust game class until you have <em>this</em> class.</p>
<figure class="informal"><div class="figure">
<img src="Images/f0152-01.png" alt="image" width="1006" height="1082"/>
<h6/>
</div></figure>
<figure class="informal"><div class="figure">
<img src="Images/f0153-01.png" alt="image" width="971" height="1091"/>
<h6/>
</div></figure>
</div></section>
<section data-type="sect1" data-pdf-bookmark="Using the Library (the Java API)"><div class="sect1" id="using_the_library_left_parenthesisthe_ja">
<h1>Using the Library (the Java API)</h1>
<p><a data-type="indexterm" data-primary="classes" data-secondary="and Java API packages" id="idm46038395058128"/><a data-type="indexterm" data-primary="interfaces" data-secondary="naming" id="idm46038395056880"/><a data-type="indexterm" data-primary="Java API" data-secondary="classes and packages" data-seealso="packages, Java API" id="idm46038395055776"/><a data-type="indexterm" data-primary="naming" id="idm46038395054400"/><a data-type="indexterm" data-primary="naming" data-secondary="classes and interfaces" id="idm46038395053568"/><a data-type="indexterm" data-primary="packages, Java API" id="idm46038395052464"/>You made it all the way through the StartupBust game, thanks to the help of ArrayList. And now, as promised, it’s time to learn how to fool around in the Java library.</p>
<p><strong>In the Java API, classes are grouped into packages.</strong></p>
<figure class="informal"><div class="figure">
<img src="Images/f0154-01.png" alt="image" width="511" height="360"/>
<h6/>
</div></figure>
<p><strong>To use a class in the API, you have to know which <u>package</u> the class is in.</strong></p>
<p>Every class in the Java library belongs to a package. The package has a name, like <code><strong>javax.swing</strong></code> (a package that holds some of the Swing GUI classes you’ll learn about soon). ArrayList is in the package called <code><strong>java.util</strong></code>, which surprise surprise, holds a pile of <em>utility</em> classes. You’ll learn a lot more about packages in <a data-type="xref" href="app02.xhtml#appendix_b_the_top_ten-ish_topics_that_d">Appendix B</a>, including how to put your <em>own</em> classes into your <em>own</em> packages. For now, though, we’re just looking to <em>use</em> some of the classes that come with Java.</p>
<p>Using a class from the API, in your own code, is simple. You just treat the class as though you wrote it yourself...as though you compiled it, and there it sits, waiting for you to use it. With one big difference: somewhere in your code you have to indicate the <em>full</em> name of the library class you want to use, and that means package name + class name.</p>
<p>Even if you didn’t know it, <strong><em>you’ve already been using classes from a package.</em></strong> System (System.out.println), String, and Math (Math.random()) all belong to the <code><strong>java.lang</strong></code> package.</p>
</div></section>
<section data-type="sect1" data-pdf-bookmark="You have to know the full name* of the class you want to use in your code."><div class="sect1" id="you_have_to_know_the_full_nameasterisk_o">
<h1>You have to know the <u>full</u> name* of the class you want to use in your code.</h1>
<p><a data-type="indexterm" data-primary="classes" data-secondary="full names in Java library" id="idm46038395037504"/><a data-type="indexterm" data-primary="fully qualified name, Java library packages" id="idm46038395036368"/><a data-type="indexterm" data-primary="import statement" id="idm46038395035568"/>ArrayList is not the <em>full</em> name of ArrayList, just as Kathy isn’t a full name (unless it’s like Madonna or Cher, but we won’t go there). The full name of ArrayList is actually:</p>
<figure class="informal"><div class="figure">
<img src="Images/f0155-01.png" alt="image" width="347" height="93"/>
<h6/>
</div></figure>
<p><strong>You have to tell Java which ArrayList you want to use. You have two options:</strong></p>
<ul style="list-style-type:none">
<li><p><span class="inlineimage"><img src="Images/acirclea.png" alt="Images" width="20" height="20"/></span> <strong>IMPORT</strong></p>
<p>Put an import statement at the top of your source code file:</p>
<pre data-type="programlisting">import java.util.ArrayList;
public class MyClass {... }</pre>
<p><strong>OR</strong></p></li>
<li><p><span class="inlineimage"><img src="Images/acircleb.png" alt="Images" width="20" height="20"/></span> <strong>TYPE</strong></p>
<p>Type the full name everywhere in your code. Each time you use it. <em>Everywhere</em> you use it.</p>
<p>When you declare and/or instantiate it:</p>
<pre data-type="programlisting">java.util.ArrayList&lt;Dog&gt; list = new java.util.ArrayList&lt;Dog&gt;();</pre>
<p>When you use it as an argument type:</p>
<pre data-type="programlisting">public void go(java.util.ArrayList&lt;Dog&gt; list) { }</pre>
<p>When you use it as a return type:</p>
<pre data-type="programlisting">public java.util.ArrayList&lt;Dog&gt; foo() {...}</pre>
<p><em>*Unless the class is in the java.lang package.</em></p></li>
</ul>
<aside data-type="sidebar" epub:type="sidebar"><div class="sidebar" id="there_are_no_dumb_questions-id00009">
<h5>there are no Dumb Questions</h5>
<p><a data-type="indexterm" data-primary="security" data-secondary="from package organization in Java library" id="idm46038395017968"/><strong>Q: Why does there have to be a full name? Is that the only purpose of a package?</strong></p>
<p><strong>A:</strong> Packages are important for three main reasons. First, they help the overall organization of a project or library. Rather than just having one horrendously large pile of classes, they’re all grouped into packages for specific kinds of functionality (like GUI or data structures or database stuff, etc.).</p>
<p>Second, packages give you a name-scoping, to help prevent collisions if you and 12 other programmers in your company all decide to make a class with the same name. If you have a class named Set and someone else (including the Java API) has a class named Set, you need some way to tell the JVM <em>which</em> Set class you’re trying to use.</p>
<p>Third, packages provide a level of security, because you can restrict the code you write so that only other classes in the same package can access it. The details are in <a data-type="xref" href="app02.xhtml#appendix_b_the_top_ten-ish_topics_that_d">Appendix B</a>.</p>
<p><strong>Q: OK, back to the name collision thing. How does a full name really help? What’s to prevent two people from giving a class the same package name?</strong></p>
<p><strong>A:</strong> Java has a naming convention that usually prevents this from happening, as long as developers adhere to it.</p>
</div></aside>
<aside data-type="sidebar" epub:type="sidebar"><div class="sidebar" id="bullet_points-id00006">
<h5>BULLET POINTS</h5>
<ul>
<li><p><strong>ArrayList</strong> is a class in the Java API.</p></li>
<li><p>To put something into an ArrayList, use <strong>add().</strong></p></li>
<li><p>To remove something from an ArrayList use <strong>remove()</strong>.</p></li>
<li><p>To find out where something is (and if it is) in an ArrayList, use <strong>indexOf().</strong></p></li>
<li><p>To find out if an ArrayList is empty, use <strong>isEmpty()</strong>.</p></li>
<li><p>To get the size (number of elements) in an ArrayList, use the <strong>size() <em>method</em></strong>.</p></li>
<li><p>To get the <strong>length</strong> (number of elements) in a regular old array, remember, you use the <strong>length <em>variable</em>.</strong></p></li>
<li><p>An ArrayList <strong>resizes dynamically</strong> to whatever size is needed. It grows when objects are added, and it <strong>shrinks</strong> when objects are removed.</p></li>
<li><p>You declare the type of the array using a <strong>type parameter</strong>, which is a type name in angle brackets. Example: ArrayList&lt;Button&gt; means the ArrayList will be able to hold only objects of type Button (or subclasses of Button as you’ll learn in the next couple of chapters).</p></li>
<li><p>Although an ArrayList holds objects and not primitives, the compiler will automatically “wrap” (and “unwrap” when you take it out) a primitive into an Object and place that object in the ArrayList instead of the primitive. (More on this feature later in the book.)</p></li>
<li><p>Classes are grouped into packages.</p></li>
<li><p>A class has a full name, which is a combination of the package name and the class name. Class ArrayList is really java.util.ArrayList.</p></li>
<li><p>To use a class in a package other than java.lang, you must tell Java the full name of the class.</p></li>
<li><p>You can either use an import statement at the top of your source code, or you can type the full name every place you use the class in your code.</p></li>
</ul>
</div></aside>
<aside data-type="sidebar" epub:type="sidebar"><div class="sidebar" id="there_are_no_dumb_questions-id00010">
<h5>there are no Dumb Questions</h5>
<p><a data-type="indexterm" data-primary="import statement" id="idm46038394988944"/><strong>Q: Does <code>import</code> make my class bigger? Does it actually compile the imported class or  package into <em>my</em> code?</strong></p>
<p><strong>A:</strong> Perhaps you’re a C programmer? An <code>import</code> is not the same as an <code>include</code>. So the answer is no and no. Repeat after me: “an <code>import</code> statement saves you from typing.” That’s really it. You don’t have to worry about your code becoming bloated, or slower, from too many imports. An <code>import</code> is simply the way you give Java the <em>full name of a class</em>.</p>
<p><strong>Q: OK, how come I never had to import the String class? Or System?</strong></p>
<p><strong>A:</strong> Remember, you get the java.lang package sort of “pre-imported” for free. Because the classes in java.lang are so fundamental, you don’t have to use the full name. There is only one java.lang.String class and one java.lang.System class, and Java darn well knows where to find them.</p>
<p><strong>Q: Do I have to put my own classes into packages? How do I do that? <em>Can</em> I do that?</strong></p>
<p><strong>A:</strong> In the real world (which you should try to avoid), yes, you <em>will</em> want to put your classes into packages. We’ll get into that in detail in <a data-type="xref" href="app02.xhtml#appendix_b_the_top_ten-ish_topics_that_d">Appendix B</a>. For now, we won’t put our code examples in a package.*</p>
<p><em>*But when you look at the code in the repo (<a href="https://oreil.ly/hfJava_3e_examples">https://oreil.ly/hfJava_3e_examples</a>), you’ll see we put the classes into packages.</em></p>
</div></aside>
<aside data-type="sidebar" epub:type="sidebar"><div class="sidebar" id="make_it_stick">
<h5>Make it Stick</h5>
<figure class="informal"><div class="figure">
<img src="Images/f0157-02.png" alt="image" width="212" height="200"/>
<h6/>
</div></figure>
<p><em>Roses are red,</em></p>
<p><em>apples are ripe,</em></p>
<p><em>if you don’t import</em></p>
<p><em>you’ll just have to type</em></p>
<p><strong>You must tell Java the full name of every class you use</strong>, unless that class is in the java.lang package.  An <code>import</code> statement for the class or package at the top of your source code is the easy way. Otherwise, you have to type the full name of the class, everywhere you use it!</p>
</div></aside>
<p><strong>One more time, in the unlikely event that you don’t already have this down:</strong></p>
<figure class="informal"><div class="figure">
<img src="Images/f0157-01.png" alt="image" width="441" height="538"/>
<h6/>
</div></figure>
<p><em>“Good to know there’s an ArrayList in the java. util package. But by myself, how would I have figured that out?”</em></p>
<p>- Julia, 31, hand model</p>
<figure class="informal"><div class="figure">
<img src="Images/f0158-01.png" alt="image" width="300" height="325"/>
<h6/>
</div></figure>
</div></section>
<section data-type="sect1" data-pdf-bookmark="How to discover the API"><div class="sect1" id="how_to_discover_the_api">
<h1>How to discover the API</h1>
<p><a data-type="indexterm" data-primary="Java API" data-secondary="documentation" id="idm46038394968048"/><strong>Two things you want to know:</strong></p>
<ul style="list-style-type:none">
<li><p><span class="inlineimage"><img src="Images/1circle.png" alt="Images" width="20" height="20"/></span> <strong>What features are available in the library? (Which classes?)</strong></p></li>
<li><p><span class="inlineimage"><img src="Images/2circle.png" alt="Images" width="23" height="23"/></span> <strong>How do you use these features? (Once you find a class, how do you know what it can do?)</strong></p></li>
</ul>
<ul style="list-style-type:none">
<li><p><span class="inlineimage"><img src="Images/1circlea.png" alt="Images" width="23" height="23"/></span> <strong>Browse a book</strong></p>
<figure class="informal"><div class="figure">
<img src="Images/f0158-02.png" alt="image" width="330" height="492"/>
<h6/>
</div></figure></li>
<li><p><span class="inlineimage"><img src="Images/1circleb.png" alt="Images" width="23" height="23"/></span> <strong>Use the HTML API docs</strong></p>
<figure class="informal"><div class="figure">
<img src="Images/f0158-03.png" alt="image" width="620" height="418"/>
<h6/>
</div></figure></li>
</ul>
<p><strong><em><a href="https://docs.oracle.com/en/java/javase/17/docs/api/index.html">https://docs.oracle.com/en/java/javase/17/docs/api/index.html</a></em></strong></p>
</div></section>
<section data-type="sect1" data-pdf-bookmark=" Browse a book"><div class="sect1" id="browse_a_book">
<h1><span class="inlineimage"><img src="Images/1circlea.png" alt="Images" width="23" height="23"/></span> Browse a book</h1>
<figure class="informal"><div class="figure">
<img src="Images/f0159-01.png" alt="image" width="106" height="155"/>
<h6/>
</div></figure>
<p>Flipping through a reference book is a good way to find out what’s in the Java library. You can easily stumble on to a package or class that looks useful just by browsing pages.</p>
<figure class="informal"><div class="figure">
<img src="Images/f0159-02.png" alt="image" width="745" height="951"/>
<h6/>
</div></figure>
</div></section>
<section data-type="sect1" data-pdf-bookmark=" Use the HTML API docs"><div class="sect1" id="use_the_html_api_docs">
<h1><span class="inlineimage"><img src="Images/1circleb.png" alt="Images" width="23" height="23"/></span> Use the HTML API docs</h1>
<p><a data-type="indexterm" data-primary="HTML API docs" id="idm46038394941760"/>Java comes with a fabulous set of online docs called, strangely, the Java API. You (or your IDE) can also download the docs to have on your hard drive just in case your internet connection fails at the Worst Possible Moment.</p>
<p>The API docs are the best reference for getting more details about what’s in a package, and what the classes and interfaces in the package provide (e.g., in terms of methods and functionality).</p>
<p><span style="color:#646466;">The docs look different depending upon the version of Java you’re using Make sure you’re looking at the docs for your version of Java!</span></p>
<p><strong>Java 8 and earlier</strong></p>
<p><strong><em><a href="https://docs.oracle.com/javase/8/docs/api/index.html">https://docs.oracle.com/javase/8/docs/api/index.html</a></em></strong></p>
<figure class="informal"><div class="figure">
<img src="Images/f0160-01.png" alt="image" width="996" height="580"/>
<h6/>
</div></figure>
<p>You can navigate these docs:</p>
<ul>
<li><p><strong>Top down:</strong> find a package you’re interested in from the list in the top left and drill down.</p></li>
<li><p><strong>Class-first:</strong> find the class you want to know more about in the list in the bottom left, and click it.</p></li>
</ul>
<p><span style="color:#9D9EA0;">The main panel will show you the details of whatever you’re looking at. If you select a package, it will give summary information about that package and a list of the classes and interfaces.</span></p>
<p><span style="color:#9D9EA0;">If you select a class, it will show you a description of the class, and details of all the methods in the class, what they do, and how to use them.</span></p>
<p><a data-type="indexterm" data-primary="Java Module System" id="idm46038395542752"/><strong>Java 9 and later</strong></p>
<p>Java 9 introduced the Java Module System, which we’re not going to cover in this book. What you do need to know to understand the docs is that the JDK is now split into <em>modules.</em> These modules group together related packages. This can make it easier to find the classes that interest you, because they’re grouped by function. All of the classes we’ve covered in this book so far are in the <strong>java.base</strong> module; this contains core Java packages like java.lang and java.util.</p>
<figure class="informal"><div class="figure">
<img src="Images/f0161-01.png" alt="image" width="997" height="776"/>
<h6/>
</div></figure>
<p>You can navigate these docs:</p>
<ul>
<li><p><strong>Top down:</strong> find a module that looks like it covers the functionality you want, see its packages, and drill down from a package into its classes.</p></li>
<li><p><strong>Search:</strong> Use the search in the top right to go directly to the method, class, package, or module you want to read about.</p></li>
</ul>
<figure class="informal"><div class="figure">
<img src="Images/f0161-02.png" alt="image" width="639" height="423"/>
<h6/>
</div></figure>
</div></section>
<section data-type="sect1" data-pdf-bookmark="Using the class documentation"><div class="sect1" id="using_the_class_documentation">
<h1>Using the class documentation</h1>
<p><a data-type="indexterm" data-primary="classes" data-secondary="documentation" id="idm46038394923504"/>Whichever version of the Java docs you’re using, they all have a similar layout for showing information about a specific class. This is where the juicy details are.</p>
<p>Let’s say you were browsing through the reference book and found a class called ArrayList, in java.util. The book tells you a little about it, enough to know that this is indeed what you want to use, but you still need to know more about the methods. In the reference book, you’ll find the method indexOf(). But if all you knew is that there is a method called indexOf() that takes an object and returns the index (an int) of that object, you still need to know one crucial thing: what happens if the object is not in the ArrayList? Looking at the method signature alone won’t tell you how that works. But the API docs will (most of the time, anyway). The API docs tell you that the indexOf() method returns a -1 if the object parameter is not in the ArrayList. So now we know we can use it both as a way to check if an object is even in the ArrayList, and to get its index at the same time, if the object was there. But without the API docs, we might have thought that the indexOf() method would blow up if the object wasn’t in the ArrayList.</p>
<figure class="informal"><div class="figure">
<img src="Images/f0162-01.png" alt="image" width="1048" height="681"/>
<h6/>
</div></figure>
<p><strong>In <a data-type="xref" href="ch11.xhtml#data_structures_collections_and_generics">Chapter 11</a> and <a data-type="xref" href="ch12.xhtml#lambdas_and_streams_whatcomma_not_how_la">Chapter 12</a>, you’ll see how we use the API docs to figure out how to use the Java Libraries.</strong></p>
</div></section>
<section data-type="sect1" data-pdf-bookmark="Exercise"><div class="sect1" id="exercise-id000003">
<h1>Exercise</h1>
<figure class="informal"><div class="figure">
<img src="Images/common-03.png" alt="image" width="100" height="85"/>
<h6/>
</div></figure>
<section data-type="sect2" data-pdf-bookmark="Code Magnets"><div class="sect2" id="code_magnets-id000003">
<h2>Code Magnets</h2>
<figure class="informal"><div class="figure">
<img src="Images/common-02.png" alt="image" width="100" height="146"/>
<h6/>
</div></figure>
<p><a data-type="indexterm" data-primary="exercises" data-secondary="Code Magnets" id="idm46038394909696"/>Can you reconstruct the code snippets to make a working Java program that produces the output listed below? <strong>NOTE:</strong> To do this exercise, you need one NEW piece of info—if you look in the API for ArrayList, you’ll find a second add method that takes two arguments:</p>
<p><strong>add(int index, Object o)</strong></p>
<p>It lets you specify to the ArrayList <em>where</em> to put the object you’re adding.</p>
<figure class="informal"><div class="figure">
<img src="Images/f0163-01.png" alt="image" width="880" height="1011"/>
<h6/>
</div></figure>
<p><span class="inlineimage"><img src="Images/arr1.png" alt="Images" width="137" height="12"/></span> <strong>Answers in <a data-type="xref" href="#code_magnets_left_parenthesisfrom_pag-id">“Code Magnets”</a>.</strong></p>
</div></section>
<section data-type="sect2" data-pdf-bookmark="JavaCross"><div class="sect2" id="javacross-id00002">
<h2>JavaCross</h2>
<figure class="informal"><div class="figure">
<img src="Images/common-04.png" alt="image" width="110" height="75"/>
<h6/>
</div></figure>
<p><a data-type="indexterm" data-primary="puzzles" data-secondary="JavaCross" id="idm46038394896240"/>How does this crossword puzzle help you learn Java? Well, all of the words <strong>are</strong> Java related (except one red herring).</p>
<p><strong>Hint:</strong> When in doubt, remember ArrayList.</p>
<figure class="informal"><div class="figure">
<img src="Images/f0164-01.png" alt="image" width="586" height="513"/>
<h6/>
</div></figure>
<p><strong>Across</strong></p>
<p>1. I can’t behave</p>
<p>6. Or, in the courtroom</p>
<p>7. Where it’s at baby</p>
<p>9. A fork’s origin</p>
<p>12. Grow an ArrayList</p>
<p>13. Wholly massive</p>
<p>14. Value copy</p>
<p>16. Not an object</p>
<p>17. An array on steroids</p>
<p>19. Extent</p>
<p>21. 19’s counterpart</p>
<p>22. Spanish geek snacks (Note: This has nothing to do with Java.)</p>
<p>23. For lazy fingers</p>
<p>24. Where packages roam</p>
<p><strong>Down</strong></p>
<p>2. Where the Java action is</p>
<p>3. Addressable unit</p>
<p>4. 2nd smallest</p>
<p>5. Fractional default</p>
<p>8. Library’s grandest</p>
<p>10. Must be low density</p>
<p>11. He’s in there somewhere</p>
<p>15. As if</p>
<p>16. dearth method</p>
<p>18. What shopping and arrays have in common</p>
<p>20. Library acronym</p>
<p>21. What goes around</p>
<p><strong>More Hints:</strong></p>
<p>Across</p>
<p>1. 8 varieties</p>
<p>7. Think ArrayList</p>
<p>16. Common primitive</p>
<p>21. Array’s extent</p>
<p>22. Not about Java—Spanish appetizers</p>
<p>Down</p>
<p>2. What’s overridable?</p>
<p>3. Think ArrayList</p>
<p>4. &amp; 10. Primitive</p>
<p>16. Think ArrayList</p>
<p>18. He’s making a ______</p>
<p><span class="inlineimage"><img src="Images/arr1.png" alt="Images" width="137" height="12"/></span> <strong>Answers in <a data-type="xref" href="#javacross_left_parenthesisfrom_page_164r">“JavaCross”</a>.</strong></p>
</div></section>
</div></section>
<section data-type="sect1" data-pdf-bookmark="Exercise Solutions"><div class="sect1" id="exercise_solutions-id00020">
<h1>Exercise Solutions</h1>
<figure class="informal"><div class="figure">
<img src="Images/common-03.png" alt="image" width="100" height="85"/>
<h6/>
</div></figure>
<figure class="informal"><div class="figure">
<img src="Images/f0165-01.png" alt="image" width="299" height="171"/>
<h6/>
</div></figure>
<section data-type="sect2" data-pdf-bookmark="Code Magnets"><div class="sect2" id="code_magnets_left_parenthesisfrom_pag-id">
<h2>Code Magnets</h2>
<p>(from <a data-type="xref" href="#code_magnets-id000003">“Code Magnets”</a>)</p>
<pre data-type="programlisting">import java.util.ArrayList;

public class ArrayListMagnet {
  public static void main(String[] args) {
    ArrayList&lt;String&gt; a = new ArrayList&lt;String&gt;();
    a.add(0, "zero");
    a.add(1, "one");
    a.add(2, "two");
    a.add(3, "three");
    printList(a);

    if (a.contains("three")) {
      a.add("four");
    }
    a.remove(2);
    printList(a);

    if (a.indexOf("four") != 4) {
      a.add(4, "4.2");
    }
    printList(a);

    if (a.contains("two")) {
      a.add("2.2");
    }
    printList(a);
  }

  public static void printList(ArrayList&lt;String&gt; list) {
    for (String element : list) {
      System.out.print(element + "  ");
    }
    System.out.println();
  }
}</pre>
</div></section>
<section data-type="sect2" data-pdf-bookmark="JavaCross"><div class="sect2" id="javacross_left_parenthesisfrom_page_164r">
<h2>JavaCross</h2>
<p>(from <a data-type="xref" href="#javacross-id00002">“JavaCross”</a>)</p>
<figure class="informal"><div class="figure">
<img src="Images/common-04.png" alt="image" width="110" height="75"/>
<h6/>
</div></figure>
<figure class="informal"><div class="figure">
<img src="Images/f0166-01.png" alt="image" width="469" height="461"/>
<h6/>
</div></figure>
<aside data-type="sidebar" epub:type="sidebar"><div class="sidebar" id="sharpen_your_pencil-id00012">
<h5>Sharpen your pencil</h5>
<figure class="informal"><div class="figure">
<img src="Images/pencil.png" alt="image" width="122" height="80"/>
<h6/>
</div></figure>
<p>Write your OWN set of clues! Look at each word, and try to write your own clues. Try making them easier, or harder, or more technical than the ones we have.</p>
<p><strong>Across</strong></p>
<p>1. ___________________________________</p>
<p>6. ___________________________________</p>
<p>7. ___________________________________</p>
<p>9. ___________________________________</p>
<p>12. ___________________________________</p>
<p>13. ___________________________________</p>
<p>14. ___________________________________</p>
<p>16. ___________________________________</p>
<p>17. ___________________________________</p>
<p>19. ___________________________________</p>
<p>21. ___________________________________</p>
<p>22. ___________________________________</p>
<p>23. ___________________________________</p>
<p>24. ___________________________________</p>
<p><strong>Down</strong></p>
<p>2. ___________________________________</p>
<p>3. ___________________________________</p>
<p>4. ___________________________________</p>
<p>5. ___________________________________</p>
<p>8. ___________________________________</p>
<p>10. ___________________________________</p>
<p>11. ___________________________________</p>
<p>15. ___________________________________</p>
<p>16. ___________________________________</p>
<p>18. ___________________________________</p>
<p>20. ___________________________________</p>
<p>21. ___________________________________</p>
</div></aside>
</div></section>
</div></section>
</div></section></div></body></html>