<html><head></head><body><section data-pdf-bookmark="Chapter 19. Closing Thoughts" data-type="chapter" epub:type="chapter"><div class="chapter" id="ch_closing">&#13;
<h1><span class="label">Chapter 19. </span>Closing Thoughts</h1>&#13;
&#13;
&#13;
&#13;
&#13;
&#13;
&#13;
&#13;
<section data-pdf-bookmark="Introduction" data-type="sect1"><div class="sect1" id="id679">&#13;
<h1>Introduction</h1>&#13;
&#13;
<p>I hope you’ve found the recipes and APIs covered in this book to be useful and interesting. Hopefully you’ve been able to apply what you’ve learned in this book to level up your JavaScript applications.</p>&#13;
</div></section>&#13;
&#13;
&#13;
&#13;
&#13;
&#13;
&#13;
<section data-pdf-bookmark="In Defense of Third-Party Libraries" data-type="sect1"><div class="sect1" id="id249">&#13;
<h1>In Defense of Third-Party Libraries</h1>&#13;
&#13;
<p><a data-primary="libraries, third-party" data-type="indexterm" id="id1271"/><a data-primary="third-party libraries" data-type="indexterm" id="id1272"/>One of the main themes of this book is the fact that you can do so much without needing third-party libraries. This is true, but don’t feel like you have to avoid third-party libraries at all costs. Sometimes using the built-in browser APIs saves you from needing a dependency, but you might have to write extra “glue” code to adapt it to what you’re trying to accomplish.</p>&#13;
&#13;
<p>Some browser APIs can be awkward to work with. Take the IndexedDB API, for example. It’s a powerful data persistence and access layer, but its API is callback based and can be painful to work with. There are libraries available that wrap IndexedDB and provide a simpler—or, in some cases, more powerful—API. For example, Dexie.js wraps IndexedDB with a <code>Promise</code>-based API.</p>&#13;
&#13;
<p>In the end, everything is a trade-off. If you have room to spare in your JavaScript bundle to provide an easier developer experience, it’s probably worth it.</p>&#13;
</div></section>&#13;
&#13;
&#13;
&#13;
&#13;
&#13;
&#13;
<section data-pdf-bookmark="Detect Features, Not Browser Versions" data-type="sect1"><div class="sect1" id="id250">&#13;
<h1>Detect Features, Not Browser Versions</h1>&#13;
&#13;
<p><a data-primary="browser version, detecting" data-type="indexterm" id="id1273"/><a data-primary="feature detection" data-type="indexterm" id="id1274"/>If you need to check if the user is running a browser that supports the API you want to use, you might think to look at the user agent string and figure out which browser version the user has. Try to avoid this. It is notoriously unreliable, plus it’s trivial to spoof the user agent string to masquerade as another browser.</p>&#13;
&#13;
<p>Instead, detect if a particular feature is available. For example, if you wanted to check if the browser supports IndexedDB, just check for the presence of the <code>indexedDB</code> property in the <code>window</code> object (see <a data-type="xref" href="#example19-1">Example 19-1</a>).</p>&#13;
<div data-type="example" id="example19-1">&#13;
<h5><span class="label">Example 19-1. </span>Checking for IndexedDB support</h5>&#13;
&#13;
<pre data-code-language="javascript" data-type="programlisting"><code class="k">if</code> <code class="p">(</code><code class="s1">'indexedDB'</code> <code class="k">in</code> <code class="nb">window</code><code class="p">)</code> <code class="p">{</code>&#13;
  <code class="c1">// IndexedDB is supported!</code>&#13;
<code class="p">}</code></pre></div>&#13;
</div></section>&#13;
&#13;
&#13;
&#13;
&#13;
&#13;
&#13;
<section data-pdf-bookmark="Polyfills" data-type="sect1"><div class="sect1" id="id251">&#13;
<h1>Polyfills</h1>&#13;
&#13;
<p><a data-primary="polyfills" data-type="indexterm" id="id1275"/>If you need to support older browsers, you may be able to still use some of these APIs with a polyfill. This is a third-party JavaScript library that adds the missing functionality. These polyfills may not be as performant as the built-in APIs, but they allow you to use newer APIs in browsers that otherwise wouldn’t support them.</p>&#13;
&#13;
<p>Some APIs can’t be polyfilled, of course, because they rely on integration with native device capabilities like the accelerometer or geolocation. If the browser has no way to communicate with these system services, no amount of third-party code can bridge that gap.</p>&#13;
</div></section>&#13;
&#13;
&#13;
&#13;
&#13;
&#13;
&#13;
<section data-pdf-bookmark="Looking Ahead to the Future" data-type="sect1"><div class="sect1" id="id680">&#13;
<h1>Looking Ahead to the Future</h1>&#13;
&#13;
<p>There are even more exciting APIs on the horizon that will further expand what you can do in browser-based apps without needing plug-ins or third-party libraries. To close out the book, this section briefly looks at some upcoming experimental APIs that will enrich browser apps even more in the near future.</p>&#13;
&#13;
&#13;
&#13;
&#13;
&#13;
&#13;
&#13;
&#13;
<section data-pdf-bookmark="Web Bluetooth API" data-type="sect2"><div class="sect2" id="id252">&#13;
<h2>Web Bluetooth API</h2>&#13;
&#13;
<p><a data-primary="Web Bluetooth API" data-type="indexterm" id="id1276"/>Soon you’ll be able to interact with Bluetooth devices natively in the browser using the Web Bluetooth API. It provides a <code>Promise</code>-based interface for discovering and reading information about connected Bluetooth devices. You can read data such as battery level, or listen for notifications from devices.</p>&#13;
&#13;
<p><a data-primary="GATT (Generic Attribute) Profile" data-type="indexterm" id="id1277"/>This works by interacting with the device’s GATT (Generic Attribute) Profile, which defines supported services and characteristics for a Bluetooth device. This keeps the API generic, allowing it the flexibility to work with any kind of device that supports GATT.</p>&#13;
</div></section>&#13;
&#13;
&#13;
&#13;
&#13;
&#13;
&#13;
&#13;
&#13;
<section data-pdf-bookmark="Web NFC API" data-type="sect2"><div class="sect2" id="id253">&#13;
<h2>Web NFC API</h2>&#13;
&#13;
<p><a data-primary="Near-field communication (NFC)" data-type="indexterm" id="id1278"/><a data-primary="Web NFC API" data-type="indexterm" id="id1279"/>Near-field communication (NFC) allows devices to exchange information when they are in close proximity to one another. The Web NFC API will allow devices to exchange messages and information with NFC hardware.</p>&#13;
&#13;
<p>This API provides the ability to exchange messages using the NFC Data Exchange Format (NDEF). This is a standardized format published by the NFC Forum.</p>&#13;
</div></section>&#13;
&#13;
&#13;
&#13;
&#13;
&#13;
&#13;
&#13;
&#13;
<section data-pdf-bookmark="EyeDropper API" data-type="sect2"><div class="sect2" id="id254">&#13;
<h2>EyeDropper API</h2>&#13;
&#13;
<p><a data-primary="EyeDropper API" data-type="indexterm" id="id1280"/>The EyeDropper API will allow you to select a color from pixels on the screen via an eye dropper tool. This tool will work both inside and outside the browser window, allowing you to pick a color from anywhere on the screen.</p>&#13;
&#13;
<p>You can construct an eye dropper by calling the <code>EyeDropper</code> constructor. The <code>EyeDropper</code> provides an <code>open</code> method that shows an eye dropper interface on the screen, and returns a <code>Promise</code>. Once you select a pixel with the eye dropper, the <code>Promise</code> resolves with the color of the selected pixel.</p>&#13;
</div></section>&#13;
&#13;
&#13;
&#13;
&#13;
&#13;
&#13;
&#13;
&#13;
<section data-pdf-bookmark="Barcode Detection API" data-type="sect2"><div class="sect2" id="id255">&#13;
<h2>Barcode Detection API</h2>&#13;
&#13;
<p><a data-primary="Barcode Detection API" data-type="indexterm" id="id1281"/><a data-primary="QR codes" data-type="indexterm" id="id1282"/>This API will give your applications the ability to read barcodes and QR codes. It supports many types of standard barcode types. This will be a versatile API that can read barcodes from many different image sources: image and video elements, Blobs, canvas elements, and more.</p>&#13;
&#13;
<p>Barcodes are detected by passing image data to a <code>BarcodeDetector</code>’s <code>detect</code> method. This returns a <code>Promise</code> that resolves to data about any detected barcodes and their values.</p>&#13;
</div></section>&#13;
&#13;
&#13;
&#13;
&#13;
&#13;
&#13;
&#13;
&#13;
<section data-pdf-bookmark="Cookie Store API" data-type="sect2"><div class="sect2" id="id256">&#13;
<h2>Cookie Store API</h2>&#13;
&#13;
<p><a data-primary="Cookie Store API" data-type="indexterm" id="id1283"/>The current mechanism for working with cookies in the browser is not very convenient. The <code>document.cookie</code> property is a single string that contains key/value pair mappings of cookie names and values for the current site.</p>&#13;
&#13;
<p>The upcoming Cookie Store API provides an asynchronous, more robust interface for accessing cookie information. You can look up the details of a single cookie with the <code>CookieStore.get</code> method, which returns a <code>Promise</code> that resolves to information about the cookie with the given name.</p>&#13;
&#13;
<p>It also lets you listen to <code>change</code> events, which are fired whenever cookie data changes.</p>&#13;
</div></section>&#13;
&#13;
&#13;
&#13;
&#13;
&#13;
&#13;
&#13;
&#13;
<section data-pdf-bookmark="Payment APIs" data-type="sect2"><div class="sect2" id="id257">&#13;
<h2>Payment APIs</h2>&#13;
&#13;
<p><a data-primary="Payment APIs" data-type="indexterm" id="id1284"/>The Payment Request API provides a way for a website to initiate a payment in the browser. You can then use the Payment Handler API to process the payment without having to redirect to another website.</p>&#13;
&#13;
<p>This will let you provide a more consistent experience when using an external payment processor.</p>&#13;
</div></section>&#13;
&#13;
&#13;
&#13;
&#13;
&#13;
&#13;
&#13;
&#13;
<section data-pdf-bookmark="Finding What’s Next" data-type="sect2"><div class="sect2" id="id681">&#13;
<h2>Finding What’s Next</h2>&#13;
&#13;
<p>The web is always changing. If you want to get a peek at what other web browser APIs are coming, some good resources are:</p>&#13;
&#13;
<ul>&#13;
<li>&#13;
<p><a href="https://oreil.ly/PqBPh">MDN Web Docs</a> has a <a href="https://oreil.ly/YTWkO">Web APIs page</a> that shows an overview of current and upcoming or experimental APIs.</p>&#13;
</li>&#13;
<li>&#13;
<p><a href="https://oreil.ly/Xu47E">The W3C standards and drafts page</a> contains a searchable directory of standards and draft specifications at all levels of development.</p>&#13;
</li>&#13;
</ul>&#13;
</div></section>&#13;
</div></section>&#13;
</div></section></body></html>