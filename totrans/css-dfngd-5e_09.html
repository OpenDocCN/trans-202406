<html><head></head><body><section data-pdf-bookmark="Chapter 9. Gradients" data-type="chapter" epub:type="chapter"><div class="chapter" id="gradients">&#13;
<h1><span class="label">Chapter 9. </span>Gradients</h1>&#13;
&#13;
&#13;
<p>Three <a data-primary="gradients" data-type="indexterm" id="ix_grad_ch9"/>image types defined by CSS are described&#13;
entirely with CSS: linear gradients, radial gradients, and conic gradients.&#13;
Each type has two subtypes: repeating and nonrepeating.&#13;
Gradients are most often used in backgrounds,&#13;
though they can be used in any context where an image is&#13;
permitted—as in <code>list-style-image</code> and <code>border-image</code>, for example.</p>&#13;
&#13;
<p>A <em>gradient</em> is a visual transition from one color to&#13;
another. A gradient from yellow to red will start yellow, run through successively less yellow, redder shades of orange, and eventually arrive at a full red. How gradual or abrupt the transition is depends on the amount of space the gradient has and the way you define color stops and progression color hints. If you run from white to black over&#13;
100 pixels, each pixel along the gradient’s default progression will be&#13;
another 1% darker gray, as shown in <a data-type="xref" href="#cab_fig61">Figure 9-1</a>.</p>&#13;
&#13;
<figure><div class="figure" id="cab_fig61">&#13;
<img alt="css5 0901" src="assets/css5_0901.png"/>&#13;
<h6><span class="label">Figure 9-1. </span>The progression of a simple gradient</h6>&#13;
</div></figure>&#13;
&#13;
<p>As we go through the process of exploring gradients, always keep this in&#13;
mind: <em>gradients are images</em>. It doesn’t matter that you describe them&#13;
by typing CSS—they are every bit as much images as SVGs, PNGs, JPEGs, and&#13;
so on—but gradients have excellent rendering performance, don’t require an extra HTTP request to load, and are infinitely scalable.</p>&#13;
&#13;
<p>What’s <a data-primary="gradients" data-secondary="dimensions of" data-type="indexterm" id="idm45176092355696"/>interesting about gradients is that they have no intrinsic&#13;
dimensions. If the <code>background-size</code> property’s value&#13;
<code>auto</code> is used, it is treated as if it were <code>100%</code>. Thus, if you don’t&#13;
define a <code>background-size</code> for a background gradient, it will be set to&#13;
the default value of <code>auto</code>, which is the same as declaring <code>100% 100%</code>.&#13;
So, by default, background gradients fill the entire background&#13;
positioning area.&#13;
Just note that if you offset the gradient’s background position with a length (not percentage) value, by default it will tile.</p>&#13;
&#13;
&#13;
&#13;
&#13;
&#13;
&#13;
<section data-pdf-bookmark="Linear Gradients" data-type="sect1"><div class="sect1" id="linear-gradients">&#13;
<h1>Linear Gradients</h1>&#13;
&#13;
<p><em>Linear gradients</em> are <a data-primary="linear gradients" data-secondary="gradient lines" data-type="indexterm" id="idm45176092327648"/><a data-primary="gradients" data-secondary="linear" data-type="indexterm" id="ix_grad_linear"/><a data-primary="gradient lines" data-type="indexterm" id="idm45176092325424"/><a data-primary="linear gradients" data-type="indexterm" id="ix_linear_grad_ch9"/>gradient fills that proceed along a linear&#13;
vector, referred to as the <em>gradient line</em>. Here are a few relatively simple gradients, with the&#13;
results shown in <a data-type="xref" href="#cab_fig62">Figure 9-2</a>:</p>&#13;
&#13;
<pre data-code-language="css" data-type="programlisting"><code class="nf">#ex01</code> <code class="p">{</code><code class="k">background-image</code><code class="o">:</code> <code class="n">linear</code><code class="o">-</code><code class="n">gradient</code><code class="p">(</code><code class="nb">purple</code><code class="o">,</code> <code class="nb">gold</code><code class="p">);}</code>&#13;
<code class="nf">#ex02</code> <code class="p">{</code><code class="k">background-image</code><code class="o">:</code> <code class="n">linear</code><code class="o">-</code><code class="n">gradient</code><code class="p">(</code><code class="m">90deg</code><code class="o">,</code> <code class="nb">purple</code><code class="o">,</code> <code class="nb">gold</code><code class="p">);}</code>&#13;
<code class="nf">#ex03</code> <code class="p">{</code><code class="k">background-image</code><code class="o">:</code> <code class="n">linear</code><code class="o">-</code><code class="n">gradient</code><code class="p">(</code><code class="n">to</code> <code class="nb">left</code><code class="o">,</code> <code class="nb">purple</code><code class="o">,</code> <code class="nb">gold</code><code class="p">);}</code>&#13;
<code class="nf">#ex04</code> <code class="p">{</code><code class="k">background-image</code><code class="o">:</code> <code class="n">linear</code><code class="o">-</code><code class="n">gradient</code><code class="p">(</code><code class="m">-135deg</code><code class="o">,</code> <code class="nb">purple</code><code class="o">,</code> <code class="nb">gold</code><code class="o">,</code> <code class="nb">navy</code><code class="p">);}</code>&#13;
<code class="nf">#ex05</code> <code class="p">{</code><code class="k">background-image</code><code class="o">:</code> <code class="n">linear</code><code class="o">-</code><code class="n">gradient</code><code class="p">(</code><code class="n">to</code> <code class="n">bottom</code> <code class="nb">left</code><code class="o">,</code> <code class="nb">purple</code><code class="o">,</code> <code class="nb">gold</code><code class="o">,</code> <code class="nb">navy</code><code class="p">);}</code></pre>&#13;
&#13;
<figure><div class="figure" id="cab_fig62">&#13;
<img alt="css5 0902" src="assets/css5_0902.png"/>&#13;
<h6><span class="label">Figure 9-2. </span>Simple linear gradients</h6>&#13;
</div></figure>&#13;
&#13;
<p>The first of these is the most basic that a gradient can be: two colors. This causes a gradient from the first color at the top of the background&#13;
painting area to the second color at the bottom of the background&#13;
painting area.</p>&#13;
&#13;
<p>By <a data-primary="linear gradients" data-secondary="direction of" data-type="indexterm" id="idm45176092273040"/>default, a gradient runs from top to bottom because the default direction for&#13;
gradients is <code>to bottom</code>, which is the same as <code>180deg</code> and its various&#13;
equivalents (for example, <code>0.5turn</code>). If you’d like to go in a different&#13;
direction, you can start the gradient value with a direction.&#13;
That’s what we did for all the other gradients shown in <a data-type="xref" href="#cab_fig62">Figure 9-2</a>.</p>&#13;
&#13;
<p>A <a data-primary="color stops" data-secondary="linear gradients" data-type="indexterm" id="idm45176092269296"/><a data-primary="linear gradients" data-secondary="color stops" data-type="indexterm" id="idm45176092268288"/><a data-primary="gradients" data-secondary="color stops" data-type="indexterm" id="idm45176092267344"/>gradient must have, at minimum, two color stops. They can be the same color, though. If you want to have a solid color behind only part of your content, a gradient with the same color declared twice, along with a background size and a no-repeat, enables that, as shown in <a data-type="xref" href="#linear-gradients-solid-color-sized">Figure 9-3</a>:</p>&#13;
&#13;
<pre data-code-language="css" data-type="programlisting"><code class="nt">blockquote</code> <code class="p">{</code>&#13;
	<code class="k">padding</code><code class="o">:</code> <code class="m">0.5em</code> <code class="m">1em</code> <code class="m">2em</code><code class="p">;</code>&#13;
	<code class="k">background-image</code><code class="o">:</code>&#13;
		<code class="n">linear</code><code class="o">-</code><code class="n">gradient</code><code class="p">(</code><code class="nb">palegoldenrod</code><code class="o">,</code> <code class="nb">palegoldenrod</code><code class="p">)</code><code class="o">,</code>&#13;
		<code class="n">linear</code><code class="o">-</code><code class="n">gradient</code><code class="p">(</code><code class="nb">salmon</code><code class="o">,</code> <code class="nb">salmon</code><code class="p">);</code>&#13;
	<code class="k">background-size</code><code class="o">:</code> <code class="m">75%</code> <code class="m">90%</code><code class="p">;</code>&#13;
	<code class="k">background-position</code><code class="o">:</code> <code class="m">0px</code> <code class="m">0px</code><code class="o">,</code> <code class="m">15px</code> <code class="m">30px</code><code class="p">;</code>&#13;
	<code class="k">background-repeat</code><code class="o">:</code> <code class="nb">no-repeat</code><code class="p">;</code>&#13;
     <code class="k">columns</code><code class="o">:</code> <code class="m">3</code><code class="p">;</code>&#13;
<code class="p">}</code></pre>&#13;
&#13;
<figure><div class="figure" id="linear-gradients-solid-color-sized">&#13;
<img alt="css5 0903" src="assets/css5_0903.png"/>&#13;
<h6><span class="label">Figure 9-3. </span>Solid-color gradients</h6>&#13;
</div></figure>&#13;
&#13;
<p>The basic syntax of a linear gradient is shown here:</p>&#13;
<pre>linear-gradient(&#13;
    [[ &lt;<em>angle</em>&gt; | to &lt;<em>side-or-quadrant</em>&gt; ],]?&#13;
     [ &lt;<em>color-stop-list</em>&gt; [, &lt;<em>color-hint</em>&gt;]? ]# ,&#13;
    &lt;<em>color-stop-list</em>&gt;&#13;
)</pre>&#13;
&#13;
<p>We’ll explore both color stop lists and color hints soon.  For now, the basic pattern to keep in mind is an optional direction at the start, a list of color stops and/or color hints, and a color stop at the end. As shown earlier, a <code>linear-gradient()</code> value must have a minimum of two color stops.</p>&#13;
&#13;
<p>While you use the <code>to</code> keyword only if you’re describing a side or&#13;
quadrant with keywords like <code>top</code> and <code>right</code>, the direction you give&#13;
<em>always</em> describes the direction in which the gradient line points. In&#13;
other words, <code>linear-gradient(0deg,red,green)</code> will have red at the&#13;
bottom and green at the top because the gradient line points toward 0 degrees (the top of the element) and thus ends with green. While it is indeed “going toward 0 degrees,” remember to omit the <code>to</code> if you’re using an angle value, because something like <code>to 45deg</code> is invalid and will be ignored. Degrees increase clockwise from 0 at the top.</p>&#13;
&#13;
<p>The important <a data-primary="units of measure" data-secondary="with linear gradients" data-secondary-sortas="linear gradients" data-type="indexterm" id="idm45176092103600"/>point is that while <code>0deg</code> is the same as <code>to top</code>, 45% is <em>not</em> the same as <code>to top right</code>. This is explained in <a data-type="xref" href="#gradient-lines-the-gory-details">“Understanding Gradient Lines: The Gory Details”</a>. Equally important to remember is that when using angles, whether it’s degrees, radians, or turns, the unit type is <em>required</em>. A <code>0</code> value is not valid and will prevent any gradient from being created, while <code>0deg</code> is valid.</p>&#13;
&#13;
&#13;
&#13;
&#13;
&#13;
&#13;
&#13;
&#13;
<section data-pdf-bookmark="Setting Gradient Colors" data-type="sect2"><div class="sect2" id="gradient-colors">&#13;
<h2>Setting Gradient Colors</h2>&#13;
&#13;
<p>You can use any <a data-primary="linear gradients" data-secondary="color settings" data-type="indexterm" id="idm45176092096288"/><a data-primary="transparent backgrounds" data-type="indexterm" id="idm45176092095280"/>color value you like in gradients, including alpha-channel&#13;
values such as <code>rgba()</code> and keywords like <code>transparent</code>. Thus it’s entirely possible to fade out pieces of your gradient by blending to (or from) a color with zero opacity. Consider the following rules, which are depicted in <a data-type="xref" href="#cab_fig63">Figure 9-4</a>:</p>&#13;
&#13;
<pre data-code-language="css" data-type="programlisting"><code class="nf">#ex01</code> <code class="p">{</code><code class="k">background-image</code><code class="o">:</code>&#13;
    <code class="n">linear</code><code class="o">-</code><code class="n">gradient</code><code class="p">(</code> <code class="n">to</code> <code class="nb">right</code><code class="o">,</code> <code class="nb">rgb</code><code class="p">(</code><code class="m">200</code><code class="o">,</code><code class="m">200</code><code class="o">,</code><code class="m">200</code><code class="p">)</code><code class="o">,</code> <code class="nb">rgb</code><code class="p">(</code><code class="m">255</code><code class="o">,</code><code class="m">255</code><code class="o">,</code><code class="m">255</code><code class="p">)</code> <code class="p">);}</code>&#13;
<code class="nf">#ex02</code> <code class="p">{</code><code class="k">background-image</code><code class="o">:</code>&#13;
    <code class="n">linear</code><code class="o">-</code><code class="n">gradient</code><code class="p">(</code> <code class="n">to</code> <code class="nb">right</code><code class="o">,</code> <code class="n">rgba</code><code class="p">(</code><code class="m">200</code><code class="o">,</code><code class="m">200</code><code class="o">,</code><code class="m">200</code><code class="o">,</code><code class="m">1</code><code class="p">)</code><code class="o">,</code> <code class="n">rgba</code><code class="p">(</code><code class="m">200</code><code class="o">,</code><code class="m">200</code><code class="o">,</code><code class="m">200</code><code class="o">,</code><code class="m">0</code><code class="p">)</code> <code class="p">);}</code></pre>&#13;
&#13;
<figure><div class="figure" id="cab_fig63">&#13;
<img alt="css5 0904" src="assets/css5_0904.png"/>&#13;
<h6><span class="label">Figure 9-4. </span>Fading to white versus fading to transparent</h6>&#13;
</div></figure>&#13;
&#13;
<p>The first example fades from light gray to white,&#13;
whereas the second example fades the same light gray from opaque to&#13;
transparent, thus allowing the parent element’s yellow background to show&#13;
through.</p>&#13;
&#13;
<p>You’re not restricted to two colors, either. While that is the&#13;
minimum number of colors allowed, you’re free to&#13;
add as many colors as you can stand. Consider the following &#13;
<span class="keep-together">gradient:</span></p>&#13;
&#13;
<pre data-code-language="css" data-type="programlisting"><code class="nf">#wdim</code> <code class="p">{</code><code class="k">background-image</code><code class="o">:</code> <code class="n">linear</code><code class="o">-</code><code class="n">gradient</code><code class="p">(</code><code class="m">90deg</code><code class="o">,</code>&#13;
    <code class="nb">red</code><code class="o">,</code> <code class="nb">orange</code><code class="o">,</code> <code class="nb">yellow</code><code class="o">,</code> <code class="nb">green</code><code class="o">,</code> <code class="nb">blue</code><code class="o">,</code> <code class="nb">indigo</code><code class="o">,</code> <code class="nb">violet</code><code class="o">,</code>&#13;
    <code class="nb">red</code><code class="o">,</code> <code class="nb">orange</code><code class="o">,</code> <code class="nb">yellow</code><code class="o">,</code> <code class="nb">green</code><code class="o">,</code> <code class="nb">blue</code><code class="o">,</code> <code class="nb">indigo</code><code class="o">,</code> <code class="nb">violet</code>&#13;
    <code class="p">);</code></pre>&#13;
&#13;
<p>The gradient line points toward 90 degrees, which is the right side.&#13;
There are 14 color stops in all, one for each of the comma-separated color names, and they are, by default, distributed evenly along the gradient line, with the first at the beginning of the line and the last at the end. Between the color stops, by default the colors are blended as smoothly as possible from one color to the other. This is shown in <a data-type="xref" href="#cab_fig64">Figure 9-5</a>, with extra labels indicating how far along the gradient line the color stops are placed.</p>&#13;
&#13;
<figure><div class="figure" id="cab_fig64">&#13;
<img alt="css5 0905" src="assets/css5_0905.png"/>&#13;
<h6><span class="label">Figure 9-5. </span>The distribution of color stops along the gradient line</h6>&#13;
</div></figure>&#13;
&#13;
<p>So, without any indication of where the color stops should be&#13;
positioned, they’re evenly distributed. Fortunately, we can give each color up to two  positions, and can even use color hints for more control over gradient progression, hopefully improving the visual effect.</p>&#13;
</div></section>&#13;
&#13;
&#13;
&#13;
&#13;
&#13;
&#13;
&#13;
&#13;
<section data-pdf-bookmark="Positioning Color Stops" data-type="sect2"><div class="sect2" id="positioning-color-stops">&#13;
<h2>Positioning Color Stops</h2>&#13;
&#13;
<p>The<a data-primary="linear gradients" data-secondary="color stops" data-type="indexterm" id="ix_lin_grad_color_stop"/><a data-primary="positioning" data-secondary="gradient" data-type="indexterm" id="ix_position_grad"/><a data-primary="color stops" data-secondary="linear gradients" data-type="indexterm" id="ix_color_stop_lin_grad"/><a data-primary="gradients" data-secondary="color stops" data-type="indexterm" id="ix_grad_color_stop"/> full syntax of a &lt;<em><code>color-stop</code></em>&gt; is as follows:</p>&#13;
<pre>[&lt;<em>color</em>&gt;] [ &lt;<em>length</em>&gt; | &lt;<em>percentage</em>&gt; ]{1,2}?</pre>&#13;
&#13;
<p>After every color value, you can (but don’t have to) supply a&#13;
position value or two. This gives you the ability to distort the default evenly distributed progression of color stops into something else.</p>&#13;
&#13;
<p>We’ll start with lengths, since they’re pretty simple. Let’s take a&#13;
rainbow progression (only a single rainbow this time) and have each&#13;
color of the rainbow occur every 25 pixels, as shown in <a data-type="xref" href="#cab_fig65">Figure 9-6</a>:</p>&#13;
&#13;
<pre data-code-language="css" data-type="programlisting"><code class="nf">#spectrum</code> <code class="p">{</code><code class="k">background-image</code><code class="o">:</code> <code class="n">linear</code><code class="o">-</code><code class="n">gradient</code><code class="p">(</code><code class="m">90deg</code><code class="o">,</code>&#13;
               <code class="nb">red</code><code class="o">,</code> <code class="nb">orange</code> <code class="m">25px</code><code class="o">,</code> <code class="nb">yellow</code> <code class="m">50px</code><code class="o">,</code> <code class="nb">green</code> <code class="m">75px</code><code class="o">,</code>&#13;
               <code class="nb">blue</code> <code class="m">100px</code><code class="o">,</code> <code class="nb">indigo</code> <code class="m">125px</code><code class="o">,</code> <code class="nb">violet</code> <code class="m">150px</code><code class="p">)}</code><code class="o">;</code></pre>&#13;
&#13;
<figure><div class="figure" id="cab_fig65">&#13;
<img alt="css5 0906" src="assets/css5_0906.png"/>&#13;
<h6><span class="label">Figure 9-6. </span>Placing color stops every 25 pixels</h6>&#13;
</div></figure>&#13;
&#13;
<p>This worked out just fine, but notice what happens after 150 pixels—the&#13;
violet just continues on to the end of the gradient line. That’s what&#13;
happens if you set up the color stops so they don’t make it to the end&#13;
of a basic gradient line: the last color is just carried onward.</p>&#13;
&#13;
<p>Conversely, if your color stops go beyond the end of a basic gradient line,&#13;
the gradient will appear to stop at whatever point it manages to reach&#13;
when it gets to the end of the visible part of the gradient line.&#13;
This is illustrated in <a data-type="xref" href="#cab_fig66">Figure 9-7</a>, created with the following code:</p>&#13;
&#13;
<pre data-code-language="css" data-type="programlisting"><code class="nf">#spectrum</code> <code class="p">{</code><code class="k">background-image</code><code class="o">:</code> <code class="n">linear</code><code class="o">-</code><code class="n">gradient</code><code class="p">(</code><code class="m">90deg</code><code class="o">,</code>&#13;
               <code class="nb">red</code><code class="o">,</code> <code class="nb">orange</code> <code class="m">200px</code><code class="o">,</code> <code class="nb">yellow</code> <code class="m">400px</code><code class="o">,</code> <code class="nb">green</code> <code class="m">600px</code><code class="o">,</code>&#13;
               <code class="nb">blue</code> <code class="m">800px</code><code class="o">,</code> <code class="nb">indigo</code> <code class="m">1000px</code><code class="o">,</code> <code class="nb">violet</code> <code class="m">1200px</code><code class="p">)}</code><code class="o">;</code></pre>&#13;
&#13;
<figure><div class="figure" id="cab_fig66">&#13;
<img alt="css5 0907" src="assets/css5_0907.png"/>&#13;
<h6><span class="label">Figure 9-7. </span>Gradient clipping when color stops go too far</h6>&#13;
</div></figure>&#13;
&#13;
<p>Since the last color stop is at 1,200 pixels but the background size isn’t nearly that wide, the visible part of the gradient stops right around the color&#13;
<code>blue</code>.</p>&#13;
&#13;
<p>Note that in the preceding two examples and figures, the first color&#13;
(<code>red</code>) doesn’t have a length value. If the first color has no position,&#13;
it’s assumed to be the beginning of the gradient line, as if <code>0%</code>&#13;
(or other zero value, like <code>0px</code>) had been declared. Similarly, if you&#13;
leave a position off the last color stop, it’s assumed to be the end of&#13;
the gradient line.  (But note that this is not true for repeating gradients, which we’ll cover in <a data-type="xref" href="#repeating-linear-gradients">“Repeating Linear Gradients”</a>.)</p>&#13;
&#13;
<p>You can use any length value you like, not just pixels—ems, viewport units, you&#13;
name it. You can even mix different units into the same gradient, although this is not generally recommended for reasons we’ll get to in a little bit. You can also have negative length values if you want; doing so will place a color stop before the beginning of the gradient line, all the color transitions will happen as expected, and&#13;
clipping will occur in the same manner as it happens at the end of the&#13;
line. The following code, for example, results in <a data-type="xref" href="#cab_fig67">Figure 9-8</a>:</p>&#13;
&#13;
<pre data-code-language="css" data-type="programlisting"><code class="nf">#spectrum</code> <code class="p">{</code><code class="k">background-image</code><code class="o">:</code> <code class="n">linear</code><code class="o">-</code><code class="n">gradient</code><code class="p">(</code><code class="m">90deg</code><code class="o">,</code>&#13;
               <code class="nb">red</code> <code class="m">-200px</code><code class="o">,</code> <code class="nb">orange</code> <code class="m">200px</code><code class="o">,</code> <code class="nb">yellow</code> <code class="m">400px</code><code class="o">,</code> <code class="nb">green</code> <code class="m">600px</code><code class="o">,</code>&#13;
               <code class="nb">blue</code> <code class="m">800px</code><code class="o">,</code> <code class="nb">indigo</code> <code class="m">1000px</code><code class="o">,</code> <code class="nb">violet</code> <code class="m">1200px</code><code class="p">)}</code><code class="o">;</code></pre>&#13;
&#13;
<figure><div class="figure" id="cab_fig67">&#13;
<img alt="css5 0908" src="assets/css5_0908.png"/>&#13;
<h6><span class="label">Figure 9-8. </span>Gradient clipping when color stops have negative positions</h6>&#13;
</div></figure>&#13;
&#13;
<p>As for percentages, they’re calculated with respect to the total length&#13;
of the gradient line. A color stop at <code>50%</code> will be at the&#13;
midpoint of the gradient line. Let’s return to our rainbow example, and&#13;
instead of having a color stop every 25 pixels, we’ll have one every 10%&#13;
of the gradient line’s length. This would look like the following, which&#13;
has the result shown in <a data-type="xref" href="#cab_fig68">Figure 9-9</a>:</p>&#13;
&#13;
<pre data-code-language="css" data-type="programlisting"><code class="nf">#spectrum</code> <code class="p">{</code><code class="k">background-image</code><code class="o">:</code> <code class="n">linear</code><code class="o">-</code><code class="n">gradient</code><code class="p">(</code><code class="m">90deg</code><code class="o">,</code>&#13;
    <code class="nb">red</code><code class="o">,</code> <code class="nb">orange</code> <code class="m">10%</code><code class="o">,</code> <code class="nb">yellow</code> <code class="m">20%</code><code class="o">,</code> <code class="nb">green</code> <code class="m">30%</code><code class="o">,</code> <code class="nb">blue</code> <code class="m">40%</code><code class="o">,</code> <code class="nb">indigo</code> <code class="m">50%</code><code class="o">,</code> <code class="nb">violet</code> <code class="m">60%</code><code class="p">)}</code><code class="o">;</code></pre>&#13;
&#13;
<figure><div class="figure" id="cab_fig68">&#13;
<img alt="css5 0909" src="assets/css5_0909.png"/>&#13;
<h6><span class="label">Figure 9-9. </span>Placing color stops every 10%</h6>&#13;
</div></figure>&#13;
&#13;
<p>As you saw previously, since the last color stop comes before the end of&#13;
the gradient line, its color (<code>violet</code>) is carried through to the end of&#13;
the gradient. These stops are more spread out than in the earlier 25-pixel example, but otherwise things happen in more or less the&#13;
same way.</p>&#13;
&#13;
<p>If some color stops have position values and others don’t,&#13;
the stops without positions are evenly distributed between the ones that&#13;
do. The following are equivalent:</p>&#13;
&#13;
<pre data-code-language="css" data-type="programlisting"><code class="nf">#spectrum</code> <code class="p">{</code><code class="k">background-image</code><code class="o">:</code> <code class="n">linear</code><code class="o">-</code><code class="n">gradient</code><code class="p">(</code><code class="m">90deg</code><code class="o">,</code>&#13;
  <code class="nb">red</code><code class="o">,</code> <code class="nb">orange</code><code class="o">,</code> <code class="nb">yellow</code> <code class="m">50%</code><code class="o">,</code> <code class="nb">green</code><code class="o">,</code> <code class="nb">blue</code><code class="o">,</code> <code class="nb">indigo</code> <code class="m">95%</code><code class="o">,</code> <code class="nb">violet</code><code class="p">)}</code><code class="o">;</code>&#13;
&#13;
<code class="nf">#spectrum</code> <code class="p">{</code><code class="k">background-image</code><code class="o">:</code> <code class="n">linear</code><code class="o">-</code><code class="n">gradient</code><code class="p">(</code><code class="m">90deg</code><code class="o">,</code>&#13;
  <code class="nb">red</code> <code class="m">0%</code><code class="o">,</code> <code class="nb">orange</code> <code class="m">25%</code><code class="o">,</code> <code class="nb">yellow</code> <code class="m">50%</code><code class="o">,</code> <code class="nb">green</code> <code class="m">65%</code><code class="o">,</code> <code class="nb">blue</code> <code class="m">80%</code><code class="o">,</code> <code class="nb">indigo</code> <code class="m">95%</code><code class="o">,</code> <code class="nb">violet</code> <code class="m">100%</code><code class="p">)}</code><code class="o">;</code></pre>&#13;
&#13;
<p>Because <code>red</code> and <code>violet</code> don’t have specified position values, they’re&#13;
taken to be <code>0%</code> and <code>100%</code>, respectively. This means that <code>orange</code>,&#13;
<code>green</code>, and <code>blue</code> will be evenly distributed between the explicitly&#13;
defined positions to either side of them.</p>&#13;
&#13;
<p>For <code>orange</code>, that means the point midway between <code>red 0%</code> and&#13;
<code>yellow 50%</code>, which is 25%. For <code>green</code> and <code>blue</code>, these need to be arranged between <code>yellow 50%</code> and <code>indigo 95%</code>. That’s a 45% difference, which is divided in three, because there are three intervals between the four values. That means 65% and 80%.</p>&#13;
&#13;
<p>You might wonder what happens if you put two color stops at&#13;
exactly the same point, like this:</p>&#13;
&#13;
<pre data-code-language="css" data-type="programlisting"><code class="nf">#spectrum</code> <code class="p">{</code><code class="k">background-image</code><code class="o">:</code> <code class="n">linear</code><code class="o">-</code><code class="n">gradient</code><code class="p">(</code><code class="m">90deg</code><code class="o">,</code>&#13;
    <code class="nb">red</code> <code class="m">0%</code><code class="o">,</code> <code class="nb">orange</code><code class="o">,</code> <code class="nb">yellow</code> <code class="m">50%</code><code class="o">,</code> <code class="nb">green</code> <code class="m">50%</code><code class="o">,</code> <code class="nb">blue</code> <code class="o">,</code> <code class="nb">indigo</code><code class="o">,</code> <code class="nb">violet</code><code class="p">)}</code><code class="o">;</code></pre>&#13;
&#13;
<p>All that happens is the two color stops are put on top of each&#13;
other. <a data-type="xref" href="#cab_fig70">Figure 9-10</a> shows the result.</p>&#13;
&#13;
<figure><div class="figure" id="cab_fig70">&#13;
<img alt="css5 0910" src="assets/css5_0910.png"/>&#13;
<h6><span class="label">Figure 9-10. </span>The effect of coincident, or “hard,” color stops</h6>&#13;
</div></figure>&#13;
&#13;
<p>The <a data-primary="“hard” color stops, linear gradients" data-primary-sortas="hard color stops, linear gradients" data-type="indexterm" id="idm45176088872384"/>gradient blends as usual all along the&#13;
gradient line, but at the 50% point, it instantly blends from yellow to green over zero length, creating what’s often called a <em>hard</em> color stop.&#13;
So the gradient blends from orange at the 25%&#13;
point (halfway between 0% to 50%) to yellow at the 50% point,&#13;
then blends from yellow to green over zero length, then blends from green&#13;
at 50% over to blue at 66.67% (one-third of the way between 50% and 100%).</p>&#13;
&#13;
<p>This hard-stop effect can be useful if you want to create a striped&#13;
effect. The following code results in the stripes shown in <a data-type="xref" href="#cab_fig71">Figure 9-11</a>:</p>&#13;
&#13;
<pre data-code-language="css" data-type="programlisting"><code class="nc">.stripes</code> <code class="p">{</code><code class="k">background-image</code><code class="o">:</code> <code class="n">linear</code><code class="o">-</code><code class="n">gradient</code><code class="p">(</code><code class="m">90deg</code><code class="o">,</code>&#13;
    <code class="nb">gray</code> <code class="m">0%</code><code class="o">,</code> <code class="nb">gray</code> <code class="m">25%</code><code class="o">,</code>&#13;
    <code class="nb">transparent</code> <code class="m">25%</code><code class="o">,</code> <code class="nb">transparent</code> <code class="m">50%</code><code class="o">,</code>&#13;
    <code class="nb">gray</code> <code class="m">50%</code><code class="o">,</code> <code class="nb">gray</code> <code class="m">75%</code><code class="o">,</code>&#13;
    <code class="nb">transparent</code> <code class="m">75%</code><code class="o">,</code> <code class="nb">transparent</code> <code class="m">100%</code><code class="p">);}</code></pre>&#13;
&#13;
<figure><div class="figure" id="cab_fig71">&#13;
<img alt="css5 0911" src="assets/css5_0911.png"/>&#13;
<h6><span class="label">Figure 9-11. </span>Hard-stop stripes</h6>&#13;
</div></figure>&#13;
&#13;
<p>That said, there’s an easier and more readable way to do that kind of thing, which is to give each color a starting and ending stop position.  Here’s how to do that, with exactly the same result as shown in <a data-type="xref" href="#cab_fig71">Figure 9-11</a>:</p>&#13;
&#13;
<pre data-code-language="css" data-type="programlisting"><code class="nc">.stripes</code> <code class="p">{</code><code class="k">background-image</code><code class="o">:</code>&#13;
	<code class="n">linear</code><code class="o">-</code><code class="n">gradient</code><code class="p">(</code><code class="m">90deg</code><code class="o">,</code>&#13;
		<code class="nb">gray</code> <code class="m">0%</code> <code class="m">25%</code><code class="o">,</code>&#13;
		<code class="nb">transparent</code> <code class="m">25%</code> <code class="m">50%</code><code class="o">,</code>&#13;
		<code class="nb">gray</code> <code class="m">50%</code> <code class="m">75%</code><code class="o">,</code>&#13;
		<code class="nb">transparent</code> <code class="m">75%</code> <code class="m">100%</code><code class="p">);}</code></pre>&#13;
&#13;
<p>Note that the <code>0%</code> and <code>100%</code> could have been left out, and they’d be inferred by the browser.  So you can leave them in for clarity or take them out for efficiency, as suits you.</p>&#13;
&#13;
<p>It’s also fine to mix two-stop stripes and one-stop color points in a single gradient.  If you want to have the first and last quarter of the gradient be solid gray stripes and transition through transparency between them, it could look like this:</p>&#13;
&#13;
<pre data-code-language="css" data-type="programlisting"><code class="nc">.stripes</code> <code class="p">{</code><code class="k">background-image</code><code class="o">:</code>&#13;
	<code class="n">linear</code><code class="o">-</code><code class="n">gradient</code><code class="p">(</code><code class="m">90deg</code><code class="o">,</code>&#13;
		<code class="nb">gray</code> <code class="m">0%</code> <code class="m">25%</code><code class="o">,</code>&#13;
		<code class="nb">transparent</code> <code class="m">50%</code><code class="o">,</code>&#13;
		<code class="nb">gray</code> <code class="m">75%</code> <code class="m">100%</code><code class="p">);}</code></pre>&#13;
&#13;
<p>OK, so that’s what happens if you put color stops right on top of each&#13;
other, but what happens if you put one <em>before</em> the other? Something like&#13;
this, say:</p>&#13;
&#13;
<pre data-code-language="css" data-type="programlisting"><code class="nf">#spectrum</code> <code class="p">{</code><code class="k">background-image</code><code class="o">:</code> <code class="n">linear</code><code class="o">-</code><code class="n">gradient</code><code class="p">(</code><code class="m">90deg</code><code class="o">,</code>&#13;
    <code class="nb">red</code> <code class="m">0%</code><code class="o">,</code> <code class="nb">orange</code><code class="o">,</code> <code class="nb">yellow</code><code class="o">,</code> <code class="nb">green</code> <code class="m">50%</code><code class="o">,</code> <code class="nb">blue</code> <code class="m">40%</code><code class="o">,</code> <code class="nb">indigo</code><code class="o">,</code> <code class="nb">violet</code><code class="p">)}</code><code class="o">;</code></pre>&#13;
&#13;
<p>The offending color stop (blue, in this case) is set to the largest specified value of a preceding color stop.  Here, it is set to <code>50%</code>, since the stop before it has that position.  This creates a hard stop, and we get the same effect we saw earlier, when the green and blue color stops were placed on top of each other.</p>&#13;
&#13;
<p>The key point here is that the color stop is set to the largest <em>specified</em> position of the stop that precedes it. Thus, the following two gradients are visually the same, as the <code>indigo</code> color stop in the first gets set to <code>50%</code>:</p>&#13;
&#13;
<pre data-code-language="css" data-type="programlisting"><code class="nf">#spectrum</code> <code class="p">{</code><code class="k">background-image</code><code class="o">:</code> <code class="n">linear</code><code class="o">-</code><code class="n">gradient</code><code class="p">(</code><code class="m">90deg</code><code class="o">,</code>&#13;
    <code class="nb">red</code> <code class="m">0%</code><code class="o">,</code> <code class="nb">orange</code><code class="o">,</code> <code class="nb">yellow</code> <code class="m">50%</code><code class="o">,</code> <code class="nb">green</code><code class="o">,</code> <code class="nb">blue</code><code class="o">,</code> <code class="nb">indigo</code> <code class="m">33%</code><code class="o">,</code> <code class="nb">violet</code><code class="p">)}</code><code class="o">;</code>&#13;
&#13;
<code class="nf">#spectrum</code> <code class="p">{</code><code class="k">background-image</code><code class="o">:</code> <code class="n">linear</code><code class="o">-</code><code class="n">gradient</code><code class="p">(</code><code class="m">90deg</code><code class="o">,</code>&#13;
    <code class="nb">red</code> <code class="m">0%</code><code class="o">,</code> <code class="nb">orange</code><code class="o">,</code> <code class="nb">yellow</code> <code class="m">50%</code><code class="o">,</code> <code class="nb">indigo</code> <code class="m">50%</code><code class="o">,</code> <code class="nb">violet</code><code class="p">)}</code><code class="o">;</code></pre>&#13;
&#13;
<p>In this case, the largest specified position before the indigo stop is&#13;
the <code>50%</code> specified at the yellow stop. Thus, the gradient fades from&#13;
red to orange to yellow, then has a hard switch to indigo before fading&#13;
from indigo to violet. The green and blue aren’t skipped;&#13;
rather, the gradients transition from yellow to green to blue to indigo over zero distance. See <a data-type="xref" href="#cab_fig72">Figure 9-12</a> for the results.</p>&#13;
&#13;
<figure><div class="figure" id="cab_fig72">&#13;
<img alt="css5 0912" src="assets/css5_0912.png"/>&#13;
<h6><span class="label">Figure 9-12. </span>Handling color stops that are out of place</h6>&#13;
</div></figure>&#13;
&#13;
<p>This behavior is the reason mixing units within a single gradient&#13;
is generally discouraged. If you mix <code>rem</code> units and percentages, for example, your color stop positioned with percentages might end up before an earlier color stop positioned with rems.<a data-primary="" data-startref="ix_color_stop_lin_grad" data-type="indexterm" id="idm45176088591824"/><a data-primary="" data-startref="ix_lin_grad_color_stop" data-type="indexterm" id="idm45176088590848"/><a data-primary="" data-startref="ix_position_grad" data-type="indexterm" id="idm45176088589904"/><a data-primary="" data-startref="ix_grad_color_stop" data-type="indexterm" id="idm45176088588960"/></p>&#13;
</div></section>&#13;
&#13;
&#13;
&#13;
&#13;
&#13;
&#13;
&#13;
&#13;
<section data-pdf-bookmark="Setting Color Hints" data-type="sect2"><div class="sect2" id="gradient-lines-color-hints">&#13;
<h2>Setting Color Hints</h2>&#13;
&#13;
<p>Thus far, we’ve worked with <a data-primary="linear gradients" data-secondary="color hints" data-type="indexterm" id="ix_lin_grad_color_hint"/><a data-primary="color hints, for linear gradients" data-type="indexterm" id="ix_color_hint_lin_grad"/><a data-primary="gradients" data-secondary="color hints" data-type="indexterm" id="ix_grad_color_hint"/>color stops, but you may remember that the syntax for linear gradients permits color hints after each color stop:</p>&#13;
<pre>linear-gradient(&#13;
    [[ &lt;<em>angle</em>&gt; | to &lt;<em>side-or-quadrant</em>&gt; ],]?&#13;
     [ &lt;<em>color-stop-list</em>&gt; [, &lt;<em>color-hint</em>&gt;]? ]# ,&#13;
    &lt;<em>color-stop-list</em>&gt;&#13;
)</pre>&#13;
&#13;
<p>A &lt;<em><code>color-hint</code></em>&gt; is a way of modifying the blend between the two color stops to either side.  By default, the blend from one color stop to the next is linear, with the midpoint of the blend at the halfway mark between two color stops, or 50%.  It doesn’t have to be that simple.   The following two gradients are the same and have the result shown in <a data-type="xref" href="#cbag_css4_gradient-color-hints-default">Figure 9-13</a>:</p>&#13;
&#13;
<pre data-code-language="css" data-type="programlisting"><code class="n">linear</code><code class="o">-</code><code class="n">gradient</code><code class="p">(</code>&#13;
    <code class="n">to</code> <code class="nb">right</code><code class="o">,</code> <code class="nb">rgb</code><code class="p">(</code><code class="m">0%</code> <code class="m">0%</code> <code class="m">0%</code><code class="p">)</code> <code class="m">25%</code><code class="o">,</code> <code class="nb">rgb</code><code class="p">(</code><code class="m">90%</code> <code class="m">90%</code> <code class="m">90%</code><code class="p">)</code> <code class="m">75%</code>&#13;
<code class="p">)</code>&#13;
<code class="n">linear</code><code class="o">-</code><code class="n">gradient</code><code class="p">(</code>&#13;
    <code class="n">to</code> <code class="nb">right</code><code class="o">,</code> <code class="nb">rgb</code><code class="p">(</code><code class="m">0%</code> <code class="m">0%</code> <code class="m">0%</code><code class="p">)</code> <code class="m">25%</code><code class="o">,</code> <code class="m">50%</code><code class="o">,</code> <code class="nb">rgb</code><code class="p">(</code><code class="m">90%</code> <code class="o">,</code><code class="m">90%</code> <code class="o">,</code><code class="m">90%</code><code class="p">)</code> <code class="m">75%</code>&#13;
<code class="p">)</code></pre>&#13;
&#13;
<figure><div class="figure" id="cbag_css4_gradient-color-hints-default">&#13;
<img alt="css5 0913" src="assets/css5_0913.png"/>&#13;
<h6><span class="label">Figure 9-13. </span>Linear blending from one color stop to the next</h6>&#13;
</div></figure>&#13;
&#13;
<p>With color hints, we can change the midpoint of the progression.  Instead of reaching <code>rgb(45% 45% 45%)</code> at the halfway point, it can be set for any point between the two stops.  Thus, the following CSS leads to the result seen in <a data-type="xref" href="#cbag_css4_gradient-color-hints-various">Figure 9-14</a>:</p>&#13;
&#13;
<pre data-code-language="css" data-type="programlisting"><code class="nf">#ex01</code> <code class="p">{</code><code class="k">background</code><code class="o">:</code>&#13;
     <code class="n">linear</code><code class="o">-</code><code class="n">gradient</code><code class="p">(</code><code class="n">to</code> <code class="nb">right</code><code class="o">,</code> <code class="nb">rgb</code><code class="p">(</code><code class="m">0%</code> <code class="m">0%</code> <code class="m">0%</code><code class="p">)</code> <code class="m">25%</code><code class="o">,</code> <code class="nb">rgb</code><code class="p">(</code><code class="m">90%</code> <code class="m">90%</code> <code class="m">90%</code><code class="p">)</code> <code class="m">75%</code><code class="p">);}</code>&#13;
<code class="nf">#ex02</code> <code class="p">{</code><code class="k">background</code><code class="o">:</code>&#13;
     <code class="n">linear</code><code class="o">-</code><code class="n">gradient</code><code class="p">(</code><code class="n">to</code> <code class="nb">right</code><code class="o">,</code> <code class="nb">rgb</code><code class="p">(</code><code class="m">0%</code> <code class="m">0%</code> <code class="m">0%</code><code class="p">)</code> <code class="m">25%</code><code class="o">,</code> <code class="m">33%</code><code class="o">,</code> <code class="nb">rgb</code><code class="p">(</code><code class="m">90</code> <code class="m">90%</code> <code class="m">90%</code><code class="p">)</code> <code class="m">75%</code><code class="p">);}</code>&#13;
<code class="nf">#ex03</code> <code class="p">{</code><code class="k">background</code><code class="o">:</code>&#13;
     <code class="n">linear</code><code class="o">-</code><code class="n">gradient</code><code class="p">(</code><code class="n">to</code> <code class="nb">right</code><code class="o">,</code> <code class="nb">rgb</code><code class="p">(</code><code class="m">0%</code> <code class="m">0%</code> <code class="m">0%</code><code class="p">)</code> <code class="m">25%</code><code class="o">,</code> <code class="m">67%</code><code class="o">,</code> <code class="nb">rgb</code><code class="p">(</code><code class="m">90%</code> <code class="m">90%</code> <code class="m">90%</code><code class="p">)</code> <code class="m">75%</code><code class="p">);}</code>&#13;
<code class="nf">#ex04</code> <code class="p">{</code><code class="k">background</code><code class="o">:</code>&#13;
     <code class="n">linear</code><code class="o">-</code><code class="n">gradient</code><code class="p">(</code><code class="n">to</code> <code class="nb">right</code><code class="o">,</code> <code class="nb">rgb</code><code class="p">(</code><code class="m">0%</code> <code class="m">0%</code> <code class="m">0%</code><code class="p">)</code> <code class="m">25%</code><code class="o">,</code> <code class="m">25%</code><code class="o">,</code> <code class="nb">rgb</code><code class="p">(</code><code class="m">90%</code> <code class="m">90%</code> <code class="m">90%</code><code class="p">)</code> <code class="m">75%</code><code class="p">);}</code>&#13;
<code class="nf">#ex05</code> <code class="p">{</code><code class="k">background</code><code class="o">:</code>&#13;
     <code class="n">linear</code><code class="o">-</code><code class="n">gradient</code><code class="p">(</code><code class="n">to</code> <code class="nb">right</code><code class="o">,</code> <code class="nb">rgb</code><code class="p">(</code><code class="m">0%</code> <code class="m">90%</code> <code class="m">90%</code><code class="p">)</code> <code class="m">25%</code><code class="o">,</code> <code class="m">75%</code><code class="o">,</code> <code class="nb">rgb</code><code class="p">(</code><code class="m">90%</code> <code class="m">90%</code> <code class="m">90%</code><code class="p">)</code> <code class="m">75%</code><code class="p">);}</code></pre>&#13;
&#13;
<figure><div class="figure" id="cbag_css4_gradient-color-hints-various">&#13;
<img alt="css5 0914" src="assets/css5_0914.png"/>&#13;
<h6><span class="label">Figure 9-14. </span>Black to gray with differing midpoint hints</h6>&#13;
</div></figure>&#13;
&#13;
<p>In all five examples, the first color stop is at the 25% mark and the last at the 75% mark, but each has a different midpoint for the gradient.  In the first case (<code>#ex01</code>), the default linear progression is used, with the middle color (45% black) occurring at the midpoint between the two color stops.</p>&#13;
&#13;
<p>In the second case (<code>#ex02</code>), the middle color happens at the 33% point of the gradient line.  So the first color stop is at the 25% point on the line, the middle color happens at 33%, and the second color stop happens at 75%.</p>&#13;
&#13;
<p>In the third example (<code>#ex03</code>), the midpoint is at the 67% point of the gradient line; thus, the color fades from black at 25% to the middle color at 67%, and then from that middle color at 67% to light gray at 75%.</p>&#13;
&#13;
<p>The fourth and fifth examples show what happens when you put a color hint’s distance right on top of one of the color stops: you get a hard stop.</p>&#13;
&#13;
<p>The interesting point about color hinting is that the progression from color stop to color hint to color stop is not just a set of two linear progressions.  Instead, the progression has some “curving,” in order to ease from one side of the color hint to the other. (The exact curve is logarithmic and based on the gradient-progression equation used by Photoshop.) This is easiest to see by comparing what would seem to be, but actually is not, two gradients that do the same thing.  As you can see in <a data-type="xref" href="#cbag_css4_gradient-color-hints-curve">Figure 9-15</a>, the result is rather different for these two examples:</p>&#13;
&#13;
<pre data-code-language="css" data-type="programlisting"><code class="nf">#ex01</code> <code class="p">{</code><code class="k">background</code><code class="o">:</code>&#13;
    <code class="n">linear</code><code class="o">-</code><code class="n">gradient</code><code class="p">(</code><code class="n">to</code> <code class="nb">right</code><code class="o">,</code>&#13;
        <code class="nb">rgb</code><code class="p">(</code><code class="m">0%</code> <code class="m">0%</code> <code class="m">0%</code><code class="p">)</code> <code class="m">25%</code><code class="o">,</code>&#13;
        <code class="nb">rgb</code><code class="p">(</code><code class="m">45%</code> <code class="m">45%</code> <code class="m">45%</code><code class="p">)</code> <code class="m">67%</code><code class="o">,</code>   <code class="c">/* this is a color stop */</code>&#13;
        <code class="nb">rgb</code><code class="p">(</code><code class="m">90%</code> <code class="m">90%</code> <code class="m">90%</code><code class="p">)</code> <code class="m">75%</code><code class="p">);}</code>&#13;
<code class="nf">#ex02</code> <code class="p">{</code><code class="k">background</code><code class="o">:</code>&#13;
    <code class="n">linear</code><code class="o">-</code><code class="n">gradient</code><code class="p">(</code><code class="n">to</code> <code class="nb">right</code><code class="o">,</code>&#13;
        <code class="nb">rgb</code><code class="p">(</code><code class="m">0%</code> <code class="m">0%</code> <code class="m">0%</code><code class="p">)</code> <code class="m">25%</code><code class="o">,</code>&#13;
        <code class="m">67%</code><code class="o">,</code>                    <code class="c">/* this is a color hint */</code>&#13;
        <code class="nb">rgb</code><code class="p">(</code><code class="m">90%</code> <code class="m">90%</code> <code class="m">90%</code><code class="p">)</code> <code class="m">75%</code><code class="p">);}</code></pre>&#13;
&#13;
<figure><div class="figure" id="cbag_css4_gradient-color-hints-curve">&#13;
<img alt="css5 0915" src="assets/css5_0915.png"/>&#13;
<h6><span class="label">Figure 9-15. </span>Comparing two linear gradients to one hinted transition</h6>&#13;
</div></figure>&#13;
&#13;
<p>Notice how the gray progression differs in the two examples.  The first shows a linear progression from black to <code>rgb(45%,45%,45%)</code>, and then another linear progression from there to <code>rgb(90%,90%,90%)</code>.  The second progresses from black to light gray over the same distance, and the color-hint point is at the 67% mark, but the gradient is altered to attempt a smoother overall progression.  The colors at 25%, 67%, and 75% are the same in both examples, but all the other shades along the way are different because of the (somewhat complicated) easing algorithm defined in the CSS specifications.</p>&#13;
<div data-type="warning" epub:type="warning"><h6>Warning</h6>&#13;
<p>If you’re <a data-primary="linear gradients" data-secondary="easing functions" data-type="indexterm" id="idm45176088126160"/>familiar with animations, you might think to put easing functions (such as <code>ease-in</code>) into a color hint, in order to exert more control over the way the colors are blended. While the browser does this to some extent, as illustrated in <a data-type="xref" href="#cbag_css4_gradient-color-hints-curve">Figure 9-15</a>, this isn’t something developers can control as of late 2022 (though that capability is under serious discussion by the CSS Working Group at this time).<a data-primary="" data-startref="ix_color_hint_lin_grad" data-type="indexterm" id="idm45176088124064"/><a data-primary="" data-startref="ix_lin_grad_color_hint" data-type="indexterm" id="idm45176088123216"/><a data-primary="" data-startref="ix_grad_color_hint" data-type="indexterm" id="idm45176088122368"/></p>&#13;
</div>&#13;
</div></section>&#13;
&#13;
&#13;
&#13;
&#13;
&#13;
&#13;
&#13;
&#13;
<section data-pdf-bookmark="Understanding Gradient Lines: The Gory Details" data-type="sect2"><div class="sect2" id="gradient-lines-the-gory-details">&#13;
<h2>Understanding Gradient Lines: The Gory Details</h2>&#13;
&#13;
<p>Now that you have a grasp of the basics of <a data-primary="linear gradients" data-secondary="gradient lines" data-type="indexterm" id="ix_lin_grad_grad_line"/><a data-primary="gradient lines" data-type="indexterm" id="ix_grad_line_ch9"/>placing color stops, let’s look closely at how gradient lines are constructed, and&#13;
thus how they create the effects that they do. First, let’s set up a simple gradient so we can then dissect how it works:</p>&#13;
&#13;
<pre data-code-language="css" data-type="programlisting"><code class="n">linear</code><code class="o">-</code><code class="n">gradient</code><code class="p">(</code>&#13;
    <code class="m">55deg</code><code class="o">,</code> <code class="m">#4097FF</code><code class="o">,</code> <code class="m">#FFBE00</code><code class="o">,</code> <code class="m">#4097FF</code>&#13;
<code class="p">)</code></pre>&#13;
&#13;
<p>Now, how does this one-dimensional construct—a line at 55 degrees on the&#13;
compass—create a two-dimensional gradient fill? First, the gradient line&#13;
is placed and its start and ending points determined. This is diagrammed in&#13;
<a data-type="xref" href="#cab_fig73">Figure 9-16</a>, with the final gradient shown next to it.</p>&#13;
&#13;
<figure><div class="figure" id="cab_fig73">&#13;
<img alt="css5 0916" src="assets/css5_0916.png"/>&#13;
<h6><span class="label">Figure 9-16. </span>The placement and sizing of the gradient line</h6>&#13;
</div></figure>&#13;
&#13;
<p>The first point to make very clear is that the box seen here is not an&#13;
element—it’s the linear-gradient image itself. (Remember, we’re&#13;
creating images here.) The size and shape of that image can depend on a&#13;
lot of factors, whether it’s the size of the element’s background or the&#13;
application of properties like <code>background-size</code>, which is a topic we’ll&#13;
cover in a bit. For now, we’re just concentrating on the image itself.</p>&#13;
&#13;
<p>So, in <a data-type="xref" href="#cab_fig73">Figure 9-16</a>, you can see that the gradient line goes straight&#13;
through the center of the image. The gradient line <em>always</em> goes through&#13;
the center of the gradient image, and in this case, the gradient image is centered in the background area. (Using <code>background-position</code> to shift placement of a gradient image can, in some cases, make it appear that the center of the gradient is not centered in the image, but it is.)&#13;
This gradient is set to a 55-degree&#13;
angle, so it’s pointing at 55 degrees on the compass. What’s interesting is the start and ending points of the gradient line, which are actually outside the image.</p>&#13;
&#13;
<p>Let’s talk about the starting point first. It’s the point on the gradient&#13;
line where a line perpendicular to the gradient line intersects with the&#13;
corner of the image farthest away from the gradient line’s direction&#13;
(<code>55deg</code>). Conversely, the gradient line’s ending point is the point on the&#13;
gradient line where a perpendicular line intersects the corner of the&#13;
image nearest to the gradient line’s direction.</p>&#13;
&#13;
<p>Bear in mind that the terms “starting point” and “ending point” are a little&#13;
bit &#13;
<span class="keep-together">misleading—the</span> gradient line doesn’t actually stop at either point.&#13;
The gradient line is, in fact, infinite. However, the starting point is&#13;
where the first color stop will be placed by default, as it corresponds&#13;
to position value <code>0%</code>. Similarly, the ending point corresponds to the&#13;
position value <code>100%</code>.</p>&#13;
&#13;
<p>Therefore, let’s consider the gradient we defined before:</p>&#13;
&#13;
<pre data-code-language="css" data-type="programlisting"><code class="n">linear</code><code class="o">-</code><code class="n">gradient</code><code class="p">(</code>&#13;
    <code class="m">55deg</code><code class="o">,</code> <code class="m">#4097FF</code><code class="o">,</code> <code class="m">#FFBE00</code><code class="o">,</code> <code class="m">#4097FF</code>&#13;
<code class="p">)</code></pre>&#13;
&#13;
<p>The color at the starting point will be <code>#4097FF</code>, the color at the&#13;
midpoint (which is also the center of the gradient image) will be <code>#FFBE00</code>, and&#13;
the color at the ending point will be <code>#4097FF</code>, with smooth blending in&#13;
between. This is illustrated in <a data-type="xref" href="#cab_fig74">Figure 9-17</a>.</p>&#13;
&#13;
<figure><div class="figure" id="cab_fig74">&#13;
<img alt="css5 0917" src="assets/css5_0917.png"/>&#13;
<h6><span class="label">Figure 9-17. </span>The calculation of color along the gradient line</h6>&#13;
</div></figure>&#13;
&#13;
<p>All right, fine so far. But, you may wonder, how do the bottom-left and&#13;
top-right corners of the image get set to the same blue that’s&#13;
calculated for the starting and ending points, if those points are outside the&#13;
image? Because the color at each point along the gradient line is&#13;
extended out perpendicularly from the gradient line. This is partially&#13;
shown in <a data-type="xref" href="#cab_fig75">Figure 9-18</a> by extending perpendicular lines at the starting and ending&#13;
points, as well as every 5% of the gradient line between them.&#13;
Note that each line perpendicular to the gradient line is a solid color.</p>&#13;
&#13;
<figure><div class="figure" id="cab_fig75">&#13;
<img alt="css5 0918" src="assets/css5_0918.png"/>&#13;
<h6><span class="label">Figure 9-18. </span>The extension of selected colors along the gradient line</h6>&#13;
</div></figure>&#13;
&#13;
<p>Hopefully, that should be enough to let you mentally fill in the rest, so let’s consider what happens to the gradient image in various other settings. We’ll use the same gradient definition as before, but this time apply it to wide, square, and tall images. These are shown in <a data-type="xref" href="#cab_fig76">Figure 9-19</a>. Note that the starting-point and ending-point colors always make their way into the corners of the gradient image.</p>&#13;
&#13;
<figure><div class="figure" id="cab_fig76">&#13;
<img alt="css5 0919" src="assets/css5_0919.png"/>&#13;
<h6><span class="label">Figure 9-19. </span>How gradients are constructed for various images</h6>&#13;
</div></figure>&#13;
&#13;
<p>Note that we very carefully said “the starting-point and ending-point colors,” and did <em>not</em> say “the starting and ending colors.” That’s because, as you saw earlier, color stops can be placed before the starting point and after the ending point, like so:</p>&#13;
&#13;
<pre data-code-language="css" data-type="programlisting"><code class="n">linear</code><code class="o">-</code><code class="n">gradient</code><code class="p">(</code>&#13;
    <code class="m">55deg</code><code class="o">,</code> <code class="m">#4097FF</code> <code class="m">-25%</code><code class="o">,</code> <code class="m">#FFBE00</code><code class="o">,</code> <code class="m">#4097FF</code> <code class="m">125%</code>&#13;
<code class="p">)</code></pre>&#13;
&#13;
<p>The placement of these color stops, the starting and ending points, the way the colors are calculated along the gradient line, and&#13;
the final gradient are all shown in <a data-type="xref" href="#cab_fig77">Figure 9-20</a>.</p>&#13;
&#13;
<figure><div class="figure" id="cab_fig77">&#13;
<img alt="css5 0920" src="assets/css5_0920.png"/>&#13;
<h6><span class="label">Figure 9-20. </span>A gradient with stops beyond the starting and ending points</h6>&#13;
</div></figure>&#13;
&#13;
<p>Once again, we see that the colors in the bottom-left and top-right&#13;
corners match the starting-point and ending-point colors. It’s just that in this case, since the first color stop comes before the starting point, the actual color at the starting point is a blend of the first and second color stops. Likewise for the ending point, which is a blend of the second and third color stops.</p>&#13;
&#13;
<p>Now here’s where things get a little bit wacky. Remember how you can use&#13;
directional keywords, like <code>top</code> and <code>right</code>, to indicate the direction&#13;
of the gradient line? Suppose you want the gradient line to go toward&#13;
the top right, so you create a gradient image like this:</p>&#13;
&#13;
<pre data-code-language="css" data-type="programlisting"><code class="n">linear</code><code class="o">-</code><code class="n">gradient</code><code class="p">(</code>&#13;
    <code class="n">to</code> <code class="nb">top</code> <code class="nb">right</code><code class="o">,</code> <code class="m">#4097FF</code> <code class="m">-25%</code><code class="o">,</code> <code class="m">#FFBE00</code><code class="o">,</code> <code class="m">#4097FF</code> <code class="m">125%</code>&#13;
<code class="p">)</code></pre>&#13;
&#13;
<p>This does <em>not</em> cause the gradient line to intersect with the top-right&#13;
corner. If only that were so! Instead, what happens is a good deal&#13;
stranger. First, let’s diagram it in <a data-type="xref" href="#cab_fig78">Figure 9-21</a> so that we have something&#13;
to refer to.</p>&#13;
&#13;
<figure><div class="figure" id="cab_fig78">&#13;
<img alt="css5 0921" src="assets/css5_0921.png"/>&#13;
<h6><span class="label">Figure 9-21. </span>A gradient headed toward the top right</h6>&#13;
</div></figure>&#13;
&#13;
<p>Your eyes do not deceive you: the gradient line is way off from the top-right corner.&#13;
It <em>is</em> headed into the top-right&#13;
quadrant of the image, though. That’s what <code>to top right</code> really means: head&#13;
into the top-right quadrant of the image, not into the top-right corner.</p>&#13;
&#13;
<p>As <a data-type="xref" href="#cab_fig78">Figure 9-21</a> shows, the way to find out exactly what that means is to do&#13;
the following:</p>&#13;
<ol>&#13;
<li>&#13;
<p>Draw a line from the midpoint of the image into the corners adjacent to the corner in the quadrant that’s been declared. Thus, for the top-right quadrant, the adjacent corners are the top left and bottom right.</p>&#13;
</li>&#13;
<li>&#13;
<p>Find the center point of that line, which is the center point of the image, and draw the gradient line perpendicular to that line, through the center point, pointing into the declared quadrant.</p>&#13;
</li>&#13;
<li>&#13;
<p>Construct the gradient—that is, determine the starting and ending points, place or distribute the color stops along the gradient line, and then calculate the entire gradient image, as per usual.</p>&#13;
</li>&#13;
&#13;
</ol>&#13;
&#13;
<p>This process has a few interesting side effects. First, the color at the midpoint will always stretch from one quadrant-adjacent&#13;
corner to the other. Second, if the image’s shape changes—that is, if its aspect ratio changes—the gradient line will also reset its direction, reorienting slightly to fit the new aspect ratio. So watch out for that if you have flexible elements. Third, a&#13;
perfectly square gradient image will have a gradient line that&#13;
intersects with a corner. <a data-type="xref" href="#cab_fig79">Figure 9-22</a> depicts examples of these three side effects, using the following gradient definition in all&#13;
three cases:</p>&#13;
&#13;
<pre data-code-language="css" data-type="programlisting"><code class="n">linear</code><code class="o">-</code><code class="n">gradient</code><code class="p">(</code>&#13;
    <code class="n">to</code> <code class="nb">top</code> <code class="nb">right</code><code class="o">,</code> <code class="nb">purple</code><code class="o">,</code> <code class="nb">green</code> <code class="m">49.5%</code><code class="o">,</code> <code class="nb">black</code> <code class="m">50%</code><code class="o">,</code> <code class="nb">green</code> <code class="m">50.5%</code><code class="o">,</code> <code class="nb">gold</code>&#13;
<code class="p">)</code></pre>&#13;
&#13;
<figure><div class="figure" id="cab_fig79">&#13;
<img alt="css5 0922" src="assets/css5_0922.png"/>&#13;
<h6><span class="label">Figure 9-22. </span>Examples of the side effects of a quadrant-directed gradient</h6>&#13;
</div></figure>&#13;
&#13;
<p>Sadly, there is no way to say “point the gradient line into the corner&#13;
of a nonsquare image,” short of calculating the necessary degree heading&#13;
yourself and declaring it explicitly, a process that will most likely require&#13;
JavaScript unless you know the image will always be an exact size in all&#13;
cases, forever.  (Or use the <code>aspect-ratio</code> property; see <a data-type="xref" href="ch06.html#basic-visual-formatting">Chapter 6</a> for details.)</p>&#13;
&#13;
<p>While linear gradients follow a gradient line in the direction set forth by the angle, it is possible to create a mirrored gradient; for that, oddly enough, see <a data-type="xref" href="#radial-gradients">“Radial Gradients”</a>.<a data-primary="gradient lines" data-type="indexterm" id="idm45176087904640"/><a data-primary="" data-startref="ix_lin_grad_grad_line" data-type="indexterm" id="idm45176087903936"/></p>&#13;
</div></section>&#13;
&#13;
&#13;
&#13;
&#13;
&#13;
&#13;
&#13;
&#13;
<section data-pdf-bookmark="Repeating Linear Gradients" data-type="sect2"><div class="sect2" id="repeating-linear-gradients">&#13;
<h2>Repeating Linear Gradients</h2>&#13;
&#13;
<p>Regular <a data-primary="repeating elements" data-secondary="gradients" data-type="indexterm" id="ix_repeat_lin_grad"/><a data-primary="linear gradients" data-secondary="repeating" data-type="indexterm" id="ix_lin_grad_repeat"/>gradients are autosized by default, matching the size of the background area to which they are applied. In other words, by default a gradient image takes up all the available background space and does not repeat.</p>&#13;
&#13;
<p>Intentionally setting a background size and tiling images, especially with hard color stops, can create interesting effects. By declaring two linear-gradient background images using hard color stops, with perpendicular gradient lines, and different background colors, you can create picnic tablecloth effects for any place setting by setting up some gradient images, tiling them, and then putting a color underneath, as illustrated in <a data-type="xref" href="#linear-gradients-tablecloth-regular">Figure 9-23</a>:</p>&#13;
&#13;
<pre data-code-language="css" data-type="programlisting"><code class="nt">div</code> <code class="p">{</code>&#13;
   <code class="k">background-image</code><code class="o">:</code>&#13;
      <code class="n">linear</code><code class="o">-</code><code class="n">gradient</code><code class="p">(</code><code class="n">to</code> <code class="nb">top</code><code class="o">,</code> <code class="nb">transparent</code> <code class="m">1vw</code><code class="o">,</code> <code class="n">rgba</code><code class="p">(</code><code class="m">0</code> <code class="m">0</code> <code class="m">0</code> <code class="o">/</code> <code class="m">0</code><code class="o">.</code><code class="m">2</code><code class="p">)</code> <code class="m">1vw</code><code class="p">)</code><code class="o">,</code>&#13;
      <code class="n">linear</code><code class="o">-</code><code class="n">gradient</code><code class="p">(</code><code class="n">to</code> <code class="nb">right</code><code class="o">,</code> <code class="nb">transparent</code> <code class="m">1vw</code><code class="o">,</code> <code class="n">rgba</code><code class="p">(</code><code class="m">0</code> <code class="m">0</code> <code class="m">0</code> <code class="o">/</code> <code class="m">0</code><code class="o">.</code><code class="m">2</code><code class="p">)</code> <code class="m">1vw</code><code class="p">);</code>&#13;
   <code class="k">background-size</code><code class="o">:</code> <code class="m">2vw</code> <code class="m">2vw</code><code class="p">;</code>&#13;
   <code class="k">background-repeat</code><code class="o">:</code> <code class="nb">repeat</code><code class="p">;</code>&#13;
<code class="p">}</code>&#13;
<code class="nt">div</code><code class="nc">.fruit</code> <code class="p">{</code><code class="k">background-color</code><code class="o">:</code> <code class="nb">papayawhip</code><code class="p">;}</code>&#13;
<code class="nt">div</code><code class="nc">.grain</code> <code class="p">{</code><code class="k">background-color</code><code class="o">:</code> <code class="nb">palegoldenrod</code><code class="p">;}</code>&#13;
<code class="nt">div</code><code class="nc">.fishy</code> <code class="p">{</code><code class="k">background-color</code><code class="o">:</code> <code class="nb">salmon</code><code class="p">;}</code></pre>&#13;
&#13;
<figure><div class="figure" id="linear-gradients-tablecloth-regular">&#13;
<img alt="css5 0923" src="assets/css5_0923.png"/>&#13;
<h6><span class="label">Figure 9-23. </span>Papayawhip-, palegoldenrod-, and salmon- colored table cloths</h6>&#13;
</div></figure>&#13;
&#13;
<p>Instead of defining a gradient size with <code>background-size</code> and tiling it with <code>background-repeat</code>, we can use repeating linear gradient syntax. By adding <code>repeating</code> in front of the linear gradients, they are made infinitely repeating within the size of the gradient. In other words, the declared color stops and color hints are repeated on a loop along the gradient line, over and over again, because the size of a gradient line when using <code>repeating-linear-gradient</code> is the size of the last color stop position less the first color stop position (in this case, <code>2vw</code>).  Thus, we can remove the sizing and repetition properties, as in the following, and get the same result shown in <a data-type="xref" href="#linear-gradients-tablecloth-regular">Figure 9-23</a>:</p>&#13;
&#13;
<pre data-code-language="css" data-type="programlisting"><code class="nt">div</code> <code class="p">{</code>&#13;
   <code class="k">background-image</code><code class="o">:</code>&#13;
     <code class="n">repeating</code><code class="o">-</code><code class="n">linear</code><code class="o">-</code><code class="n">gradient</code><code class="p">(</code><code class="n">to</code> <code class="nb">top</code><code class="o">,</code>&#13;
        <code class="nb">transparent</code> <code class="m">0</code> <code class="m">1vw</code><code class="o">,</code> <code class="nb">rgb</code><code class="p">(</code><code class="m">0</code> <code class="m">0</code> <code class="m">0</code> <code class="o">/</code> <code class="m">0</code><code class="o">.</code><code class="m">2</code><code class="p">)</code> <code class="m">1vw</code> <code class="m">2vw</code><code class="p">)</code><code class="o">,</code>&#13;
     <code class="n">repeating</code><code class="o">-</code><code class="n">linear</code><code class="o">-</code><code class="n">gradient</code><code class="p">(</code><code class="n">to</code> <code class="nb">right</code><code class="o">,</code>&#13;
        <code class="nb">transparent</code> <code class="m">0</code> <code class="m">1vw</code><code class="o">,</code> <code class="nb">rgb</code><code class="p">(</code><code class="m">0</code> <code class="m">0</code> <code class="m">0</code> <code class="o">/</code> <code class="m">0</code><code class="o">.</code><code class="m">2</code><code class="p">)</code> <code class="m">1vw</code> <code class="m">2vw</code><code class="p">);</code>&#13;
<code class="p">}</code>&#13;
<code class="nt">div</code><code class="nc">.fruit</code> <code class="p">{</code><code class="k">background-color</code><code class="o">:</code> <code class="nb">papayawhip</code><code class="p">;}</code>&#13;
<code class="nt">div</code><code class="nc">.grain</code> <code class="p">{</code><code class="k">background-color</code><code class="o">:</code> <code class="nb">palegoldenrod</code><code class="p">;}</code>&#13;
<code class="nt">div</code><code class="nc">.fishy</code> <code class="p">{</code><code class="k">background-color</code><code class="o">:</code> <code class="nb">salmon</code><code class="p">;}</code></pre>&#13;
&#13;
<p>This is nice for simple patterns like these tablecloths, but it comes in really handy for more complex situations.  For example, if you declare the following nonrepeating gradient, you end up with discontinuity where the image repeats, as shown in <a data-type="xref" href="#cab_fig96">Figure 9-24</a>:</p>&#13;
&#13;
<pre data-code-language="css" data-type="programlisting"><code class="nt">h1</code><code class="nc">.example</code> <code class="p">{</code><code class="k">background</code><code class="o">:</code>&#13;
    <code class="n">linear</code><code class="o">-</code><code class="n">gradient</code><code class="p">(</code><code class="m">-45deg</code><code class="o">,</code> <code class="nb">black</code> <code class="m">0</code><code class="o">,</code> <code class="nb">black</code> <code class="m">25px</code><code class="o">,</code> <code class="nb">yellow</code> <code class="m">25px</code><code class="o">,</code> <code class="nb">yellow</code> <code class="m">50px</code><code class="p">)</code>&#13;
    <code class="nb">top</code> <code class="nb">left</code><code class="o">/</code><code class="m">40px</code> <code class="m">40px</code> <code class="nb">repeat</code><code class="p">;}</code></pre>&#13;
&#13;
<figure><div class="figure" id="cab_fig96">&#13;
<img alt="css5 0924" src="assets/css5_0924.png"/>&#13;
<h6><span class="label">Figure 9-24. </span>Tiling gradient images with a repeating background image</h6>&#13;
</div></figure>&#13;
&#13;
<p>You <em>could</em> try to nail down the exact sizes of the element and gradient&#13;
image and then mess with the construction of the gradient image to try to make the sides line up, but it would be a lot easier to do the following, with the result shown in <a data-type="xref" href="#cab_fig97">Figure 9-25</a>:</p>&#13;
&#13;
<pre data-code-language="css" data-type="programlisting"><code class="nt">h1</code><code class="nc">.example</code> <code class="p">{</code><code class="k">background</code><code class="o">:</code> <code class="n">repeating</code><code class="o">-</code><code class="n">linear</code><code class="o">-</code><code class="n">gradient</code><code class="p">(</code><code class="m">-45deg</code><code class="o">,</code>&#13;
        <code class="nb">black</code> <code class="m">0</code> <code class="m">25px</code><code class="o">,</code> <code class="nb">yellow</code> <code class="m">25px</code> <code class="m">50px</code><code class="p">)</code> <code class="nb">top</code> <code class="nb">left</code><code class="p">;}</code></pre>&#13;
&#13;
<figure><div class="figure" id="cab_fig97">&#13;
<img alt="css5 0925" src="assets/css5_0925.png"/>&#13;
<h6><span class="label">Figure 9-25. </span>A repeating gradient image</h6>&#13;
</div></figure>&#13;
&#13;
<p>Note that the last color stop ends with an explicit length (<code>50px</code>).  This is important to do with repeating gradients, because the length value(s) of the last color stop defines the overall length of the pattern.  If you leave off an ending stop, it will default to 100%, which is the end of the gradient line.</p>&#13;
&#13;
<p>If you’re using smoother transitions, you&#13;
need to be careful that the color value at the last color stop matches&#13;
the color value at the first color stop. Consider this:</p>&#13;
&#13;
<pre data-code-language="css" data-type="programlisting"><code class="n">repeating</code><code class="o">-</code><code class="n">linear</code><code class="o">-</code><code class="n">gradient</code><code class="p">(</code><code class="m">-45deg</code><code class="o">,</code> <code class="nb">purple</code> <code class="m">0px</code><code class="o">,</code> <code class="nb">gold</code> <code class="m">50px</code><code class="p">)</code></pre>&#13;
&#13;
<p>This will produce a smooth gradient from purple to gold at 50 pixels,&#13;
and then a hard switch back to purple and another 50-pixel&#13;
purple-to-gold blend. By adding one more color stop with the same color&#13;
as the first color stop, the gradient can be smoothed out to avoid&#13;
hard-stop lines:</p>&#13;
&#13;
<pre data-code-language="css" data-type="programlisting"><code class="n">repeating</code><code class="o">-</code><code class="n">linear</code><code class="o">-</code><code class="n">gradient</code><code class="p">(</code><code class="m">-45deg</code><code class="o">,</code> <code class="nb">purple</code> <code class="m">0px</code><code class="o">,</code> <code class="nb">gold</code> <code class="m">50px</code><code class="o">,</code> <code class="nb">purple</code> <code class="m">100px</code><code class="p">)</code></pre>&#13;
&#13;
<p>See <a data-type="xref" href="#cab_fig98">Figure 9-26</a> for a comparison of the two approaches.</p>&#13;
&#13;
<figure><div class="figure" id="cab_fig98">&#13;
<img alt="css5 0926" src="assets/css5_0926.png"/>&#13;
<h6><span class="label">Figure 9-26. </span>Dealing with hard resets in repeating-gradient images</h6>&#13;
</div></figure>&#13;
&#13;
<p>You may have noticed that none of the repeating gradients so&#13;
far have a defined size. That means the images are defaulting in size to&#13;
the full background positioning area of the element to which they’re&#13;
applied, per the default behavior for images that have no intrinsic&#13;
height and width.</p>&#13;
&#13;
<p>If you resize a repeating-gradient image by using <code>background-size</code>, the gradient would repeat only within the bounds of the gradient image. If you then repeated that image using <code>background-repeat</code>, you could easily be back to having discontinuities in your background.</p>&#13;
&#13;
<p>If you use percentages in your repeating linear gradients, they’ll be&#13;
placed the same as if the gradient wasn’t of the repeating variety. Then&#13;
again, this would mean that all of the gradients defined by those color&#13;
stops would be seen and none of the repetitions would be visible, so&#13;
percentages tend to be kind of pointless with repeating linear gradients.<a data-primary="" data-startref="ix_grad_linear" data-type="indexterm" id="idm45176087441312"/><a data-primary="" data-startref="ix_linear_grad_ch9" data-type="indexterm" id="idm45176087440336"/><a data-primary="" data-startref="ix_lin_grad_repeat" data-type="indexterm" id="idm45176087439392"/><a data-primary="" data-startref="ix_repeat_lin_grad" data-type="indexterm" id="idm45176087438448"/></p>&#13;
</div></section>&#13;
</div></section>&#13;
&#13;
&#13;
&#13;
&#13;
&#13;
&#13;
<section data-pdf-bookmark="Radial Gradients" data-type="sect1"><div class="sect1" id="radial-gradients">&#13;
<h1>Radial Gradients</h1>&#13;
&#13;
<p>Linear <a data-primary="gradients" data-secondary="radial" data-type="indexterm" id="ix_grad_rad_grad_ch9"/><a data-primary="radial gradients" data-type="indexterm" id="ix_rad_grad_ch9"/>gradients are pretty awesome, but at times you really&#13;
want a circular gradient. You can use such a gradient to create a&#13;
spotlight effect, a circular shadow, a rounded glow, or any number of&#13;
other effects, including a reflected gradient. <a data-primary="radial gradients" data-secondary="radial-gradient() function" data-type="indexterm" id="idm45176087434112"/>The syntax used is similar to that for linear gradients, but some interesting differences exist:</p>&#13;
<pre>radial-gradient(&#13;
    [ [ &lt;<em>shape</em>&gt; ‖ &lt;<em>size</em>&gt; ] [ at &lt;<em>position</em>&gt;]? , | at &lt;<em>position</em>&gt;, ]?&#13;
      [ &lt;<em>color-stop-list</em>&gt; [, &lt;<em>color-hint</em>&gt;]? ] [, &lt;<em>color-stop-list</em>&gt; ]+&#13;
)</pre>&#13;
&#13;
<p>What this <a data-primary="radial gradients" data-secondary="colors in" data-type="indexterm" id="idm45176087428928"/>boils down to is you can optionally declare a shape and size,&#13;
optionally declare where the center of the gradient is positioned, and&#13;
then declare two or more color stops with optional color hints between the stops. Interesting options are available in the shape and size bits, so let’s build up to those.</p>&#13;
&#13;
<p>First, let’s look at a simple radial gradient—the simplest possible, in&#13;
fact—presented in a variety of differently shaped elements (<a data-type="xref" href="#cab_fig80">Figure 9-27</a>):</p>&#13;
&#13;
<pre data-code-language="css" data-type="programlisting"><code class="nc">.radial</code> <code class="p">{</code><code class="k">background-image</code><code class="o">:</code> <code class="n">radial</code><code class="o">-</code><code class="n">gradient</code><code class="p">(</code><code class="nb">purple</code><code class="o">,</code> <code class="nb">gold</code><code class="p">);}</code></pre>&#13;
&#13;
<figure><div class="figure" id="cab_fig80">&#13;
<img alt="css5 0927" src="assets/css5_0927.png"/>&#13;
<h6><span class="label">Figure 9-27. </span>A simple radial gradient in multiple settings</h6>&#13;
</div></figure>&#13;
&#13;
<p>In all of these cases, because no position is declared, the default of&#13;
<code>center</code> is used, and the default ellipse has the same aspect ratio as the image size.&#13;
Because no shape is declared, the shape is an&#13;
ellipse for all cases but the square element; in that case, the shape is&#13;
a circle. Finally, because no color-stop or color-hint positions are declared, the&#13;
first is placed at the beginning of the gradient ray, and the last at&#13;
the end, with a linear blend from one to the other.</p>&#13;
&#13;
<p>That’s right: the <em>gradient ray</em> is the <a data-primary="radial gradients" data-secondary="gradient rays" data-type="indexterm" id="idm45176087383744"/><a data-primary="gradient ray" data-type="indexterm" id="idm45176087382736"/>radial equivalent of the&#13;
gradient line in linear gradients. It extends outward from the center of&#13;
the gradient directly to the right, and the rest of the gradient is&#13;
constructed from it. (We’ll get to the details in just a bit.)</p>&#13;
&#13;
&#13;
&#13;
&#13;
&#13;
&#13;
&#13;
&#13;
<section data-pdf-bookmark="Setting Shape and Size" data-type="sect2"><div class="sect2" id="shape-and-size">&#13;
<h2>Setting Shape and Size</h2>&#13;
&#13;
<p>First off, a <a data-primary="radial gradients" data-secondary="shape of" data-type="indexterm" id="idm45176087379472"/><a data-primary="radial gradients" data-secondary="size of" data-type="indexterm" id="ix_rad_grad_size"/>radial gradient has exactly two possible shape values (and thus two possible shapes): <code>circle</code> and <code>ellipse</code>. The shape of a gradient can be declared explicitly or can be implied by the way you size the gradient image.</p>&#13;
&#13;
<p>So, on to sizing. As always, the simplest way to size a radial gradient&#13;
is with either one nonnegative length (if you’re sizing a circle) or&#13;
two nonnegative lengths (if it’s an ellipse). Say you have this radial&#13;
gradient:</p>&#13;
&#13;
<pre data-code-language="css" data-type="programlisting"><code class="n">radial</code><code class="o">-</code><code class="n">gradient</code><code class="p">(</code><code class="m">50px</code><code class="o">,</code> <code class="nb">purple</code><code class="o">,</code> <code class="nb">gold</code><code class="p">)</code></pre>&#13;
&#13;
<p>This creates a circular radial gradient that fades from purple at the&#13;
center to gold at a distance of 50 pixels from the center. If we add&#13;
another length, the shape becomes an ellipse that’s as wide as the&#13;
first length and as tall as the second length:</p>&#13;
&#13;
<pre data-code-language="css" data-type="programlisting"><code class="n">radial</code><code class="o">-</code><code class="n">gradient</code><code class="p">(</code><code class="m">50px</code> <code class="m">100px</code><code class="o">,</code> <code class="nb">purple</code><code class="o">,</code> <code class="nb">gold</code><code class="p">)</code></pre>&#13;
&#13;
<p><a data-type="xref" href="#cab_fig81">Figure 9-28</a> shows these two gradients.</p>&#13;
&#13;
<figure class="width-50"><div class="figure" id="cab_fig81">&#13;
<img alt="css5 0928" src="assets/css5_0928.png"/>&#13;
<h6><span class="label">Figure 9-28. </span>Simple radial gradients</h6>&#13;
</div></figure>&#13;
&#13;
<p>Notice that the shape of the gradients has nothing to do with the overall&#13;
size and shape of the images in which they appear. If you make a&#13;
gradient a circle, it will be a circle, even if it’s inside a rectangular&#13;
gradient image. So too will an ellipse always be an ellipse, even when&#13;
inside a square gradient image.</p>&#13;
&#13;
<p>You can also use percentage values for the size, but <em>only</em> for&#13;
ellipses. Circles cannot be given percentage sizes because there’s no&#13;
way to indicate the axis to which that percentage refers. (Imagine an&#13;
image 100 pixels tall by 500 wide. Should <code>10%</code> mean 10 pixels or 50&#13;
pixels?)  If you try to provide percentage values for a circle, the entire declaration will fail because of the invalid value.</p>&#13;
&#13;
<p>If you do supply percentages to an ellipse, then as usual, the first refers&#13;
to the horizontal axis and the second to the vertical. The following&#13;
gradient is shown in various settings in <a data-type="xref" href="#cab_fig82">Figure 9-29</a>:</p>&#13;
&#13;
<pre data-code-language="css" data-type="programlisting"><code class="n">radial</code><code class="o">-</code><code class="n">gradient</code><code class="p">(</code><code class="m">50%</code> <code class="m">25%</code><code class="o">,</code> <code class="nb">purple</code><code class="o">,</code> <code class="nb">gold</code><code class="p">)</code></pre>&#13;
&#13;
<figure><div class="figure" id="cab_fig82">&#13;
<img alt="css5 0929" src="assets/css5_0929.png"/>&#13;
<h6><span class="label">Figure 9-29. </span>Percentage-sized elliptical gradients</h6>&#13;
</div></figure>&#13;
&#13;
<p>When it comes to ellipses, you’re also able to mix lengths and&#13;
percentages, with the usual caveat to be careful. So if you’re feeling&#13;
confident, you can absolutely make an elliptical radial gradient 10&#13;
pixels tall and half the element width, like so:</p>&#13;
&#13;
<pre data-code-language="css" data-type="programlisting"><code class="n">radial</code><code class="o">-</code><code class="n">gradient</code><code class="p">(</code><code class="m">50%</code> <code class="m">10px</code><code class="o">,</code> <code class="nb">purple</code><code class="o">,</code> <code class="nb">gold</code><code class="p">)</code></pre>&#13;
&#13;
<p>As it happens, lengths and percentages aren’t the only way to size&#13;
radial gradients. <a data-primary="radial gradients" data-secondary="gradient rays" data-type="indexterm" id="idm45176087246528"/>In addition to those value types, four&#13;
keywords are available for sizing radial gradients, the effects of which are summarized here:</p>&#13;
<dl>&#13;
<dt><code>closest-side</code></dt>&#13;
<dd>&#13;
<p>If the <a data-primary="closest-side keyword, radial gradients" data-type="indexterm" id="idm45176087243760"/>radial gradient’s shape is a circle, the gradient is sized so that the end of the gradient ray exactly touches the edge of the gradient image that is closest to the center point of the radial gradient.  If the shape is an ellipse, the end of the gradient ray exactly touches the closest edge in each of the horizontal and vertical axes.</p>&#13;
</dd>&#13;
<dt><code>farthest-side</code></dt>&#13;
<dd>&#13;
<p>If the <a data-primary="farthest-side keyword, radial gradients" data-type="indexterm" id="idm45176087241520"/>radial gradient’s shape is a circle, the gradient is sized so that the end of the gradient ray exactly touches the edge of the gradient image that is farthest from the center point of the radial gradient.  If the shape is an ellipse, the end of the gradient ray exactly touches the farthest edge in each of the horizontal and vertical axes.</p>&#13;
</dd>&#13;
<dt><code>closest-corner</code></dt>&#13;
<dd>&#13;
<p>If the <a data-primary="closest-corner keyword, radial gradients" data-type="indexterm" id="idm45176087239280"/>radial gradient’s shape is a circle, the gradient is sized so that the end of the gradient ray exactly touches the corner of the gradient image that is closest to the center point of the radial gradient.  If the shape is an ellipse, the end of the gradient ray still touches the corner closest to the center, <em>and</em> the ellipse has the same aspect ratio that it would have had if <code>closest-side</code> had been specified.</p>&#13;
</dd>&#13;
<dt><code>farthest-corner</code> (default)</dt>&#13;
<dd>&#13;
<p>If the <a data-primary="farthest-corner keyword, radial gradients" data-type="indexterm" id="idm45176087215440"/>radial gradient’s shape is a circle, the gradient is sized so that the end of the gradient ray exactly touches the corner of the gradient image that is farthest from the center point of the radial gradient.  If the shape is an ellipse, the end of the gradient ray still touches the corner farthest from the center, <em>and</em> the ellipse has the same aspect ratio that it would have had if <code>farthest-side</code> had been specified. Note: this is the default size value for a radial gradient and so is used if no size values are declared.</p>&#13;
</dd>&#13;
</dl>&#13;
&#13;
<p>To better visualize the results of each keyword, see <a data-type="xref" href="#cab_fig83">Figure 9-30</a>,&#13;
which depicts each keyword applied as both a circle and an ellipse.</p>&#13;
&#13;
<figure><div class="figure" id="cab_fig83">&#13;
<img alt="css5 0930" src="assets/css5_0930.png"/>&#13;
<h6><span class="label">Figure 9-30. </span>The effects of radial-gradient sizing keywords (positioned <code>at 33% 66%</code>)</h6>&#13;
</div></figure>&#13;
&#13;
<p>These keywords cannot be mixed with lengths or percentages in elliptical&#13;
radial gradients; thus, <code>closest-side 25px</code> is invalid and will be&#13;
ignored.</p>&#13;
&#13;
<p>Something you might have noticed in <a data-type="xref" href="#cab_fig83">Figure 9-30</a> is that the gradients&#13;
didn’t start at the center of the image. That’s because they were&#13;
positioned elsewhere, which is the topic of the next section.<a data-primary="" data-startref="ix_rad_grad_size" data-type="indexterm" id="idm45176087208144"/></p>&#13;
</div></section>&#13;
&#13;
&#13;
&#13;
&#13;
&#13;
&#13;
&#13;
&#13;
<section data-pdf-bookmark="Positioning Radial Gradients" data-type="sect2"><div class="sect2" id="positioning-radial-gradients">&#13;
<h2>Positioning Radial Gradients</h2>&#13;
&#13;
<p>If you want to shift the <a data-primary="positioning" data-secondary="gradient" data-type="indexterm" id="ix_position_rad_grad"/><a data-primary="radial gradients" data-secondary="positioning" data-type="indexterm" id="ix_rad_grad_position"/>center of a radial gradient away from the&#13;
default of <code>center</code>, you can do so using any position value that&#13;
would be valid for <code>background-position</code>. We’re not going to reproduce&#13;
that rather complicated syntax here; flip back to <a data-type="xref" href="ch08.html#background-positioning">“Positioning Background Images”</a> if you need a refresher.</p>&#13;
&#13;
<p>When we say “any position value that would be valid,” that means any&#13;
permitted combination of lengths, percentages, keywords, and so on. It also means that if you leave off one of the two position values, it will be inferred just the same as for <code>background-position</code>. So, just for one&#13;
example, <code>center</code> is equivalent to <code>center center</code>.  The one major difference between radial gradient positions and background&#13;
positions is the default: for radial gradients, the default position is&#13;
<code>center</code>, not <code>0% 0%</code>.</p>&#13;
&#13;
<p>To give an idea of the possibilities, consider the following rules,&#13;
illustrated in <a data-type="xref" href="#cab_fig84">Figure 9-31</a>:</p>&#13;
&#13;
<pre data-code-language="css" data-type="programlisting"><code class="n">radial</code><code class="o">-</code><code class="n">gradient</code><code class="p">(</code><code class="n">at</code> <code class="n">bottom</code> <code class="nb">left</code><code class="o">,</code> <code class="nb">purple</code><code class="o">,</code> <code class="nb">gold</code><code class="p">);</code>&#13;
<code class="n">radial</code><code class="o">-</code><code class="n">gradient</code><code class="p">(</code><code class="n">at</code> <code class="nb">center</code> <code class="nb">right</code><code class="o">,</code> <code class="nb">purple</code><code class="o">,</code> <code class="nb">gold</code><code class="p">);</code>&#13;
<code class="n">radial</code><code class="o">-</code><code class="n">gradient</code><code class="p">(</code><code class="n">at</code> <code class="m">30px</code> <code class="m">30px</code><code class="o">,</code> <code class="nb">purple</code><code class="o">,</code> <code class="nb">gold</code><code class="p">);</code>&#13;
<code class="n">radial</code><code class="o">-</code><code class="n">gradient</code><code class="p">(</code><code class="n">at</code> <code class="m">25%</code> <code class="m">66%</code><code class="o">,</code> <code class="nb">purple</code><code class="o">,</code> <code class="nb">gold</code><code class="p">);</code>&#13;
<code class="n">radial</code><code class="o">-</code><code class="n">gradient</code><code class="p">(</code><code class="n">at</code> <code class="m">30px</code> <code class="m">66%</code><code class="o">,</code> <code class="nb">purple</code><code class="o">,</code> <code class="nb">gold</code><code class="p">);</code></pre>&#13;
&#13;
<figure><div class="figure" id="cab_fig84">&#13;
<img alt="css5 0931" src="assets/css5_0931.png"/>&#13;
<h6><span class="label">Figure 9-31. </span>Changing the center position of radial gradients</h6>&#13;
</div></figure>&#13;
&#13;
<p>None of those positioned radial gradients are explicitly&#13;
sized, so they all default to <code>farthest-corner</code>. That’s a reasonable&#13;
guess at the intended default behavior, but it’s not the only&#13;
possibility. Let’s mix some sizes into these gradients and&#13;
find out how that changes things (as depicted in <a data-type="xref" href="#cab_fig85">Figure 9-32</a>):</p>&#13;
&#13;
<pre data-code-language="css" data-type="programlisting"><code class="n">radial</code><code class="o">-</code><code class="n">gradient</code><code class="p">(</code><code class="m">30px</code> <code class="n">at</code> <code class="n">bottom</code> <code class="nb">left</code><code class="o">,</code> <code class="nb">purple</code><code class="o">,</code> <code class="nb">gold</code><code class="p">);</code>&#13;
<code class="n">radial</code><code class="o">-</code><code class="n">gradient</code><code class="p">(</code><code class="m">30px</code> <code class="m">15px</code> <code class="n">at</code> <code class="nb">center</code> <code class="nb">right</code><code class="o">,</code> <code class="nb">purple</code><code class="o">,</code> <code class="nb">gold</code><code class="p">);</code>&#13;
<code class="n">radial</code><code class="o">-</code><code class="n">gradient</code><code class="p">(</code><code class="m">50%</code> <code class="m">15%</code> <code class="n">at</code> <code class="m">30px</code> <code class="m">30px</code><code class="o">,</code> <code class="nb">purple</code><code class="o">,</code> <code class="nb">gold</code><code class="p">);</code>&#13;
<code class="n">radial</code><code class="o">-</code><code class="n">gradient</code><code class="p">(</code><code class="n">farthest</code><code class="o">-</code><code class="n">side</code> <code class="n">at</code> <code class="m">25%</code> <code class="m">66%</code><code class="o">,</code> <code class="nb">purple</code><code class="o">,</code> <code class="nb">gold</code><code class="p">);</code>&#13;
<code class="n">radial</code><code class="o">-</code><code class="n">gradient</code><code class="p">(</code><code class="n">closest</code><code class="o">-</code><code class="n">corner</code> <code class="n">at</code> <code class="m">30px</code> <code class="m">66%</code><code class="o">,</code> <code class="nb">purple</code><code class="o">,</code> <code class="nb">gold</code><code class="p">);</code></pre>&#13;
&#13;
<figure><div class="figure" id="cab_fig85">&#13;
<img alt="css5 0932" src="assets/css5_0932.png"/>&#13;
<h6><span class="label">Figure 9-32. </span>Changing the center position of explicitly sized radial gradients</h6>&#13;
</div></figure>&#13;
&#13;
<p>Nifty. Now, suppose we want something a little more complicated than a&#13;
fade from one color to another. Next stop, color stops!</p>&#13;
</div></section>&#13;
&#13;
&#13;
&#13;
&#13;
&#13;
&#13;
&#13;
&#13;
<section data-pdf-bookmark="Using Radial Color Stops and the Gradient Ray" data-type="sect2"><div class="sect2" id="radial-color-stops-and-the-gradient-ray">&#13;
<h2>Using Radial Color Stops and the Gradient Ray</h2>&#13;
&#13;
<p>Color <a data-primary="radial gradients" data-secondary="gradient rays" data-type="indexterm" id="ix_rad_grad_ray"/><a data-primary="radial gradients" data-secondary="color stop positioning" data-type="indexterm" id="ix_rad_grad_color_stop"/><a data-primary="gradient ray" data-type="indexterm" id="ix_grad_ray"/><a data-primary="radial gradients" data-secondary="colors in" data-type="indexterm" id="idm45176086975680"/><a data-primary="color stops" data-secondary="radial gradients" data-type="indexterm" id="ix_color_stop_rad_grad"/><a data-primary="gradients" data-secondary="color stops" data-type="indexterm" id="ix_grad_color_stop2"/>stops for radial gradients have the same syntax as, and work in a similar fashion to, linear&#13;
gradients. Let’s return to the simplest possible radial gradient and&#13;
follow it with a more explicit equivalent:</p>&#13;
&#13;
<pre data-code-language="css" data-type="programlisting"><code class="n">radial</code><code class="o">-</code><code class="n">gradient</code><code class="p">(</code><code class="nb">purple</code><code class="o">,</code> <code class="nb">gold</code><code class="p">);</code>&#13;
<code class="n">radial</code><code class="o">-</code><code class="n">gradient</code><code class="p">(</code><code class="nb">purple</code> <code class="m">0%</code><code class="o">,</code> <code class="nb">gold</code> <code class="m">100%</code><code class="p">);</code></pre>&#13;
&#13;
<p class="less_space pagebreak-before">So the gradient ray extends out from the center point. At 0% (the start&#13;
point, and also the center of the gradient), the ray will be purple. At&#13;
100% (the ending point), the ray will be gold. Between the two stops is a&#13;
smooth blend from purple to gold; beyond the ending point is solid gold.</p>&#13;
&#13;
<p>If we add a stop between purple and gold, but don’t give it a position,&#13;
the stop will be placed midway between the two colors, and the blending will be altered accordingly, as shown in <a data-type="xref" href="#cab_fig86">Figure 9-33</a>:</p>&#13;
&#13;
<pre data-code-language="css" data-type="programlisting"><code class="n">radial</code><code class="o">-</code><code class="n">gradient</code><code class="p">(</code><code class="m">100px</code> <code class="nb">circle</code> <code class="n">at</code> <code class="nb">center</code><code class="o">,</code> <code class="nb">purple</code> <code class="m">0%</code><code class="o">,</code> <code class="nb">green</code><code class="o">,</code> <code class="nb">gold</code> <code class="m">100%</code><code class="p">);</code></pre>&#13;
&#13;
<figure><div class="figure" id="cab_fig86">&#13;
<img alt="css5 0933" src="assets/css5_0933.png"/>&#13;
<h6><span class="label">Figure 9-33. </span>Adding a color stop</h6>&#13;
</div></figure>&#13;
&#13;
<p>We’d have gotten the same result if we’d added <code>green 50%</code> there, but&#13;
you get the idea. The gradient ray’s color goes smoothly from purple to&#13;
green to gold, and then is solid gold beyond that point on the ray.</p>&#13;
&#13;
<p>This illustrates one difference between gradient lines (for linear&#13;
gradients) and gradient rays: a linear gradient is derived by extending&#13;
the color perpendicularly at each point along the gradient line. A similar behavior occurs with a radial gradient, except&#13;
instead of the lines that come off the gradient ray, ellipses are created; these are scaled-up or scaled-down versions of the ellipse at the ending point. <a data-type="xref" href="#cab_fig87">Figure 9-34</a> illustrates a gradient ray and the ellipses that are drawn at various points along it.</p>&#13;
&#13;
<figure><div class="figure" id="cab_fig87">&#13;
<img alt="css5 0934" src="assets/css5_0934.png"/>&#13;
<h6><span class="label">Figure 9-34. </span>The gradient ray and some of the ellipses it spawns</h6>&#13;
</div></figure>&#13;
&#13;
<p>That brings up an interesting question: how is the ending point (the <code>100%</code>&#13;
point, if you like) determined for each gradient ray? It’s the&#13;
point where the gradient ray intersects with the shape described by the&#13;
size. For a circle, that’s easy: the gradient ray’s ending point is however far from the center that the size value <span class="keep-together">indicates.</span> So for a <code>25px circle</code> gradient, the ending point of the ray is 25 pixels from the center.</p>&#13;
&#13;
<p>For an ellipse, it’s essentially the same operation, except that the&#13;
distance from the center is dependent on the horizontal axis of the&#13;
ellipse. Given a radial gradient that’s a <code>40px 20px ellipse</code>, the ending&#13;
point will be 40 pixels from the center and directly to its right.&#13;
<a data-type="xref" href="#cab_fig88">Figure 9-35</a> shows this in some detail.</p>&#13;
&#13;
<figure><div class="figure" id="cab_fig88">&#13;
<img alt="css5 0935" src="assets/css5_0935.png"/>&#13;
<h6><span class="label">Figure 9-35. </span>Setting the gradient ray’s ending point</h6>&#13;
</div></figure>&#13;
&#13;
<p>Another <a data-primary="radial gradients" data-secondary="colors in" data-type="indexterm" id="ix_rad_grad_colors"/>difference between linear gradient lines and radial gradient&#13;
rays is that you can see beyond the ending point. As you may recall, a linear gradient line is always drawn so that you can see the colors at the 0% and 100% points, but nothing beyond them; the gradient line can never be any smaller than the longest axis of the gradient image and will frequently be longer than that. With a radial gradient, on the other hand, you can size the radial shape to be smaller than the total gradient image. In that case, the color at the last color stop is extended outward from the ending point. (You’ve already seen this in several previous figures.)</p>&#13;
&#13;
<p>Conversely, if you set a color stop that’s beyond the ending point of a&#13;
ray, you might get to see the color out to that stop. Consider the&#13;
following gradient, illustrated in <a data-type="xref" href="#cab_fig89">Figure 9-36</a>:</p>&#13;
&#13;
<pre data-code-language="css" data-type="programlisting"><code class="n">radial</code><code class="o">-</code><code class="n">gradient</code><code class="p">(</code><code class="m">50px</code> <code class="nb">circle</code> <code class="n">at</code> <code class="nb">center</code><code class="o">,</code> <code class="nb">purple</code><code class="o">,</code> <code class="nb">green</code><code class="o">,</code> <code class="nb">gold</code> <code class="m">80px</code><code class="p">)</code></pre>&#13;
&#13;
<figure class="width-50"><div class="figure" id="cab_fig89">&#13;
<img alt="css5 0936" src="assets/css5_0936.png"/>&#13;
<h6><span class="label">Figure 9-36. </span>Color stops beyond the ending point</h6>&#13;
</div></figure>&#13;
&#13;
<p>The first color stop has no position, so it’s set to <code>0%</code>, which is the&#13;
center point. The last color stop is set to <code>80px</code>, so it will be 80&#13;
pixels away from the center in all directions. The middle color stop,&#13;
<code>green</code>, is placed midway between the two (40 pixels from the center).&#13;
So we get a gradient that goes out to gold at 80 pixels and then&#13;
continues gold beyond that point.</p>&#13;
&#13;
<p>This happens even though the circle is explicitly set to be 50 pixels&#13;
large. It still is 50 pixels in radius; it’s just that the positioning&#13;
of the last color stop makes that fact vaguely irrelevant. Visually, we&#13;
might as well have declared this:</p>&#13;
&#13;
<pre data-code-language="css" data-type="programlisting"><code class="n">radial</code><code class="o">-</code><code class="n">gradient</code><code class="p">(</code><code class="m">80px</code> <code class="nb">circle</code> <code class="n">at</code> <code class="nb">center</code><code class="o">,</code> <code class="nb">purple</code><code class="o">,</code> <code class="nb">green</code><code class="o">,</code> <code class="nb">gold</code><code class="p">)</code></pre>&#13;
&#13;
<p>Or, more simply, just this:</p>&#13;
&#13;
<pre data-code-language="css" data-type="programlisting"><code class="n">radial</code><code class="o">-</code><code class="n">gradient</code><code class="p">(</code><code class="m">80px</code><code class="o">,</code> <code class="nb">purple</code><code class="o">,</code> <code class="nb">green</code><code class="o">,</code> <code class="nb">gold</code><code class="p">)</code></pre>&#13;
&#13;
<p>The same behaviors apply if you use percentages for your color stops.&#13;
These are equivalent to the previous examples, and to each other,&#13;
visually speaking:</p>&#13;
&#13;
<pre data-code-language="css" data-type="programlisting"><code class="n">radial</code><code class="o">-</code><code class="n">gradient</code><code class="p">(</code><code class="m">50px</code><code class="o">,</code> <code class="nb">purple</code><code class="o">,</code> <code class="nb">green</code><code class="o">,</code> <code class="nb">gold</code> <code class="m">160%</code><code class="p">)</code>&#13;
<code class="n">radial</code><code class="o">-</code><code class="n">gradient</code><code class="p">(</code><code class="m">80px</code><code class="o">,</code> <code class="nb">purple</code><code class="o">,</code> <code class="nb">green</code><code class="o">,</code> <code class="nb">gold</code> <code class="m">100%</code><code class="p">)</code></pre>&#13;
&#13;
<p>Now, what if you set a negative position for a color stop? The result is pretty much the same as for linear gradient lines: the negative&#13;
color stop is used to figure out the color at the starting point but is&#13;
otherwise unseen. Thus, the following gradient will have the result&#13;
shown in <a data-type="xref" href="#cab_fig90">Figure 9-37</a>:</p>&#13;
&#13;
<pre data-code-language="css" data-type="programlisting"><code class="n">radial</code><code class="o">-</code><code class="n">gradient</code><code class="p">(</code><code class="m">80px</code><code class="o">,</code> <code class="nb">purple</code> <code class="m">-40px</code><code class="o">,</code> <code class="nb">green</code><code class="o">,</code> <code class="nb">gold</code><code class="p">)</code></pre>&#13;
&#13;
<figure class="width-50"><div class="figure" id="cab_fig90">&#13;
<img alt="css5 0937" src="assets/css5_0937.png"/>&#13;
<h6><span class="label">Figure 9-37. </span>Handling a negative color-stop position</h6>&#13;
</div></figure>&#13;
&#13;
<p>Given these color-stop positions, the first color stop is at <code>-40px</code>,&#13;
the last is at <code>80px</code> (because, given its lack of an explicit position, it defaults to the ending point), and the middle is placed midway between&#13;
them. The result is the same as if we’d explicitly used this:</p>&#13;
&#13;
<pre data-code-language="css" data-type="programlisting"><code class="n">radial</code><code class="o">-</code><code class="n">gradient</code><code class="p">(</code><code class="m">80px</code><code class="o">,</code> <code class="nb">purple</code> <code class="m">-40px</code><code class="o">,</code> <code class="nb">green</code> <code class="m">20px</code><code class="o">,</code> <code class="nb">gold</code> <code class="m">80px</code><code class="p">)</code></pre>&#13;
&#13;
<p>That’s why the color at the center of the gradient is a green-purple:&#13;
it’s a blend of one-third purple, two-thirds green. From there, it&#13;
blends the rest of the way to green, and then on to gold. The rest of&#13;
the purple-green blend, the part that sits on the “negative space” of&#13;
the gradient ray, is invisible.<a data-primary="" data-startref="ix_rad_grad_position" data-type="indexterm" id="idm45176086667952"/><a data-primary="" data-startref="ix_position_rad_grad" data-type="indexterm" id="idm45176086667104"/><a data-primary="" data-startref="ix_color_stop_rad_grad" data-type="indexterm" id="idm45176086666192"/><a data-primary="" data-startref="ix_grad_ray" data-type="indexterm" id="idm45176086665248"/><a data-primary="" data-startref="ix_rad_grad_color_stop" data-type="indexterm" id="idm45176086664304"/><a data-primary="" data-startref="ix_rad_grad_ray" data-type="indexterm" id="idm45176086637088"/><a data-primary="" data-startref="ix_rad_grad_colors" data-type="indexterm" id="idm45176086636144"/><a data-primary="" data-startref="ix_grad_color_stop2" data-type="indexterm" id="idm45176086635200"/></p>&#13;
</div></section>&#13;
&#13;
&#13;
&#13;
&#13;
&#13;
&#13;
&#13;
&#13;
<section data-pdf-bookmark="Handling Degenerate Cases" data-type="sect2"><div class="sect2" id="degenerate-cases">&#13;
<h2>Handling Degenerate Cases</h2>&#13;
&#13;
<p>Given that we can <a data-primary="zero size situation, radial gradients" data-type="indexterm" id="ix_zero_size_rad_grad"/><a data-primary="radial gradients" data-secondary="degenerate (edge) cases" data-type="indexterm" id="ix_rad_grad_degen"/>declare size and position for a radial gradient, the&#13;
question arises: what if a circular gradient has zero radius, or an&#13;
elliptical gradient has zero height or width? These conditions aren’t&#13;
quite as hard to create as you might think. Besides explicitly&#13;
declaring that a radial gradient has zero size using <code>0px</code> or <code>0%</code>, you&#13;
could also do something like this:</p>&#13;
&#13;
<pre data-code-language="css" data-type="programlisting"><code class="n">radial</code><code class="o">-</code><code class="n">gradient</code><code class="p">(</code><code class="n">closest</code><code class="o">-</code><code class="n">corner</code> <code class="nb">circle</code> <code class="n">at</code> <code class="nb">top</code> <code class="nb">right</code><code class="o">,</code> <code class="nb">purple</code><code class="o">,</code> <code class="nb">gold</code><code class="p">)</code></pre>&#13;
&#13;
<p>The gradient’s size is set to <code>closest-corner</code>, and the center has been&#13;
moved into the <code>top right</code> corner, so the closest corner is 0 pixels&#13;
away from the center. Now what?</p>&#13;
&#13;
<p>In this case, the specification explicitly says that the gradient&#13;
should be rendered as if it’s “a circle whose radius [is] an arbitrary&#13;
very small number greater than zero.” So that might mean as if it had a&#13;
radius of one-one-billionth of a pixel, or a picometer, or heck, the&#13;
Planck length.  The interesting thing&#13;
is that it means the gradient is still a circle. It’s just a very, very,&#13;
very small circle. Probably, it will be too small to render&#13;
anything visible. If so, you’ll just get a solid-color fill that&#13;
corresponds to the color of the last color stop instead.</p>&#13;
&#13;
<p>Ellipses with zero-length dimensions have fascinatingly different&#13;
defined behaviors. Let’s assume the following:</p>&#13;
&#13;
<pre data-code-language="css" data-type="programlisting"><code class="n">radial</code><code class="o">-</code><code class="n">gradient</code><code class="p">(</code><code class="m">0px</code> <code class="m">50%</code> <code class="n">at</code> <code class="nb">center</code><code class="o">,</code> <code class="nb">purple</code><code class="o">,</code> <code class="nb">gold</code><code class="p">)</code></pre>&#13;
&#13;
<p>The <a data-primary="mirrored linear gradient" data-type="indexterm" id="idm45176086583392"/>specification states that any ellipse with a zero width is rendered&#13;
as if it’s “an ellipse whose height [is] an arbitrary very large number&#13;
and whose width [is] an arbitrary very small number greater than zero.”&#13;
In other words, render it as though it’s a linear gradient mirrored&#13;
around the vertical axis running through the center of the ellipse. The&#13;
specification also says that in such a case, any color stops with&#13;
percentage positions resolve to <code>0px</code>. This will usually result in a&#13;
solid color matching the color defined for the last color stop.</p>&#13;
&#13;
<p>On the other hand, if you use lengths to position the color stops, you&#13;
can get a vertically mirrored horizontal linear gradient for free.&#13;
Consider the following gradient, illustrated in <a data-type="xref" href="#cab_fig91">Figure 9-38</a>:</p>&#13;
&#13;
<pre data-code-language="css" data-type="programlisting"><code class="n">radial</code><code class="o">-</code><code class="n">gradient</code><code class="p">(</code><code class="m">0px</code> <code class="m">50%</code> <code class="n">at</code> <code class="nb">center</code><code class="o">,</code> <code class="nb">purple</code> <code class="m">0px</code><code class="o">,</code> <code class="nb">gold</code> <code class="m">100px</code><code class="p">)</code></pre>&#13;
&#13;
<figure><div class="figure" id="cab_fig91">&#13;
<img alt="css5 0938" src="assets/css5_0938.png"/>&#13;
<h6><span class="label">Figure 9-38. </span>The effects of a zero-width ellipse</h6>&#13;
</div></figure>&#13;
&#13;
<p>How did this happen? First, remember that the specification says that the <code>0px</code> horizontal width is treated as if it’s a tiny nonzero number. For the sake of illustration, let’s suppose that’s one-one-thousandth of a pixel (0.001 px). That means the ellipse shape is a thousandth of a pixel wide by half the height of the image. Again for the sake of illustration, let’s suppose that’s a height of 100 pixels. That means the first ellipse shape is a thousandth of a pixel wide by 100 pixels tall, which is an aspect ratio of 0.001:100, or 1:100,000.</p>&#13;
&#13;
<p>OK, so every ellipse drawn along the gradient ray has a 1:100,000 aspect ratio. That means the ellipse at half a pixel along the gradient ray is 1 pixel wide and 100,000 pixels tall. At 1 pixel, it’s 2 pixels wide and 200,000 pixels tall. At 5 pixels, the ellipse is 10 pixels by a &#13;
<span class="keep-together">million</span> pixels. At 50 pixels along the gradient ray, the ellipse is 100 pixels wide and 10 million tall. And so on. This is diagrammed in <a data-type="xref" href="#cab_fig92">Figure 9-39</a>.</p>&#13;
&#13;
<figure><div class="figure" id="cab_fig92">&#13;
<img alt="css5 0939" src="assets/css5_0939.png"/>&#13;
<h6><span class="label">Figure 9-39. </span>Very, very tall ellipses</h6>&#13;
</div></figure>&#13;
&#13;
<p>So you can see why the visual effect is of a mirrored linear gradient. These ellipses are effectively drawing vertical lines. Technically they aren’t, but in practical terms they are. The result is as if you have a vertically mirrored horizontal gradient, because each ellipse is centered on the center of the gradient, and both sides of it get drawn. While this may be a radial gradient, we can’t see its radial nature.</p>&#13;
&#13;
<p>On the other hand, if the ellipse has width but not height, the results are quite different. You’d think the result would be a vertical linear gradient mirrored around the horizontal axis, but not so! Instead, the result is a solid color equal to the last color stop (unless it’s a repeating gradient, a subject we’ll turn to shortly, in which case it should be a solid color equal to the average color of the gradient). So, given either of the following, you’ll get a solid gold:</p>&#13;
&#13;
<pre data-code-language="css" data-type="programlisting"><code class="n">radial</code><code class="o">-</code><code class="n">gradient</code><code class="p">(</code><code class="m">50%</code> <code class="m">0px</code> <code class="n">at</code> <code class="nb">center</code><code class="o">,</code> <code class="nb">purple</code><code class="o">,</code> <code class="nb">gold</code><code class="p">)</code>&#13;
<code class="n">radial</code><code class="o">-</code><code class="n">gradient</code><code class="p">(</code><code class="m">50%</code> <code class="m">0px</code> <code class="n">at</code> <code class="nb">center</code><code class="o">,</code> <code class="nb">purple</code> <code class="m">0px</code><code class="o">,</code> <code class="nb">gold</code> <code class="m">100px</code><code class="p">)</code></pre>&#13;
&#13;
<p>Why the difference? It goes back to the way radial gradients are constructed from the gradient ray. Again, remember that, per the specification, a zero distance here is treated as a very small nonzero number. As before, we’ll assume that <code>0px</code> is reassigned to <code>0.001px</code>, and that the <code>50%</code> evaluates to 100 pixels. That’s an aspect ratio of 100:0.001, or 100,000:1.</p>&#13;
&#13;
<p>So, to get an ellipse that’s 1 pixel tall, the width of that ellipse must be 100,000 pixels. But our last color stop is at only 100 pixels! At that point, the ellipse that’s drawn is 100 pixels wide and a thousandth of a pixel tall. All of the purple-to-gold transition that happens along the gradient ray has to happen in that thousandth of a pixel. Everything after that is gold, as per the final color stop. Thus, we can see only the gold.</p>&#13;
&#13;
<p>You might think that if you increased the position value of the last color stop to <code>100000px</code>, you’d see a thin sliver of purplish color running horizontally across the image. And you’d be right, <em>if</em> the browser treats <code>0px</code> as <code>0.001px</code> in these cases. If it assumes <code>0.00000001px</code> instead, you’d have to increase the color stop’s position a <em>lot</em> further in order to see anything. And that’s assuming the browser was actually calculating and drawing all those ellipses, instead of just hardcoding the special cases. The latter is a lot more likely, honestly. It’s what we’d do if we were in charge of a browser’s gradient-rendering code.</p>&#13;
&#13;
<p>And what if an ellipse has zero width <em>and</em> zero height? In that case, the specification is written such that the zero-width behavior is used; thus, you’ll get the mirrored-linear-gradient behavior.</p>&#13;
<div data-type="note" epub:type="note"><h6>Note</h6>&#13;
<p>As of late 2022, browser support for the defined behavior in&#13;
these edge cases is unstable, at best. Some browsers use the last&#13;
color-stop’s color in all cases, and others refuse to draw a&#13;
gradient at all in some cases.<a data-primary="" data-startref="ix_rad_grad_degen" data-type="indexterm" id="idm45176086424512"/><a data-primary="" data-startref="ix_zero_size_rad_grad" data-type="indexterm" id="idm45176086423776"/></p>&#13;
</div>&#13;
</div></section>&#13;
&#13;
&#13;
&#13;
&#13;
&#13;
&#13;
&#13;
&#13;
<section data-pdf-bookmark="Repeating Radial Gradients" data-type="sect2"><div class="sect2" id="repeating-radial-gradients">&#13;
<h2>Repeating Radial Gradients</h2>&#13;
&#13;
<p>While <a data-primary="repeating elements" data-secondary="gradients" data-type="indexterm" id="idm45176086421328"/><a data-primary="radial gradients" data-secondary="repeating" data-type="indexterm" id="idm45176086420448"/>percentages in repeating linear gradients could turn them into nonrepeating gradients, percentages can be very useful if the size of the circle or ellipse is defined, percentage positions along the gradient ray are defined, and you can see beyond the endpoint of the gradient ray. For example, assume the following:</p>&#13;
&#13;
<pre data-code-language="css" data-type="programlisting"><code class="nc">.allhail</code> <code class="p">{</code><code class="k">background</code><code class="o">:</code>&#13;
    <code class="n">repeating</code><code class="o">-</code><code class="n">radial</code><code class="o">-</code><code class="n">gradient</code><code class="p">(</code><code class="m">100px</code> <code class="m">50px</code><code class="o">,</code> <code class="nb">purple</code><code class="o">,</code> <code class="nb">gold</code> <code class="m">20%</code><code class="o">,</code> <code class="nb">green</code> <code class="m">40%</code><code class="o">,</code>&#13;
                              <code class="nb">purple</code> <code class="m">60%</code><code class="o">,</code> <code class="nb">yellow</code> <code class="m">80%</code><code class="o">,</code> <code class="nb">purple</code><code class="p">);}</code></pre>&#13;
&#13;
<p>As there are five color stops and the size is 100px, a color stop will occur every 20 pixels, with the colors repeating in the declared pattern. Because the first and last color stops have the same color value, there is no hard color switch. The ripples just spread out forever, or at least until they’re beyond the edges of the gradient image. See <a data-type="xref" href="#cab_fig100">Figure 9-40</a> for an example.</p>&#13;
&#13;
<figure><div class="figure" id="cab_fig100">&#13;
<img alt="css5 0940" src="assets/css5_0940.png"/>&#13;
<h6><span class="label">Figure 9-40. </span>Repeating radial gradients</h6>&#13;
</div></figure>&#13;
&#13;
<p>Just imagine what that would look like with a repeating radial gradient&#13;
of a rainbow!</p>&#13;
&#13;
<pre data-code-language="css" data-type="programlisting"><code class="nc">.wdim</code> <code class="p">{</code><code class="k">background</code><code class="o">:</code>&#13;
    <code class="n">repeating</code><code class="o">-</code><code class="n">radial</code><code class="o">-</code><code class="n">gradient</code><code class="p">(</code>&#13;
        <code class="m">100px</code> <code class="nb">circle</code> <code class="n">at</code> <code class="n">bottom</code> <code class="nb">center</code><code class="o">,</code>&#13;
        <code class="nb">rgb</code><code class="p">(</code><code class="m">83%</code><code class="o">,</code><code class="m">83%</code><code class="o">,</code><code class="m">83%</code><code class="p">)</code> <code class="m">50%</code><code class="o">,</code>&#13;
        <code class="nb">violet</code> <code class="m">55%</code><code class="o">,</code> <code class="nb">indigo</code> <code class="m">60%</code><code class="o">,</code> <code class="nb">blue</code> <code class="m">65%</code><code class="o">,</code> <code class="nb">green</code> <code class="m">70%</code><code class="o">,</code>&#13;
        <code class="nb">yellow</code> <code class="m">75%</code><code class="o">,</code> <code class="nb">orange</code> <code class="m">80%</code><code class="o">,</code> <code class="nb">red</code> <code class="m">85%</code><code class="o">,</code>&#13;
        <code class="nb">rgb</code><code class="p">(</code><code class="m">47%</code><code class="o">,</code><code class="m">60%</code><code class="o">,</code><code class="m">73%</code><code class="p">)</code> <code class="m">90%</code>&#13;
    <code class="p">);}</code></pre>&#13;
&#13;
<p>Keep these two points in mind when creating repeating radial gradients:</p>&#13;
&#13;
<ul>&#13;
<li>&#13;
<p>If you don’t declare size dimensions for a radial, it will default to an ellipse that has the same height-to-width ratio as the overall gradient image; <em>and</em>, if you don’t declare a size for the image with <code>background-size</code>, the gradient image will default to the height and width of the element background where it’s being applied (or, if being used as a list-style bullet, the size that the browser gives it).</p>&#13;
</li>&#13;
<li>&#13;
<p>The default radial size value is <code>farthest-corner</code>. This will put the endpoint of the gradient ray far enough to the right that its ellipse intersects with the corner of the gradient image that’s farthest from the center point of the radial gradient.</p>&#13;
</li>&#13;
</ul>&#13;
&#13;
<p>These are reiterated here to remind you that if you stick to the&#13;
defaults, there’s not really any point to having a repeating gradient,&#13;
since you’ll be able to see only the first iteration of the repeat. It’s&#13;
only when you restrict the initial size of the gradient that the repeats&#13;
become visible.<a data-primary="" data-startref="ix_rad_grad_ch9" data-type="indexterm" id="idm45176086260864"/><a data-primary="" data-startref="ix_grad_rad_grad_ch9" data-type="indexterm" id="idm45176086259888"/></p>&#13;
</div></section>&#13;
</div></section>&#13;
&#13;
&#13;
&#13;
&#13;
&#13;
&#13;
<section data-pdf-bookmark="Conic Gradients" data-type="sect1"><div class="sect1" id="conic-gradients">&#13;
<h1>Conic Gradients</h1>&#13;
&#13;
<p>Radial <a data-primary="gradients" data-secondary="conic gradients" data-type="indexterm" id="ix_gradient_conic"/><a data-primary="conic gradients" data-type="indexterm" id="ix_conic_grad"/>gradients are fun, but what if you want a gradient that wraps around a central point, similar to a color hue wheel?  That’s what CSS calls a <em>conic gradient</em>, which can be thought of as a concentric series of linear gradients that are bent into circles.  Looked at another way, at any distance from the center, there’s a circle whose outer rim could be straightened out into a linear gradient with the color stop specified.</p>&#13;
&#13;
<p>Conic gradients are more easily shown than described, so consider the following CSS, which is illustrated in <a data-type="xref" href="#conic-gradient-simple">Figure 9-41</a> along with a linear diagram to show how the stops wrap around the conical space:</p>&#13;
&#13;
<pre data-code-language="css" data-type="programlisting"><code class="k">background</code><code class="o">:</code>&#13;
     <code class="n">conic</code><code class="o">-</code><code class="n">gradient</code><code class="p">(</code>&#13;
          <code class="nb">black</code><code class="o">,</code> <code class="nb">gray</code><code class="o">,</code> <code class="nb">black</code><code class="o">,</code> <code class="nb">white</code><code class="o">,</code> <code class="nb">black</code><code class="o">,</code> <code class="nb">silver</code><code class="o">,</code> <code class="nb">gray</code>&#13;
     <code class="p">);</code></pre>&#13;
&#13;
<figure><div class="figure" id="conic-gradient-simple">&#13;
<img alt="css5 0941" src="assets/css5_0941.png"/>&#13;
<h6><span class="label">Figure 9-41. </span>A simple conic gradient and its linear equivalent</h6>&#13;
</div></figure>&#13;
&#13;
<p>Note how each of the <a data-primary="color stops" data-secondary="conic gradients" data-type="indexterm" id="ix_color_stop_conic"/><a data-primary="gradients" data-secondary="color stops" data-type="indexterm" id="ix_grad_color_stop3"/>color stops is labeled on the linear gradient: the circled numbers listed there are repeated in the conic gradient, to show where each color stop falls.  At 60 degrees around the conic gradient, there is a <code>gray</code> color stop.  At 180 degrees, a <code>white</code> color stop.  At the top of the conic gradient, the <code>0deg</code> and <code>360deg</code> points meet, so <code>black</code> and <code>gray</code> sit next to each other.</p>&#13;
&#13;
<p>By default, conic gradients start at 0 degrees, using the same compass degree system that transforms and other parts of CSS use, so <code>0deg</code> is at the top.  If you want to start from a different angle and wrap around the circle back to that point, it’s as straightforward as adding <code>from</code> and an angle value to the front of the <code>conic-gradient</code> value, which rotates the entire gradient by the declared angle.  The following would all have the same result:</p>&#13;
&#13;
<pre data-code-language="css" data-type="programlisting"><code class="n">conic</code><code class="o">-</code><code class="n">gradient</code><code class="p">(</code><code class="n">from</code> <code class="m">144deg</code><code class="o">,</code> <code class="nb">black</code><code class="o">,</code> <code class="nb">gray</code><code class="o">,</code> <code class="nb">black</code><code class="o">,</code> <code class="nb">white</code><code class="p">)</code>&#13;
<code class="n">conic</code><code class="o">-</code><code class="n">gradient</code><code class="p">(</code><code class="n">from</code> <code class="m">2.513274rad</code><code class="o">,</code> <code class="nb">black</code><code class="o">,</code> <code class="nb">gray</code><code class="o">,</code> <code class="nb">black</code><code class="o">,</code> <code class="nb">white</code><code class="p">)</code>&#13;
<code class="n">conic</code><code class="o">-</code><code class="n">gradient</code><code class="p">(</code><code class="n">from</code> <code class="m">0.4turn</code><code class="o">,</code> <code class="nb">black</code><code class="o">,</code> <code class="nb">gray</code><code class="o">,</code> <code class="nb">black</code><code class="o">,</code> <code class="nb">white</code><code class="p">)</code></pre>&#13;
&#13;
<p>If the conic gradient is given a different start angle, such as <code>from 45deg</code>, it acts as a rotation of the entire conic gradient.  Consider the following two examples, with the results depicted in <a data-type="xref" href="#conic-gradients-different-start-angles">Figure 9-42</a>:</p>&#13;
&#13;
<pre data-code-language="css" data-type="programlisting"><code class="n">conic</code><code class="o">-</code><code class="n">gradient</code><code class="p">(</code><code class="nb">black</code><code class="o">,</code> <code class="nb">white</code> <code class="m">90deg</code><code class="o">,</code> <code class="nb">gray</code> <code class="m">180deg</code><code class="o">,</code> <code class="nb">black</code> <code class="m">270deg</code><code class="o">,</code> <code class="nb">white</code><code class="p">)</code>&#13;
<code class="n">conic</code><code class="o">-</code><code class="n">gradient</code><code class="p">(</code><code class="n">from</code> <code class="m">45deg</code><code class="o">,</code> <code class="nb">black</code><code class="o">,</code> <code class="nb">white</code> <code class="m">90deg</code><code class="o">,</code> <code class="nb">gray</code> <code class="m">180deg</code><code class="o">,</code> <code class="nb">black</code> <code class="m">270deg</code><code class="o">,</code> <code class="nb">white</code><code class="p">)</code></pre>&#13;
&#13;
<figure><div class="figure" id="conic-gradients-different-start-angles">&#13;
<img alt="css5 0942" src="assets/css5_0942.png"/>&#13;
<h6><span class="label">Figure 9-42. </span>Conic gradients with angled color stops and different start angles</h6>&#13;
</div></figure>&#13;
&#13;
<p>Not only is the starting point rotated 45 degrees, but all the other color stops are as well.  Thus, even though the first color stop has an angle of <code>90deg</code>, it actually occurs at the 135-degree mark, that being 90 degrees with a 45-degree rotation added.</p>&#13;
&#13;
<p>It’s also possible to change the location of the gradient’s center point within the image, just as with radial gradients.  The syntax is quite similar, as you can see in this code block (illustrated in <a data-type="xref" href="#conic-gradients-rotated-and-offset">Figure 9-43</a>):</p>&#13;
&#13;
<pre data-code-language="css" data-type="programlisting"><code class="n">conic</code><code class="o">-</code><code class="n">gradient</code><code class="p">(</code><code class="n">from</code> <code class="m">144deg</code> <code class="n">at</code> <code class="m">3em</code> <code class="m">6em</code><code class="o">,</code> <code class="nb">black</code><code class="o">,</code> <code class="nb">gray</code><code class="o">,</code> <code class="nb">black</code><code class="o">,</code> <code class="nb">white</code><code class="p">)</code>&#13;
<code class="n">conic</code><code class="o">-</code><code class="n">gradient</code><code class="p">(</code><code class="n">from</code> <code class="m">144deg</code> <code class="n">at</code> <code class="m">67%</code> <code class="m">25%</code><code class="o">,</code> <code class="nb">black</code><code class="o">,</code> <code class="nb">gray</code><code class="o">,</code> <code class="nb">black</code><code class="o">,</code> <code class="nb">white</code><code class="p">)</code>&#13;
<code class="n">conic</code><code class="o">-</code><code class="n">gradient</code><code class="p">(</code><code class="n">from</code> <code class="m">144</code> <code class="n">deg</code> <code class="n">at</code> <code class="nb">center</code> <code class="n">bottom</code><code class="o">,</code> <code class="nb">black</code><code class="o">,</code> <code class="nb">gray</code><code class="o">,</code> <code class="nb">black</code><code class="o">,</code> <code class="nb">white</code><code class="p">)</code></pre>&#13;
&#13;
<figure class="coderesult"><div class="figure" id="conic-gradients-rotated-and-offset">&#13;
<img alt="css5 0943" src="assets/css5_0943.png"/>&#13;
<h6><span class="label">Figure 9-43. </span>Rotated and offset conic gradients</h6>&#13;
</div></figure>&#13;
&#13;
<p>In the first of the three examples, the center of the conic gradient is placed <code>3em</code> to the right of the top-left corner, and <code>6em</code> down from that same corner.  Similarly, the second example shows the center point <code>67%</code> of the way across the conic-gradient image, and <code>25%</code> down from the top.</p>&#13;
&#13;
<p>The third example shows what happens when the center point of a conic gradient is placed along one edge of the image: we see only half (at most) of the gradient.  In this case, the top half is visible—that is, the colors from 270 degrees through 90 degrees.</p>&#13;
&#13;
<p class="less_space pagebreak-before">So all together, the syntax for a conic gradient is as follows:</p>&#13;
<pre>conic-gradient(&#13;
    [ from &lt;<em>angle</em>&gt;]? [ at &lt;<em>position</em>&gt;]? , | at &lt;<em>position</em>&gt;, ]?&#13;
      &lt;<em>color-stop</em>&gt; , [ &lt;<em>color-hint</em>&gt;]? , &lt;<em>color-stop</em>&gt; ]+&#13;
)</pre>&#13;
&#13;
<p>If the <code>from</code> angle is not given, it defaults to <code>0deg</code>.  If no <code>at</code> position is given, it defaults to <code>50% 50%</code> (that is, the center of the conic-gradient image).</p>&#13;
&#13;
<p>Much as with radial and linear gradients, color stop distances can be specified by a percentage value; in this case, it resolves to an angle value.  Thus, for a conic gradient starting at 0 degrees, the color stop distance <code>25%</code> would resolve to 90 degrees, as 90 is 25% of 360.  Conic color stops can also be specified as a degree value, as shown previously.</p>&#13;
&#13;
<p>You <em>cannot</em> specify a length value for a conic gradient’s color stop’s distance.  Only percentages and angles are acceptable, and they can be mixed.</p>&#13;
</div></section>&#13;
&#13;
&#13;
&#13;
&#13;
&#13;
&#13;
<section data-pdf-bookmark="Creating Conic Color Stops" data-type="sect1"><div class="sect1" id="idm45176086257904">&#13;
<h1>Creating Conic Color Stops</h1>&#13;
&#13;
<p>If you want a conic gradient to blend smoothly from color to color all the way around the circle, it is necessary to make the last color stop match the first color stop.  Otherwise, you’ll see the kinds of hard transitions shown in earlier examples.  If you want to create a color hue wheel, for example, you need to declare it like so:</p>&#13;
&#13;
<pre data-code-language="css" data-type="programlisting"><code class="n">conic</code><code class="o">-</code><code class="n">gradient</code><code class="p">(</code><code class="nb">red</code><code class="o">,</code> <code class="nb">magenta</code><code class="o">,</code> <code class="nb">blue</code><code class="o">,</code> <code class="nb">aqua</code><code class="o">,</code> <code class="nb">lime</code><code class="o">,</code> <code class="nb">yellow</code><code class="o">,</code> <code class="nb">red</code><code class="p">)</code></pre>&#13;
&#13;
<p>Except that’s not actually a wheel, since the conic-gradient image fills the entire background area, and background areas in CSS are (thus far) rectangular by default.  To make the color wheel actually look like a color wheel, you’d need to either use a circular clipping path (see <a data-type="xref" href="ch20.html#filters-compositing">Chapter 20</a>) or round the corners on a square element (see <a data-type="xref" href="ch07.html#padding-borders-outlines-and-margins">Chapter 7</a>).  For example, the following will have the result shown in <a data-type="xref" href="#conic-gradients-hue-wheels">Figure 9-44</a>:</p>&#13;
&#13;
<pre data-code-language="css" data-type="programlisting"><code class="nc">.hues</code> <code class="p">{</code>&#13;
     <code class="k">height</code><code class="o">:</code> <code class="m">10em</code><code class="p">;</code> <code class="k">width</code><code class="o">:</code> <code class="m">10em</code><code class="p">;</code>&#13;
     <code class="k">background</code><code class="o">:</code> <code class="n">conic</code><code class="o">-</code><code class="n">gradient</code><code class="p">(</code><code class="nb">red</code><code class="o">,</code> <code class="nb">magenta</code><code class="o">,</code> <code class="nb">blue</code><code class="o">,</code> <code class="nb">aqua</code><code class="o">,</code> <code class="nb">lime</code><code class="o">,</code> <code class="nb">yellow</code><code class="o">,</code> <code class="nb">red</code><code class="p">);</code>&#13;
<code class="p">}</code>&#13;
<code class="nf">#wheel</code> <code class="p">{</code>&#13;
     <code class="k">border-radius</code><code class="o">:</code> <code class="m">50%</code><code class="p">;</code>&#13;
<code class="p">}</code></pre>&#13;
&#13;
<pre data-code-language="html" data-type="programlisting"><code class="p">&lt;</code><code class="nt">div</code> <code class="na">class</code><code class="o">=</code><code class="s">"hues"</code><code class="p">&gt;&lt;/</code><code class="nt">div</code><code class="p">&gt;</code>&#13;
<code class="p">&lt;</code><code class="nt">div</code> <code class="na">class</code><code class="o">=</code><code class="s">"hues"</code> <code class="na">id</code><code class="o">=</code><code class="s">"wheel"</code><code class="p">&gt;&lt;/</code><code class="nt">div</code><code class="p">&gt;</code></pre>&#13;
&#13;
<figure class="coderesult"><div class="figure" id="conic-gradients-hue-wheels">&#13;
<img alt="css5 0944" src="assets/css5_0944.png"/>&#13;
<h6><span class="label">Figure 9-44. </span>Hue-wheel conic gradients with and without corner rounding</h6>&#13;
</div></figure>&#13;
&#13;
<p>This emphasizes that while it’s easy to think of conic gradients as circles, the end result is a rectangle, absent any clipping or other effort to make the element’s background area nonrectangular.  So if you’re thinking about using conic gradients to make, say, a pie chart, you’ll have to do more than just define a conic gradient with hard stops.</p>&#13;
&#13;
<p>Just as we used two length-percentage values to create hard stops in linear gradients, we can use two hard stops in conic gradients. For example:</p>&#13;
&#13;
<pre data-code-language="css" data-type="programlisting"><code class="n">conic</code><code class="o">-</code><code class="n">gradient</code><code class="p">(</code>&#13;
	<code class="nb">green</code> <code class="m">37.5%</code><code class="o">,</code>&#13;
	<code class="nb">yellow</code> <code class="m">37.5%</code> <code class="m">62.5%</code><code class="o">,</code>&#13;
	<code class="nb">red</code> <code class="m">62.5%</code><code class="p">);</code></pre>&#13;
&#13;
<p>In this syntax, a given color stop can be written as &lt;<em><code>color</code></em>&gt; &lt;<em><code>beginning</code></em>&gt; &lt;<em><code>ending</code></em>&gt;, where &lt;<em><code>beginning</code></em>&gt; and &lt;<em><code>ending</code></em>&gt; are percentage or angle values.</p>&#13;
&#13;
<p>If you want to create smoother transitions between colors but still have them be mostly solid, the &lt;<em><code>color</code></em>&gt; &lt;<em><code>beginning</code></em>&gt; &lt;<em><code>ending</code></em>&gt; syntax can help a lot.  For example, the following conic gradient eases the transitions between green, yellow, and red without making the overall gradient too “smeared”:</p>&#13;
&#13;
<pre data-code-language="css" data-type="programlisting"><code class="n">conic</code><code class="o">-</code><code class="n">gradient</code><code class="p">(</code><code class="nb">green</code> <code class="m">35%</code><code class="o">,</code> <code class="nb">yellow</code> <code class="m">40%</code> <code class="m">60%</code><code class="o">,</code> <code class="nb">red</code> <code class="m">65%</code><code class="p">);</code></pre>&#13;
&#13;
<p>This runs a solid wedge of green from 0 to 126 degrees (35%), then transitions smoothly from green to yellow between 126 degrees and 144 degrees (40%), past which there is a solid wedge of yellow spanning from 144 degrees to 216 degrees (60%).  Similarly, a smoothed transition occurs from yellow to red between 216 degrees and 234 degrees (65%), and beyond that, a solid red wedge running to 360 degrees.</p>&#13;
&#13;
<p>All this is illustrated in <a data-type="xref" href="#conic-gradients-smoothed-triple">Figure 9-45</a>, with extra annotations to mark where the calculated angles land.</p>&#13;
&#13;
<figure><div class="figure" id="conic-gradients-smoothed-triple">&#13;
<img alt="css5 0945" src="assets/css5_0945.png"/>&#13;
<h6><span class="label">Figure 9-45. </span>Conic gradients with solid-color wedges and smooth transitions</h6>&#13;
</div></figure>&#13;
&#13;
<p>And, as it happens, that syntax makes it relatively easy to re-create those picnic tablecloths discussed earlier in the chapter by using a conic gradient:</p>&#13;
&#13;
<pre data-code-language="css" data-type="programlisting"><code class="k">background-image</code><code class="o">:</code> <code class="n">conic</code><code class="o">-</code><code class="n">gradient</code><code class="p">(</code>&#13;
	<code class="n">rgba</code><code class="p">(</code><code class="m">0</code> <code class="m">0</code> <code class="m">0</code> <code class="o">/</code> <code class="m">0</code><code class="o">.</code><code class="m">2</code><code class="p">)</code> <code class="m">0%</code> <code class="m">25%</code><code class="o">,</code>&#13;
	<code class="n">rgba</code><code class="p">(</code><code class="m">0</code> <code class="m">0</code> <code class="m">0</code> <code class="o">/</code> <code class="m">0</code><code class="o">.</code><code class="m">4</code><code class="p">)</code> <code class="m">25%</code> <code class="m">50%</code><code class="o">,</code>&#13;
	<code class="n">rgba</code><code class="p">(</code><code class="m">0</code> <code class="m">0</code> <code class="m">0</code> <code class="o">/</code> <code class="m">0</code><code class="o">.</code><code class="m">2</code><code class="p">)</code> <code class="m">50%</code> <code class="m">75%</code><code class="o">,</code>&#13;
	<code class="nb">transparent</code> <code class="m">75%</code> <code class="m">100%</code>&#13;
	<code class="p">);</code>&#13;
<code class="k">background-size</code><code class="o">:</code> <code class="m">2vw</code> <code class="m">2vw</code><code class="p">;</code>&#13;
<code class="k">background-repeat</code><code class="o">:</code> <code class="nb">repeat</code><code class="p">;</code></pre>&#13;
&#13;
<p>This creates, in a single gradient image, a set of four squares in the pattern.  That image is then sized and repeated.  It’s not more efficient or elegant than using repeating linear gradients, but it does embody a certain cleverness that appeals to us.<a data-primary="" data-startref="ix_color_stop_conic" data-type="indexterm" id="idm45176085671136"/><a data-primary="" data-startref="ix_grad_color_stop2" data-type="indexterm" id="idm45176085670288"/></p>&#13;
&#13;
&#13;
&#13;
&#13;
&#13;
&#13;
&#13;
&#13;
<section data-pdf-bookmark="Repeating Conic Gradients" data-type="sect2"><div class="sect2" id="repeating-conic-gradients">&#13;
<h2>Repeating Conic Gradients</h2>&#13;
&#13;
<p>And now we come to <a data-primary="repeating elements" data-secondary="gradients" data-type="indexterm" id="ix_repeat_conic"/><a data-primary="checkerboard pattern, conic gradient" data-type="indexterm" id="idm45176085633808"/>repeating conic gradients, which are highly useful if you want to create a starburst pattern or even something simple like a checkerboard pattern.  For example:</p>&#13;
&#13;
<pre data-code-language="css" data-type="programlisting"><code class="n">conic</code><code class="o">-</code><code class="n">gradient</code><code class="p">(</code>&#13;
    <code class="m">#0002</code> <code class="m">0</code> <code class="m">25%</code><code class="o">,</code> <code class="m">#FFF2</code> <code class="m">0</code> <code class="m">50%</code><code class="o">,</code> <code class="m">#0002</code> <code class="m">0</code> <code class="m">75%</code><code class="o">,</code> <code class="m">#FFF2</code> <code class="m">0</code> <code class="m">100%</code>&#13;
    <code class="p">)</code></pre>&#13;
&#13;
<p>This sets up a checkerboard pattern with four color stops but only two colors.  We can restate that using <code>repeating-conic-gradient</code> like so, with new colors to make the &#13;
<span class="keep-together">pattern</span> a little clearer:</p>&#13;
&#13;
<pre data-code-language="css" data-type="programlisting"><code class="n">repeating</code><code class="o">-</code><code class="n">conic</code><code class="o">-</code><code class="n">gradient</code><code class="p">(</code>&#13;
     <code class="m">#343</code> <code class="m">0</code> <code class="m">25%</code><code class="o">,</code> <code class="m">#ABC</code> <code class="m">0</code> <code class="m">50%</code>&#13;
     <code class="p">)</code></pre>&#13;
&#13;
<p>All that was necessary in this simple repeating case was to set up the first two color stops.  After that, the stops are repeated until the full 360 degrees of the conic gradient are filled, as shown in <a data-type="xref" href="#repeating-conic-checkerboard">Figure 9-46</a>.</p>&#13;
&#13;
<figure><div class="figure" id="repeating-conic-checkerboard">&#13;
<img alt="css5 0946" src="assets/css5_0946.png"/>&#13;
<h6><span class="label">Figure 9-46. </span>A repeating conic gradient</h6>&#13;
</div></figure>&#13;
&#13;
<p>This <a data-primary="starburst pattern, conic gradient" data-type="indexterm" id="idm45176085532400"/>means we can create wedges of any size, with any transition, and repeat them all the way around the conic circle.  Here are just three examples, rendered in <a data-type="xref" href="#repeating-conic-starbursts">Figure 9-47</a>:</p>&#13;
&#13;
<pre data-code-language="css" data-type="programlisting"><code class="n">repeating</code><code class="o">-</code><code class="n">conic</code><code class="o">-</code><code class="n">gradient</code><code class="p">(</code><code class="m">#117</code> <code class="m">5deg</code><code class="o">,</code> <code class="m">#ABE</code> <code class="m">15deg</code><code class="o">,</code> <code class="m">#117</code> <code class="m">25deg</code><code class="p">)</code>&#13;
<code class="n">repeating</code><code class="o">-</code><code class="n">conic</code><code class="o">-</code><code class="n">gradient</code><code class="p">(</code><code class="m">#117</code> <code class="m">0</code> <code class="m">5deg</code><code class="o">,</code> <code class="m">#ABE</code> <code class="m">0</code> <code class="m">15deg</code><code class="o">,</code> <code class="m">#117</code> <code class="m">0</code> <code class="m">25deg</code><code class="p">)</code>&#13;
<code class="n">repeating</code><code class="o">-</code><code class="n">conic</code><code class="o">-</code><code class="n">gradient</code><code class="p">(</code><code class="m">#117</code> <code class="m">5deg</code><code class="o">,</code> <code class="m">#ABE</code> <code class="m">15deg</code><code class="p">)</code></pre>&#13;
&#13;
<figure class="coderesult"><div class="figure" id="repeating-conic-starbursts">&#13;
<img alt="css5 0947" src="assets/css5_0947.png"/>&#13;
<h6><span class="label">Figure 9-47. </span>Three variants on a repeating conic gradient</h6>&#13;
</div></figure>&#13;
&#13;
<p>Notice that the first (leftmost) example’s smoothed transitions hold true even at the top of the image: the transition from <code>#117</code> at 350 degrees to <code>#ABE</code> at 5 degrees is handled like all of the other transitions.  Repeated conic gradients are unique in this way, since both linear and radial gradients never “wrap around” to have the end meet the beginning.  This is also seen in the third (rightmost) example in <a data-type="xref" href="#repeating-conic-starbursts">Figure 9-47</a>.</p>&#13;
&#13;
<p class="less_space pagebreak-before">It’s possible to break this special behavior, though, as the second (center) example illustrates: note the narrower wedge from 355 degrees through 360 degrees.  This happens because the first color stop in the pattern explicitly runs from 0 degrees through 5 degrees.  Thus, there is no way to transition from 355 degrees through to 5 degrees, which leads to a hard transition at 360/0 degrees.<a data-primary="" data-startref="ix_conic_grad" data-type="indexterm" id="idm45176085427424"/><a data-primary="" data-startref="ix_gradient_conic" data-type="indexterm" id="idm45176085426448"/></p>&#13;
</div></section>&#13;
</div></section>&#13;
&#13;
&#13;
&#13;
&#13;
&#13;
&#13;
<section data-pdf-bookmark="Manipulating Gradient Images" data-type="sect1"><div class="sect1" id="manipulating-gradient-images">&#13;
<h1>Manipulating Gradient Images</h1>&#13;
&#13;
<p>As we have <a data-primary="gradients" data-secondary="repeating for special effect" data-type="indexterm" id="ix_grad_repeat_sp"/>previously emphasized (possibly to excess), gradients are images. That&#13;
means you can size, position, repeat, and otherwise affect them with the&#13;
various background properties, just as you would any PNG or SVG.</p>&#13;
&#13;
<p>One way this can be leveraged is to repeat simple gradients. (Repeating&#13;
in more complex ways is the subject of the next section.) For example,&#13;
you could use a hard-stop radial gradient to give your background a&#13;
dotted look, as shown in <a data-type="xref" href="#cab_fig93">Figure 9-48</a>:</p>&#13;
&#13;
<pre data-code-language="css" data-type="programlisting"><code class="nt">body</code> <code class="p">{</code><code class="k">background</code><code class="o">:</code> <code class="n">radial</code><code class="o">-</code><code class="n">gradient</code><code class="p">(</code><code class="nb">circle</code> <code class="n">at</code> <code class="nb">center</code><code class="o">,</code>&#13;
                    <code class="n">rgba</code><code class="p">(</code><code class="m">0</code> <code class="m">0</code> <code class="m">0</code> <code class="o">/</code> <code class="m">0</code><code class="o">.</code><code class="m">1</code><code class="p">)</code><code class="o">,</code> <code class="n">rgba</code><code class="p">(</code><code class="m">0</code> <code class="m">0</code> <code class="m">0</code> <code class="o">/</code> <code class="m">0</code><code class="o">.</code><code class="m">1</code><code class="p">)</code> <code class="m">10px</code><code class="o">,</code>&#13;
                    <code class="nb">transparent</code> <code class="m">10px</code><code class="o">,</code> <code class="nb">transparent</code><code class="p">)</code>&#13;
                    <code class="nb">center</code> <code class="o">/</code> <code class="m">25px</code> <code class="m">25px</code> <code class="nb">repeat</code><code class="o">,</code>&#13;
                    <code class="nb">tan</code><code class="p">;}</code></pre>&#13;
&#13;
<figure><div class="figure" id="cab_fig93">&#13;
<img alt="css5 0948" src="assets/css5_0948.png"/>&#13;
<h6><span class="label">Figure 9-48. </span>Tiled radial gradient images</h6>&#13;
</div></figure>&#13;
&#13;
<p>Yes, this is visually pretty much the same as tiling a PNG that has a&#13;
mostly transparent dark circle 10 pixels in diameter. Using a gradient in this case has three advantages:</p>&#13;
&#13;
<ul>&#13;
<li>&#13;
<p>The CSS is almost certainly smaller in bytes than the PNG would be.</p>&#13;
</li>&#13;
<li>&#13;
<p>Even more importantly, the PNG requires an extra hit on the server. This slows both page and server performance. A CSS gradient is part of the stylesheet and so eliminates the extra server hit.</p>&#13;
</li>&#13;
<li>&#13;
<p>Changing the gradient is a lot simpler, so experimenting to find exactly the right size, shape, and darkness is much easier.</p>&#13;
</li>&#13;
</ul>&#13;
&#13;
&#13;
&#13;
&#13;
&#13;
&#13;
&#13;
&#13;
<section data-pdf-bookmark="Creating Special Effects" data-type="sect2"><div class="sect2" id="creating-special-effects">&#13;
<h2>Creating Special Effects</h2>&#13;
&#13;
<p>Gradients can’t do <a data-primary="curtain effect, with gradients" data-type="indexterm" id="idm45176085340784"/>everything a raster or vector image can,&#13;
so it’s not as though you’ll be giving up external images completely now&#13;
that gradients are a thing. You can still pull off some pretty&#13;
impressive effects with gradients, though. Consider the background&#13;
effect shown in <a data-type="xref" href="#cab_fig94">Figure 9-49</a>.</p>&#13;
&#13;
<figure><div class="figure" id="cab_fig94">&#13;
<img alt="css5 0949" src="assets/css5_0949.png"/>&#13;
<h6><span class="label">Figure 9-49. </span>It’s time to play the music…</h6>&#13;
</div></figure>&#13;
&#13;
<p>That curtain effect is accomplished with just two linear gradients&#13;
repeated at differing intervals, plus a third to create a “glow” effect&#13;
along the bottom of the background. Here’s the code that accomplishes&#13;
it:</p>&#13;
&#13;
<pre data-code-language="css" data-type="programlisting"><code class="k">background-image</code><code class="o">:</code>&#13;
    <code class="n">linear</code><code class="o">-</code><code class="n">gradient</code><code class="p">(</code><code class="m">0deg</code><code class="o">,</code> <code class="n">rgba</code><code class="p">(</code><code class="m">255</code> <code class="m">128</code> <code class="m">128</code> <code class="o">/</code> <code class="m">0</code><code class="o">.</code><code class="m">25</code><code class="p">)</code><code class="o">,</code> <code class="nb">transparent</code> <code class="m">75%</code><code class="p">)</code><code class="o">,</code>&#13;
    <code class="n">linear</code><code class="o">-</code><code class="n">gradient</code><code class="p">(</code><code class="m">89deg</code><code class="o">,</code>&#13;
        <code class="nb">transparent</code> <code class="m">30%</code><code class="o">,</code>&#13;
        <code class="m">#510A0E</code> <code class="m">35%</code> <code class="m">40%</code><code class="o">,</code> <code class="m">#61100F</code> <code class="m">43%</code><code class="o">,</code> <code class="m">#B93F3A</code> <code class="m">50%</code><code class="o">,</code>&#13;
        <code class="m">#4B0408</code> <code class="m">55%</code><code class="o">,</code> <code class="m">#6A0F18</code> <code class="m">60%</code><code class="o">,</code> <code class="m">#651015</code> <code class="m">65%</code><code class="o">,</code>&#13;
        <code class="m">#510A0E</code> <code class="m">70%</code> <code class="m">75%</code><code class="o">,</code> <code class="n">rgba</code><code class="p">(</code><code class="m">255</code> <code class="m">128</code> <code class="m">128</code> <code class="o">/</code> <code class="m">0</code><code class="p">)</code> <code class="m">80%</code><code class="o">,</code> <code class="nb">transparent</code><code class="p">)</code><code class="o">,</code>&#13;
    <code class="n">linear</code><code class="o">-</code><code class="n">gradient</code><code class="p">(</code><code class="m">92deg</code><code class="o">,</code>&#13;
        <code class="m">#510A0E</code> <code class="m">20%</code><code class="o">,</code> <code class="m">#61100F</code> <code class="m">25%</code><code class="o">,</code> <code class="m">#B93F3A</code> <code class="m">40%</code><code class="o">,</code> <code class="m">#4B0408</code> <code class="m">50%</code><code class="o">,</code>&#13;
        <code class="m">#6A0F18</code> <code class="m">70%</code><code class="o">,</code> <code class="m">#651015</code> <code class="m">80%</code><code class="o">,</code> <code class="m">#510A0E</code> <code class="m">90%</code><code class="p">);</code>&#13;
<code class="k">background-size</code><code class="o">:</code> <code class="nb">auto</code><code class="o">,</code> <code class="m">300px</code> <code class="m">100%</code><code class="o">,</code> <code class="m">109px</code> <code class="m">100%</code><code class="p">;</code>&#13;
<code class="k">background-repeat</code><code class="o">:</code> <code class="nb">repeat-x</code><code class="p">;</code></pre>&#13;
&#13;
<p>The first (and therefore topmost) gradient is just a fade from a&#13;
75%-transparent light red up to full transparency at the 75% point of&#13;
the gradient line. Then two “fold” images are created. <a data-type="xref" href="#cab_fig95">Figure 9-50</a>&#13;
shows each separately.</p>&#13;
&#13;
<p>With those images defined, they are repeated along the x-axis and given different sizes. The first, which is the “glow” effect,&#13;
is given <code>auto</code> size to let it cover the entire element&#13;
background. The second is given a width of <code>300px</code> and a height of&#13;
<code>100%</code>; thus, it will be as tall as the element background and 300&#13;
pixels wide. This means it will be tiled every 300 pixels along the x-axis. The same is true of the third image, except it tiles every 109&#13;
pixels. The end result looks like an irregular stage curtain.</p>&#13;
&#13;
<figure><div class="figure" id="cab_fig95">&#13;
<img alt="css5 0950" src="assets/css5_0950.png"/>&#13;
<h6><span class="label">Figure 9-50. </span>The two “fold” gradients</h6>&#13;
</div></figure>&#13;
&#13;
<p>The beauty of this is that adjusting the tiling intervals is just a&#13;
matter of editing the stylesheet. Changing the color-stop positions or&#13;
the colors is less trivial, but not too difficult if you know the effect you’re after. And adding a third set of repeating&#13;
folds is no more difficult than just adding another gradient to the&#13;
stack.<a data-primary="" data-startref="ix_grad_repeat_sp" data-type="indexterm" id="idm45176085157488"/></p>&#13;
</div></section>&#13;
&#13;
&#13;
&#13;
&#13;
&#13;
&#13;
&#13;
&#13;
<section data-pdf-bookmark="Triggering Average Gradient Colors" data-type="sect2"><div class="sect2" id="average-gradient-colors">&#13;
<h2>Triggering Average Gradient Colors</h2>&#13;
&#13;
<p>It’s worth <a data-primary="gradients" data-secondary="triggering average colors in" data-type="indexterm" id="idm45176085155024"/>asking what happens if a repeating gradient’s first and&#13;
last color stops somehow end up being in the same place. For example,&#13;
suppose your fingers miss the 5 key and you accidentally declare the following:</p>&#13;
&#13;
<pre data-code-language="css" data-type="programlisting"><code class="n">repeating</code><code class="o">-</code><code class="n">radial</code><code class="o">-</code><code class="n">gradient</code><code class="p">(</code><code class="nb">center</code><code class="o">,</code> <code class="nb">purple</code> <code class="m">0px</code><code class="o">,</code> <code class="nb">gold</code> <code class="m">0px</code><code class="p">)</code></pre>&#13;
&#13;
<p>The first and last color stops are 0 pixels apart, but the gradient&#13;
is supposed to repeat ad infinitum along the gradient line. Now what?</p>&#13;
&#13;
<p>In such a case, the browser finds the <em>average gradient color</em> and fills&#13;
it in throughout the entire gradient image. In our simple case in the preceding code, that will be a 50/50 blend of purple and <code>gold</code> (which will be about <code>#C06C40</code> or <code>rgb(75%,42%,25%)</code>). Thus, the resulting gradient image should be a solid orangey-brown, which doesn’t really look much like a gradient.</p>&#13;
&#13;
<p>This condition can also be triggered when the browser rounds&#13;
the color-stop positions to 0, or when the distance between&#13;
the first and last color stops is so small as compared to the output&#13;
resolution that nothing useful can be rendered. This could happen if,&#13;
for example, a repeating radial gradient used all percentages for the&#13;
color-stop positions and was sized using <code>closest-side</code>, but was&#13;
accidentally placed into a corner.<a data-primary="" data-startref="ix_repeat_conic" data-type="indexterm" id="idm45176085128112"/></p>&#13;
<div class="less_space pagebreak-before" data-type="warning" epub:type="warning"><h6>Warning</h6>&#13;
<p>As of late 2022, no browsers really do average colors correctly. Some of the correct behaviors can be triggered under very limited conditions, but in most cases, browsers either just use the last color stop as a fill color, or else try really hard to draw subpixel repeating patterns.<a data-primary="" data-startref="ix_grad_ch9" data-type="indexterm" id="idm45176085125920"/></p>&#13;
</div>&#13;
</div></section>&#13;
</div></section>&#13;
&#13;
&#13;
&#13;
&#13;
&#13;
&#13;
<section data-pdf-bookmark="Summary" data-type="sect1"><div class="sect1" id="grad_summary">&#13;
<h1>Summary</h1>&#13;
&#13;
<p>Gradients are a fascinating image type, being constructed entirely with CSS values instead of with raster data or vector elements.  With the three types of gradients available, you can create almost any pattern or visual effect.</p>&#13;
</div></section>&#13;
</div></section></body></html>