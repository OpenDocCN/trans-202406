["```\n> var servers = {}\n> var findShard = function (id) {\n...     var explain = db.random.find({_id:id}).explain();\n...     for (var i in explain.shards) {\n...         var server = explain.shards[i][0];\n...         if (server.n == 1) {\n...             if (server.server in servers) {\n...                 servers[server.server]++;\n...             } else {\n...                 servers[server.server] = 1;\n...             }\n...         }\n...     }\n... }\n> for (var i = 0; i < 10000; i++) {\n...     var id = ObjectId();\n...     db.random.insert({\"_id\" : id, \"x\" : Math.random()});\n...     findShard(id);\n... }\n> servers\n{\n    \"spock:30001\" : 2942,\n    \"spock:30002\" : 4332,\n    \"spock:30000\" : 2726\n}\n```", "```\n> sh.addShardToZone(\"shard0000\", \"USPS\")\n> sh.addShardToZone(\"shard0000\", \"Apple\")\n> sh.addShardToZone(\"shard0002\", \"Apple\")\n```", "```\n> sh.updateZoneKeyRange(\"test.ips\", {\"ip\" : \"056.000.000.000\"}, \n... {\"ip\" : \"057.000.000.000\"}, \"USPS\")\n```", "```\n> sh.updateZoneKeyRange(\"test.ips\", {\"ip\" : \"017.000.000.000\"}, \n... {\"ip\" : \"018.000.000.000\"}, \"Apple\")\n```", "```\n> db.users.createIndex({\"username\" : \"hashed\"})\n```", "```\n> sh.shardCollection(\"app.users\", {\"username\" : \"hashed\"})\n{ \"collectionsharded\" : \"app.users\", \"ok\" : 1 }\n```", "```\n> sh.status()\n--- Sharding Status --- \n  sharding version: { \"_id\" : 1, \"version\" : 3 }\n  shards:\n        {  \"_id\" : \"shard0000\",  \"host\" : \"localhost:30000\" }\n        {  \"_id\" : \"shard0001\",  \"host\" : \"localhost:30001\" }\n        {  \"_id\" : \"shard0002\",  \"host\" : \"localhost:30002\" }\n  databases:\n        {  \"_id\" : \"admin\",  \"partitioned\" : false,  \"primary\" : \"config\" }\n        {  \"_id\" : \"test\",  \"partitioned\" : true,  \"primary\" : \"shard0001\" }\n```", "```\n> sh.status()\n--- Sharding Status --- \n  sharding version: { \"_id\" : 1, \"version\" : 3 }\n  shards:\n    {  \"_id\" : \"shard0000\",  \"host\" : \"localhost:30000\" }\n    {  \"_id\" : \"shard0001\",  \"host\" : \"localhost:30001\" }\n    {  \"_id\" : \"shard0002\",  \"host\" : \"localhost:30002\" }\n  databases:\n    {  \"_id\" : \"admin\",  \"partitioned\" : false,  \"primary\" : \"config\" }\n    {  \"_id\" : \"test\",  \"partitioned\" : true,  \"primary\" : \"shard0001\" }\n        test.foo\n            shard key: { \"username\" : \"hashed\" }\n            chunks:\n                shard0000       2\n                shard0001       2\n                shard0002       2\n            { \"username\" : { \"$MinKey\" : true } } \n                -->> { \"username\" : NumberLong(\"-6148914691236517204\") } \n                on : shard0000 { \"t\" : 3000, \"i\" : 2 } \n            { \"username\" : NumberLong(\"-6148914691236517204\") } \n                -->> { \"username\" : NumberLong(\"-3074457345618258602\") } \n                on : shard0000 { \"t\" : 3000, \"i\" : 3 } \n            { \"username\" : NumberLong(\"-3074457345618258602\") } \n                -->> { \"username\" : NumberLong(0) } \n                on : shard0001 { \"t\" : 3000, \"i\" : 4 } \n            { \"username\" : NumberLong(0) } \n                -->> { \"username\" : NumberLong(\"3074457345618258602\") } \n                on : shard0001 { \"t\" : 3000, \"i\" : 5 } \n            { \"username\" : NumberLong(\"3074457345618258602\") } \n                -->> { \"username\" : NumberLong(\"6148914691236517204\") } \n                on : shard0002 { \"t\" : 3000, \"i\" : 6 } \n            { \"username\" : NumberLong(\"6148914691236517204\") } \n                -->> { \"username\" : { \"$MaxKey\" : true } } \n                on : shard0002 { \"t\" : 3000, \"i\" : 7 }\n```", "```\n> db.fs.chunks.ensureIndex({\"files_id\" : \"hashed\"})\n> sh.shardCollection(\"test.fs.chunks\", {\"files_id\" : \"hashed\"})\n{ \"collectionsharded\" : \"test.fs.chunks\", \"ok\" : 1 }\n```", "```\n> sh.addShardToZone(\"<shard-name>\", \"10x\")\n```", "```\n> sh.updateZoneKeyRange(\"<dbName.collName>\", {\"_id\" : ObjectId()}, \n... {\"_id\" : MaxKey}, \"10x\")\n```", "```\n> use config\n> var zone = db.tags.findOne({\"ns\" : \"<dbName.collName>\", \n... \"max\" : {\"<shardKey>\" : MaxKey}})\n> zone.min.<shardKey> = ObjectId()\n> db.tags.save(zone)\n```", "```\n> sh.addShardToZone(\"shard0000\", \"high\")\n> // shard0001 - no zone\n> // shard0002 - no zone\n> // shard0003 - no zone\n> sh.addShardToZone(\"shard0004\", \"low\")\n> sh.addShardToZone(\"shard0005\", \"low\")\n```", "```\n> sh.updateZoneKeyRange(\"super.important\", {\"<shardKey>\" : MinKey}, \n... {\"<shardKey>\" : MaxKey}, \"high\")\n```", "```\n> sh.updateZoneKeyRange(\"some.logs\", {\"<shardKey>\" : MinKey}, \n... {\"<shardKey>\" : MaxKey}, \"low\")\n```", "```\n> sh.addShardToZone(\"shard0001\", \"whatever\")\n> sh.addShardToZone(\"shard0002\", \"whatever\")\n> sh.addShardToZone(\"shard0003\", \"whatever\")\n> sh.addShardToZone(\"shard0004\", \"whatever\")\n> sh.addShardToZone(\"shard0005\", \"whatever\")\n```", "```\n> sh.updateZoneKeyRange(\"normal.coll\", {\"<shardKey>\" : MinKey}, \n... {\"<shardKey>\" : MaxKey}, \"whatever\")\n```", "```\n> sh.removeShardFromZone(\"shard0005\", \"whatever\")\n```", "```\n> sh.removeRangeFromZone(\"some.logs\", {\"<shardKey>\" : MinKey}, \n... {\"<shardKey>\" : MaxKey})\n```", "```\n> sh.stopBalancer()\n```", "```\n> use config\n> while(sh.isBalancerRunning()) {\n...  print(\"waiting...\");\n...  sleep(1000);\n... }\n```", "```\n> db.chunks.find()\n```", "```\n> sh.moveChunk(\n... \"test.manual.stuff\", \n... {user_id: NumberLong(\"-1844674407370955160\")}, \n... \"test-rs1\")\n```"]