<html><head></head><body><div id="sbo-rt-content"><section data-type="chapter" epub:type="chapter" class="pagenumrestart" data-pdf-bookmark="Chapter 1. Installing Linux"><div class="chapter" id="cha-install-linux">
<h1><span class="label">Chapter 1. </span>Installing Linux</h1>


<p>One of<a data-type="indexterm" data-primary="Linux" data-secondary="installing" id="linux-install"/><a data-type="indexterm" data-primary="installing" data-secondary="Linux" id="install-linux"/> the hurdles for new Linux users is installing Linux. Linux is the
easiest computer operating system to install: pop in your installation disk,
answer a few questions, and then do something else until it finishes. In this
chapter you will learn how to install Linux by itself, how to run a live Linux,
how to multiboot multiple Linux distributions on one computer, and how to
dual-boot with Microsoft Windows.</p>
<div data-type="tip"><h1>Experimenting with Linux</h1>
<p>You <a data-type="indexterm" data-primary="backups" data-secondary="importance of" id="idm46466164120136"/>need the freedom to make mistakes, so if it is possible, use a second
computer for getting acquainted with Linux. If this is not possible, make sure you
always have fresh backups of your data. You can always restore a broken Linux
installation, but your data is irreplaceable. If you are setting up dual-boot
with Windows, be sure you have your Windows installation and recovery media.</p>
</div>

<p>Most Linux distributions provide dual-purpose installation images: you can run
them live from a USB stick and install them to your hard drive from the same
image. A <a data-type="indexterm" data-primary="live Linuxes" id="idm46466164118728"/>live Linux makes no changes to your computer—just boot it up, check it
out, then reboot to your host system. Some live Linuxes, such as Ubuntu, support
storing your data on the USB stick, so you have a completely portable Linux that
you can run from any computer.</p>

<p>Multiboot is <a data-type="indexterm" data-primary="multibooting" id="idm46466164113592"/><a data-type="indexterm" data-primary="Linux" data-secondary="multibooting" id="idm46466164112984"/><a data-type="indexterm" data-primary="dual-booting" data-secondary="Linux/Windows" id="idm46466164112104"/><a data-type="indexterm" data-primary="Linux" data-secondary="dual-booting" data-tertiary="with Windows" data-tertiary-sortas="Windows" id="idm46466164116824"/><a data-type="indexterm" data-primary="Windows" data-secondary="dual-booting" id="idm46466164115208"/>installing more than one operating system on a computer, and
then picking the one you want to use from your boot menu. You can multiboot any
Linux system, any of the free Unixes (FreeBSD, NetBSD, OpenBSD), and you can
multiboot Linux and Microsoft Windows. Dual-booting Linux and Windows is a common
way for Windows users to get acquainted with Linux, and for users who need both.</p>

<p>What about <a data-type="indexterm" data-primary="dual-booting" data-secondary="Linux/macOS" id="idm46466164109912"/><a data-type="indexterm" data-primary="Linux" data-secondary="dual-booting" data-tertiary="with macOS" data-tertiary-sortas="macOS" id="idm46466164109064"/><a data-type="indexterm" data-primary="macOS, dual-booting" id="idm46466164107544"/>Apple’s macOS, you ask? Sorry, but dual-booting Linux and macOS is an
unreliable endeavor that gets more difficult with every macOS release. One
alternative for running both on a single machine is to run Linux in Parallels,
the macOS virtual machine host.</p>

<p>Rather than<a data-type="indexterm" data-primary="pre-installed Linux" id="idm46466164102632"/> installing Linux yourself, you could buy a PC with Linux already
installed. There are a number of good Linux specialists that sell Linux laptops,
desktops, and servers. System76, ZaReason, Linux Certified, Think Penguin,
Entroware, and Tuxedo Computers are all Linux specialists. Dell has been expanding
its Linux lineup, and enterprise Linux vendors Red Hat, SUSE, and Ubuntu all
partner with hardware vendors, including Dell, Hewlett-Packard, and IBM.</p>

<p>Still, it pays to know how to install Linux. This opens up a whole world of
experimentation, customization, and disaster recovery. <em>Distro-hopping</em> is <a data-type="indexterm" data-primary="distro-hopping" id="idm46466164104264"/>a
time-honored pastime, where you download and try different Linux distributions.</p>

<p>Even though installing Linux takes just a few steps, you need a certain
amount of knowledge, especially when you want to customize your installation,
like setting up disk partitions in a particular way or multibooting with other
Linux distributions or with Microsoft Windows. You need to know how to enter
your system Basic Input Output System (BIOS) or Unified Extensible Firmware Interface
(UEFI) setup. You need good internet access. All Linux distributions
are<a data-type="indexterm" data-primary="Linux" data-secondary="cost of" id="idm46466164105528"/><a data-type="indexterm" data-primary="Linux" data-secondary="size of distribution" id="idm46466164100552"/> freely downloadable, even the commercial enterprise distributions like Red Hat,
SUSE, and Ubuntu. Download sizes range from a few megabytes for super-small Linuxes
like Tiny Core Linux, which bundles a complete operating system with a graphical
desktop into 12 MB, to 10+ GB for SUSE Linux Enterprise Server. Most Linux distros
provide 2–4 GB installation images, which fit perfectly on a DVD or small USB stick.</p>

<p>Most Linux distributions provide a network installer image; for example, Debian’s
is around 200 megabytes. This installs enough of a Debian system to boot up,
connect to the internet, and then download only the packages you want, rather than downloading a complete installation image.</p>

<p>You can freely share any Linux distribution that you download.</p>

<p>You also <a data-type="indexterm" data-primary="Linux" data-secondary="installing" data-startref="linux-install" id="idm46466164092328"/><a data-type="indexterm" data-primary="installing" data-secondary="Linux" data-startref="install-linux" id="idm46466164105816"/>have the option to buy Linux distributions on DVD and USB media.
Visit
<a href="https://shoplinuxonline.com">Shop Linux Online</a> and
<a href="https://linuxdisconline.com">Linux Disc Online</a>
to find physical installation media for various Linux distributions.</p>






<section data-type="sect1" class="orm:non-recipe" data-pdf-bookmark="Booting from Installation Media"><div class="sect1" id="idm46466164099304">
<h1>Booting from Installation Media</h1>

<p>You<a data-type="indexterm" data-primary="booting" data-secondary="from installation media" id="boot-install-media"/><a data-type="indexterm" data-primary="installation media" data-secondary="booting from" id="install-media-boot"/> must be able to boot your system from your USB or DVD installation disk.
You may have to enter your system’s BIOS or UEFI setup to enable booting from
a removable device. Some have an option to select an alternate boot device
without entering the BIOS/UEFI; for example, my laptop’s UEFI displays a screen
at startup that lists all the relevant keypresses: F2 or Delete to enter setup,
and F11 to enter the alternate boot device menu. Dell systems use F12 to open
their one-time boot menu. Every one is special and unique, so check out your
motherboard manual to learn how.</p>

<p>You may have to disable Secure Boot in your UEFI setup to enable booting from
removable media. Fedora, openSUSE, and Ubuntu all have their own signing keys
and will boot with Secure Boot enabled. Other Linux distributions, such as

<span class="keep-together">SystemRescue</span> (<a data-type="xref" href="Images/ch19.html#cha-rescue-recovery">Chapter 19</a>), do <a data-type="indexterm" data-primary="booting" data-secondary="from installation media" data-startref="boot-install-media" id="idm46466164079176"/><a data-type="indexterm" data-primary="installation media" data-secondary="booting from" data-startref="install-media-boot" id="idm46466164088696"/>not.</p>
<div data-type="note" epub:type="note"><h1>Secure Boot</h1>
<p>Secure Boot<a data-type="indexterm" data-primary="Secure Boot, disabling" id="idm46466164084520"/><a data-type="indexterm" data-primary="disabling" data-secondary="Secure Boot" id="idm46466164083912"/><a data-type="indexterm" data-primary="BIOS/UEFI setup" data-secondary="Secure Boot, disabling" id="idm46466164083000"/><a data-type="indexterm" data-primary="UEFI" data-see="BIOS/UEFI setup" id="idm46466164081928"/> is a security feature of your UEFI setup. When Secure Boot is enabled,
it allows booting only operating systems that provide special signed
keys. The idea is to prevent malicious code from controlling your bootloader.</p>

<p>Most Linux distributions do not provide signed keys, so Secure Boot must be
disabled to run them.</p>
</div>
</div></section>













<section data-type="sect1" class="orm:non-recipe" data-pdf-bookmark="Where to Download Linux"><div class="sect1" id="idm46466164099176">
<h1>Where to Download Linux</h1>

<p>There <a data-type="indexterm" data-primary="Linux" data-secondary="downloading" id="idm46466164074648"/><a data-type="indexterm" data-primary="downloading Linux" id="idm46466164077176"/><a data-type="indexterm" data-primary="DistroWatch" id="idm46466164076472"/>are hundreds of Linux distributions, and a great place to learn about them
is <a href="https://distrowatch.com">DistroWatch.com</a>, the most comprehensive Linux
distribution resource. DistroWatch publishes reviews, detailed information, and
news, and their popular list of the top 100 distributions.</p>
</div></section>













<section data-type="sect1" class="orm:non-recipe" data-pdf-bookmark="Best Linux for Newbies"><div class="sect1" id="idm46466164073432">
<h1>Best Linux for Newbies</h1>

<p>Linux<a data-type="indexterm" data-primary="Linux" data-secondary="recommendations for newbies" id="idm46466164070568"/> provides rather a lot of a good thing, maybe too much. The recipes in this
book were tested on openSUSE, Fedora Linux, and Ubuntu Linux. These three are
well-established, popular, and well-maintained, and they represent three different
Linux families (see the <a data-type="xref" href="app01.xhtml#appendix">Appendix</a>). In my experience Ubuntu is perfect
for a Linux newbie because it has the easiest installer, good documentation, and
a large and supportive user community.</p>

<p>Every Linux has its differences: different software installers, different defaults,
different file locations…but the fundamentals are all similar. Most of what you
learn on any particular distro is applicable to all of them.</p>
<div data-type="warning" epub:type="warning"><h1>Hardware Architectures</h1>
<p>How-to authors <a data-type="indexterm" data-primary="Linux" data-secondary="hardware architectures" id="idm46466164068408"/><a data-type="indexterm" data-primary="hardware architectures" data-secondary="Linux" id="idm46466164067528"/>used to be able to take it for granted that readers were using
x86 hardware. With the rise in popularity of ARM processors this is no longer
true. Linux supports a large number of hardware architectures, and
<a data-type="xref" href="ch10.xhtml#rec-hardware-arch">Recipe 10.11</a> shows how to detect what you have. You
cannot accidentally install the wrong Linux version because the installation
will fail at the beginning, and you will see an error message telling why.</p>
</div>

<p>Linux <a data-type="indexterm" data-primary="installation media" data-secondary="ISO format" id="idm46466164061000"/><a data-type="indexterm" data-primary="ISO format" id="idm46466164063432"/>installation images are packaged in the ISO 9660 format, and have a <em>*.iso</em>
extension, for example, <em>ubuntu-20.04.1-desktop-amd64.iso</em> for x86-64 machines,
and <em>ubuntu-20.04.1-live-server-arm64.iso</em> for ARM machines. This is a compressed
archive that contains the entire filesystem and the installation program. When
you copy this archive to your installation medium, it is uncompressed and you
can see all the files.</p>

<p>The <em>*.iso</em> format was originally for CDs and DVDs. Once upon a time, Linux fit
on a single CD. (Once upon a time, it fit on a few 3.5” diskettes!) Now most Linux
distributions are too large for CDs. USB sticks are perfect for Linux
installations, as they are inexpensive, reusable, and much faster than optical
media.</p>
</div></section>













<section data-type="sect1" data-pdf-bookmark="1.1 Entering your System BIOS/UEFI Setup"><div class="sect1" id="rec-enter-uefi">
<h1>1.1 Entering your System BIOS/UEFI Setup</h1>








<section data-type="sect2" data-pdf-bookmark="Problem"><div class="sect2" id="idm46466164053560">
<h2>Problem</h2>

<p>You<a data-type="indexterm" data-primary="BIOS/UEFI setup" data-secondary="entering" id="BIOS-UEFI-enter"/> want to enter your system’s BIOS/UEFI setup.</p>
</div></section>













<section data-type="sect2" data-pdf-bookmark="Solution"><div class="sect2" id="idm46466164055528">
<h2>Solution</h2>

<p>Enter your BIO/UEFI setup by pressing the appropriate F<em>n</em> key at startup. On Dell,
ASUS, and Acer systems this is usually F2, and Lenovo uses F1. However, this varies;
for example, some systems use the Delete key, so check your machine’s documentation.
Some systems tell which key to press on their startup screens. It can be a bit
tricky to press the key at the right time, so start pressing it right after you
press the power button, just like banging on an elevator button to make it arrive
faster.</p>

<p>Every UEFI looks different; for example, Lenovo’s is bright and well organized
(<a data-type="xref" href="#fig-install-uefi">Figure 1-1</a>).</p>

<p>The ASRock UEFI on my test system is dark and dramatic (<a data-type="xref" href="#fig-install-uefi-3">Figure 1-2</a>).
This particular motherboard targets gamers and has many settings for
overclocking the CPU and other performance enhancements. This screen shows the
motherboard browser; hover the cursor over any item and it provides
information about that item.</p>

<figure><div id="fig-install-uefi" class="figure">
<img src="Images/lcb2_0101.png" alt="Lenovo's UEFI on a new Thinkpad." width="879" height="497"/>
<h6><span class="label">Figure 1-1. </span>Lenovo’s UEFI on a new ThinkPad</h6>
</div></figure>

<figure class="width-90"><div id="fig-install-uefi-3" class="figure">
<img src="Images/lcb2_0102.png" alt="ASRock UEFI has a motherboard browser." width="900" height="752"/>
<h6><span class="label">Figure 1-2. </span>ASRock UEFI has a motherboard browser</h6>
</div></figure>
</div></section>













<section data-type="sect2" data-pdf-bookmark="Discussion"><div class="sect2" id="idm46466164047016">
<h2>Discussion</h2>

<p>When you boot up your computer, the first startup instructions come from the
BIOS or UEFI firmware, stored on the computer’s motherboard. BIOS is the old legacy
system that has been with us since 1980. UEFI is its modern replacement. UEFI
includes legacy BIOS support. Nearly all computers made after the mid-2000s have
UEFI.</p>

<p>UEFI has considerably more features than the old BIOS and is like a little
operating system. The UEFI setup screens control boot order, boot devices,
security options, Secure Boot, overclocking, displaying hardware health,
networking, and many more <a data-type="indexterm" data-primary="BIOS/UEFI setup" data-secondary="entering" data-startref="BIOS-UEFI-enter" id="idm46466164038056"/>functions.</p>
</div></section>













<section data-type="sect2" data-pdf-bookmark="See Also"><div class="sect2" id="idm46466164041832">
<h2>See Also</h2>

<ul>
<li>
<p>The documentation for your motherboard</p>
</li>
<li>
<p><a href="https://uefi.org">Unified Extensible Firmware Interface Forum</a></p>
</li>
</ul>
</div></section>





</div></section>













<section data-type="sect1" data-pdf-bookmark="1.2 Downloading a Linux Installation Image"><div class="sect1" id="idm46466164035144">
<h1>1.2 Downloading a Linux Installation Image</h1>








<section data-type="sect2" data-pdf-bookmark="Problem"><div class="sect2" id="idm46466164033768">
<h2>Problem</h2>

<p>You <a data-type="indexterm" data-primary="Linux" data-secondary="downloading" id="idm46466164032504"/><a data-type="indexterm" data-primary="downloading Linux" id="idm46466164031656"/>want to find and download a Linux installation image.</p>
</div></section>













<section data-type="sect2" data-pdf-bookmark="Solution"><div class="sect2" id="idm46466164030728">
<h2>Solution</h2>

<p>First, you need to choose which Linux you want to try. If you don’t know where to
start, I recommend <a href="https://ubuntu.com">Ubuntu Linux</a>.
<a href="https://getfedora.org">Fedora Linux</a> and <a href="https://opensuse.org">openSUSE Linux</a>
are also excellent for anyone new to Linux.</p>

<p>After your download is completed, verify that you have a good download. This is
an important step that ensures you have an image that did not get damaged during
the download or was otherwise altered in some way.</p>

<p>Every Linux distribution provides signed keys and checksums for its download
images. Ubuntu provides copy-and-paste instructions. Open a terminal and change
to the directory where you downloaded Ubuntu. For Ubuntu 21.04, verifying the
installation image looks like this:</p>
<pre>$ <strong>echo "fa95fb748b34d470a7cfa5e3c1c8fa1163e2dc340cd5a60f7ece9dc963ecdf88 \
*ubuntu-21.04-desktop-amd64.iso" | shasum -a 256 --check</strong>

ubuntu-21.04-desktop-amd64.iso: OK</pre>

<p>If you see “shasum: WARNING: 1 computed checksum did NOT match,” then your download
is no good, assuming you copied the correct checksum. In most cases the image
was corrupted during the download, so try downloading it again.</p>

<p>Other Linux distributions provide slightly different verification methods, so
follow their instructions.</p>
</div></section>













<section data-type="sect2" data-pdf-bookmark="Discussion"><div class="sect2" id="idm46466164020536">
<h2>Discussion</h2>

<p>A great site to learn about the hundreds of Linux distributions is
<a href="https://distrowatch.com">Distrowatch.com</a>. Distrowatch <a data-type="indexterm" data-primary="DistroWatch" id="idm46466164023592"/>provides news and
information about more Linux distros than anyone.</p>
</div></section>













<section data-type="sect2" data-pdf-bookmark="See Also"><div class="sect2" id="idm46466164025720">
<h2>See Also</h2>

<ul>
<li>
<p><em>man 1 sha256sum</em></p>
</li>
<li>
<p><a href="https://ubuntu.com">Ubuntu Linux</a></p>
</li>
<li>
<p><a href="https://getfedora.org">Fedora Linux</a></p>
</li>
<li>
<p><a href="https://opensuse.org">openSUSE Linux</a></p>
</li>
</ul>
</div></section>





</div></section>













<section data-type="sect1" data-pdf-bookmark="1.3 Creating a Linux Installation USB Stick with UNetbootin"><div class="sect1" id="rec-bootable-usb">
<h1>1.3 Creating a Linux Installation USB Stick with UNetbootin</h1>








<section data-type="sect2" data-pdf-bookmark="Problem"><div class="sect2" id="idm46466164011816">
<h2>Problem</h2>

<p>You<a data-type="indexterm" data-primary="installation media" data-secondary="creating" data-tertiary="with UNetbootin" data-tertiary-sortas="UNetbootin" id="install-media-unetbootin"/><a data-type="indexterm" data-primary="USB stick installation media, creating" data-secondary="with UNetbootin" data-secondary-sortas="UNetbootin" id="USBstick-unetbootin"/><a data-type="indexterm" data-primary="UNetbootin" id="UNetbootin"/> have downloaded a Linux installation <em>*.iso</em> image, and you want to transfer
it to a USB stick to create your own installation media. You prefer a graphical
tool to create your installation media.</p>
</div></section>













<section data-type="sect2" data-pdf-bookmark="Solution"><div class="sect2" id="idm46466164006184">
<h2>Solution</h2>

<p>Try <a href="https://oreil.ly/8CXp9">UNetbootin</a>, Universal Netboot Installer. It
runs on Linux, macOS, and Windows, so you can download and create a Linux
installation disk on any of these operating systems. UNetbootin creates an
installation USB drive from your downloaded <em>*.iso</em> file or downloads a fresh
<em>*.iso</em> file (<a data-type="xref" href="#fig-unetbootin">Figure 1-3</a>).</p>

<p>You may use any size USB stick (that is larger than your <em>*.iso</em> file, of
course). The <em>*.iso</em> overwrites the entire device, so you can’t use it for
anything else, and you must use a separate USB stick for each <em>*.iso</em> file.</p>

<figure><div id="fig-unetbootin" class="figure">
<img src="Images/lcb2_0103.png" alt="Using UNetbootin to create an installable Linux USB stick" width="916" height="404"/>
<h6><span class="label">Figure 1-3. </span>Using UNetbootin to create an installable Linux USB stick</h6>
</div></figure>

<p>The UNetbootin site provides downloads and instructions. Some Linux distributions
provide UNetbootin packages, but downloading from the <a href="https://unetbootin.github.io" class="orm:hideurl">UNetbootin site</a> is simple
and always up-to-date.</p>
</div></section>













<section data-type="sect2" data-pdf-bookmark="Discussion"><div class="sect2" id="idm46466163997832">
<h2>Discussion</h2>

<p>Other good graphical apps are USB Creator, ISO Image Writer, and GNOME MultiWriter,
which copies to multiple USB drives at one time.</p>

<p>After you have created your installation USB drive, you can view the files on it.
The single <em>*.iso</em> expands into a complete filesystem full of files and
directories, like this example for Ubuntu:</p>
<pre>$ <strong> ls -C1 /media/duchess/'Ubuntu 21.04.1 amd64'/</strong>
boot
casper
dists
EFI
install
isolinux
md5sum.txt
pics
pool
preseed
README.diskdefines
ubuntu</pre>

<p class="pagebreak-before less_space">Every Linux distribution sets up its installers in its own way. This
example shows Fedora’s installation files:</p>
<pre>$ <strong> ls -C1 /media/duchess/Fedora-WS-Live-34-1-6/</strong>
EFI
images
isolinux
LiveOS
</pre>

<p>It would be lovely to have a single USB stick with a herd of Linux installation
files, and there are some programs that do this. My favorite is
<a href="https://ventoy.net">Ventoy</a>. Ventoy <a data-type="indexterm" data-primary="Ventoy" id="idm46466163989432"/>supports a large number of Linux
distributions. It runs on both Linux and Windows, and you can create a USB stick
full of Linux installers for running live Linuxes, and for permanent
installations to <a data-type="indexterm" data-primary="installation media" data-secondary="creating" data-tertiary="with UNetbootin" data-tertiary-sortas="UNetbootin" data-startref="install-media-unetbootin" id="idm46466163988632"/><a data-type="indexterm" data-primary="USB stick installation media, creating" data-secondary="with UNetbootin" data-secondary-sortas="UNetbootin" data-startref="USBstick-unetbootin" id="idm46466163986072"/><a data-type="indexterm" data-primary="UNetbootin" data-startref="UNetbootin" id="idm46466163984584"/>hard disks.</p>
</div></section>













<section data-type="sect2" data-pdf-bookmark="See Also"><div class="sect2" id="idm46466163982840">
<h2>See Also</h2>

<ul>
<li>
<p><a href="https://oreil.ly/8CXp9">UNetbootin</a></p>
</li>
<li>
<p><a data-type="xref" href="ch09.xhtml#cha-partitioning-gparted">Chapter 9</a></p>
</li>
<li>
<p><a href="https://ventoy.net">Ventoy</a></p>
</li>
</ul>
</div></section>





</div></section>













<section data-type="sect1" data-pdf-bookmark="1.4 Creating a Linux Installation DVD with K3b"><div class="sect1" id="rec-bootable-dvd">
<h1>1.4 Creating a Linux Installation DVD with K3b</h1>








<section data-type="sect2" data-pdf-bookmark="Problem"><div class="sect2" id="idm46466163975992">
<h2>Problem</h2>

<p>You<a data-type="indexterm" data-primary="installation media" data-secondary="creating" data-tertiary="with K3b" data-tertiary-sortas="K3b" id="install-media-k3b"/><a data-type="indexterm" data-primary="DVD installation media, creating" data-secondary="with K3b" data-secondary-sortas="K3b" id="DVD-install-k3b"/><a data-type="indexterm" data-primary="K3b" id="K3b"/> want to create a Linux DVD installation disk with a graphical tool.</p>
</div></section>













<section data-type="sect2" data-pdf-bookmark="Solution"><div class="sect2" id="idm46466163970120">
<h2>Solution</h2>

<p>Use K3b (KDE Burn Baby Burn). K3b is the best graphical CD/DVD writing app for
Linux.</p>

<p>If you do not have a Linux system, then use any CD/DVD writing program that
writes an ISO 9660 image. Your chosen CD/DVD writer will phrase this
as something like “burn an existing image to disk.”</p>

<p>You will see something like <a data-type="xref" href="#fig-k3b-1">Figure 1-4</a> on K3b. Click “Burn Image,” and note the confirmation
on the bottom left that says “Write an ISO 9660…image to an optical disk.”</p>

<p>On the next screen (<a data-type="xref" href="#fig-k3b-2">Figure 1-5</a>), in the top left drop-down selector, select
your <em>*.iso</em> image. Then on the top right select “ISO 9660 filesystem image.”
At the bottom under Settings, check “Verify written data.” This computes a
checksum after your image is written and compares it to the checksum of the
original <em>*.iso</em>. This is an important step because if the checksums do not
match you have a corrupted disk, which is unusable.</p>

<figure class="width-70"><div id="fig-k3b-1" class="figure">
<img src="Images/lcb2_0104.png" alt="Creating an installation DVD with K3b" width="972" height="716"/>
<h6><span class="label">Figure 1-4. </span>Creating an installation DVD with K3b</h6>
</div></figure>

<figure class="width-70"><div id="fig-k3b-2" class="figure">
<img src="Images/lcb2_0105.png" alt="Configuring the burn" width="701" height="724"/>
<h6><span class="label">Figure 1-5. </span>Configuring the burn</h6>
</div></figure>

<p>When the disk is successfully written, you will see a success message like the one shown in <a data-type="xref" href="#fig-k3b-3">Figure 1-6</a>. If there were
any errors, this screen will show some helpful error messages.</p>

<figure class="width-70"><div id="fig-k3b-3" class="figure">
<img src="Images/lcb2_0106.png" alt="Success!" width="645" height="668"/>
<h6><span class="label">Figure 1-6. </span>Success!</h6>
</div></figure>
</div></section>













<section data-type="sect2" data-pdf-bookmark="Discussion"><div class="sect2" id="idm46466163955336">
<h2>Discussion</h2>

<p>Brasero and XFBurn are also great CD/DVD writing apps for Linux, with simpler
interfaces than K3b, but still plenty of functionality.</p>

<p>The tech world changes fast. Just a few years ago I was burning CDs and DVDs for
everything. Then USB devices swept the market, and I haven’t burned a disk for
years, until I started writing this chapter.</p>

<p>Take heart, for CDs and DVDs are not obsolete, despite the efforts of computer
makers to make them obsolete by not including CD/DVD drives in their machines.
This is not a problem because you can purchase an external USB CD/DVD drive. You
can even find bus-powered drives, so you only need a USB cable, and don’t have to
hassle with a power cable. CD/DVD blanks are still good quality, so if you prefer
optical disks, they are a reliable <a data-type="indexterm" data-primary="installation media" data-secondary="creating" data-tertiary="with K3b" data-tertiary-sortas="K3b" data-startref="install-media-k3b" id="idm46466163952056"/><a data-type="indexterm" data-primary="DVD installation media, creating" data-secondary="with K3b" data-secondary-sortas="K3b" data-startref="DVD-install-k3b" id="idm46466163945784"/><a data-type="indexterm" data-primary="K3b" data-startref="K3b" id="idm46466163951208"/>choice.</p>
</div></section>













<section data-type="sect2" data-pdf-bookmark="See Also"><div class="sect2" id="idm46466163949976">
<h2>See Also</h2>

<ul>
<li>
<p><a href="https://oreil.ly/MJmXF">K3b</a></p>
</li>
<li>
<p><a href="https://oreil.ly/a9Dxx">Brasero</a></p>
</li>
</ul>
</div></section>





</div></section>













<section data-type="sect1" data-pdf-bookmark="1.5 Using the wodim Command to Create a &#10;Bootable CD/DVD"><div class="sect1" id="recipe0105">
<h1>1.5 Using the wodim Command to Create a 
<span class="keep-together">Bootable CD/DVD</span></h1>








<section data-type="sect2" data-pdf-bookmark="Problem"><div class="sect2" id="idm46466163940968">
<h2>Problem</h2>

<p>You <a data-type="indexterm" data-primary="installation media" data-secondary="creating" data-tertiary="with wodim" data-tertiary-sortas="wodim" id="idm46466163939704"/><a data-type="indexterm" data-primary="DVD installation media, creating" data-secondary="with wodim" id="idm46466163938376"/><a data-type="indexterm" data-primary="wodim command" id="idm46466163937432"/><a data-type="indexterm" data-primary="bootable CD/DVD" data-see="DVD installation media" id="idm46466163936728"/><a data-type="indexterm" data-primary="CD installation media" data-see="DVD installation media" id="idm46466163935752"/><a data-type="indexterm" data-primary="optical disks" data-see="DVD installation media" id="idm46466163934680"/>want a command-line tool to create a bootable CD/DVD.</p>
</div></section>













<section data-type="sect2" data-pdf-bookmark="Solution"><div class="sect2" id="idm46466163933032">
<h2>Solution</h2>

<p>Try the <em>wodim</em> command. Your optical drive is most likely
<em>/dev/cdrom</em>, symlinked to <em>/dev/sr0</em>. Use the symlink because it has
correct permissions:</p>
<pre>$ <strong>ls -l /dev | grep cdr</strong>
lrwxrwxrwx  1 root root           3 Mar  7 12:38 cdrom -&gt; sr0
lrwxrwxrwx  1 root root           3 Mar  7 12:38 cdrw -&gt; sr0
crw-rw----+ 1 root cdrom    21,   2 Mar  7 08:34 sg2
brw-rw----+ 1 root cdrom    11,   0 Mar  7 12:57 sr0</pre>

<p>Then copy your installation image to disk:</p>
<pre>$ <strong>wodim dev=/dev/cdrom -v <i>ubuntu-21.04-desktop-amd64.iso</i></strong></pre>
</div></section>













<section data-type="sect2" data-pdf-bookmark="Discussion"><div class="sect2" id="idm46466163927064">
<h2>Discussion</h2>

<p>In the <em>ls -l</em> example, there are <em>sg2</em> and <em>sr0</em> devices. <em>sg2</em> is a character
device, and <em>sr0</em> is a block device. Character devices<a data-type="indexterm" data-primary="character devices" id="idm46466163923400"/><a data-type="indexterm" data-primary="block devices" id="idm46466163922872"/> provide raw access to a
hardware device using the raw kernel drivers. Block devices provide buffered
access to a hardware device through various software programs that handle reading
and writing to physical media. Users interact with storage devices, like
DVDs and hard disks, through the kernel’s block device drivers. You can see raw
and block kernel modules listed in your <em>/boot/config-*</em> file.</p>
</div></section>













<section data-type="sect2" data-pdf-bookmark="See Also"><div class="sect2" id="idm46466163915400">
<h2>See Also</h2>

<ul>
<li>
<p><em>man 1 wodim</em></p>
</li>
</ul>
</div></section>





</div></section>













<section data-type="sect1" data-pdf-bookmark="1.6 Creating a Linux Installation USB Stick with &#10;the dd Command"><div class="sect1" id="recipe0106">
<h1>1.6 Creating a Linux Installation USB Stick with 
<span class="keep-together">the dd Command</span></h1>








<section data-type="sect2" data-pdf-bookmark="Problem"><div class="sect2" id="idm46466163918456">
<h2>Problem</h2>

<p>You <a data-type="indexterm" data-primary="installation media" data-secondary="creating" data-tertiary="with dd" data-tertiary-sortas="dd" id="install-media-dd"/><a data-type="indexterm" data-primary="USB stick installation media, creating" data-secondary="with dd" data-secondary-sortas="dd" id="USBstick-dd"/><a data-type="indexterm" data-primary="dd command" id="dd"/>want to create your installation USB drive from the command line, rather
than using a graphical tool.</p>
</div></section>













<section data-type="sect2" data-pdf-bookmark="Solution"><div class="sect2" id="idm46466163910616">
<h2>Solution</h2>

<p>Use the <em>dd</em> command. <em>dd</em> is on every Linux and works the same way on all
of them.</p>

<p>First, verify the dev name for your USB stick with <a data-type="indexterm" data-primary="lsblk command" id="idm46466163906520"/>the <em>lsblk</em> command, so that
you copy your image to the correct device. In the following example, that is
<em>/dev/sdb</em>:</p>
<pre>$ <strong>lsblk -o NAME,FSTYPE,LABEL,MOUNTPOINT</strong>

NAME   FSTYPE  LABEL       MOUNTPOINT
sda
├─sda1 vfat                /boot/efi
├─sda2 xfs     osuse15-2   /boot
├─sda3 xfs                 /
├─sda4 xfs                 /home
└─sda5 swap                [SWAP]
sdb
└─sdb1 xfs     32gbusb
sr0</pre>

<p>The following example creates a USB installation stick and shows its progress:</p>
<pre>$ <strong>sudo dd status=progress if=ubuntu-20.04.1-LTS-desktop-amd64.iso of=/dev/sdb</strong>
211509760 bytes (212 MB, 202 MiB) copied, 63 s, 3.4 MB/s
</pre>

<p>This takes a few minutes. When it’s finished, it looks like this:</p>
<pre>2782257664 bytes (2.8 GB, 2.6 GiB) copied, 484 s, 5.7 MB/s
5439488+0 records in
5439488+0 records out
2785017856 bytes (2.8 GB, 2.6 GiB) copied, 484.144 s, 5.8 MB/s
</pre>

<p>Remove the drive, then reinsert it and take a quick look at the files. <a data-type="xref" href="#fig-nemo">Figure 1-7</a>
shows the installation files for Ubuntu Linux in the Thunar file manager.</p>

<figure><div id="fig-nemo" class="figure">
<img src="Images/lcb2_0107.png" alt="Ubuntu installation files in Thunar" width="593" height="376"/>
<h6><span class="label">Figure 1-7. </span>Ubuntu Linux installation files in Thunar</h6>
</div></figure>

<p>The files are marked with padlocks because the Ubuntu installer uses the SquashFS
read-only filesystem. You can read them, but not delete or edit them.</p>

<p>The installation USB stick is ready to use.</p>
</div></section>













<section data-type="sect2" data-pdf-bookmark="Discussion"><div class="sect2" id="idm46466163910040">
<h2>Discussion</h2>

<p>Identifying the correct device to copy your installation to is super
important. In the <em>lsblk</em> example, there are only two storage devices. Note the
LABEL column; you can create labels on filesystems so you know what they are.
(See <a data-type="xref" href="ch09.xhtml#rec-gparted-create-partition-table">Recipe 9.2</a> and the filesystem creation recipes
in <a data-type="xref" href="ch11.xhtml#cha-create-filesystems">Chapter 11</a> to learn how to create filesystem labels.)</p>

<p>The graphical installation media creators are good, but I prefer the <em>dd</em>
command because it is simple and reliable. <em>dd</em> is short for Disk Duplicator. This
is one of those ancient useful GNU commands, in the GNU <em>coreutils</em> package, that
has been around <a data-type="indexterm" data-primary="installation media" data-secondary="creating" data-tertiary="with dd" data-tertiary-sortas="dd" data-startref="install-media-dd" id="idm46466163889384"/><a data-type="indexterm" data-primary="USB stick installation media, creating" data-secondary="with dd" data-secondary-sortas="dd" data-startref="USBstick-dd" id="idm46466163887752"/><a data-type="indexterm" data-primary="dd command" data-startref="dd" id="idm46466163886264"/>forever.</p>
</div></section>













<section data-type="sect2" data-pdf-bookmark="See Also"><div class="sect2" id="idm46466163892840">
<h2>See Also</h2>

<ul>
<li>
<p><em>man 1 dd</em></p>
</li>
</ul>
</div></section>





</div></section>













<section data-type="sect1" data-pdf-bookmark="1.7 Trying a Simple Ubuntu Installation"><div class="sect1" id="rec-simple-installation">
<h1>1.7 Trying a Simple Ubuntu Installation</h1>








<section data-type="sect2" data-pdf-bookmark="Problem"><div class="sect2" id="idm46466163882904">
<h2>Problem</h2>

<p>You<a data-type="indexterm" data-primary="installing" data-secondary="Linux" data-tertiary="basic installation" id="install-Linux-basic"/><a data-type="indexterm" data-primary="Linux" data-secondary="installing" data-tertiary="basic installation" id="Linux-install-basic"/> want to try a simple Ubuntu installation. You have your installation medium
ready, and you know how to boot to your installation medium. There is nothing on
the computer that you want to keep, so Ubuntu can take over the hard drive.</p>
</div></section>













<section data-type="sect2" data-pdf-bookmark="Solution"><div class="sect2" id="idm46466163878600">
<h2>Solution</h2>

<p>The following example demonstrates a fast, simple installation of Ubuntu Linux
21.04, Hirsute Hippo. All Ubuntu releases have alliterative animal names.</p>

<p>Insert your installation device, power on the machine, and open your
system’s one-time boot menu. Select the installation device and boot up
(<a data-type="xref" href="#fig-boot-usb">Figure 1-8</a>).</p>

<figure><div id="fig-boot-usb" class="figure">
<img src="Images/lcb2_0108.png" alt="Booting to an installation USB stick." width="1600" height="749"/>
<h6><span class="label">Figure 1-8. </span>Booting to an installation USB stick</h6>
</div></figure>
<div data-type="note" epub:type="note"><h1>All UEFI Screens Look Different</h1>
<p>Every vendor’s UEFI looks different, and every release changes in appearance.
The preceding example is a Dell UEFI one-time boot screen.</p>
</div>

<p>When the GRUB menu appears, select the default option. For Ubuntu 21.04 this is
<em>Ubuntu</em>, and it boots by default when you make no selection (<a data-type="xref" href="#fig-install-1">Figure 1-9</a>).</p>

<figure><div id="fig-install-1" class="figure">
<img src="Images/lcb2_0109.png" alt="Ubuntu installer's GRUB boot menu." width="732" height="300"/>
<h6><span class="label">Figure 1-9. </span>Ubuntu installer’s GRUB boot menu</h6>
</div></figure>

<p>Then you will have a choice of Try Ubuntu and Install Ubuntu. Try Ubuntu
launches the live version, and Install Ubuntu opens the installer
(<a data-type="xref" href="#fig-boot-usb-2">Figure 1-10</a>). It doesn’t matter which one you select because there is a
big installation button on the live desktop.</p>

<figure><div id="fig-boot-usb-2" class="figure">
<img src="Images/lcb2_0110.png" alt="Choosing the live image, or the installer." width="1020" height="639"/>
<h6><span class="label">Figure 1-10. </span>Choosing the live image or the installer</h6>
</div></figure>

<p>When you launch the installer, it walks you through a few steps. First, language
and keyboard layout.</p>

<p>Then, if you have a wireless network interface, you have the option to set it up
or wait until after installation.</p>

<p>Then configure your installation. On the “Updates and other software” screen,
select “Normal installation” (<a data-type="xref" href="#fig-boot-usb-3">Figure 1-11</a>).</p>

<figure><div id="fig-boot-usb-3" class="figure">
<img src="Images/lcb2_0111.png" alt="Select Normal installation.." width="1015" height="547"/>
<h6><span class="label">Figure 1-11. </span>Select Normal installation</h6>
</div></figure>

<p>On the next screen, select “Erase disk and install Ubuntu,” then click
Install Now (<a data-type="xref" href="#fig-boot-usb-4">Figure 1-12</a>).</p>

<figure><div id="fig-boot-usb-4" class="figure">
<img src="Images/lcb2_0112.png" alt="Select Normal installation.." width="1027" height="306"/>
<h6><span class="label">Figure 1-12. </span>Select Erase disk and install Ubuntu</h6>
</div></figure>

<p>The next screen asks “Write the changes to disk?” Click Continue. There are a
few more screens: set your time zone, create your username, password, and
hostname, and then the installation starts. You do not have to do anything until
the installation is finished, then restart the computer, remove your installation
device when prompted, and press the Enter key. After restart you will have a few
setup screens, then you can play with your nice new Ubuntu Linux.</p>
</div></section>













<section data-type="sect2" data-pdf-bookmark="Discussion"><div class="sect2" id="idm46466163877976">
<h2>Discussion</h2>

<p>Most Linux distributions have a similar installation process: boot your
installation medium, then choose a default simple installation or choose a
customizable installation. Some ask all the questions at the beginning, such as
username and password; others do the final setup after reboot.</p>

<p>Linux installers typically have back buttons to go back and make changes. You may
quit at any time, though this may leave your system in an unusable state. This
is not fatal; just start over and do a complete installation.</p>

<p>You may reinstall as many times on as many machines as you want without worrying
about license keys, except for the enterprise distros that require registration
keys (Red Hat, SUSE, or Ubuntu with paid <a data-type="indexterm" data-primary="installing" data-secondary="Linux" data-tertiary="basic installation" data-startref="install-Linux-basic" id="idm46466163851640"/><a data-type="indexterm" data-primary="Linux" data-secondary="installing" data-tertiary="basic installation" data-startref="Linux-install-basic" id="idm46466163852120"/>support).</p>
</div></section>













<section data-type="sect2" data-pdf-bookmark="See Also"><div class="sect2" id="idm46466163850584">
<h2>See Also</h2>

<ul>
<li>
<p><a href="https://help.ubuntu.com">Ubuntu documentation</a></p>
</li>
</ul>
</div></section>





</div></section>













<section data-type="sect1" data-pdf-bookmark="1.8 Customizing Partitioning"><div class="sect1" id="rec-install-partition">
<h1>1.8 Customizing Partitioning</h1>








<section data-type="sect2" data-pdf-bookmark="Problem"><div class="sect2" id="idm46466163843704">
<h2>Problem</h2>

<p>You <a data-type="indexterm" data-primary="Linux" data-secondary="installing" data-tertiary="with custom partitioning" data-tertiary-sortas="custom partitioning" id="linux-install-custom-part"/><a data-type="indexterm" data-primary="installing" data-secondary="Linux" data-tertiary="with custom partitioning" data-tertiary-sortas="custom partitioning" id="install-linux-custom-part"/><a data-type="indexterm" data-primary="custom partitioning, installing Linux with" id="custom-part-install"/><a data-type="indexterm" data-primary="partitions" data-secondary="creating" data-tertiary="with Linux install" data-tertiary-sortas="Linux install" id="part-custom-install"/>want to set up your own partitioning scheme.</p>
</div></section>













<section data-type="sect2" data-pdf-bookmark="Solution"><div class="sect2" id="idm46466163835960">
<h2>Solution</h2>

<p>In this recipe we will redo the example Ubuntu installation in
<a data-type="xref" href="#rec-simple-installation">Recipe 1.7</a> and set up our own partitioning scheme.</p>
<div data-type="warning" epub:type="warning"><h1>Entire Disk Will Be Erased</h1>
<p>In this recipe a new partition table is created, which erases the entire disk.</p>
</div>

<p>You can set up partitioning in any number of ways. <a data-type="xref" href="#table-1-1">Table 1-1</a> shows how
I prefer to set up my Linux workstations.</p>
<table id="table-1-1">
<caption><span class="label">Table 1-1. </span>Example partitioning scheme</caption>
<thead>
<tr>
<th>Partition name</th>
<th>Filesystem type</th>
<th>Mountpoint</th>
</tr>
</thead>
<tbody>
<tr>
<td><p>/dev/sda1</p></td>
<td><p>ext4</p></td>
<td><p>/boot</p></td>
</tr>
<tr>
<td><p>/dev/sda2</p></td>
<td><p>ext4</p></td>
<td><p>/</p></td>
</tr>
<tr>
<td><p>/dev/sda3</p></td>
<td><p>ext4</p></td>
<td><p>/home</p></td>
</tr>
<tr>
<td><p>/dev/sda4</p></td>
<td><p>ext4</p></td>
<td><p>/tmp</p></td>
</tr>
<tr>
<td><p>/dev/sda5</p></td>
<td><p>ext4</p></td>
<td><p>/var</p></td>
</tr>
<tr>
<td><p>/dev/sda6</p></td>
<td><p>swap</p></td>
<td/>
</tr>
</tbody>
</table>

<p>When you get to the Installation Type screen, select “Something else” to start your
customized installation (<a data-type="xref" href="#fig-ubuntu-install-1">Figure 1-13</a>).</p>

<figure><div id="fig-ubuntu-install-1" class="figure">
<img src="Images/lcb2_0113.png" alt="Selecting the installation type" width="1023" height="296"/>
<h6><span class="label">Figure 1-13. </span>Selecting the installation type</h6>
</div></figure>

<p>When you get to the partitioning screen, erase the entire disk by clicking New
Partition Table. Then you will see something like <a data-type="xref" href="#fig-ubuntu-install-2">Figure 1-14</a>.</p>

<figure><div id="fig-ubuntu-install-2" class="figure">
<img src="Images/lcb2_0114.png" alt="Creating a new partition table." width="1022" height="608"/>
<h6><span class="label">Figure 1-14. </span>Creating a new partition table</h6>
</div></figure>

<p>To create new partitions click on the “free space” line to select it, then click
the plus sign, +, to add a new partition. Set the size, filesystem, and
mountpoint. <a data-type="xref" href="#fig-ubuntu-install-3">Figure 1-15</a> creates a 500 MB <em>/boot</em> partition.</p>

<figure><div id="fig-ubuntu-install-3" class="figure">
<img src="Images/lcb2_0115.png" alt="Creating the boot partition." width="469" height="312"/>
<h6><span class="label">Figure 1-15. </span>Creating the boot partition</h6>
</div></figure>

<p>Click on “free space” again, click the plus sign, and keep going until you have
created all of your partitions. <a data-type="xref" href="#fig-ubuntu-install-4">Figure 1-16</a> shows the result:
<em>/boot</em>, <em>/home</em>, <em>/var</em>, <em>/tmp</em>, and the swap file are all on their own
partitions.</p>

<figure><div id="fig-ubuntu-install-4" class="figure">
<img src="Images/lcb2_0116.png" alt="Partitions set up and ready to continue the installation." width="1028" height="599"/>
<h6><span class="label">Figure 1-16. </span>Partitions set up and ready to continue the installation</h6>
</div></figure>
<div data-type="note" epub:type="note"><h1>Selecting Partitions to Format</h1>
<p>Note the “Format?” checkboxes in the partitioning screen. All new partitions must be
formatted with a filesystem.</p>
</div>
</div></section>













<section data-type="sect2" data-pdf-bookmark="Discussion"><div class="sect2" id="idm46466163835384">
<h2>Discussion</h2>

<p>The examples are from a virtual machine, so the hard disk is <em>vda</em> instead of
<em>sda</em>.</p>

<p>The example in the recipe uses the Ext4 filesystem on all the partitions. You may
use whatever filesystems you want; see <a data-type="xref" href="ch11.xhtml#cha-create-filesystems">Chapter 11</a> to learn more.</p>

<p>Disk partitions are like having a bunch of separate physical disks. Each one is
an independent section of the hard disk, and each partition can have a different
filesystem. The filesystems you select, and their sizes, all depend on how you
use your system. If you need a lot of data storage, then <em>/home</em> needs to be
large. It could even be a separate disk.</p>

<p>Giving <em>/boot</em> its own<a data-type="indexterm" data-primary="/boot, partition for" id="idm46466163792136"/> partition makes managing multiboot systems easier
because this makes the boot files independent of whatever operating systems you
install or remove. 500 MB is more than enough.</p>

<p>Putting <em>/</em>, root, in<a data-type="indexterm" data-primary="/ (root), partition for" id="idm46466163789816"/> its own partition makes it easy to restore or to nuke
and replace with a different Linux. 30 GB is more than enough for most
distros, except when you use the Btrfs filesystem, then you should make it 60 GB
to make room for storing snapshots.</p>

<p>Put <em>/home</em> on<a data-type="indexterm" data-primary="/home" data-secondary="partition for" id="idm46466163788424"/> its own partition to isolate it from the root filesystem, so
you can replace your Linux installation without touching <em>/home</em>. <em>/home</em>
could even be on a separate disk.</p>

<p><em>/var</em> and <em>/tmp</em> can <a data-type="indexterm" data-primary="/var" data-secondary="partition for" id="idm46466163782808"/><a data-type="indexterm" data-primary="/tmp" data-secondary="partition for" id="idm46466163782072"/>fill up from runaway processes. Putting them on
their own partitions prevents them from crashing the other filesystems. Mine are
usually 20 GB each, and for a busy server they need to be larger.</p>

<p>Putting a swap file equal to the size of your RAM on its own partition <a data-type="indexterm" data-primary="swap files, partition for" id="idm46466163779576"/><a data-type="indexterm" data-primary="Linux" data-secondary="installing" data-tertiary="with custom partitioning" data-tertiary-sortas="custom partitioning" data-startref="linux-install-custom-part" id="idm46466163778968"/><a data-type="indexterm" data-primary="installing" data-secondary="Linux" data-tertiary="with custom partitioning" data-tertiary-sortas="custom partitioning" data-startref="install-linux-custom-part" id="idm46466163776936"/><a data-type="indexterm" data-primary="custom partitioning, installing Linux with" data-startref="custom-part-install" id="idm46466163775208"/><a data-type="indexterm" data-primary="partitions" data-secondary="creating" data-tertiary="with Linux install" data-tertiary-sortas="Linux install" data-startref="part-custom-install" id="idm46466163774200"/>enables
suspend-to-disk.</p>
</div></section>













<section data-type="sect2" data-pdf-bookmark="See Also"><div class="sect2" id="idm46466163780616">
<h2>See Also</h2>

<ul>
<li>
<p>The discussion in <a data-type="xref" href="ch03.xhtml#rec-rtc-wakeups">Recipe 3.9</a> to learn about suspend and sleep states</p>
</li>
<li>
<p><a data-type="xref" href="ch08.xhtml#cha-partitioning-parted">Chapter 8</a></p>
</li>
<li>
<p><a data-type="xref" href="ch09.xhtml#cha-partitioning-gparted">Chapter 9</a></p>
</li>
</ul>
</div></section>





</div></section>













<section data-type="sect1" data-pdf-bookmark="1.9 Preserving Existing Partitions"><div class="sect1" id="idm46466163766536">
<h1>1.9 Preserving Existing Partitions</h1>








<section data-type="sect2" data-pdf-bookmark="Problem"><div class="sect2" id="idm46466163765480">
<h2>Problem</h2>

<p>You <a data-type="indexterm" data-primary="Linux" data-secondary="installing" data-tertiary="preserving partitions" id="linux-install-preserve-part"/><a data-type="indexterm" data-primary="installing" data-secondary="Linux" data-tertiary="preserving partitions" id="install-linux-preserve-part"/><a data-type="indexterm" data-primary="partitions" data-secondary="preserving" data-tertiary="in Linux installs" data-tertiary-sortas="Linux installs" id="part-preserve"/><a data-type="indexterm" data-primary="preserving" data-secondary="partitions" data-tertiary="in Linux installs" data-tertiary-sortas="Linux installs" id="preserve-part"/>have <em>/home</em> on its own partition and want to preserve it for the new Linux

<span class="keep-together">installation</span>.</p>
</div></section>













<section data-type="sect2" data-pdf-bookmark="Solution"><div class="sect2" id="idm46466163756616">
<h2>Solution</h2>

<p>In Recipes <a data-xrefstyle="select:labelnumber" data-type="xref" href="#rec-simple-installation">1.7</a> and <a data-xrefstyle="select:labelnumber" data-type="xref" href="#rec-install-partition">1.8</a> we erased the
existing installation by creating a new partition table. When you have
partitions that you want to preserve, such as <em>/home</em> or any shared directory,
do not create a new partition table. Instead, edit the existing partitions.
You can delete existing partitions, create new partitions, and reuse existing

<span class="keep-together">partitions</span>.</p>

<p>In the following example in the Ubuntu installer, <em>/dev/sda3</em> is a separate

<span class="keep-together"><em>/home</em></span> partition. Right-click on it, then click “Change…”
Then you can set its mountpoint to <em>/home</em>, and make sure that the
“Format?” box is NOT checked (<a data-type="xref" href="#fig-install-save-part">Figure 1-17</a>). If you format it or
change the filesystem type, all data on the partition will be erased.</p>

<figure><div id="fig-install-save-part" class="figure">
<img src="Images/lcb2_0117.png" alt="Saving /dev/sda3, instead of overwriting it." width="644" height="405"/>
<h6><span class="label">Figure 1-17. </span>Saving /dev/sda3, instead of overwriting it</h6>
</div></figure>
</div></section>













<section data-type="sect2" data-pdf-bookmark="Discussion"><div class="sect2" id="idm46466163745000">
<h2>Discussion</h2>

<p>The Discussion in <a data-type="xref" href="#rec-install-partition">Recipe 1.8</a> goes into some detail on customizing
your partitioning scheme and which filesystems benefit from being isolated on
their own <a data-type="indexterm" data-primary="Linux" data-secondary="installing" data-tertiary="preserving partitions" data-startref="linux-install-preserve-part" id="idm46466163741048"/><a data-type="indexterm" data-primary="installing" data-secondary="Linux" data-tertiary="preserving partitions" data-startref="install-linux-preserve-part" id="idm46466163742008"/><a data-type="indexterm" data-primary="partitions" data-secondary="preserving" data-tertiary="in Linux installs" data-tertiary-sortas="Linux installs" data-startref="part-preserve" id="idm46466163739672"/><a data-type="indexterm" data-primary="preserving" data-secondary="partitions" data-tertiary="in Linux installs" data-tertiary-sortas="Linux installs" data-startref="preserve-part" id="idm46466163737880"/>partitions.</p>
</div></section>













<section data-type="sect2" data-pdf-bookmark="See Also"><div class="sect2" id="idm46466163741192">
<h2>See Also</h2>

<ul>
<li>
<p><a data-type="xref" href="ch08.xhtml#cha-partitioning-parted">Chapter 8</a></p>
</li>
<li>
<p><a data-type="xref" href="ch09.xhtml#cha-partitioning-gparted">Chapter 9</a></p>
</li>
</ul>
</div></section>





</div></section>













<section data-type="sect1" data-pdf-bookmark="1.10 Customizing Package Selection"><div class="sect1" id="idm46466163731224">
<h1>1.10 Customizing Package Selection</h1>








<section data-type="sect2" data-pdf-bookmark="Problem"><div class="sect2" id="idm46466163730008">
<h2>Problem</h2>

<p>You <a data-type="indexterm" data-primary="Linux" data-secondary="installing" data-tertiary="custom package selection" id="linux-install-custom-package"/><a data-type="indexterm" data-primary="installing" data-secondary="Linux" data-tertiary="custom package selection" id="install-linux-custom-package"/><a data-type="indexterm" data-primary="custom packages in Linux installs" id="custom-package-install"/><a data-type="indexterm" data-primary="packages" data-secondary="custom selection during install" id="package-custom-select"/>don’t want the default package installation, but prefer to select your
own software to install. For example, you might want to set up a development
workstation, a web server, a central backup server, a multimedia production
workstation, a desktop publishing workstation, or choose your own office
productivity applications.</p>
</div></section>













<section data-type="sect2" data-pdf-bookmark="Solution"><div class="sect2" id="idm46466163723144">
<h2>Solution</h2>

<p>Every Linux distro manages installation options a little differently. In this
recipe you will see examples for openSUSE and Fedora Linux. openSUSE supports
multiple installation types from a single installation image, and Fedora Linux
has several different installation images.</p>

<p>These two examples are typical of the general-purpose Linux distributions.</p>

<p>Remember, you can install and remove software all you want after installation.</p>










<section data-type="sect3" data-pdf-bookmark="openSUSE"><div class="sect3" id="idm46466163721272">
<h3>openSUSE</h3>

<p>The <a data-type="indexterm" data-primary="openSUSE" data-secondary="custom package installation" id="opensuse-custom-package-install"/>openSUSE installer supports both a simple installation from defaults and
extensive customization options. It has two screens that control package selection.
The first screen (<a data-type="xref" href="#fig-opensuse-1">Figure 1-18</a>)
provides a selection of system roles to choose from, such as a desktop system
with the KDE or GNOME graphical environment, a generic desktop with the IceWM
window manager, a server with no graphical environment, or a transactional server
with no graphical environment. Each role comes with a prefab set of packages. You
can install one of these as is or select packages to install or remove.</p>

<p>Each role is customizable, as you will see a few screens later (<a data-type="xref" href="#fig-opensuse-2">Figure 1-19</a>).</p>

<figure><div id="fig-opensuse-1" class="figure">
<img src="Images/lcb2_0118.png" alt="openSUSE installation roles" width="1016" height="549"/>
<h6><span class="label">Figure 1-18. </span>openSUSE installation roles</h6>
</div></figure>

<figure class="width-70"><div id="fig-opensuse-2" class="figure">
<img src="Images/lcb2_0119.png" alt="openSUSE installation settings" width="767" height="748"/>
<h6><span class="label">Figure 1-19. </span>openSUSE installation settings</h6>
</div></figure>

<p>Click Software to open the package selection screen. This screen displays the
openSUSE <em>patterns</em>, which are related groups of packages you can install with
a single command. I like the Xfce desktop, so I am adding it to my installation
(<a data-type="xref" href="#fig-opensuse-3">Figure 1-20</a>).</p>

<p>Note the Details button at the bottom left. Click this to open a screen with
multiple tabs for more fine-grained package selection (<a data-type="xref" href="#fig-opensuse-5">Figure 1-21</a>). In
this screen you will find a massive amount of information: the individual
packages in each pattern, package groups, download repositories, installation
summary, dependencies, and information on every package. Use the window on the
right to select or deselect packages from each pattern. The installer will
automatically resolve dependencies after your changes.</p>

<figure class="width-80"><div id="fig-opensuse-3" class="figure">
<img src="Images/lcb2_0120.png" alt="openSUSE software patterns" width="746" height="712"/>
<h6><span class="label">Figure 1-20. </span>openSUSE software patterns</h6>
</div></figure>

<figure class="width-90"><div id="fig-opensuse-5" class="figure">
<img src="Images/lcb2_0121.png" alt="openSUSE individual package selection" width="1015" height="582"/>
<h6><span class="label">Figure 1-21. </span>openSUSE individual package selection</h6>
</div></figure>

<p>When you are finished with software selection, you are returned to the
Installation Summary screen, giving you another chance to change your installation
settings. Click the green Next button to complete the installation.</p>
</div></section>













<section data-type="sect3" data-pdf-bookmark="Fedora Linux"><div class="sect3" id="idm46466163720632">
<h3>Fedora Linux</h3>

<p>The <a data-type="indexterm" data-primary="Fedora Linux" data-secondary="custom package installation" id="fedora-custom-package-install"/>Fedora Linux Workstation and Server installers provide only partitioning
options and no package customization. You need the 600 MB network installer
image for a customizable installation, from
<a href="https://oreil.ly/JW9J8">Fedora Alternative Downloads</a>. It is labeled as
Fedora Server, but it provides complete package selection for any type of Fedora
installation. Set up all your installation choices from the Installation Summary
screen (<a data-type="xref" href="#fig-fedora-1">Figure 1-22</a>).</p>

<p>Take note of all the installation options on the Installation Summary screen:
software selection, user creation, partitioning, keyboard and language, time zone,
network, and hostname. Click Software Selection to open the screen for
selecting the packages you want to install (<a data-type="xref" href="#fig-fedora-2">Figure 1-23</a>).</p>

<figure class="width-80"><div id="fig-fedora-1" class="figure">
<img src="Images/lcb2_0123.png" alt="Fedora Linux network installer" width="1021" height="764"/>
<h6><span class="label">Figure 1-22. </span>Fedora Linux network installer</h6>
</div></figure>

<figure class="width-80"><div id="fig-fedora-2" class="figure">
<img src="Images/lcb2_0124.png" alt="Fedora Linux package selection" width="1012" height="738"/>
<h6><span class="label">Figure 1-23. </span>Fedora Linux package selection</h6>
</div></figure>

<p>When you are finished, click Done; you are returned to the
Installation Summary screen. When you are finished setting up your installation,
click Begin Installation, and the rest of the installation runs <a data-type="indexterm" data-primary="Fedora Linux" data-secondary="custom package installation" data-startref="fedora-custom-package-install" id="idm46466163686648"/>unattended.</p>
</div></section>



</div></section>













<section data-type="sect2" data-pdf-bookmark="Discussion"><div class="sect2" id="idm46466163688904">
<h2>Discussion</h2>

<p>Whatever Linux you want to try, read its documentation and release notes. This
is important information that saves a lot of aggravation. Also look for forums,
mailing lists, and wikis to find <a data-type="indexterm" data-primary="Linux" data-secondary="installing" data-tertiary="custom package selection" data-startref="linux-install-custom-package" id="idm46466163683320"/><a data-type="indexterm" data-primary="installing" data-secondary="Linux" data-tertiary="custom package selection" data-startref="install-linux-custom-package" id="idm46466163687656"/><a data-type="indexterm" data-primary="custom packages in Linux installs" data-startref="custom-package-install" id="idm46466163684744"/><a data-type="indexterm" data-primary="packages" data-secondary="custom selection during install" data-startref="package-custom-select" id="idm46466163681832"/>help.</p>

<p>You may<a data-type="indexterm" data-primary="Linux" data-secondary="installing" data-tertiary="multiple desktop environments" id="idm46466163679528"/><a data-type="indexterm" data-primary="installing" data-secondary="Linux" data-tertiary="multiple desktop environments" id="idm46466163678440"/><a data-type="indexterm" data-primary="desktop environments, installing multiple" id="idm46466163677352"/><a data-type="indexterm" data-primary="multiple desktop environments, installing" id="idm46466163676584"/> install as many desktop environments as you want, and then select the one
you want to use when you log in. The button to select desktops is usually small
and not obvious; for example, the default Ubuntu login screen (<a data-type="xref" href="#fig-login-1">Figure 1-24</a>)
hides the desktop selector button until you click on a username. Xfce, Lxde,
GNOME, and KDE are some of the popular graphical desktops. GNOME is the default
on Ubuntu, openSUSE, and <a data-type="indexterm" data-primary="openSUSE" data-secondary="custom package installation" data-startref="opensuse-custom-package-install" id="idm46466163673384"/>Fedora.</p>

<figure class="width-80"><div id="fig-login-1" class="figure">
<img src="Images/lcb2_0122.png" alt="Selecting a different graphical environment." width="709" height="510"/>
<h6><span class="label">Figure 1-24. </span>Selecting a different graphical environment</h6>
</div></figure>
</div></section>













<section data-type="sect2" data-pdf-bookmark="See Also"><div class="sect2" id="idm46466163670280">
<h2>See Also</h2>

<ul>
<li>
<p><a href="https://oreil.ly/AupNr">openSUSE documentation</a></p>
</li>
<li>
<p><a href="https://oreil.ly/mTyuV">SUSE Transactional Updates</a></p>
</li>
</ul>
</div></section>





</div></section>













<section data-type="sect1" data-pdf-bookmark="1.11 Multibooting Linux Distributions"><div class="sect1" id="idm46466163730920">
<h1>1.11 Multibooting Linux Distributions</h1>








<section data-type="sect2" data-pdf-bookmark="Problem"><div class="sect2" id="idm46466163665208">
<h2>Problem</h2>

<p>You <a data-type="indexterm" data-primary="Linux" data-secondary="installing" data-tertiary="in multiboot setup" data-tertiary-sortas="multiboot setup" id="linux-install-multiboot"/><a data-type="indexterm" data-primary="installing" data-secondary="Linux" data-tertiary="in multiboot setup" data-tertiary-sortas="multiboot setup" id="install-linux-multiboot"/><a data-type="indexterm" data-primary="multibooting" id="multiboot"/><a data-type="indexterm" data-primary="Linux" data-secondary="multibooting" id="linux-multiboot"/>want to install more than one Linux distribution on your computer in a multiboot setup,
then select the one you want to run from your boot menu.</p>
</div></section>













<section data-type="sect2" data-pdf-bookmark="Solution"><div class="sect2" id="idm46466163657624">
<h2>Solution</h2>

<p>No worries, for you can install as many Linuxes as your hard disk (or disks) will hold.
You must already have one Linux installed, and it must have a
separate <em>/boot</em> partition. Then the steps are:</p>
<ol>
<li>
<p>Provide sufficient free disk space for the new Linux, which can be on the same
hard disk as your existing Linux, or on a separate hard disk, either internal or
external.</p>
</li>
<li>
<p>Make careful note of the partitions that belong to your first installed Linux,
so that you do not accidentally overwrite or delete any partitions you want to
keep.</p>
</li>
<li>
<p>Mount the <em>/boot</em> partition in every new Linux that you install, and do not
format it.</p>
</li>
<li>
<p>Boot to your installation medium, then configure the new installation to
install on the free disk space.</p>
</li>

</ol>

<p>The installer will automatically find your existing Linux installation and add
the new Linux to the boot menu. After the installation is completed, you will see
a boot menu like <a data-type="xref" href="#fig-mint-4">Figure 1-25</a>, which has options to boot to Linux Mint or
Ubuntu.</p>

<figure><div id="fig-mint-4" class="figure">
<img src="Images/lcb2_0125.png" alt="New boot menu with Linux Mint and Ubuntu" width="700" height="606"/>
<h6><span class="label">Figure 1-25. </span>New boot menu with Linux Mint and Ubuntu</h6>
</div></figure>
</div></section>













<section data-type="sect2" data-pdf-bookmark="Discussion"><div class="sect2" id="idm46466163647256">
<h2>Discussion</h2>

<p>If <a data-type="indexterm" data-primary="partitions" data-secondary="shrinking" id="idm46466163645432"/><a data-type="indexterm" data-primary="shrinking" data-secondary="partitions" id="idm46466163644584"/>you need to free up space on your hard disk, you can shrink existing
partitions safely (see <a data-type="xref" href="ch09.xhtml#rec-resize-partitions-gparted">Recipe 9.7</a>) before you launch the
installer. It is safest to do this on unmounted partitions, and some filesystems
cannot be shrunk while they are mounted. Use SystemRescue to shrink partitions,
see <a data-type="xref" href="ch19.xhtml#rec-partition-sysrescue">Recipe 19.12</a>.</p>

<p>Most Linux installers are smart enough to recognize existing Linux
installations and to offer the option to preserve them. In <a data-type="xref" href="#fig-mint-1">Figure 1-26</a> you
see the Linux Mint installer, providing the options to take over your whole hard
disk or to install next to Ubuntu without deleting<a data-type="indexterm" data-primary="Linux" data-secondary="installing" data-tertiary="in multiboot setup" data-tertiary-sortas="multiboot setup" data-startref="linux-install-multiboot" id="idm46466163640472"/><a data-type="indexterm" data-primary="installing" data-secondary="Linux" data-tertiary="in multiboot setup" data-tertiary-sortas="multiboot setup" data-startref="install-linux-multiboot" id="idm46466163642600"/><a data-type="indexterm" data-primary="multibooting" data-startref="multiboot" id="idm46466163636232"/><a data-type="indexterm" data-primary="Linux" data-secondary="multibooting" data-startref="linux-multiboot" id="idm46466163635256"/> it.</p>

<figure><div id="fig-mint-1" class="figure">
<img src="Images/lcb2_0126.png" alt="Installing Linux Mint next to Ubuntu" width="700" height="349"/>
<h6><span class="label">Figure 1-26. </span>Installing Linux Mint next to Ubuntu</h6>
</div></figure>
</div></section>













<section data-type="sect2" data-pdf-bookmark="See Also"><div class="sect2" id="idm46466163633160">
<h2>See Also</h2>

<ul>
<li>
<p><a data-type="xref" href="ch08.xhtml#rec-shrink-partition">Recipe 8.9</a></p>
</li>
<li>
<p><a data-type="xref" href="ch09.xhtml#rec-resize-partitions-gparted">Recipe 9.7</a></p>
</li>
<li>
<p><a data-type="xref" href="ch19.xhtml#rec-partition-sysrescue">Recipe 19.12</a></p>
</li>
<li>
<p>The installation documentation for your Linux distribution</p>
</li>
</ul>
</div></section>





</div></section>













<section data-type="sect1" data-pdf-bookmark="1.12 Dual-boot with Microsoft Windows"><div class="sect1" id="idm46466163624920">
<h1>1.12 Dual-boot with Microsoft Windows</h1>








<section data-type="sect2" data-pdf-bookmark="Problem"><div class="sect2" id="idm46466163623336">
<h2>Problem</h2>

<p>You <a data-type="indexterm" data-primary="dual-booting" data-secondary="Linux/Windows" id="dualboot-linux-windows"/><a data-type="indexterm" data-primary="Linux" data-secondary="dual-booting" data-tertiary="with Windows" data-tertiary-sortas="Windows" id="linux-dualboot-windows"/><a data-type="indexterm" data-primary="Windows" data-secondary="dual-booting" id="windows-dualboot"/><a data-type="indexterm" data-primary="Linux" data-secondary="installing" data-tertiary="in Windows dual-boot setup" data-tertiary-sortas="Windows dual-boot setup" id="linux-install-windows-dualboot"/><a data-type="indexterm" data-primary="installing" data-secondary="Linux" data-tertiary="in Windows dual-boot setup" data-tertiary-sortas="Windows dual-boot setup" id="install-linux-windows-dualboot"/>want to dual-boot Linux and Windows on your computer.</p>
</div></section>













<section data-type="sect2" data-pdf-bookmark="Solution"><div class="sect2" id="idm46466163613768">
<h2>Solution</h2>

<p>Dual-booting Linux and Windows installs both systems on one computer,
and then you choose the one you want to use from your boot menu at startup.</p>

<p>It is best to install Windows first, if it is not already installed, and install
Linux second. Windows likes to control the bootloader, so installing Linux second
allows Linux to take control.</p>

<p>As always, make sure you have fresh backups and Windows recovery media.</p>

<p class="pagebreak-before less_space">After Windows is installed, start your Linux installation. You will install Linux
in whatever way you want: a simple installation or a customized installation
where you set up partitioning and package selection. There is an important
option specific to multibooting:</p>
<ol>
<li>
<p>If you have a single hard drive, then the “Device for boot loader installation”
is <em>/dev/sda</em>.</p>
</li>
<li>
<p>If you have Windows on one hard disk and are installing Linux to a second hard
disk, the “Device for boot loader installation” is the Linux disk. Use the device
name, for example <em>/dev/sdb</em>, not a partition name, like <em>/dev/sdb1</em>.</p>
</li>

</ol>

<p>In <a data-type="xref" href="#fig-dual-1">Figure 1-27</a>, there are two hard drives, with Windows on <em>/dev/sda</em> and
Linux on <em>/dev/sdb</em>.</p>

<figure><div id="fig-dual-1" class="figure">
<img src="Images/lcb2_0127.png" alt="Installing Ubuntu next to Windows." width="900" height="564"/>
<h6><span class="label">Figure 1-27. </span>Installing Ubuntu next to Windows</h6>
</div></figure>

<p>Be very certain you are installing Linux to the correct location and not
overwriting Windows. You may partition for Linux just as you would if you were
installing it standalone, and again, be careful which partitions you change.</p>

<p>Once you have your partitioning set up and are satisfied with your installation
configuration, go ahead and complete your Linux installation. After it is finished
and you have rebooted, your GRUB menu will have entries for both systems
(<a data-type="xref" href="#fig-dual-2">Figure 1-28</a>).</p>

<figure><div id="fig-dual-2" class="figure">
<img src="Images/lcb2_0128.png" alt="openSUSE and Windows in the GRUB boot menu." width="1586" height="1155"/>
<h6><span class="label">Figure 1-28. </span>openSUSE and Windows in the GRUB boot menu</h6>
</div></figure>
</div></section>













<section data-type="sect2" data-pdf-bookmark="Discussion"><div class="sect2" id="idm46466163612872">
<h2>Discussion</h2>

<p>You can install as many Linux and Windows systems on your system in a multiboot setup as you have room for on your hard drives.</p>

<p>There are other ways to run Linux and Windows on the same machine. Windows 10
includes<a data-type="indexterm" data-primary="Windows Subsystem for Linux 2 (WSL 2)" id="idm46466163594872"/><a data-type="indexterm" data-primary="WSL 2 (Windows Subsystem for Linux 2)" id="idm46466163593992"/><a data-type="indexterm" data-primary="Windows" data-secondary="in virtual machines" data-secondary-sortas="virtual machines" id="idm46466163593464"/><a data-type="indexterm" data-primary="virtual machines, Windows in" id="idm46466163592216"/> the Windows Subsystem for Linux 2 (WSL 2), which runs supported Linux
distributions in a virtual environment. You can run Windows in virtual machines
on Linux if you have Windows installation media. Virtual machines are lovely
because you can run multiple operating systems at the same time, though you need
higher-end CPUs and lots of memory.</p>

<p>VirtualBox and QEMU/KVM/Virtual Machine Manager are good free virtual
machine hosts that run on <a data-type="indexterm" data-primary="dual-booting" data-secondary="Linux/Windows" data-startref="dualboot-linux-windows" id="idm46466163589960"/><a data-type="indexterm" data-primary="Linux" data-secondary="dual-booting" data-tertiary="with Windows" data-tertiary-sortas="Windows" data-startref="linux-dualboot-windows" id="idm46466163589256"/><a data-type="indexterm" data-primary="Windows" data-secondary="dual-booting" data-startref="windows-dualboot" id="idm46466163588136"/><a data-type="indexterm" data-primary="Linux" data-secondary="installing" data-tertiary="in Windows dual-boot setup" data-tertiary-sortas="Windows dual-boot setup" data-startref="linux-install-windows-dualboot" id="idm46466163587240"/><a data-type="indexterm" data-primary="installing" data-secondary="Linux" data-tertiary="in Windows dual-boot setup" data-tertiary-sortas="Windows dual-boot setup" data-startref="install-linux-windows-dualboot" id="idm46466163585032"/>Linux.</p>
</div></section>













<section data-type="sect2" data-pdf-bookmark="See Also"><div class="sect2" id="idm46466163582712">
<h2>See Also</h2>

<ul>
<li>
<p><a href="https://oreil.ly/4cbnk">Windows Subsystem for Linux Documentation</a></p>
</li>
<li>
<p><a href="https://oreil.ly/pI6J6">VirtualBox</a></p>
</li>
<li>
<p><a href="https://oreil.ly/gNdi9e">KVM</a></p>
</li>
<li>
<p><a href="https://oreil.ly/5vj6m">Virtual Machine Manager</a></p>
</li>
<li>
<p><a href="https://oreil.ly/VKBkf">QEMU</a></p>
</li>
</ul>
</div></section>





</div></section>













<section data-type="sect1" data-pdf-bookmark="1.13 Recovering an OEM Windows 8 or 10 Product Key"><div class="sect1" id="idm46466163574936">
<h1>1.13 Recovering an OEM Windows 8 or 10 Product Key</h1>








<section data-type="sect2" data-pdf-bookmark="Problem"><div class="sect2" id="idm46466163574040">
<h2>Problem</h2>

<p>You <a data-type="indexterm" data-primary="Windows" data-secondary="OEM product key, recovering" id="idm46466163572488"/><a data-type="indexterm" data-primary="OEM product key (Windows), recovering" id="idm46466163571640"/><a data-type="indexterm" data-primary="recovering" data-secondary="Windows OEM product key" id="idm46466163571032"/>purchased a computer with Windows 8 or 10 preinstalled, and you can’t find
your product key.</p>
</div></section>













<section data-type="sect2" data-pdf-bookmark="Solution"><div class="sect2" id="idm46466163569624">
<h2>Solution</h2>

<p>Let Linux find it for you. Run the following command from a Linux system installed
on the same computer with Windows, or from SystemRescue:</p>
<pre>$ <strong>sudo cat /sys/firmware/acpi/tables/MSDM</strong>
MSDMU
DELL  CBX3
AMI
<i>FAKEP-RODUC-TKEY1-22222-33333</i></pre>

<p>And there it is on the last line.</p>

<p>If you can log in to Windows, run the following command in Windows to retrieve
your product key:</p>
<pre>C:\Users\Duchess&gt; <strong>wmic path softwarelicensingservice get OA3xOriginalProductKey</strong>
OA3xOriginalProductKey
<i>FAKEP-RODUC-TKEY1-22222-33333</i>
</pre>
</div></section>













<section data-type="sect2" data-pdf-bookmark="Discussion"><div class="sect2" id="idm46466163564408">
<h2>Discussion</h2>

<p>If you have no recovery media, Windows 10 is a free download. You will need your
25-digit OEM product key for a fresh installation.</p>
</div></section>













<section data-type="sect2" data-pdf-bookmark="See Also"><div class="sect2" id="idm46466163562712">
<h2>See Also</h2>

<ul>
<li>
<p><a href="https://oreil.ly/rz157">Download Windows 10</a></p>
</li>
</ul>
</div></section>





</div></section>













<section data-type="sect1" class="pagebreak-before less_space" data-pdf-bookmark="1.14 Mounting Your ISO Image on Linux"><div class="sect1" id="idm46466163559368">
<h1>1.14 Mounting Your ISO Image on Linux</h1>








<section data-type="sect2" data-pdf-bookmark="Problem"><div class="sect2" id="idm46466163558264">
<h2>Problem</h2>

<p>You <a data-type="indexterm" data-primary="Linux" data-secondary="ISO images, mounting" id="linux-iso-mount"/><a data-type="indexterm" data-primary="ISO images, mounting" id="iso-image-mount"/><a data-type="indexterm" data-primary="mounting" data-secondary="ISO images" id="mount-iso-image"/>have downloaded a Linux <em>*.iso</em> file and are curious to see what it looks like
after it is unpacked. You could go ahead and create a bootable DVD or
USB stick, and then inspect the files, but you really want to unpack it without
copying it to another device.</p>
</div></section>













<section data-type="sect2" data-pdf-bookmark="Solution"><div class="sect2" id="idm46466163553592">
<h2>Solution</h2>

<p>Linux has a pseudodevice called <a data-type="indexterm" data-primary="loop devices" id="idm46466163550472"/>the <em>loop</em> device. This makes your <em>*.iso</em> image
accessible like any other filesystem. Follow these steps to mount your <em>*.iso</em>
image file in a loop device.</p>

<p>First, create a mountpoint in your home directory, giving it whatever name you
want. In the example it is called  <em>loopiso</em>:</p>
<pre>$ <strong>mkdir loopiso</strong>
</pre>

<p>Mount your <em>*.iso</em> in this new directory. In the example it is a Fedora Linux
installation image:</p>
<pre>$ <strong>sudo mount -o loop Fedora-Workstation-Live-x86_64-34-1.2.iso loopiso</strong>
mount: /home/duchess/loopiso: WARNING: device write-protected, mounted read-only
</pre>

<p>See the mounted filesystem in a file manager (<a data-type="xref" href="#fig-loopiso">Figure 1-29</a>).</p>

<figure><div id="fig-loopiso" class="figure">
<img src="Images/lcb2_0129.png" alt=".iso in Fedora Linux 34" width="601" height="255"/>
<h6><span class="label">Figure 1-29. </span>A mounted <em>.iso</em> in Fedora Linux 34</h6>
</div></figure>

<p>You can enter the directories and read the files. You won’t be able to edit any
files because they are mounted read-only.</p>

<p>When you are finished, unmount it:</p>
<pre>$ <strong>sudo umount loopiso</strong>
</pre>
</div></section>













<section data-type="sect2" data-pdf-bookmark="Discussion"><div class="sect2" id="idm46466163551672">
<h2>Discussion</h2>

<p>The loop device maps a regular file to a virtual partition, and you can set up
a virtual filesystem in this file. If you want try to creating your own, a
little bit of web searching will find a lot of how-tos. Start<a data-type="indexterm" data-primary="Linux" data-secondary="ISO images, mounting" data-startref="linux-iso-mount" id="idm46466163534440"/><a data-type="indexterm" data-primary="ISO images, mounting" data-startref="iso-image-mount" id="idm46466163537224"/><a data-type="indexterm" data-primary="mounting" data-secondary="ISO images" data-startref="mount-iso-image" id="idm46466163536248"/> with
<em>man 8 losetup</em>.</p>
</div></section>













<section data-type="sect2" data-pdf-bookmark="See Also"><div class="sect2" id="idm46466163534744">
<h2>See Also</h2>

<ul>
<li>
<p><em>man 8 mount</em></p>
</li>
<li>
<p><em>man 8 losetup</em></p>
</li>
</ul>
</div></section>





</div></section>







</div></section></div></body></html>