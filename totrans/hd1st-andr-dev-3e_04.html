<html><head></head><body><div id="sbo-rt-content"><section data-type="chapter" epub:type="chapter" data-pdf-bookmark="Chapter 2. Building Interactive Apps: Apps That Do Something"><div class="chapter" id="building_interactive_appscolon_apps_that">
<h1><span class="label">Chapter 2. </span>Building Interactive Apps: <em>Apps That Do Something</em></h1>
<figure class="informal"><div class="figure">
<img src="Images/f0037-01.png" alt="image" width="600" height="469"/>
<h6/>
</div></figure>
<p><a data-type="indexterm" data-primary="Android apps" data-secondary="interactive" id="idm46053743370048"/><strong>Most apps need to respond to the user in some way.</strong></p>
<p>And in this chapter, you’ll see how you can make your apps <strong>more interactive</strong>. You’ll discover how to add an <strong><em>OnClickListener</em></strong> to your activity code so that your app can <strong>listen to what the user’s doing</strong>, and make an appropriate response. You’ll find out more about <strong>how to design layouts</strong>, and you’ll learn how each UI component you add to your layout is derived from <strong>a common View ancestor</strong>. Along the way, you’ll discover <strong>why String resources are so important</strong> for flexible, well-designed apps.</p>
<section data-type="sect1" data-pdf-bookmark="Let’s build a Beer Adviser app"><div class="sect1" id="letapostrophes_build_a_beer_adviser_app">
<h1>Let’s build a Beer Adviser app</h1>
<p><a data-type="indexterm" data-primary="Beer Adviser app" id="idm46053743363664"/>When you create an Android app, you’re usually going to want it to <em>do</em> something.</p>
<p>In this chapter, we’re going to show you how to create an app that the user can interact with. We’ll create a Beer Adviser app where users can select the color of beer they enjoy most, click a button, and get back a list of tasty beers to try out.</p>
<figure class="informal"><div class="figure">
<img src="Images/f0038-01.png" alt="image" width="600" height="682"/>
<h6/>
</div></figure>
<p>Here’s how the app will be structured:</p>
<ol>
<li><p><strong>The layout activity_main.xml specifies what the app will look like.</strong></p>
<p>It includes three UI components:</p>
<ul>
<li><p>A drop-down list of values called a spinner, which allows the user to choose which color of beer they want</p></li>
<li><p>A button that, when clicked, will return a selection of beers</p></li>
<li><p>A text view that displays the beers</p></li>
</ul></li>
<li><p><strong>The file strings.xml includes any String resources needed by the layout.</strong></p>
<p>The button’s label, for example, and the beer colors.</p></li>
<li><p><strong>The activity MainActivity specifies how the app should interact with the user.</strong></p>
<p>It takes the beer color the user chooses, and uses this to display a list of beers the user might be interested in.</p></li>
</ol>
</div></section>
<section data-type="sect1" data-pdf-bookmark="Here’s what we’re going to do"><div class="sect1" id="hereapostrophes_what_weapostroph-id00010">
<h1>Here’s what we’re going to do</h1>
<p>So let’s get to work. There are a few steps you need to go through to build the Beer Adviser app (we’ll tackle these throughout the rest of the chapter):</p>
<ol>
<li><p><strong>Create a project.</strong></p>
<p>You’re creating a brand-new app, so you’ll need to create a new project that includes an empty activity and a layout.</p>
<figure class="informal"><div class="figure">
<img src="Images/f0039-01.png" alt="image" width="310" height="239"/>
<h6/>
</div></figure></li>
<li><p><strong>Update the layout.</strong></p>
<p>Once you’ve set up the project, you need to amend the layout so that it includes all the UI components the app needs.</p>
<figure class="informal"><div class="figure">
<img src="Images/f0039-02.png" alt="image" width="364" height="366"/>
<h6/>
</div></figure></li>
<li><p><strong>Add String resources.</strong></p>
<p>We’ll replace any hardcoded text with <code>String</code> resources so that all the text that’s used by the app is held in a single file.</p>
<figure class="informal"><div class="figure">
<img src="Images/f0039-03.png" alt="image" width="96" height="121"/>
<h6/>
</div></figure></li>
<li><p><strong>Make the button respond to clicks.</strong></p>
<p>The layout only specifies the visuals. To make the button <em>do</em> something when it’s clicked, you need to write some activity code.</p>
<figure class="informal"><div class="figure">
<img src="Images/f0039-04.png" alt="image" width="284" height="119"/>
<h6/>
</div></figure></li>
<li><p><strong>Write the application logic.</strong></p>
<p>You’ll add a new method to the activity, and use it to make sure users get the right beer based on their selection.</p></li>
</ol>
<p>Let’s start by creating the project.</p>
</div></section>
<section data-type="sect1" data-pdf-bookmark="Create the project"><div class="sect1" id="create_the_project">
<h1>Create the project</h1>
<figure class="informal"><div class="figure">
<img src="Images/f0040-01.png" alt="image" width="308" height="144"/>
<h6/>
</div></figure>
<p><a data-type="indexterm" data-primary="Beer Adviser app" data-secondary="creating project" id="idm46053743330656"/><a data-type="indexterm" data-primary="projects" data-secondary="creating" id="idm46053743329280"/>The steps for creating the new project are nearly identical to the ones we used in the previous chapter:</p>
<ol>
<li><p>Open Android Studio, close any open projects, and choose “New Project” from the welcome screen. This starts the wizard you saw in <a data-type="xref" href="ch01.xhtml#getting_startedcolon_diving_in">Chapter 1</a>.</p></li>
<li><p>Make sure the Phone and Tablet option is selected, and choose the Empty Activity option.</p></li>
<li><p>Enter a name of “Beer Adviser” and a package name of “com.hfad.beeradviser” and accept the default save location. Make sure that the language is set to Kotlin, and that the minimum SDK is API 21 so that it will run on most Android devices. Then click on the Finish button.</p></li>
</ol>
<figure class="informal"><div class="figure">
<img src="Images/f0040-02.png" alt="image" width="600" height="495"/>
<h6/>
</div></figure>
</div></section>
<section data-type="sect1" data-pdf-bookmark="We’ve created a default activity and layout"><div class="sect1" id="weapostropheve_created_a_default_activit">
<h1>We’ve created a default activity and layout</h1>
<figure class="informal"><div class="figure">
<img src="Images/f0041-01.png" alt="image" width="308" height="145"/>
<h6/>
</div></figure>
<p><a data-type="indexterm" data-primary="activities" data-secondary="default" id="idm46053743317520"/><a data-type="indexterm" data-primary="activity_main.xml file" id="idm46053743316416"/><a data-type="indexterm" data-primary="Beer Adviser app" data-secondary="updating layout" id="idm46053743315552"/><a data-type="indexterm" data-primary="design editor" data-secondary="opening" id="idm46053743314448"/><a data-type="indexterm" data-primary="layouts" data-secondary="activity_main.xml" id="idm46053743313344"/><a data-type="indexterm" data-primary="layouts" data-secondary="default" id="idm46053743312240"/><a data-type="indexterm" data-primary="layouts" data-secondary="editing" id="idm46053743311136"/><a data-type="indexterm" data-primary="LinearLayout" id="idm46053743310032"/><a data-type="indexterm" data-primary="TextView" data-secondary="LinearLayout" id="idm46053743309200"/>When you click on the Finish button, Android Studio creates a new project containing an activity named <em>MainActivity.kt</em> and a layout named <em>activity_main.xml</em>, just as it did for the project we created in <a data-type="xref" href="ch01.xhtml#getting_startedcolon_diving_in">Chapter 1</a>. We need to modify these files to make the app look and behave the way we want.</p>
<p>We’ll start by updating the layout file <em>activity_main.xml</em> to modify the app’s appearance. We’ll build up the layout over the next few pages, but for now, switch to the Project view of Android Studio’s explorer, go to the <em>app/src/main/res/layout</em> folder, and open the file <em>activity_main.xml</em>. Then switch to the code editor, and <strong>replace the entire code</strong> in <em>activity_main.xml</em> with the following:</p>
<figure class="informal"><div class="figure">
<img src="Images/f0041-02.png" alt="image" width="394" height="169"/>
<h6/>
</div></figure>
<figure class="informal"><div class="figure">
<img src="Images/f0041-03.png" alt="image" width="600" height="350"/>
<h6/>
</div></figure>
<p>The above code features a linear layout (denoted by the <code>&lt;LinearLayout&gt;</code> element) and a text view (denoted by the <code>&lt;TextView&gt;</code> element). You’ll find out more about these elements later in the chapter, but for now, all you need to know is that the linear layout is used to arrange UI components in a vertical column, and the text view displays the text “Beer types”.</p>
<p>Any changes you make to a layout’s XML are reflected in the design editor. Switch to this now by clicking on the Design option at the top of the editor pane.</p>
<figure class="informal"><div class="figure">
<img src="Images/f0041-04.png" alt="image" width="394" height="170"/>
<h6/>
</div></figure>
</div></section>
<section data-type="sect1" data-pdf-bookmark="A closer look at the design editor"><div class="sect1" id="a_closer_look_at_the_design_editor">
<h1>A closer look at the design editor</h1>
<p>As you learned in <a data-type="xref" href="ch01.xhtml#getting_startedcolon_diving_in">Chapter 1</a>, the design editor presents you with a more visual way of editing layout code than editing XML. It features two different views of the layouts design. One shows you how the layout will look on an actual device, and the other shows you a blueprint of its structure:</p>
<figure class="informal"><div class="figure">
<img src="Images/f0042-02.png" alt="image" width="483" height="106"/>
<h6/>
</div></figure>
<figure class="informal"><div class="figure">
<img src="Images/f0042-03.png" alt="image" width="600" height="365"/>
<h6/>
</div></figure>
<p>To the left of the design editor is a palette that contains components you can drag to the layout. You’ll use this on the next page to add a button to the layout, which later in the chapter will be used to update the text that’s displayed in the app.</p>
<figure class="informal"><div class="figure">
<img src="Images/f0042-04.png" alt="image" width="600" height="245"/>
<h6/>
</div></figure>
</div></section>
<section data-type="sect1" data-pdf-bookmark="Add a button using the design editor"><div class="sect1" id="add_a_button_using_the_design_editor">
<h1>Add a button using the design editor</h1>
<p><a data-type="indexterm" data-primary="Button view" id="idm46053743285056"/><a data-type="indexterm" data-primary="layouts" data-secondary="creating buttons" id="idm46053743283760"/><a data-type="indexterm" data-primary="LinearLayout" id="idm46053743282784"/>To add a button to the layout, find the Button component in the palette, click on it, and then drag it into the design editor so it’s positioned above the text view. The button appears in the layout’s design:</p>
<figure class="informal"><div class="figure">
<img src="Images/f0043-02.png" alt="image" width="600" height="236"/>
<h6/>
</div></figure>
<section data-type="sect2" data-pdf-bookmark="Changes in the design editor are reflected in the XML"><div class="sect2" id="changes_in_the_design_editor_are_reflect">
<h2>Changes in the design editor are reflected in the XML</h2>
<p>Dragging UI components to the layout like this is a convenient way of updating the layout. If you switch to the code editor, you’ll see that adding the button via the design editor has added some more code to the underlying XML:</p>
<figure class="informal"><div class="figure">
<img src="Images/f0043-03.png" alt="image" width="600" height="232"/>
<h6/>
</div></figure>
</div></section>
</div></section>
<section data-type="sect1" data-pdf-bookmark="activity_main.xml has a new button"><div class="sect1" id="activityunderscoremaindotxml_has_a_new_b">
<h1>activity_main.xml has a new button</h1>
<p><a data-type="indexterm" data-primary="code editor" id="idm46053743273920"/><a data-type="indexterm" data-primary="GUI components, inherited from View class" id="idm46053743272944"/><a data-type="indexterm" data-primary="id attribute" data-secondary="view" id="idm46053743272016"/><a data-type="indexterm" data-primary="layout_height attribute" data-secondary="view" id="idm46053743270912"/><a data-type="indexterm" data-primary="layouts" data-secondary="code for" id="idm46053743269808"/><a data-type="indexterm" data-primary="layout_width attribute" data-secondary="view" id="idm46053743268704"/><a data-type="indexterm" data-primary="text attribute" id="idm46053743267600"/><a data-type="indexterm" data-primary="text attribute" data-secondary="Button" id="idm46053743266768"/><a data-type="indexterm" data-primary="TextView" data-secondary="code for" id="idm46053743265664"/><a data-type="indexterm" data-primary="View class" data-seealso="views" id="idm46053743264560"/><a data-type="indexterm" data-primary="views" data-secondary="ID" id="idm46053743263456"/>As you’ve just seen, the design editor has added a new <code>&lt;Button&gt;</code> element to <em>activity_main.xml</em>. Its code looks like this:</p>
<pre data-type="programlisting">&lt;Button
    android:id="@+id/button"
    android:layout_width="match_parent"
    android:layout_height="wrap_content"
    android:text="Button" /&gt;</pre>
<p>A button in Androidville is a UI component the user can click to trigger an action. The <code>&lt;Button&gt;</code> element includes attributes controlling its size and appearance. These attributes aren’t unique to buttons—other UI components such as text views have them too.</p>
<section data-type="sect2" data-pdf-bookmark="Buttons and text views are subclasses of the same Android View class"><div class="sect2" id="buttons_and_text_views_are_subclasses_of">
<h2>Buttons and text views are subclasses of the same Android View class</h2>
<p>There’s a very good reason why buttons and text views have attributes in common—they both inherit from the same Android <code><strong>View</strong></code> class. You’ll find out more about this as we go through the book, but for now, here are some of the most common attributes:</p>
<section data-type="sect3" data-pdf-bookmark="android:id"><div class="sect3" id="androidcolonid">
<h3>android:id</h3>
<p>This gives the component an identifying name so that the activity code can access it and control its behavior:</p>
<pre data-type="programlisting">    android:id="@+id/button"</pre>
</div></section>
<section data-type="sect3" data-pdf-bookmark="android:layout_width, android:layout_height"><div class="sect3" id="androidcolonlayoutunderscorewidthcomma_a">
<h3>android:layout_width, android:layout_height</h3>
<p>These attributes specify the width and height of the component. <code>"wrap_content"</code> means it should be just big enough for the content, and <code>"match_parent"</code> means it should be as wide as the layout containing it:</p>
<pre data-type="programlisting">    android:layout_width="match_parent"
    android:layout_height="wrap_content"</pre>
</div></section>
<section data-type="sect3" data-pdf-bookmark="android:text"><div class="sect3" id="androidcolontext">
<h3>android:text</h3>
<p>This tells Android what text the component should display, such as the text that appears on a button:</p>
<pre data-type="programlisting">    android:text="Button"</pre>
<figure class="informal"><div class="figure">
<img src="Images/f0044-02.png" alt="image" width="312" height="615"/>
<h6/>
</div></figure>
</div></section>
</div></section>
</div></section>
<section data-type="sect1" data-pdf-bookmark="A closer look at the layout code"><div class="sect1" id="a_closer_look_at_the_layout_code">
<h1>A closer look at the layout code</h1>
<p><a data-type="indexterm" data-primary="LinearLayout" id="idm46053743247088"/><a data-type="indexterm" data-primary="orientation attribute, LinearLayout" id="idm46053743242864"/>Let’s take a closer look at the layout code, and break it down so that you can see what it’s actually doing (don’t worry if your code looks a little different, just follow along):</p>
<figure class="informal"><div class="figure">
<img src="Images/f0045-02.png" alt="image" width="600" height="424"/>
<h6/>
</div></figure>
<section data-type="sect2" data-pdf-bookmark="The &lt;LinearLayout&gt; element"><div class="sect2" id="the_less_thanlinearlayoutgreater_than_el">
<h2>The &lt;LinearLayout&gt; element</h2>
<p>The first element in the layout code is the <code>&lt;LinearLayout&gt;</code>. This element tells Android that the different UI components in the layout should be displayed one after another in a single row or column.</p>
<p>You specify the orientation using the <code>android:orientation</code> attribute. In this example we’re using:</p>
<pre data-type="programlisting">android:orientation="vertical"</pre>
<p>so the UI components are displayed in a single vertical column.</p>
<p><a data-type="indexterm" data-primary="layout_height attribute" data-secondary="view" id="idm46053743234144"/><a data-type="indexterm" data-primary="layout_width attribute" data-secondary="view" id="idm46053743232848"/><a data-type="indexterm" data-primary="TextView" data-secondary="LinearLayout" id="idm46053743231744"/>The <code>&lt;LinearLayout&gt;</code> element (on the previous page) contains two further elements: a <code>&lt;Button&gt;</code> and a <code>&lt;TextView&gt;</code>.</p>
</div></section>
<section data-type="sect2" data-pdf-bookmark="The &lt;Button&gt; element"><div class="sect2" id="the_less_thanbuttongreater_than_element">
<h2>The &lt;Button&gt; element</h2>
<p>The first element is the <code>&lt;Button&gt;</code>:</p>
<pre data-type="programlisting">...
&lt;Button
    android:id="@+id/button"
    android:layout_width="match_parent"
    android:layout_height="wrap_content"
    android:text="Button" /&gt;
...</pre>
<blockquote>
<p><strong>Using a linear layout means that UI components are displayed in a vertical column or a horizontal row.</strong></p>
</blockquote>
<p>As this is the first element inside the <code>&lt;LinearLayout&gt;</code>, it appears first in the layout (at the top of the screen). It has a <code>layout_width</code> of <code>"match_parent"</code>, which makes it as wide as its parent element, the <code>&lt;LinearLayout&gt;</code>. Its <code>layout_height</code> is <code>"wrap_content</code>“, which means it should be just tall enough to display its text.</p>
</div></section>
<section data-type="sect2" data-pdf-bookmark="The &lt;TextView&gt; element"><div class="sect2" id="the_less_thantextviewgreater_than_elemen">
<h2>The &lt;TextView&gt; element</h2>
<p>The final element inside the <code>&lt;LinearLayout&gt;</code> is the <code>&lt;TextView&gt;</code>:</p>
<pre data-type="programlisting">...
&lt;TextView
    android:id="@+id/brands"
    android:layout_width="wrap_content"
    android:layout_height="wrap_content"
    android:text="Beer types" /&gt;
...</pre>
<figure class="informal"><div class="figure">
<img src="Images/f0046-02.png" alt="image" width="401" height="414"/>
<h6/>
</div></figure>
<p>As this is the second element and we’ve set the <code>&lt;LinearLayout&gt;</code> element’s orientation to <code>"vertical"</code>, it’s displayed underneath the button (the first element). Its <code>layout_width</code> and <code>layout_height</code> attributes are both set to <code>"wrap_content</code>" so that it takes up just enough space to contain its text.</p>
<p>You’ve seen how adding components to the design editor adds them to the layout XML. The opposite applies too—any changes you make to the layout XML are applied to the design. Let’s see this in action.</p>
</div></section>
</div></section>
<section data-type="sect1" data-pdf-bookmark="Let’s update the layout XML"><div class="sect1" id="letapostrophes_update_the_layout_xml">
<h1>Let’s update the layout XML</h1>
<p><a data-type="indexterm" data-primary="layout_height attribute" data-secondary="view" id="idm46053743211712"/><a data-type="indexterm" data-primary="layouts" data-secondary="XML updating" id="idm46053743210528"/><a data-type="indexterm" data-primary="layout_width attribute" data-secondary="view" id="idm46053743209232"/><a data-type="indexterm" data-primary="Spinner" id="idm46053743208224"/>We’ll update the layout by adding a new <strong>spinner</strong> component, and tweaking the button and text view components that are already there. A spinner is a drop-down list of values. When you click it, it expands to show you the list so that you can pick a single value.</p>
<p>Update the <em>activity_main.xml</em> code with the following changes (highlighted in bold):</p>
<figure class="informal"><div class="figure">
<img src="Images/f0047-02.png" alt="image" width="600" height="538"/>
<h6/>
</div></figure>
</div></section>
<section data-type="sect1" data-pdf-bookmark="The XML changes are reflected in the design editor"><div class="sect1" id="the_xml_changes_are_reflected_in_the_des">
<h1>The XML changes are reflected in the design editor</h1>
<p><a data-type="indexterm" data-primary="design editor" data-secondary="XML changes reflected in" id="idm46053743201232"/>Once you’ve changed the layout XML, switch to the design editor. Instead of displaying a layout containing a button with a text view underneath it, the design editor now shows a spinner, button, and text view centered horizontally in a single column like this:</p>
<figure class="informal"><div class="figure">
<img src="Images/f0048-02.png" alt="image" width="593" height="676"/>
<h6/>
</div></figure>
<blockquote>
<p><strong>A spinner provides a drop-down list of values. It allows you to choose a single value from a set of values.</strong></p>
<p><strong>All the UI components you add to layout files—such as buttons, spinners, and text views—use the same or similar attributes because they are all types of <u>View</u>. Behind the scenes, they all inherit from the same Android View class.</strong></p>
</blockquote>
<div data-type="note" epub:type="note"><h6>Note</h6>
<p><span style="color:#9D9EA0;">These UI components are often referred to as <strong>views</strong> because they inherit from the same View class.</span></p>
</div>
<p>We’ve now added all the components to <em>activity_main.xml</em> that we need for the Beer Adviser app’s layout. We still have more work to do, but let’s take the app for a test drive so that we can see how it looks on a device.</p>
</div></section>
<section data-type="sect1" data-pdf-bookmark=" Test Drive"><div class="sect1" id="test_drive-id00011">
<h1><span class="inlineimage"><img src="Images/car.png" alt="Images" width="119" height="58"/></span> Test Drive</h1>
<p>Run the app by choosing the “Run ‘app’” command from the Run menu or clicking on the Run button, and wait patiently for the app to load.</p>
<p>When the app appears on your device, notice that it displays an empty spinner, button, and text view in a single column.</p>
<figure class="informal"><div class="figure">
<img src="Images/f0049-02.png" alt="image" width="600" height="368"/>
<h6/>
</div></figure>
<aside data-type="sidebar" epub:type="sidebar"><div class="sidebar" id="there_are_no_dumb_questions-id00012">
<h5>there are no Dumb Questions</h5>
<p><strong>Q: You said you can add views through the design editor or by editing the XML. Which approach is best?</strong></p>
<p><strong>A:</strong> It’s mostly a matter a personal preference. For simple layouts, we prefer to update the underlying XML, but you’ll find out in <a data-type="xref" href="ch04.xhtml#constraint_layoutscolon_draw_up_a_bluepr">Chapter 4</a> that some types of layout are easier to update if you use the design editor.</p>
<p>Most of the time, we’re going to ask you to update the underlying XML as this is the easiest way to make sure your code matches ours.</p>
<p><strong>Q: Why did we replace the default layout code that Android Studio provided for us?</strong></p>
<p><strong>A:</strong> There are a couple of reasons.</p>
<p>First, a linear layout is the most appropriate type of layout to use if you want to arrange the components in a single row or column. This makes it a good fit for the app we’re building in this chapter.</p>
<p>The second reason is that a linear layout is the simplest type of layout to learn how to use. You’ll discover more advanced layouts later in the book, but for now, we’re focusing on the basics.</p>
<p><strong>Q: Why does the button show its text as uppercase?</strong></p>
<p><strong>A:</strong> It’s because the app’s default theme changes the button text to uppercase by default. You’ll find out more about themes—and how to override their behavior—in <a data-type="xref" href="ch08.xhtml#navigation_uicolon_going_places">Chapter 8</a>.</p>
<p>For now, you can stop the button text from being displayed as uppercase by adding the following code to each <code>&lt;Button&gt;</code> element in your layout:</p>
<p><code>android:textAllCaps="false"</code></p>
</div></aside>
</div></section>
<section data-type="sect1" data-pdf-bookmark="There are warnings in the layout…"><div class="sect1" id="there_are_warnings_in_the_layouthellip">
<h1>There are warnings in the layout…</h1>
<figure class="informal"><div class="figure">
<img src="Images/f0050-01.png" alt="image" width="308" height="145"/>
<h6/>
</div></figure>
<p><a data-type="indexterm" data-primary="layouts" data-secondary="warnings in" id="idm46053743172464"/>When you develop layouts in Android Studio, the IDE automatically checks your code for errors, and alerts you to potential improvements. An easy way of viewing any warnings or suggestions is to switch to the design editor view of the layout, and check out the component tree panel. This panel is usually located beneath the palette, and it displays a hierarchical tree of the components in the layout.</p>
<p>If Android Studio has any suggestions for how to improve your code, you’ll see a badge or icon to the right of the relevant component. We have warning badges, for example, next to the <code>find_beer</code> and <code>brands</code> components. If we hover the mouse cursor over each one, we can see messages warning us about hardcoded text:</p>
<figure class="informal"><div class="figure">
<img src="Images/f0050-02.png" alt="image" width="362" height="252"/>
<h6/>
</div></figure>
<figure class="informal"><div class="figure">
<img src="Images/f0050-03.png" alt="image" width="600" height="149"/>
<h6/>
</div></figure>
<section data-type="sect2" data-pdf-bookmark="…because there’s hardcoded text"><div class="sect2" id="hellipbecause_thereapostrophes_hardcoded">
<h2>…because there’s hardcoded text</h2>
<p>When we defined the layout, we hardcoded the text that needs to be displayed in the text view and button components using code like this:</p>
<figure class="informal"><div class="figure">
<img src="Images/f0050-04.png" alt="image" width="600" height="56"/>
<h6/>
</div></figure>
<p>While this approach is fine when you’re just learning, hardcoding the text in the layout isn’t the best approach.</p>
<p>Suppose you’ve created an app that’s a big hit on your local Google Play Store. You don’t want to limit yourself to just one country or language—you want to make it available internationally and for different languages. But if you’ve hardcoded all of the text in your layout files, sending the app global will be difficult.</p>
<p>It also makes it much harder to make app-wide changes to the text. Imagine your boss asks you to change the wording in an app because the company’s changed its name. If you’ve hardcoded all of the text, this means that you might need to edit a whole host of files in order to change the text.</p>
<p>So what’s the alternative?</p>
</div></section>
</div></section>
<section data-type="sect1" data-pdf-bookmark="Put text in a String resource file"><div class="sect1" id="put_text_in_a_string_resource_file">
<h1>Put text in a String resource file</h1>
<p><a data-type="indexterm" data-primary="Android Studio" data-secondary="fixing hard-coded text" id="idm46053743158704"/><a data-type="indexterm" data-primary="Beer Adviser app" data-secondary="String resources" id="idm46053743157152"/><a data-type="indexterm" data-primary="internationalization" data-see="localization, String resources" id="idm46053743156048"/><a data-type="indexterm" data-primary="localization, String resources" id="idm46053743153472"/><a data-type="indexterm" data-primary="String resources" id="idm46053743152736"/>A better approach is to put the text values into a <code><strong>String</strong></code> <strong>resource file</strong>. This makes it much easier to make app-wide changes to the text used in the application. Instead of having to change hardcoded text values in a whole host of different activity and layout files, you only need to edit the text in the resource file.</p>
<p>This approach also makes it much easier to localize the app. Instead of hardcoding the text in one language, you can provide separate <code>String</code> resource files for each language you want to support. This enables the app to switch the language that’s used in the app so that it matches the device locale.</p>
<section data-type="sect2" data-pdf-bookmark="Android Studio helps you extract String resources"><div class="sect2" id="android_studio_helps_you_extract_string">
<h2>Android Studio helps you extract String resources</h2>
<p>If you have a layout that contains hardcoded text, Android Studio provides you with an easy way of extracting the text and adding it to a <code>String</code> resource file. Simply click (or double-click) on each badge warning you about the hardcoded text, then click on the Fix button to fix the problem.</p>
<div data-type="note" epub:type="note"><h6>Note</h6>
<p><span style="color:#9D9EA0;">You might need to scroll down to see this button.</span></p>
</div>
<p>Let’s try this with one of the components in the layout. Make sure that you’re using the design view of <em>activity_main.xml</em>, and click on the warning badge next to the <code>find_beer</code> component.</p>
<p>You’ll be shown an explanation about why hardcoded text is a problem. Scroll to the end of this explanation, then click on the Fix button:</p>
<figure class="informal"><div class="figure">
<img src="Images/f0051-03.png" alt="image" width="600" height="340"/>
<h6/>
</div></figure>
</div></section>
</div></section>
<section data-type="sect1" data-pdf-bookmark="Extract the String resource"><div class="sect1" id="extract_the_string_resource">
<h1>Extract the String resource</h1>
<p><a data-type="indexterm" data-primary="String resources" data-secondary="extracting" id="idm46053743139376"/><a data-type="indexterm" data-primary="String resources" data-secondary="strings.xml" id="idm46053743138160"/><a data-type="indexterm" data-primary="strings.xml file" id="idm46053743137056"/>When you click on the Fix button, the Extract Resource window appears. This allows you to specify the name of the <code>String</code> resource, its value, and the name of the <code>String</code> resource file. Make sure that the resource name is “find_beer”, the file name is “strings.xml”, the source set is “main”, and the values directory is checked. Then click on the OK button.</p>
<p>When you click on the OK button, Android Studio adds the <code>find_beer</code> component’s hardcoded text to a <code>String</code> resource file named <em>strings.xml</em>, and changes the layout’s XML so that it uses the <code>String</code> resource. We’ll look at both of these changes, starting with the <code>String</code> resource file.</p>
<figure class="informal"><div class="figure">
<img src="Images/f0052-02.png" alt="image" width="497" height="327"/>
<h6/>
</div></figure>
<section data-type="sect2" data-pdf-bookmark="A String resource has been added to strings.xml"><div class="sect2" id="a_string_resource_has_been_added_to_stri">
<h2>A String resource has been added to strings.xml</h2>
<p><em>strings.xml</em> is the app’s default <code>String</code> resource file, and Android Studio automatically creates this file for you when you create a new project. Open <em>strings.xml</em> now by opening it in Android Studio’s explorer: you’ll find <em>strings.xml</em> in the <em>app/src/main/res/values</em> folder.</p>
<p>The file contents should look something like this:</p>
<figure class="informal"><div class="figure">
<img src="Images/f0052-03.png" alt="image" width="248" height="282"/>
<h6/>
</div></figure>
<pre data-type="programlisting">&lt;resources&gt;
    &lt;string name="app_name"&gt;Beer Adviser&lt;/string&gt;
    &lt;string name="find_beer"&gt;Find Beer&lt;/string&gt;
&lt;/resources&gt;</pre>
<p>The above code describes two <code>String</code> resources, where each resource is a name/value pair. The first resource is named <code>app_name</code> and has a value of “Beer Adviser”, while the second is named <code>find_beer</code> and has a value of “Find Beer”. The second resource was added when we extracted the hardcoded text for the <code>find_beer</code> component:</p>
<figure class="informal"><div class="figure">
<img src="Images/f0052-04.png" alt="image" width="600" height="92"/>
<h6/>
</div></figure>
<p>We’ll look at <code>String</code> resources in more detail a few pages ahead, but for now, let’s see what change was made to <em>activity_main.xml</em>.</p>
</div></section>
</div></section>
<section data-type="sect1" data-pdf-bookmark="activity_main.xml uses the String resource"><div class="sect1" id="activityunderscoremaindotxml_uses_the_st">
<h1>activity_main.xml uses the String resource</h1>
<p><a data-type="indexterm" data-primary="@string reference" id="idm46053743114128"/><a data-type="indexterm" data-primary="text attribute" data-secondary="Button" id="idm46053743112880"/>When we told Android Studio to extract the hardcoded text, Android Studio automatically updated the <code>find_beer</code> button in <em>activity_main.xml</em> so that it uses the extracted <code>String</code> resource.</p>
<p>Here’s the updated code for the button:</p>
<figure class="informal"><div class="figure">
<img src="Images/f0053-02.png" alt="image" width="600" height="199"/>
<h6/>
</div></figure>
<figure class="informal"><div class="figure">
<img src="Images/f0053-03.png" alt="image" width="279" height="282"/>
<h6/>
</div></figure>
<p>As you can see, the <code>find_beer</code> button’s <code>text</code> attribute has been changed to <code>"@string/find_beer"</code>. So what does this mean?</p>
<p>Let’s start with the first part, <code>@string</code>. This is just a way of telling Android to look up a text value from a <code>String</code> resource file. Here, it’s the file <em>strings.xml</em> that you saw earlier.</p>
<figure class="informal"><div class="figure">
<img src="Images/f0053-04.png" alt="image" width="476" height="175"/>
<h6/>
</div></figure>
<p>The second part, <code>find_beer</code>, tells Android to <strong>look up the value of a resource with the name</strong> <code><strong>find_beer</strong></code>. So <code>"@string/find_beer"</code> is like saying “look up the <code>String</code> resource with the name <code>find_beer</code>, and use the associated text value.”</p>
<figure class="informal"><div class="figure">
<img src="Images/f0053-05.png" alt="image" width="600" height="54"/>
<h6/>
</div></figure>
<section data-type="sect2" data-pdf-bookmark="You also can extract String resources manually"><div class="sect2" id="you_also_can_extract_string_resources_ma">
<h2>You also can extract String resources manually</h2>
<p>You’ve now learned what changes Android Studio makes to the code when you ask it to extract hardcoded text into a <code>String</code> resource. You can also make these changes yourself by directly updating the code in <em>strings.xml</em> and <em>activity_main.xml</em>.</p>
<p>Let’s see how by changing the hardcoded “Beer types” text that’s used by the <code>brands</code> component’s <code>text</code> attribute so that it uses a <code>String</code> resource.</p>
<div data-type="note" epub:type="note"><h6>Note</h6>
<p><span style="color:#9D9EA0;">In your own projects, it’s likely that you’ll just use the wizard. We’re showing you how to manually edit the XML because we need to make sure that the code you create matches ours, and updating the XML is the best way of doing this.</span></p>
</div>
</div></section>
</div></section>
<section data-type="sect1" data-pdf-bookmark="Add and use a new String resource"><div class="sect1" id="add_and_use_a_new_string_resource">
<h1>Add and use a new String resource</h1>
<p><a data-type="indexterm" data-primary="String resources" data-secondary="adding and using" id="idm46053743087504"/>We’ll start by creating a new <code>String</code> resource named <code>brands</code>. Open <em>strings.xml</em> (located in the <em>app/src/main/res/values</em> folder), and add a new line for the <code>String</code> resource so that it includes the change shown here (in bold):</p>
<figure class="informal"><div class="figure">
<img src="Images/f0054-02.png" alt="image" width="600" height="195"/>
<h6/>
</div></figure>
<p>Once you’ve added the <code>String</code> resource, open <em>activity_main.xml</em> and update the code for the <code>brands</code> text view so that it uses the new resource. Update the code so that it includes the change shown here (in bold):</p>
<figure class="informal"><div class="figure">
<img src="Images/f0054-03.png" alt="image" width="600" height="511"/>
<h6/>
</div></figure>
<p>There’s a summary about using <code>String</code> resources on the next page. After that, we’ll take the app for a test drive.</p>
<aside data-type="sidebar" epub:type="sidebar"><div class="sidebar" id="string_resources_up_close">
<h5>String Resources Up Close <span class="inlineimage"><img src="Images/zoomr.png" alt="Images" width="134" height="81"/></span></h5>
<p><a data-type="indexterm" data-primary="resources element" id="idm46053743074384"/><a data-type="indexterm" data-primary="string element" id="idm46053743073184"/><a data-type="indexterm" data-primary="String resources" data-secondary="strings.xml" id="idm46053743072352"/><a data-type="indexterm" data-primary="strings.xml file" id="idm46053743071248"/><em>strings.xml</em> is the default resource file used to hold name/value pairs of <code>String</code>s so that they can be referenced throughout the app. It has the following format:</p>
<figure class="informal"><div class="figure">
<img src="Images/f0055-01.png" alt="image" width="600" height="169"/>
<h6/>
</div></figure>
<p>There are two things that allow Android to recognize <em>strings.xml</em> as being a <code>String</code> resource file:</p>
<ul style="list-style-type:none;">
<li><p><span class="inlineimage"><img src="Images/star.png" alt="Images" width="17" height="17"/></span> <strong>The file is held in the folder <em>app/src/main/res/values</em>.</strong></p>
<p>XML files held in this folder contain values that can be used throughout the app, such as <code>String</code>s and colors.</p></li>
<li><p><span class="inlineimage"><img src="Images/star.png" alt="Images" width="17" height="17"/></span> <strong>The file has a &lt;resources&gt; element, which contains one or more &lt;string&gt; elements.</strong></p>
<p>The format of the file itself indicates that it’s a resource file containing <code>String</code>s. The <code>&lt;resources&gt;</code> element tells Android that the file contains resources, and the <code>&lt;string&gt;</code> element identifies each <code>String</code> resource.</p></li>
</ul>
<p>This means that you don’t need to call the <code>String</code> resource file <em>strings.xml</em>; if you want, you can call it something else, or split the <code>String</code>s into multiple files.</p>
<p>Each name/value pair takes the form:</p>
<pre data-type="programlisting">&lt;string name="<strong>string_name</strong>"&gt;<strong>string_value</strong>&lt;/string&gt;</pre>
<p>where <code>string_name</code> is the identifier of the <code>String</code>, and <code>string_value</code> is the <code>String</code> value itself.</p>
<p>A layout can retrieve the value of the <code>String</code> using:</p>
<figure class="informal"><div class="figure">
<img src="Images/f0055-02.png" alt="image" width="576" height="118"/>
<h6/>
</div></figure>
<figure class="informal"><div class="figure">
<img src="Images/f0055-03.png" alt="image" width="236" height="126"/>
<h6/>
</div></figure>
</div></aside>
</div></section>
<section data-type="sect1" data-pdf-bookmark=" Test Drive"><div class="sect1" id="test_drive-id00013">
<h1><span class="inlineimage"><img src="Images/car.png" alt="Images" width="119" height="58"/></span> Test Drive</h1>
<p>Now that we’ve updated the layout to use <code>String</code> resources instead of hardcoded text values, let’s run the app to see how it’s looking. Run the app as before by choosing the “Run ‘app’” command from the Run menu.</p>
<p>When we run the app, the text that’s displayed on the button and in the text view has been updated so that it uses the <code>String</code> values we added to <em>strings.xml</em>:</p>
<figure class="informal"><div class="figure">
<img src="Images/f0056-02.png" alt="image" width="600" height="294"/>
<h6/>
</div></figure>
<aside data-type="sidebar" epub:type="sidebar"><div class="sidebar" id="relax-id00014">
<h5><span class="inlineimage"><img src="Images/cup.png" alt="Images" width="124" height="107"/></span> Relax</h5>
<p><strong>When you rerun the app, don’t worry if Android Studio asks if you want to terminate the process “app”.</strong></p>
<p>It simply wants to know if it can exit the old version of the app that’s currently running so it can run the new one. Just click on the Terminate option, and wait for your app to load.</p>
</div></aside>
<aside data-type="sidebar" epub:type="sidebar"><div class="sidebar" id="there_are_no_dumb_questions-id00015">
<h5>there are no Dumb Questions</h5>
<p><strong>Q: Do I have to put my text values in a <code><strong>String</strong></code> resource file?</strong></p>
<p><strong>A:</strong> It’s not mandatory, but Android gives you warning messages if you hardcode text values. Using a <code>String</code> resource file might seem like a lot of effort at first, but it makes things like localization much easier. It’s also easier to use <code>String</code> resources to start off with, rather than patching them in afterward.</p>
<p><strong>Q: How does separating out the <code><strong>String</strong></code> values help with localization?</strong></p>
<p><strong>A:</strong> Suppose you want the application to be in English by default, but in French if the device language is set to French. Rather than hardcode different languages into the app, you can have one <code>String</code> resource file for English text, and another resource file for French text.</p>
<p><strong>Q: How does the app know which <code><strong>String</strong></code> resource file to use?</strong></p>
<p><strong>A:</strong> Put the default English <code>String</code> resource file in the <em>app/src/main/res/values</em> folder as normal, and the French one in a new folder named <em>app/src/main/res/values-fr</em>. If the device is set to French, it will use the <code>String</code> resources in the <em>app/src/main/res/values-fr</em> folder. If the device is set to any other language, it will use the <code>String</code> resources in <em>app/src/main/res/values</em> instead.</p>
</div></aside>
<aside data-type="sidebar" epub:type="sidebar"><div class="sidebar" id="sharpen_your_pencil-id00016">
<h5><span class="inlineimage"><img src="Images/pencil.png" alt="Images" width="149" height="65"/></span> Sharpen your pencil</h5>
<p><a data-type="indexterm" data-primary="exercises" data-secondary="Sharpen your pencil" id="idm46053743020768"/><a data-type="indexterm" data-primary="String resources" data-secondary="random number exercise" id="idm46053743019568"/>The code below (a layout file and <code>String</code> resource file) is from an app that’s used to generate random numbers. Complete the code so it produces the output shown below.</p>
<figure class="informal"><div class="figure">
<img src="Images/f0057-01.png" alt="image" width="600" height="589"/>
<h6/>
</div></figure>
</div></aside>
<aside data-type="sidebar" epub:type="sidebar"><div class="sidebar" id="sharpen_your_pencil_solution-id00017">
<h5>Sharpen your pencil Solution</h5>
<p>The code below (a layout file and <code>String</code> resource file) is from an app that’s used to generate random numbers. Complete the code so it produces the output shown below.</p>
<figure class="informal"><div class="figure">
<img src="Images/f0058-01.png" alt="image" width="600" height="584"/>
<h6/>
</div></figure>
</div></aside>
</div></section>
<section data-type="sect1" data-pdf-bookmark="Add values to the spinner"><div class="sect1" id="add_values_to_the_spinner">
<h1>Add values to the spinner</h1>
<p><a data-type="indexterm" data-primary="array resources, Strings and" id="idm46053743010208"/><a data-type="indexterm" data-primary="Beer Adviser app" data-secondary="array resources" id="idm46053743009072"/><a data-type="indexterm" data-primary="resource files" data-secondary="array resources" id="idm46053743007984"/><a data-type="indexterm" data-primary="Spinner" id="idm46053743006880"/><a data-type="indexterm" data-primary="string-array element" id="idm46053743006048"/>The app’s current layout includes a spinner, but when we click on it, it’s empty. This is because we haven’t yet told the spinner what values it should display. Each time you use a spinner in the layout code, you must specify an associated list of values, or it won’t include any, and Android Studio may give you warning messages.</p>
<p>You specify a list of values for a spinner in a similar way to how you specify the text that’s displayed on a button or in a text view: by adding a resource to <em>strings.xml</em> and referring to the resource in the layout. Instead of specifying a single value in a <code>String</code> resource, however, you add multiple <code>String</code>s to an <em>array</em> resource, and use this array for the spinner’s list of values.</p>
<blockquote>
<p><strong>Resources are noncode assets, such as images or Strings, used by the app.</strong></p>
</blockquote>
<section data-type="sect2" data-pdf-bookmark="Adding an array resource is similar to adding a String"><div class="sect2" id="adding_an_array_resource_is_similar_to_a">
<h2>Adding an array resource is similar to adding a String</h2>
<p>As you already know, you add a <code>String</code> resource to <em>strings.xml</em> using:</p>
<pre data-type="programlisting"><code>&lt;string name="string_name"&gt;string_value&lt;/string&gt;</code></pre>
<p>where <code>string_name</code> is the name of the <code>String</code>, and <code>string_value</code> is the value that’s displayed in the app.</p>
<p>To add an array of <code>String</code>s to a <code>String</code> resource file, you use the following syntax:</p>
<figure class="informal"><div class="figure">
<img src="Images/f0059-02.png" alt="image" width="600" height="139"/>
<h6/>
</div></figure>
<p>where <code>string_array_name</code> is the name of the array, and <code>string_value1</code>, <code>string_value2</code>, and <code>string_value3</code> are the individual <code>String</code> values that make up the array.</p>
<p>In this app, we want to add a <code>String</code> array resource where each item in the array is a beer color. We’ll then attach this array to the spinner so that when the user clicks on the spinner, the beer colors will be displayed.</p>
<p>Let’s add the new <code>String</code> array.</p>
</div></section>
</div></section>
<section data-type="sect1" data-pdf-bookmark="Add the string-array to strings.xml"><div class="sect1" id="add_the_string-array_to_stringsdotxml">
<h1>Add the string-array to strings.xml</h1>
<p><a data-type="indexterm" data-primary="@array reference" id="idm46053742988176"/><a data-type="indexterm" data-primary="entries attribute, Spinner" id="idm46053742984592"/><a data-type="indexterm" data-primary="Spinner" id="idm46053742983792"/>To add the <code>String</code> array, open up <em>strings.xml</em>, and add the code below (in bold). This adds a <code>string-array</code> resource named <code>beer_colors</code> that we’ll attach to the spinner:</p>
<figure class="informal"><div class="figure">
<img src="Images/f0060-02.png" alt="image" width="600" height="231"/>
<h6/>
</div></figure>
<section data-type="sect2" data-pdf-bookmark="Get the spinner to display the array’s values"><div class="sect2" id="get_the_spinner_to_display_the_arrayapos">
<h2>Get the spinner to display the array’s values</h2>
<p>A layout references a <code>String</code> array resource using similar syntax to how it would retrieve the value of a <code>String</code> resource. Rather than use:</p>
<p>you use the syntax:</p>
<figure class="informal"><div class="figure">
<img src="Images/f0060-03.png" alt="image" width="600" height="99"/>
<h6/>
</div></figure>
<p><code>where array_name</code> is the name of the array.</p>
<p>Let’s use this in the layout. Go to the layout file <em>activity_main.xml</em> and add an <code>entries</code> attribute to the spinner like this (in bold):</p>
<figure class="informal"><div class="figure">
<img src="Images/f0060-04.png" alt="image" width="600" height="280"/>
<h6/>
</div></figure>
<p>We’ll show you the full code for <em>activity_main.xml</em> on the next page.</p>
</div></section>
</div></section>
<section data-type="sect1" data-pdf-bookmark="The full code for activity_main.xml"><div class="sect1" id="the_full_code_for_activityunderscoremain">
<h1>The full code for activity_main.xml</h1>
<p>Below is the entire code for <em>activity_main.xml</em>. Make sure the code for this file includes all of the code shown here.</p>
<figure class="informal"><div class="figure">
<img src="Images/f0061-02.png" alt="image" width="600" height="660"/>
<h6/>
</div></figure>
<p>Let’s take the app for a test drive.</p>
</div></section>
<section data-type="sect1" data-pdf-bookmark=" Test Drive"><div class="sect1" id="test_drive-id00018">
<h1><span class="inlineimage"><img src="Images/car.png" alt="Images" width="119" height="58"/></span> Test Drive</h1>
<p>Let’s see what impact the changes have had on the app. Run the app, and you should get something like this:</p>
<figure class="informal"><div class="figure">
<img src="Images/f0062-02.png" alt="image" width="600" height="551"/>
<h6/>
</div></figure>
<p>So far, we’ve created a layout (<em>activity_main.xml</em>) that includes a spinner, a button, and a text view. These views use a <code>String</code> resource file (<em>strings.xml</em>) for their <code>String</code> and array values.</p>
<p>The next thing we need to do is get the app to update the <code>brands</code> text view each time the user clicks the button.</p>
</div></section>
<section data-type="sect1" data-pdf-bookmark="We need to make the app interactive"><div class="sect1" id="we_need_to_make_the_app_interactive">
<h1>We need to make the app interactive</h1>
<figure class="informal"><div class="figure">
<img src="Images/f0063-01.png" alt="image" width="307" height="150"/>
<h6/>
</div></figure>
<p><a data-type="indexterm" data-primary="Beer Adviser app" data-secondary="responding to clicks" id="idm46053742951984"/><a data-type="indexterm" data-primary="click response" id="idm46053742950704"/><a data-type="indexterm" data-primary="click response" data-secondary="Beer Adviser app" id="idm46053742949872"/><a data-type="indexterm" data-primary="responding to click" data-see="click response" id="idm46053742948768"/>The Beer Adviser app has the correct appearance and includes all the views we need, but it doesn’t yet provide any beer recommendations. To make the app interactive, we need to make the app do something when the user clicks the <code>find_beer</code> button. We want the app to behave something like this:</p>
<ol>
<li><p><strong>The user chooses a beer color from the spinner and clicks the button.</strong></p></li>
<li><p><strong>Code in MainActivity responds to the button being clicked.</strong></p></li>
<li><p><strong>MainActivity passes the selected beer color to a method we’ll create named getBeers.</strong></p>
<p>The <code>getBeers()</code> method finds matching brands for the beer color.</p></li>
<li><p><strong>MainActivity updates the brands text view so that it displays the list of recommended beers on the device.</strong></p></li>
</ol>
<figure class="informal"><div class="figure">
<img src="Images/f0063-02.png" alt="image" width="600" height="120"/>
<h6/>
</div></figure>
<p>To make the app respond to the user in this way, we need to update the code in <em>MainActivity.kt</em>, as this is the code that’s responsible for how the app behaves. Android Studio created this file for us when we created the project, so let’s take a look at the current code.</p>
</div></section>
<section data-type="sect1" data-pdf-bookmark="What the MainActivity code looks like"><div class="sect1" id="what_the_mainactivity_code_looks_like">
<h1>What the MainActivity code looks like</h1>
<p><a data-type="indexterm" data-primary="activities" data-secondary="MainActivity.kt" id="idm46053742937760"/><a data-type="indexterm" data-primary="Android Jetpack" data-secondary="AppCompatActivity" data-see="AppCompatActivity class" id="idm46053742936048"/><a data-type="indexterm" data-primary="AppCompatActivity class" id="idm46053742934832"/><a data-type="indexterm" data-primary="onCreate() method, activity" data-secondary="AppCompatActivity" id="idm46053742934096"/><a data-type="indexterm" data-primary="setContentView() method, activity" id="idm46053742933120"/>Android Studio created <em>MainActivity.kt</em> for us when we created the project. Open this file now (if it’s not already open) by going to the <em>app/src/main/java</em> folder and double-clicking on it.</p>
<p>Here is the code for <em>MainActivity.kt</em> that Android Studio created for us:</p>
<figure class="informal"><div class="figure">
<img src="Images/f0064-02.png" alt="image" width="600" height="232"/>
<h6/>
</div></figure>
<p>The above code is all you need to create a basic activity. As you can see, it’s a class that extends <code>AppCompatActivity</code>, and overrides its <code>onCreate()</code> method.</p>
<p>All activities (not just this one) have to extend an activity class such as <code>AppCompatActivity</code>. You’ll find out more about this in <a data-type="xref" href="ch05.xhtml#the_activity_lifecyclecolon_being_an_act">Chapter 5</a>, but for now, all you need to know is that when a class extends <code>AppCompatActivity</code>, it transforms your plain old Kotlin class into a full-fledged, card-carrying Android activity.</p>
<figure class="informal"><div class="figure">
<img src="Images/f0064-03.png" alt="image" width="264" height="281"/>
<h6/>
</div></figure>
<p>All activities must also implement the <code>onCreate()</code> method. This method gets called when the activity object gets created, and it’s used to perform basic setup such as what layout the activity is associated with. This is done via a call to <code>setContentView()</code>. In the example above, the code:</p>
<pre data-type="programlisting">setContentView(R.layout.activity_main)</pre>
<p>tells Android that this activity uses <em>activity_main.xml</em> as its layout.</p>
<figure class="informal"><div class="figure">
<img src="Images/f0064-04.png" alt="image" width="382" height="226"/>
<h6/>
</div></figure>
<p>You now know what the current <code>MainActivity</code> code does. So how do we get it to respond when the user clicks the <code>find_beer</code> button?</p>
</div></section>
<section data-type="sect1" data-pdf-bookmark="A button can listen for on-click events…"><div class="sect1" id="a_button_can_listen_for_on-click_eventsh">
<h1>A button can listen for on-click events…</h1>
<p><a data-type="indexterm" data-primary="events" id="idm46053742913728"/><a data-type="indexterm" data-primary="events" data-secondary="on-click" id="idm46053742912544"/><a data-type="indexterm" data-primary="on-click event" id="idm46053742911440"/><a data-type="indexterm" data-primary="OnClickListener" id="idm46053742910608"/>Each time the user does something in your app it’s called an <strong>event</strong>. There are many different event types in Androidville, such as clicking a button, swiping the screen, or pressing a hardware key on the device.</p>
<p>In this app, we want to know when the user clicks on the <code>find_beer</code> button so that we can get the app to do something in response. We can get the app to listen for the button’s <strong>on-click</strong> event so that each time it occurs, we can update the text in the <code>brands</code> text view.</p>
<blockquote>
<p><strong>You can make a button respond to on-click events by adding an OnClickListener to the button.</strong></p>
</blockquote>
<section data-type="sect2" data-pdf-bookmark="…using an OnClickListener"><div class="sect2" id="hellipusing_an_onclicklistener">
<h2>…using an OnClickListener</h2>
<p>You can make the app listen for a button’s on-click events by adding an <code><strong>OnClickListener</strong></code> to the button. Each time the button is clicked, the <code>OnClickListener</code> “hears” the click, and responds to it.</p>
<figure class="informal"><div class="figure">
<img src="Images/f0065-02.png" alt="image" width="451" height="334"/>
<h6/>
</div></figure>
<p>You specify what action the <code>OnClickListener</code> should take by passing it a block of code—a lambda—that specifies what should happen when the button is clicked.</p>
<div data-type="note" epub:type="note"><h6>Note</h6>
<p><span style="color:#9D9EA0;">If your Kotlin lambda knowledge feels a little rusty, we suggest that you refer to Head First Kotlin.</span></p>
</div>
<p>Here, we want to update the <code>brands</code> text view each time the <code>find_beer</code> button is clicked. This means that we need to add an <code>OnClickListener</code> to the <code>find_beer</code> button, and pass it a lambda that tells it how to update the text view.</p>
<p>Let’s find out how to do this.</p>
</div></section>
</div></section>
<section data-type="sect1" data-pdf-bookmark="Get a reference to the button…"><div class="sect1" id="get_a_reference_to_the_buttonhellip">
<h1>Get a reference to the button…</h1>
<p><a data-type="indexterm" data-primary="findViewById() method" id="idm46053742894656"/><a data-type="indexterm" data-primary="onCreate() method, activity" id="idm46053742893552"/><a data-type="indexterm" data-primary="setOnClickListener() method, activity" id="idm46053742892752"/><a data-type="indexterm" data-primary="views" data-secondary="findViewById() method" id="idm46053742891952"/>To add an <code>OnClickListener</code> to the <code>find_beer</code> button, you first need to get a reference to the button in the activity code. You do this using a method named <code><strong>findViewById</strong></code>.</p>
<p>The <code>findViewById</code> method lets you get a reference to any view in the layout that has an ID. Simply specify the view’s type and ID, and the method returns a reference to it.</p>
<p>In this app, we want to get a reference to the button with an ID of “find_beer”, so we use the code:</p>
<figure class="informal"><div class="figure">
<img src="Images/f0066-02.png" alt="image" width="600" height="82"/>
<h6/>
</div></figure>
<section data-type="sect2" data-pdf-bookmark="…and call its setOnClickListener method"><div class="sect2" id="hellipand_call_its_setonclicklistener_me">
<h2>…and call its setOnClickListener method</h2>
<p>Once you have a reference to the button, you can add an <code>OnClickListener</code> to it by calling its <code>setOnClickListener()</code> method using code like this:</p>
<figure class="informal"><div class="figure">
<img src="Images/f0066-03.png" alt="image" width="600" height="393"/>
<h6/>
</div></figure>
<p>Notice that we’re adding the <code>OnClickListener</code> code to <code>MainActivity</code>’s <code>onCreate()</code> method. <code>onCreate()</code> runs when the activity gets created, so adding the call to <code>setOnClickListener()</code> here means that the <code>find_beer</code> button will be able to start responding to clicks as soon as possible.</p>
<p>Now that we’ve added an <code>OnClickListener</code> to the button, let’s make it do something when the button is clicked.</p>
</div></section>
</div></section>
<section data-type="sect1" data-pdf-bookmark="Pass a lambda to the setOnClickListener method"><div class="sect1" id="pass_a_lambda_to_the_setonclicklistener">
<h1>Pass a lambda to the setOnClickListener method</h1>
<p><a data-type="indexterm" data-primary="Spinner" id="idm46053742874192"/>You make the button do something when it’s clicked by passing a lambda to its <code>setOnClickListener()</code> method. The lambda specifies what you want to happen each time the button is clicked.</p>
<figure class="informal"><div class="figure">
<img src="Images/f0067-02.png" alt="image" width="600" height="70"/>
<h6/>
</div></figure>
<p>So if you want the button to update some text or perform some other action, you put the code to do this in the lambda:</p>
<figure class="informal"><div class="figure">
<img src="Images/f0067-03.png" alt="image" width="600" height="280"/>
<h6/>
</div></figure>
<p>We ultimately want the activity to display a list of beer recommendations, but for now, let’s make the button update the <code>brands</code> text view with the value that’s selected in the <code>beer_color</code> spinner. This will let us test that the button’s <code>OnClickListener</code> works before we focus on getting some <em>real</em> beer advice.</p>
<p>In order to do this, there are two more things we need to know: how to edit the text in a text view, and how to get the value that’s selected in the spinner.</p>
</div></section>
<section data-type="sect1" data-pdf-bookmark="How to edit a text view’s text"><div class="sect1" id="how_to_edit_a_text_viewapostrophes_text">
<h1>How to edit a text view’s text</h1>
<p><a data-type="indexterm" data-primary="Beer Adviser app" data-secondary="updating layout" id="idm46053742864864"/><a data-type="indexterm" data-primary="text attribute" data-secondary="TextView" id="idm46053742863088"/><a data-type="indexterm" data-primary="TextView" data-secondary="editing text in" id="idm46053742862000"/>As you’ve already learned, you change the text that’s displayed in a text view by updating its <code>text</code> attribute in the layout XML. To update the text using activity code, we can therefore get a reference to the text view and update its <code>text</code> property.</p>
<p>To edit the text that’s displayed in the <code>brands</code> text view to say “Gottle of geer”, for example, you could use the following code:</p>
<figure class="informal"><div class="figure">
<img src="Images/f0068-02.png" alt="image" width="600" height="70"/>
<h6/>
</div></figure>
<p>In the Beer Adviser app, we want to update the text view’s <code>text</code> property to the value that the user has selected in the <code>beer_color</code> spinner. To do this, we need to find out how to get this value.</p>
<section data-type="sect2" data-pdf-bookmark="How to get the spinner’s value"><div class="sect2" id="how_to_get_the_spinnerapostrophes_value">
<h2>How to get the spinner’s value</h2>
<p>You can get the current value in a spinner using its <code><strong>selectedItem</strong></code> property. To get the current value from the <code>beer_color</code> spinner, for example, you would use the code:</p>
<figure class="informal"><div class="figure">
<img src="Images/f0068-03.png" alt="image" width="600" height="43"/>
<h6/>
</div></figure>
<p>The <code>selectedItem</code> property can hold any type of value, not just <code>String</code>s, so you need to convert its value before you can use it.</p>
<p>In the Beer Adviser app, for example, we know that the <code>beer_color</code> spinner holds an array of <code>String</code> values, so the item the user selects must be a <code>String</code>. To use this value, we therefore need to convert it to a <code>String</code> using code like this:</p>
<figure class="informal"><div class="figure">
<img src="Images/f0068-04.png" alt="image" width="600" height="108"/>
<h6/>
</div></figure>
<p>You could also use it in a <code>String</code> template using the following code instead:</p>
<pre data-type="programlisting"><code><strong>val color = "${beerColor.selectedItem}"</strong></code></pre>
<p>You now know enough to make the <code>find_beer</code> button get the <code>beer_color</code> spinner’s value, and display it in the <code>brands</code> text view. Before we show you the full code, see if you can piece it together yourself by having a go at the following exercise.</p>
</div></section>
</div></section>
<section data-type="sect1" data-pdf-bookmark="Pool Puzzle"><div class="sect1" id="pool_puzzle">
<h1>Pool Puzzle</h1>
<figure class="informal"><div class="figure">
<img src="Images/common01.png" alt="image" width="148" height="160"/>
<h6/>
</div></figure>
<p>Your <strong>job</strong> is to take code snippets from the pool and place them into the blank lines in <code>MainActivity</code>’s <code>onCreate()</code> method. You may <strong>not</strong> use the same code snippet more than once, and you won’t need to use all the snippets. Your <strong>goal</strong> is to make the <code>find_beer</code> button respond to clicks by getting it to update the <code>brands</code> text view with the value selected in the <code>beer_color</code> spinner.</p>
<pre data-type="programlisting">override fun onCreate(savedInstanceState: Bundle?) {
    super.onCreate(savedInstanceState)
    setContentView(R.layout.activity_main)
    val findBeer = findViewById&lt;Button&gt;(R.id.find_beer)
    findBeer............................{
        val beerColor = findViewById&lt;Spinner&gt;(....................)
        val color = beerColor.
        val brands = findViewById&lt;............&gt;(R.id.brands)
        brands.........= "Beer color is........................."
    }
}</pre>
<figure class="informal"><div class="figure">
<img src="Images/f0069-01.png" alt="image" width="600" height="263"/>
<h6/>
</div></figure>
<div data-type="note" epub:type="note"><h6>Note</h6>
<p><strong>Note: each thing from the pool can only be used once!</strong></p>
</div>
</div></section>
<section data-type="sect1" data-pdf-bookmark="Pool Puzzle Solution"><div class="sect1" id="pool_puzzle_solution">
<h1>Pool Puzzle Solution</h1>
<figure class="informal"><div class="figure">
<img src="Images/common01.png" alt="image" width="148" height="160"/>
<h6/>
</div></figure>
<p>Your <strong>job</strong> is to take code snippets from the pool and place them into the blank lines in <code>MainActivity</code>’s <code>onCreate()</code> method. You may <strong>not</strong> use the same code snippet more than once, and you won’t need to use all the snippets. Your <strong>goal</strong> is to make the <code>find_beer</code> button respond to clicks by getting it to update the <code>brands</code> text view with the value selected in the <code>beer_color</code> spinner.</p>
<figure class="informal"><div class="figure">
<img src="Images/f0070-01.png" alt="image" width="600" height="218"/>
<h6/>
</div></figure>
<figure class="informal"><div class="figure">
<img src="Images/f0070-02.png" alt="image" width="600" height="267"/>
<h6/>
</div></figure>
</div></section>
<section data-type="sect1" data-pdf-bookmark="The updated code for MainActivity.kt"><div class="sect1" id="the_updated_code_for_mainactivitydotkt">
<h1>The updated code for MainActivity.kt</h1>
<p>We want to update <code>MainActivity</code> so that the <code>find_beer</code> button responds to clicks. Each time the button is clicked, we want to update the text that’s displayed in the <code>brands</code> text view so that it includes the beer color the user selects in the spinner.</p>
<p>Below is the updated <em>MainActivity.kt</em> code featuring the code you pieced together in the previous exercise. Update <em>MainActivity.kt</em> to include these changes (in bold):</p>
<figure class="informal"><div class="figure">
<img src="Images/f0071-02.png" alt="image" width="600" height="444"/>
<h6/>
</div></figure>
<p>Before we take the code for a test drive, let’s go through what the code does when it runs.</p>
</div></section>
<section data-type="sect1" data-pdf-bookmark="What happens when you run the code"><div class="sect1" id="what_happens_when_you_run_the_code">
<h1>What happens when you run the code</h1>
<p>When we run the app, choose a beer color, and click on the Find Beer button, the following things happen:</p>
<ol>
<li><p><strong>The user chooses a beer color from the spinner and clicks on the Find Beer button.</strong></p>
<figure class="informal"><div class="figure">
<img src="Images/f0072-02.png" alt="image" width="564" height="245"/>
<h6/>
</div></figure></li>
<li><p><strong>The button’s OnClickListener hears that it’s been clicked.</strong></p>
<figure class="informal"><div class="figure">
<img src="Images/f0072-03.png" alt="image" width="356" height="186"/>
<h6/>
</div></figure></li>
<li><p><strong>The OnClickListener code in MainActivity retrieves the currently selected value of the spinner (in this case Amber).</strong></p>
<figure class="informal"><div class="figure">
<img src="Images/f0072-04.png" alt="image" width="392" height="121"/>
<h6/>
</div></figure></li>
<li><p><strong>It then updates the text property of the text view to reflect that the user has chosen Amber in the spinner.</strong></p>
<figure class="informal"><div class="figure">
<img src="Images/f0072-05.png" alt="image" width="398" height="129"/>
<h6/>
</div></figure></li>
</ol>
</div></section>
<section data-type="sect1" data-pdf-bookmark=" Test Drive"><div class="sect1" id="test_drive-id00019">
<h1><span class="inlineimage"><img src="Images/car.png" alt="Images" width="119" height="58"/></span> Test Drive</h1>
<p>Make sure you’ve updated <em>MainActivity.kt</em>, and then run the app.</p>
<p>When we choose a beer color from the spinner and click on the Find Beer button, the value we selected is displayed in the text view.</p>
<figure class="informal"><div class="figure">
<img src="Images/f0073-02.png" alt="image" width="600" height="305"/>
<h6/>
</div></figure>
<aside data-type="sidebar" epub:type="sidebar"><div class="sidebar" id="there_are_no_dumb_questions-id00020">
<h5>there are no Dumb Questions</h5>
<p><strong>Q: You said that we get a reference to the <code><strong>brands</strong></code> text view by passing the <code><strong>findViewById</strong></code> method a value of <code><strong>R.id.brands</strong></code>. You also said that we tell <code><strong>MainActivity</strong></code> to use <strong><em>activity_main.xml</em></strong> for its layout by passing the <code><strong>setContentView</strong></code> method a value of <code><strong>R.layout.activity_main</strong></code>.</strong></p>
<p><code><strong>R.id.brands</strong></code> and <code><strong>R.layout.activity_main</strong></code> both refer to something called <code><strong>R</strong></code>. So what’s <code><strong>R</strong></code>?</p>
<p><strong>A:</strong> <code>R</code> refers to <em>R.java</em>. It’s a special file that’s automatically generated when you build the app. Android uses <em>R.java</em> to keep track of any resources used within the app such as layouts, <code>String</code> resources, and views.</p>
<p>When you pass the <code>findViewById</code> method a value of <code>R.id.brands</code>, Android looks up the <code>brands</code> ID from <code>R</code>, and uses this to return a reference to the <code>brands</code> view. Similarly, when you pass the <code>setContentView</code> method a value of <code>R.layout.activity_main</code>, Android looks up the correct layout from <code>R</code>, and assigns it to the activity.</p>
<p>You don’t change any of the code in <em>R.java</em> yourself: Android Studio automatically generates it for you.</p>
</div></aside>
</div></section>
<section data-type="sect1" data-pdf-bookmark="Add the getBeers() method"><div class="sect1" id="add_the_getbeersleft_parenthesisright_pa">
<h1>Add the getBeers() method</h1>
<figure class="informal"><div class="figure">
<img src="Images/f0074-01.png" alt="image" width="308" height="145"/>
<h6/>
</div></figure>
<p><a data-type="indexterm" data-primary="Beer Adviser app" data-secondary="getBeers() method" id="idm46053742769504"/><a data-type="indexterm" data-primary="getBeers() method, Beer Adviser app" id="idm46053742768528"/>Now that we know that the <code>find_beer</code> button can respond to clicks, let’s change its behavior so that each time the user clicks the button, it provides some real beer advice based on the value that’s selected in the spinner. We’ll do this by adding a new <code>getBeers()</code> method to <em>MainActivity.kt</em>, which we can then call in the button’s <code>OnClickListener</code> code.</p>
<p>The <code>getBeers()</code> method is pure Kotlin code. It has one <code>String</code> parameter for the beer color, and returns a <code>List&lt;String&gt;</code> of beer suggestions. Add the <code>getBeers()</code> method (shown below in bold) to <em>MainActivity.kt</em>:</p>
<figure class="informal"><div class="figure">
<img src="Images/f0074-02.png" alt="image" width="600" height="412"/>
<h6/>
</div></figure>
<p>Next, we need to update the lambda that’s passed to the <code>find_beer</code> button’s <code>setOnClickListener()</code> method. We’ll make it pass the selected beer color from the spinner to the <code>getBeers()</code> method, and update the <code>brands</code> text view with its return value.</p>
<p>See if you can piece together the code to do this by having a go at the following exercise.</p>
</div></section>
<section data-type="sect1" data-pdf-bookmark="Activity Magnets"><div class="sect1" id="activity_magnets">
<h1>Activity Magnets</h1>
<figure class="informal"><div class="figure">
<img src="Images/common02.png" alt="image" width="86" height="144"/>
<h6/>
</div></figure>
<p><a data-type="indexterm" data-primary="exercises" data-secondary="Magnets" id="idm46053742755376"/><a data-type="indexterm" data-primary="methods, creating" id="idm46053742754096"/>Somebody used fridge magnets to complete the code for <code>MainActivity</code>, but a freak kitchen whirlwind has dislodged some of the magnets. Can you piece the code back together again?</p>
<p>The code needs to call the <code>getBeers()</code> method, and display each item it returns in the <code>brands</code> text view. Each item should be displayed on a new line.</p>
<figure class="informal"><div class="figure">
<img src="Images/f0075-02.png" alt="image" width="600" height="546"/>
<h6/>
</div></figure>
</div></section>
<section data-type="sect1" data-pdf-bookmark="Activity Magnets Solution"><div class="sect1" id="activity_magnets_solution">
<h1>Activity Magnets Solution</h1>
<figure class="informal"><div class="figure">
<img src="Images/common02.png" alt="image" width="86" height="144"/>
<h6/>
</div></figure>
<p>Somebody used fridge magnets to complete the code for <code>MainActivity</code>, but a freak kitchen whirlwind has dislodged some of the magnets. Can you piece the code back together again?</p>
<p>The code needs to call the <code>getBeers()</code> method, and display each item it returns in the <code>brands</code> text view. Each item should be displayed on a new line.</p>
<figure class="informal"><div class="figure">
<img src="Images/f0076-01.png" alt="image" width="600" height="530"/>
<h6/>
</div></figure>
</div></section>
<section data-type="sect1" data-pdf-bookmark="The full code for MainActivity.kt"><div class="sect1" id="the_full_code_for_mainactivitydotkt">
<h1>The full code for MainActivity.kt</h1>
<p>Below is the full code for <code>MainActivity</code>. Apply the changes shown in bold to <em>MainActivity.kt</em>.</p>
<figure class="informal"><div class="figure">
<img src="Images/f0077-02.png" alt="image" width="600" height="597"/>
<h6/>
</div></figure>
<p>Before we take the code for a final test drive, let’s go through what the code does when it runs.</p>
</div></section>
<section data-type="sect1" data-pdf-bookmark="What happens when you run the code"><div class="sect1" id="what_happens_when_you_run_the_co-id00021">
<h1>What happens when you run the code</h1>
<p>The following things happen when the app runs:</p>
<ol>
<li><p><strong>When the user clicks on the Find Beer button, the button’s OnClickListener hears the click.</strong></p>
<figure class="informal"><div class="figure">
<img src="Images/f0078-02.png" alt="image" width="328" height="187"/>
<h6/>
</div></figure></li>
<li><p><strong>The OnClickListener code in MainActivity calls the getBeers() method, passing in the beer color selected in the spinner.</strong></p>
<p>The <code>getBeers()</code> method returns a list of beers, which <code>MainActivity</code> saves in a separate variable.</p>
<figure class="informal"><div class="figure">
<img src="Images/f0078-03.png" alt="image" width="568" height="133"/>
<h6/>
</div></figure></li>
<li><p><strong>MainActivity formats the list of beers and uses it to set the text property in the text view.</strong></p>
<figure class="informal"><div class="figure">
<img src="Images/f0078-04.png" alt="image" width="444" height="149"/>
<h6/>
</div></figure></li>
</ol>
<p>Let’s take the app for a test drive.</p>
</div></section>
<section data-type="sect1" data-pdf-bookmark=" Test Drive"><div class="sect1" id="test_drive-id00022">
<h1><span class="inlineimage"><img src="Images/car.png" alt="Images" width="119" height="58"/></span> Test Drive</h1>
<p>Once you’ve made the changes to the app, go ahead and run it.</p>
<p>When we try selecting different beer types and clicking on the Find Beer button, the app displays a selection of suitable beers. We get one set of beers when we choose the Light option, and another selection when we choose the Amber option.</p>
<figure class="informal"><div class="figure">
<img src="Images/f0079-02.png" alt="image" width="600" height="704"/>
<h6/>
</div></figure>
<p>Congratulations! You’ve now finished writing your first interactive Android app, and learned how to make the layout’s views respond to the user.</p>
</div></section>
<section data-type="sect1" data-pdf-bookmark="Your Android Toolbox"><div class="sect1" id="your_android_toolbox-id00023">
<h1>Your Android Toolbox</h1>
<figure class="informal"><div class="figure">
<img src="Images/f0080-01.png" alt="image" width="248" height="176"/>
<h6/>
</div></figure>
<p><strong>You’ve got <a data-type="xref" href="#building_interactive_appscolon_apps_that">Chapter 2</a> under your belt and now you’ve added building interactive Android apps to your toolbox.</strong></p>
<figure class="informal"><div class="figure">
<img src="Images/f0080-02.png" alt="image" width="233" height="211"/>
<h6/>
</div></figure>
<aside data-type="sidebar" epub:type="sidebar"><div class="sidebar" id="bullet_points-id00024">
<h5>Bullet Points</h5>
<ul>
<li><p>The <code>&lt;Button&gt;</code> element is used to add a button.</p></li>
<li><p>The <code>&lt;Spinner&gt;</code> element is used to add a spinner, which is a drop-down list of values.</p></li>
<li><p>All the UI components you add to a layout are types of view. They inherit from the Android <code>View</code> class.</p></li>
<li><p><em>strings.xml</em> is a <code>String</code> resource file. It’s used to separate out text values from the layouts and activities, and supports localization.</p></li>
<li><p>Add a <code>String</code> to <em>strings.xml</em> using:</p>
<pre data-type="programlisting">  &lt;string name="name"&gt;
    Value
  &lt;/string&gt;</pre></li>
<li><p>Reference a <code>String</code> in the layout using:</p>
<pre data-type="programlisting">  "@string/name"</pre></li>
<li><p>Add an array of <code>String</code> values to <em>strings.xml</em> using:</p>
<pre data-type="programlisting">  &lt;string-array name="array_name"&gt;
      &lt;item&gt;string1&lt;/item&gt;
      ...
  &lt;/string-array&gt;</pre></li>
<li><p>Reference a <code>string-array</code> in the layout using:</p>
<pre data-type="programlisting">  "@array/array_name"</pre></li>
<li><p>Use the <code>findViewById</code> method to get a reference to a view by its ID.</p></li>
<li><p>Make a button respond to clicks by calling its <code>setOnClickListener</code> method.</p></li>
<li><p>The <code>setOnClickListener</code> method takes one parameter—a lambda—which describes what should happen when the button is clicked.</p></li>
<li><p>Change the text that’s displayed in a view by updating its <code>text</code> property.</p></li>
<li><p>Get the selected item in a spinner using its <code>selectedItem</code> property.</p></li>
<li><p>The <code>selectedItem</code> property can hold any type of value, so you need to convert its value before you can use it.</p></li>
</ul>
</div></aside>
</div></section>
</div></section></div></body></html>