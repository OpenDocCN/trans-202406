<html><head></head><body><section data-pdf-bookmark="Chapter 14. Fonts" data-type="chapter" epub:type="chapter"><div class="chapter" id="fonts">&#13;
<h1><span class="label">Chapter 14. </span>Fonts</h1>&#13;
&#13;
&#13;
<p>The “Font Properties” section of the <a data-primary="fonts" data-type="indexterm" id="ix_fonts_ch14"/><a data-primary="CSS1 specification" data-secondary="fonts" data-type="indexterm" id="idm45176089679488"/>CSS1 specification, written in 1996, begins with this sentence: “Setting font properties will be among the most common uses of style sheets.” Despite the awareness of font’s importance from the very beginning of CSS, it wasn’t until about 2009 that this capability really began to be widely and consistently supported. With the introduction of variable fonts, typography on the web has become an art form. While you can include any fonts you are legally allowed to distribute in your design, you have to pay attention to how you use them.</p>&#13;
&#13;
<p>It’s important to remember this does not grant absolute control over fonts. If the font you’re using fails to download, or is in a file format the user’s browser doesn’t understand, the text will (eventually) be displayed with a fallback font. That’s a good thing, as it means the user still gets your content.</p>&#13;
&#13;
<p>While fonts may seem vital to a design, always bear in mind you can’t depend on the presence of a given font. If a font is slow to load, browsers generally delay text rendering. While that prevents text being redrawn while a user is reading, it’s bad to have no text on the page.</p>&#13;
&#13;
<p>Your font choice may also be overridden by user preference, or a browser extension meant to enhance the reading experience.  An example is the browser extension OpenDyslexic, which “overrides all fonts on web pages with the OpenDyslexic font, and formats pages to be more easily readable.”  In general, always design assuming your fonts will be delayed and even fail altogether.</p>&#13;
&#13;
&#13;
&#13;
&#13;
&#13;
&#13;
<section data-pdf-bookmark="Font Families" data-type="sect1"><div class="sect1" id="font_families">&#13;
<h1>Font Families</h1>&#13;
&#13;
<p>What we <a data-primary="fonts" data-secondary="families" data-type="indexterm" id="ix_font_fam_ch14"/>think of as a “font” is usually composed of many variations to describe bold text, italic text, bold italic text, and so on. For example, you’re probably familiar with (or at least have heard of) the font Times. Times is actually a combination of many variants, including TimesRegular, TimesBold, TimesItalic, TimesBoldItalic, and so on. <a data-primary="fonts" data-secondary="font faces" data-seealso="@font-face rule" data-type="indexterm" id="idm45176089673824"/>Each variant of Times is an actual <em>font face</em>, and Times, as we usually think of it, is a combination of all these variant faces. In other words, system-standard fonts like Times are actually a <em>font family</em>, not just a single font, even though most of us think about fonts as being single entities.</p>&#13;
&#13;
<p>With such <a data-primary="variable font files" data-type="indexterm" id="idm45176089670992"/>font families, a separate file is required for each width, weight, and style combination (that is, each font face), meaning you can have upward of 20 separate files for a complete typeface.  <em>Variable fonts</em>, on the other hand, are able to store multiple variants, such as regular, bold, italic, and bold italic, in a single file.  Variable font files are generally a little bit larger (maybe just a few kilobytes) than any single font face file, but smaller than the multiple files required of a regular font, and require only a single HTTP request.</p>&#13;
&#13;
<p>To cover all the bases, CSS defines five generic font families:</p>&#13;
<dl>&#13;
<dt><em>Serif fonts</em></dt>&#13;
<dd>&#13;
<p>Serif <a data-primary="serif fonts" data-type="indexterm" id="idm45176089666800"/><a data-primary="proportional fonts" data-type="indexterm" id="idm45176089666064"/>fonts are proportional and have serifs. A font is <em>proportional</em> if all characters in the font have different widths. For example, a lowercase <em>i</em> and a lowercase <em>m</em> take up different horizontal spaces because they have different widths. (This book’s paragraph font is proportional, for example.) <em>Serifs</em> are the decorations on the ends of strokes within each character, such as little lines at the top and bottom of a lowercase <em>l</em>, or at the bottom of each leg of an uppercase <em>A</em>. Examples of serif fonts are Times, Georgia, and New Century Schoolbook.</p>&#13;
</dd>&#13;
<dt><em>Sans-serif fonts</em></dt>&#13;
<dd>&#13;
<p>Sans-serif <a data-primary="sans-serif fonts" data-type="indexterm" id="idm45176089661456"/>fonts are proportional and do not have serifs. Examples of sans-serif fonts are Helvetica, Geneva, Verdana, Arial, and Univers.</p>&#13;
</dd>&#13;
<dt><em>Monospace fonts</em></dt>&#13;
<dd>&#13;
<p>Monospace <a data-primary="monospace fonts" data-type="indexterm" id="idm45176089659184"/>fonts are not proportional. Rather, each character uses up the same amount of horizontal space as all the others; thus, a lowercase <em>i</em> takes up the same horizontal space as a lowercase <em>m</em>, even though their actual letterforms may have different widths. These generally are used for displaying programmatic code or tabular data, like this book’s code font, for example. If a font has uniform character widths, it is classified as monospace, regardless of whether it has serifs. Examples of monospace fonts are Courier, Courier New, Consolas, and Andale Mono.</p>&#13;
</dd>&#13;
<dt><em>Cursive fonts</em></dt>&#13;
<dd>&#13;
<p>Cursive <a data-primary="cursive fonts" data-type="indexterm" id="idm45176089656080"/>fonts attempt to emulate human handwriting or lettering. Usually, they are composed largely of flowing curves and have stroke decorations that exceed those found in serif fonts. For example, an uppercase <em>A</em> might have a small curl at the bottom of its left leg or be composed entirely of swashes and curls. Examples of cursive fonts are Zapf Chancery, Author, and Comic Sans.</p>&#13;
</dd>&#13;
<dt><em>Fantasy fonts</em></dt>&#13;
<dd>&#13;
<p>Fantasy <a data-primary="fantasy fonts" data-type="indexterm" id="idm45176089653200"/>fonts are not really defined by any single characteristic other than our inability to easily classify them in one of the other families (these are sometimes called <em>decorative</em> or <em>display</em> fonts). A few such fonts are Western, Woodblock, and Klingon.</p>&#13;
</dd>&#13;
</dl>&#13;
&#13;
<p>Your operating system and browser will have a default font family for each of these generic families.  Fonts a browser cannot classify as serif, sans-serif, monospace, or cursive are generally considered fantasy. While most font families fall into one of these generic families, not all do. For example, SVG icon fonts, dingbat fonts, and Material Icons Round contain images rather than letters.</p>&#13;
&#13;
&#13;
&#13;
&#13;
&#13;
&#13;
&#13;
&#13;
<section data-pdf-bookmark="Using Generic Font Families" data-type="sect2"><div class="sect2" id="using_generic_font_families">&#13;
<h2>Using Generic Font Families</h2>&#13;
&#13;
<p>You <a data-primary="font-family property" data-type="indexterm" id="ix_font_fam_prop"/>can call on any available font family by using the property <code>font-family</code>.</p>&#13;
<aside data-type="sidebar" epub:type="sidebar"><div class="sidebar" id="font-family">&#13;
<h1>font-family</h1><table>&#13;
&#13;
<tbody>&#13;
<tr>&#13;
<td><p><strong>Values</strong></p></td>&#13;
<td><p>[ &lt;<em><code>family-name</code></em>&gt; | &lt;<em><code>generic-family</code></em>&gt; ]#</p></td>&#13;
</tr>&#13;
<tr>&#13;
<td><p><strong>Initial value</strong></p></td>&#13;
<td><p>User-agent specific</p></td>&#13;
</tr>&#13;
<tr>&#13;
<td><p><strong>Applies to</strong></p></td>&#13;
<td><p>All elements</p></td>&#13;
</tr>&#13;
<tr>&#13;
<td><p><strong>Computed value</strong></p></td>&#13;
<td><p>As specified</p></td>&#13;
</tr>&#13;
<tr>&#13;
<td><p><strong>@font-face equivalent</strong></p></td>&#13;
<td><p><code>font-family</code></p></td>&#13;
</tr>&#13;
<tr>&#13;
<td><p><strong>Inherited</strong></p></td>&#13;
<td><p>Yes</p></td>&#13;
</tr>&#13;
<tr>&#13;
<td><p><strong>Animatable</strong></p></td>&#13;
<td><p>No</p></td>&#13;
</tr>&#13;
</tbody>&#13;
</table>&#13;
</div></aside>&#13;
&#13;
<p>If you want a document to use a sans-serif font but do not particularly care which one, the appropriate declaration would be as follows:</p>&#13;
&#13;
<pre data-code-language="css" data-type="programlisting"><code class="nt">body</code> <code class="p">{</code><code class="k">font-family</code><code class="o">:</code> <code class="nb">sans-serif</code><code class="p">;}</code></pre>&#13;
&#13;
<p>This will cause the user agent to pick a sans-serif font family (such as Helvetica) and apply it to the <code>&lt;body&gt;</code> element. Thanks to inheritance, the same font family choice will be applied to all visible elements that descend from the <code>&lt;body&gt;</code>, unless overridden by the user agent.  User agents generally apply a <code>font-family</code> property to some elements, such as <code>monospace</code> in the case of <code>&lt;code&gt;</code> and <code>&lt;pre&gt;</code>, or a system font to some form-input controls.</p>&#13;
&#13;
<p>Using nothing more than these generic families, you can create a fairly sophisticated stylesheet. The following rule set is illustrated in <a data-type="xref" href="#various_font_families">Figure 14-1</a>:</p>&#13;
&#13;
<pre data-code-language="css" data-type="programlisting"><code class="nt">body</code> <code class="p">{</code><code class="k">font-family</code><code class="o">:</code> <code class="nb">serif</code><code class="p">;}</code>&#13;
<code class="nt">h1</code><code class="o">,</code> <code class="nt">h2</code><code class="o">,</code> <code class="nt">h3</code><code class="o">,</code> <code class="nt">h4</code> <code class="p">{</code><code class="k">font-family</code><code class="o">:</code> <code class="nb">sans-serif</code><code class="p">;}</code>&#13;
<code class="nt">code</code><code class="o">,</code> <code class="nt">pre</code><code class="o">,</code> <code class="nt">kbd</code> <code class="p">{</code><code class="k">font-family</code><code class="o">:</code> <code class="nb">monospace</code><code class="p">;}</code>&#13;
<code class="nt">p</code><code class="nc">.signature</code> <code class="p">{</code><code class="k">font-family</code><code class="o">:</code> <code class="nb">cursive</code><code class="p">;}</code></pre>&#13;
&#13;
<p>Thus, most of this document will use a serif font such as Times, including all paragraphs except those that have a <code>class</code> of <code>signature</code>, which will instead be rendered in a cursive font such as Author. Heading levels 1 through 4 will use a sans-serif font like Helvetica, while the elements <code>&lt;code&gt;</code>, <code>&lt;pre&gt;</code>, <code>&lt;tt&gt;</code>, and <code>&lt;kbd&gt;</code> will use a monospace font &#13;
<span class="keep-together">like Courier.</span></p>&#13;
<div data-type="note" epub:type="note"><h6>Note</h6>&#13;
<p>Using generic defaults is excellent for rendering speed, as it allows the browser to use whichever default fonts it already has in memory rather than having to parse through a list of specific fonts and load characters as needed.</p>&#13;
</div>&#13;
&#13;
<figure><div class="figure" id="various_font_families">&#13;
<img alt="css5 1401" src="assets/css5_1401.png"/>&#13;
<h6><span class="label">Figure 14-1. </span>Various font families</h6>&#13;
</div></figure>&#13;
&#13;
<p>A page author may, on the other hand, have more specific preferences for which font to use in the display of a document or element. In a similar vein, a user may want to create a user stylesheet that defines the exact fonts to be used in the display of all documents. In either case, <code>font-family</code> is still the property to use.</p>&#13;
&#13;
<p>Assume for the moment that all <code>&lt;h1&gt;</code> elements should use Georgia as their font. The simplest rule for this would be the following:</p>&#13;
&#13;
<pre data-code-language="css" data-type="programlisting"><code class="nt">h1</code> <code class="p">{</code><code class="k">font-family</code><code class="o">:</code> <code class="n">Georgia</code><code class="p">;}</code></pre>&#13;
&#13;
<p>This will cause the user agent displaying the document to use Georgia for all <code>&lt;h1&gt;</code> elements, assuming that the user agent has Georgia available for use. If it doesn’t, the user agent will be unable to use the rule at all. It won’t ignore the rule, but if it can’t find a font called <code>Georgia</code>, it can’t do anything but display <code>&lt;h1&gt;</code> elements using the user agent’s default font.</p>&#13;
&#13;
<p>To handle a situation like this, you can give the user agent options by combining specific font families with generic font families. For example, the following markup tells a user agent to use Georgia if it’s available, and to use another serif font like Times as a fallback if it isn’t:</p>&#13;
&#13;
<pre data-code-language="css" data-type="programlisting"><code class="nt">h1</code> <code class="p">{</code><code class="k">font-family</code><code class="o">:</code> <code class="n">Georgia</code><code class="o">,</code> <code class="nb">serif</code><code class="p">;}</code></pre>&#13;
&#13;
<p>For this reason, we strongly <a data-primary="font stack" data-type="indexterm" id="idm45176089505728"/>encourage you to always provide a generic family as part of any <code>font-family</code> rule. By doing so, you provide a fallback mechanism that lets user agents pick an alternative when they can’t provide an exact font match. This is often referred to as a <em>font stack</em>. Here are a few more examples:</p>&#13;
&#13;
<pre data-code-language="css" data-type="programlisting"><code class="nt">h1</code> <code class="p">{</code><code class="k">font-family</code><code class="o">:</code> <code class="n">Arial</code><code class="o">,</code> <code class="nb">sans-serif</code><code class="p">;}</code>&#13;
<code class="nt">h2</code> <code class="p">{</code><code class="k">font-family</code><code class="o">:</code> <code class="n">Arvo</code><code class="o">,</code> <code class="nb">sans-serif</code><code class="p">;}</code>&#13;
<code class="nt">p</code> <code class="p">{</code><code class="k">font-family</code><code class="o">:</code> <code class="s1">'Times New Roman'</code><code class="o">,</code> <code class="nb">serif</code><code class="p">;}</code>&#13;
<code class="nt">address</code> <code class="p">{</code><code class="k">font-family</code><code class="o">:</code> <code class="n">Chicago</code><code class="o">,</code> <code class="nb">sans-serif</code><code class="p">;}</code>&#13;
<code class="nc">.signature</code> <code class="p">{</code><code class="k">font-family</code><code class="o">:</code> <code class="n">Author</code><code class="o">,</code> <code class="nb">cursive</code><code class="p">;}</code></pre>&#13;
&#13;
<p>If you’re familiar with fonts, you might have a number of similar fonts in mind for displaying a given element. Let’s say that you want all paragraphs in a document to be displayed using Times, but you would also accept Times New Roman, Georgia, New Century Schoolbook, and New York (all of which are serif fonts) as alternate choices. First, decide the order of preference for these fonts, and then string them together with commas:</p>&#13;
&#13;
<pre data-code-language="css" data-type="programlisting"><code class="nt">p</code> <code class="p">{</code><code class="k">font-family</code><code class="o">:</code> <code class="n">Times</code><code class="o">,</code> <code class="s1">'Times New Roman'</code><code class="o">,</code> <code class="s1">'New Century Schoolbook'</code><code class="o">,</code> <code class="n">Georgia</code><code class="o">,</code>&#13;
      <code class="s1">'New York'</code><code class="o">,</code> <code class="nb">serif</code><code class="p">;}</code></pre>&#13;
&#13;
<p>Based on this list, a user agent will look for the fonts in the order they’re listed. If none of the listed fonts are available, it will just pick an available serif font.</p>&#13;
</div></section>&#13;
&#13;
&#13;
&#13;
&#13;
&#13;
&#13;
&#13;
&#13;
<section data-pdf-bookmark="Using Quotation Marks" data-type="sect2"><div class="sect2" id="using_quotation_marks">&#13;
<h2>Using Quotation Marks</h2>&#13;
&#13;
<p>You may have <a data-primary="'…​' or &quot;…​&quot; (quotes)" data-secondary="enclosing font names" data-type="indexterm" id="idm45176089361920"/><a data-primary="quotes ('…​' or &quot;…​&quot;)" data-secondary="enclosing font names" data-type="indexterm" id="idm45176089360944"/>noticed the presence of single quotes in the previous code example, which we haven’t used before in this chapter. Quotation marks are advisable in a <code>font-family</code> declaration only if a font name contains one or more spaces, such as <code>New York</code>, or if the font name includes symbols. Thus, a font called <code>Karrank%</code> should be quoted:</p>&#13;
&#13;
<pre data-code-language="css" data-type="programlisting"><code class="nt">h2</code> <code class="p">{</code><code class="k">font-family</code><code class="o">:</code> <code class="n">Wedgie</code><code class="o">,</code> <code class="s1">'Karrank%'</code><code class="o">,</code> <code class="n">Klingon</code><code class="o">,</code> <code class="nb">fantasy</code><code class="p">;}</code></pre>&#13;
&#13;
<p>While quoting font names is almost never required, if you leave off the quotation marks, user agents may ignore the font name and continue to the next available font in the font stack. The exception to this is font names that match accepted <code>font-family</code> keywords. For example, if your font name is <code>cursive</code>, <code>serif</code>, <code>sans-serif</code>, <code>monospace</code>, or <code>fantasy</code>,  it must be quoted so the user agent knows the difference between a font name and a font-family keyword, as shown here:</p>&#13;
&#13;
<pre data-code-language="css" data-type="programlisting"><code class="nt">h2</code> <code class="p">{</code><code class="k">font-family</code><code class="o">:</code> <code class="n">Author</code><code class="o">,</code> <code class="s2">"cursive"</code><code class="o">,</code> <code class="nb">cursive</code><code class="p">;}</code></pre>&#13;
&#13;
<p>The actual generic family names (<code>serif</code>, <code>monospace</code>, etc.) should never be quoted. If they are quoted, the browser will look for a font with that exact name.</p>&#13;
&#13;
<p>When quoting font names, either single or double quotes are acceptable, as long as they match. Remember that if you place a <code>font-family</code> rule in a <code>style</code> attribute, which you generally shouldn’t, you’ll need to use whichever quotes you didn’t use for the attribute itself. Therefore, if you use double quotes to enclose the <code>font-family</code> rule, you’ll have to use single quotes within the rule, as in the following markup:</p>&#13;
&#13;
<pre data-code-language="css" data-type="programlisting"><code class="nt">p</code> <code class="p">{</code><code class="k">font-family</code><code class="o">:</code> <code class="nb">sans-serif</code><code class="p">;}</code>  <code class="c">/* sets paragraphs to sans-serif by default */</code></pre>&#13;
&#13;
<pre data-code-language="html" data-type="programlisting"><code class="cm">&lt;!-- the next example is correct (uses single-quotes) --&gt;</code>&#13;
<code class="p">&lt;</code><code class="nt">p</code> <code class="na">style</code><code class="o">=</code><code class="s">"font-family: 'New Century Schoolbook', Times, serif;"</code><code class="p">&gt;</code>...<code class="p">&lt;/</code><code class="nt">p</code><code class="p">&gt;</code>&#13;
&#13;
<code class="cm">&lt;!-- the next example is NOT correct (uses double-quotes) --&gt;</code>&#13;
<code class="p">&lt;</code><code class="nt">p</code> <code class="na">style</code><code class="o">=</code><code class="s">"font-family: "</code><code class="na">New</code> <code class="na">Century</code> <code class="na">Schoolbook</code><code class="err">",</code> <code class="na">Times</code><code class="err">,</code> <code class="na">serif</code><code class="err">;"</code><code class="p">&gt;</code>...<code class="p">&lt;/</code><code class="nt">p</code><code class="p">&gt;</code></pre>&#13;
&#13;
<p>If you use double quotes in such a circumstance, they interfere with the attribute syntax.  Note the font name is case-insensitive.<a data-primary="" data-startref="ix_font_fam_ch14" data-type="indexterm" id="idm45176089219472"/><a data-primary="" data-startref="ix_font_fam_prop" data-type="indexterm" id="idm45176089218624"/></p>&#13;
</div></section>&#13;
</div></section>&#13;
&#13;
&#13;
&#13;
&#13;
&#13;
&#13;
<section data-pdf-bookmark="Using Custom Fonts" data-type="sect1"><div class="sect1" id="using_at_the_rate_font-face">&#13;
<h1>Using Custom Fonts</h1>&#13;
&#13;
<p>The <code>@font-face</code> rule enables you to use <a data-primary="fonts" data-secondary="font faces" data-type="indexterm" id="ix_font_face_ch14"/>custom fonts on the web, instead of being forced to rely only on “web-safe” fonts (that is, font families that are widely installed, such as Times). The two required functions of the <code>@font-face</code> rule are to declare the name used to refer to a font and to provide the URL of that font’s file for downloading. In addition to these required descriptors, CSS has 14 optional descriptors.</p>&#13;
&#13;
<p>While there’s no guarantee that every user will see the font you want, <code>@font-face</code> is supported in all browsers except ones like Opera Mini that intentionally don’t support it for performance reasons.</p>&#13;
&#13;
<p>Suppose you want to use a very specific font in your stylesheets, one that is not widely installed. Through the magic of <code>@font-face</code>, you can define a specific family name to correspond to a font file on your server that you can refer to throughout your CSS. The user agent will download that file and use it to render the text in your page, the same as if it were installed on the user’s machine. For example:</p>&#13;
&#13;
<pre data-code-language="css" data-type="programlisting"><code class="k">@font-face</code> <code class="p">{</code>&#13;
    <code class="nt">font-family</code><code class="o">:</code> <code class="s2">"Switzera"</code><code class="o">;</code>&#13;
    <code class="nt">src</code><code class="o">:</code> <code class="nt">url</code><code class="o">(</code><code class="s2">"SwitzeraADF-Regular.otf"</code><code class="o">);</code>&#13;
<code class="p">}</code></pre>&#13;
&#13;
<p>This allows you to tell user agents to load the defined <em>.otf</em> file and use that font to render text when called upon via <code>font-family: SwitzeraADF</code>.</p>&#13;
<div data-type="note" epub:type="note"><h6>Note</h6>&#13;
<p>The examples in this section refer to SwitzeraADF, a font face collection available from the <a href="http://arkandis.tuxfamily.org/openfonts.html">Arkandis Digital Foundry</a>.</p>&#13;
</div>&#13;
&#13;
<p>The <code>@font-face</code> declaration doesn’t automatically load all the referenced font files.  <a data-primary="lazy loading of font faces" data-type="indexterm" id="idm45176089166176"/>The intent of <code>@font-face</code> is to allow <em>lazy loading</em> of font faces. This means only faces needed to render a document will be loaded. Font files referenced in your CSS that aren’t necessary to render the page will not be downloaded. Font files are generally cached, and aren’t redownloaded as your users navigate your site.</p>&#13;
&#13;
<p>The ability to load any font is quite powerful, but keep these concerns in mind:</p>&#13;
&#13;
<ul>&#13;
<li>&#13;
<p>For security reasons, font files must be retrieved from the same domain as the page requesting them. There’s a solution for that.</p>&#13;
</li>&#13;
<li>&#13;
<p>Requiring lots of font downloads can lead to slow load times.</p>&#13;
</li>&#13;
<li>&#13;
<p>Fonts with lots of characters can lead to large font files. Fortunately, online tools and CSS enable limiting character sets.</p>&#13;
</li>&#13;
<li>&#13;
<p>If fonts load slowly, this can lead to flashes of unstyled text or invisible text. CSS has a way of addressing this issue as well.</p>&#13;
</li>&#13;
</ul>&#13;
&#13;
<p>We’ll cover these problems and their solutions in this chapter. But remember, with great power comes great responsibility. Use fonts wisely!</p>&#13;
&#13;
&#13;
&#13;
&#13;
&#13;
&#13;
&#13;
&#13;
<section data-pdf-bookmark="Using Font-Face Descriptors" data-type="sect2"><div class="sect2" id="font-face_descriptors">&#13;
<h2>Using Font-Face Descriptors</h2>&#13;
&#13;
<p>All the parameters that define the font you’re referencing are contained within the <code>@font-face { }</code> construct. These are called <em>descriptors</em>, and very much like properties, they take the format <code><em>descriptor</em>: <em>value</em>;</code>. In fact, most of the descriptor names refer directly to property names, as will be examined throughout the rest of the chapter.  <a data-type="xref" href="#font_descriptors">Table 14-1</a> lists the possible descriptors, both required and optional.</p>&#13;
<table id="font_descriptors">&#13;
<caption><span class="label">Table 14-1. </span>Font descriptors</caption>&#13;
<thead>&#13;
<tr>&#13;
<th>Descriptor</th>&#13;
<th>Default value</th>&#13;
<th>Description</th>&#13;
</tr>&#13;
</thead>&#13;
<tbody>&#13;
<tr>&#13;
<td><p><code>font-family</code></p></td>&#13;
<td><p><em>n/a</em></p></td>&#13;
<td><p><em>Required.</em> The name used for this font in <code>font-family</code> property values.</p></td>&#13;
</tr>&#13;
<tr>&#13;
<td><p><code>src</code></p></td>&#13;
<td><p><em>n/a</em></p></td>&#13;
<td><p><em>Required.</em> One or more URLs pointing to the font file(s) that must be loaded to display the font.</p></td>&#13;
</tr>&#13;
<tr>&#13;
<td><p><code>font-display</code></p></td>&#13;
<td><p><code>auto</code></p></td>&#13;
<td><p>Determines how a font face is displayed based on whether and when it is downloaded and ready to use.</p></td>&#13;
</tr>&#13;
<tr>&#13;
<td><p><code>font-stretch</code></p></td>&#13;
<td><p><code>normal</code></p></td>&#13;
<td><p>Distinguishes between varying degrees of character widths (e.g., <code>condensed</code> and <code>expanded</code>).</p></td>&#13;
</tr>&#13;
<tr>&#13;
<td><p><code>font-style</code></p></td>&#13;
<td><p><code>normal</code></p></td>&#13;
<td><p>Distinguishes between <code>normal</code>, <code>italic</code>, and <code>oblique</code> faces.</p></td>&#13;
</tr>&#13;
<tr>&#13;
<td><p><code>font-weight</code></p></td>&#13;
<td><p><code>normal</code></p></td>&#13;
<td><p>Distinguishes between various weights (e.g., <code>bold</code>).</p></td>&#13;
</tr>&#13;
<tr>&#13;
<td><p><code>font-variant</code></p></td>&#13;
<td><p><code>normal</code></p></td>&#13;
<td><p>A value of the <code>font-variant</code> property.</p></td>&#13;
</tr>&#13;
<tr>&#13;
<td><p><code>font-feature-settings</code></p></td>&#13;
<td><p><code>normal</code></p></td>&#13;
<td><p>Permits direct access to low-level OpenType features (e.g., enabling ligatures).</p></td>&#13;
</tr>&#13;
<tr>&#13;
<td><p><code>font-variation-settings</code></p></td>&#13;
<td><p><code>normal</code></p></td>&#13;
<td><p>Allows low-level control over OpenType or TrueType font variations, by specifying the four-letter axis names of the features to vary, along with their variation values.</p></td>&#13;
</tr>&#13;
<tr>&#13;
<td><p><code>ascent-override</code></p></td>&#13;
<td><p><code>normal</code></p></td>&#13;
<td><p>Defines the ascent metric for the font.</p></td>&#13;
</tr>&#13;
<tr>&#13;
<td><p><code>descent-override</code></p></td>&#13;
<td><p><code>normal</code></p></td>&#13;
<td><p>Defines the descent metric for the font.</p></td>&#13;
</tr>&#13;
<tr>&#13;
<td><p><code>line-gap-override</code></p></td>&#13;
<td><p><code>normal</code></p></td>&#13;
<td><p>Defines the line gap metric for the font.</p></td>&#13;
</tr>&#13;
<tr>&#13;
<td><p><code>size-adjust</code></p></td>&#13;
<td><p><code>100%</code></p></td>&#13;
<td><p>Defines a multiplier for glyph outlines and metrics associated with the font.</p></td>&#13;
</tr>&#13;
<tr>&#13;
<td><p><code>unicode-range</code></p></td>&#13;
<td><p><code>U+0-10FFFF</code></p></td>&#13;
<td><p>Defines the range of characters for which a given face may be used.</p></td>&#13;
</tr>&#13;
</tbody>&#13;
</table>&#13;
&#13;
<p>As <a data-primary="src descriptor, @font-face" data-type="indexterm" id="ix_src_desc"/><a data-primary="@font-face rule" data-primary-sortas="font-face rule" data-secondary="src descriptor" data-type="indexterm" id="ix_font_face_src_desc"/><a data-primary="font-family descriptor, @font-face" data-type="indexterm" id="ix_font_fam_desc"/><a data-primary="@font-face rule" data-primary-sortas="font-face rule" data-secondary="font-family descriptor" data-type="indexterm" id="ix_font_face_fam_desc"/>noted in <a data-type="xref" href="#font_descriptors">Table 14-1</a>, two descriptors are required: <code>font-family</code> and <code>src</code>.</p>&#13;
<aside data-type="sidebar" epub:type="sidebar"><div class="sidebar" id="font-family-id1">&#13;
<h1>font-family descriptor</h1><table>&#13;
&#13;
<tbody>&#13;
<tr>&#13;
<td><p><strong>Value</strong></p></td>&#13;
<td><p>&lt;<em><code>family-name</code></em>&gt;</p></td>&#13;
</tr>&#13;
<tr>&#13;
<td><p><strong>Initial value</strong></p></td>&#13;
<td><p>Not defined</p></td>&#13;
</tr>&#13;
</tbody>&#13;
</table>&#13;
</div></aside>&#13;
<aside data-type="sidebar" epub:type="sidebar"><div class="sidebar" id="src">&#13;
<h1>src descriptor</h1><table>&#13;
&#13;
<tbody>&#13;
<tr>&#13;
<td><p><strong>Values</strong></p></td>&#13;
<td><p>&lt;<em><code>uri</code></em>&gt; [ <code>format(</code> &lt;<em><code>string</code></em>&gt;# <code>)</code> ]? [ <code>tech(</code> &lt;<em><code>font-tech</code></em>&gt;# <code>)</code> ]? | <br/><em>&lt;<em><code>font-face-name</code></em>&gt;</em> ]#</p></td>&#13;
</tr>&#13;
<tr>&#13;
<td><p><strong>Initial value</strong></p></td>&#13;
<td><p>Not defined</p></td>&#13;
</tr>&#13;
</tbody>&#13;
</table>&#13;
</div></aside>&#13;
&#13;
<p>The <a data-primary="format() hint for font importing" data-type="indexterm" id="idm45176061640144"/>point of <code>src</code> is pretty straightforward, so we’ll describe it first: <code>src</code> lets you define one or more comma-separated sources for the font face you’re defining. With each source, you can provide an optional (but recommended) format hint that can help improve download performance.</p>&#13;
&#13;
<p>You can <a data-primary="url(), using to import font faces" data-type="indexterm" id="idm45176061637840"/><a data-primary="local() font function, @font-face rule" data-type="indexterm" id="idm45176061637168"/><a data-primary="@font-face rule" data-primary-sortas="font-face rule" data-secondary="URL for" data-type="indexterm" id="idm45176061636496"/>point to a font face at any URL—including files on the user’s computer using <code>local()</code>, and files elsewhere with <code>url()</code>. There is a default restriction: unless you set an exception, font faces can be loaded from only the same origin as the stylesheet. You can’t simply point your <code>src</code> at someone else’s site and download their font.  You’ll need to host a local copy on your own server, use HTTP access controls to relax the same domain restriction, or use a font-hosting service that provides both the stylesheet(s) and the font file(s).</p>&#13;
<div data-type="note" epub:type="note"><h6>Note</h6>&#13;
<p>To create an exception to the same-origin restriction for fonts, include the following in your server’s <em>.htaccess</em> file:</p>&#13;
&#13;
<pre data-code-language="xml" data-type="programlisting"><code class="nt">&lt;FilesMatch</code><code class="w"> </code><code class="err">"\.(ttf|otf|woff|woff2)$"</code><code class="nt">&gt;</code><code class="w"/>&#13;
<code class="w">  </code><code class="nt">&lt;IfModule</code><code class="w"> </code><code class="err">mod_headers.c</code><code class="nt">&gt;</code><code class="w"/>&#13;
<code class="w">    </code>Header<code class="w"> </code>set<code class="w"> </code>Access-Control-Allow-Origin<code class="w"> </code>"*"<code class="w"/>&#13;
<code class="w">  </code><code class="nt">&lt;/IfModule&gt;</code><code class="w"/>&#13;
<code class="nt">&lt;/FilesMatch&gt;</code><code class="w"/></pre>&#13;
&#13;
<p>The <code>FilesMatch</code> line <a data-primary="&lt;FilesMatch&gt; for importing font faces" data-primary-sortas="FilesMatch for importing font faces" data-type="indexterm" id="idm45176061626736"/>includes all the file extensions of the fonts you want to import.  This will allow anyone, from anywhere, to point at your font files and load them directly off your server.</p>&#13;
</div>&#13;
&#13;
<p>You may be wondering how it is that we’re defining <code>font-family</code> here when it was already defined in a previous section. This <code>font-family</code> is the font-family <em>descriptor</em>, whereas the previously defined <code>font-family</code> is the font-family <em>property</em>. If this seems confusing, stick with us a moment and all should become clear.</p>&#13;
&#13;
<p>Essentially, <code>@font-face</code> lets you create low-level definitions that underpin the font-related properties like <code>font-family</code>. When you define a font family name via the descriptor <code>font-family: "Switzera";</code>, you’re setting up an entry in the user agent’s table of font families that you can refer to in your <code>font-family</code> property values:</p>&#13;
&#13;
<pre data-code-language="css" data-type="programlisting"><code class="k">@font-face</code> <code class="p">{</code>&#13;
    <code class="nt">font-family</code><code class="o">:</code> <code class="s2">"Switzera"</code><code class="o">;</code>   <code class="c">/* descriptor */</code>&#13;
    <code class="nt">src</code><code class="o">:</code> <code class="nt">url</code><code class="o">(</code><code class="s2">"SwitzeraADF-Regular.otf"</code><code class="o">);</code>&#13;
<code class="p">}</code>&#13;
<code class="nt">h1</code> <code class="p">{</code><code class="k">font-family</code><code class="o">:</code> <code class="n">switzera</code><code class="o">,</code> <code class="n">Helvetica</code><code class="o">,</code> <code class="nb">sans-serif</code><code class="p">;}</code>  <code class="c">/* property */</code></pre>&#13;
&#13;
<p>Note that the <code>font-family</code> descriptor value and the entry in the <code>font-family</code> property match case-insensitively. If they didn’t match at all, the <code>h1</code> rule would ignore the first font-family name listed in the <code>font-family</code> value and move on to the next (Helvetica, in this case).</p>&#13;
&#13;
<p>Also note that the <code>font-family</code> descriptor can be (almost) any name you want to give it.  It doesn’t have to exactly match the name of the font file, though it usually makes sense to use a descriptor that’s at least close to the font’s name for purposes of clarity.  That said, the value used in the <code>font-family</code> property does have to (case-insensitively) match the <code>font-family</code> descriptor.</p>&#13;
&#13;
<p>As long as the font has cleanly downloaded and is in a format the user agent can handle, it will be used in the manner you direct, as illustrated in <a data-type="xref" href="#using_a_downloaded_font">Figure 14-2</a>.</p>&#13;
&#13;
<figure><div class="figure" id="using_a_downloaded_font">&#13;
<img alt="css5 1402" src="assets/css5_1402.png"/>&#13;
<h6><span class="label">Figure 14-2. </span>Using a downloaded font</h6>&#13;
</div></figure>&#13;
&#13;
<p>In a <a data-primary="format() hint for font importing" data-type="indexterm" id="idm45176061553040"/><a data-primary="@font-face rule" data-primary-sortas="font-face rule" data-secondary="format() values" data-type="indexterm" id="idm45176061552336"/>similar manner, the comma-separated <code>src</code> descriptor value can provide fallbacks. That way, if the user agent doesn’t understand the file type defined by the hint or, for whatever reason, the user agent is unable to download the first source, it can move on to the second source and try to load the file defined there:</p>&#13;
&#13;
<pre data-code-language="css" data-type="programlisting"><code class="k">@font-face</code> <code class="p">{</code>&#13;
    <code class="nt">font-family</code><code class="o">:</code> <code class="s2">"Switzera"</code><code class="o">;</code>&#13;
    <code class="nt">src</code><code class="o">:</code> <code class="nt">url</code><code class="o">(</code><code class="s2">"SwitzeraADF-Regular.otf"</code><code class="o">),</code>&#13;
         <code class="nt">url</code><code class="o">(</code><code class="s2">"https://example.com/fonts/SwitzeraADF-Regular.otf"</code><code class="o">);</code>&#13;
<code class="p">}</code></pre>&#13;
&#13;
<p>Remember that the same-origin policy mentioned earlier generally applies in this case, so pointing to a copy of the font on some other server will usually fail, unless that server is set up to permit cross-origin access.</p>&#13;
&#13;
<p>If you want to be sure the user agent understands the kind of font you’re telling it to use, use the optional but highly recommended <code>format()</code> hint:</p>&#13;
&#13;
<pre data-code-language="css" data-type="programlisting"><code class="k">@font-face</code> <code class="p">{</code>&#13;
    <code class="nt">font-family</code><code class="o">:</code> <code class="s2">"Switzera"</code><code class="o">;</code>&#13;
    <code class="nt">src</code><code class="o">:</code> <code class="nt">url</code><code class="o">(</code><code class="s2">"SwitzeraADF-Regular.otf"</code><code class="o">)</code> <code class="nt">format</code><code class="o">(</code><code class="s2">"opentype"</code><code class="o">);</code>&#13;
<code class="p">}</code></pre>&#13;
&#13;
<p>The advantage of supplying a <code>format()</code> hint is that user agents can skip downloading files in formats they don’t support, thus reducing bandwidth use and load time. If no format hint is supplied, the font resource will be downloaded even if its format isn’t supported. The <code>format()</code> hint also lets you explicitly declare a format for a file that might not have a common filename extension:</p>&#13;
&#13;
<pre data-code-language="css" data-type="programlisting"><code class="k">@font-face</code> <code class="p">{</code>&#13;
    <code class="nt">font-family</code><code class="o">:</code> <code class="s2">"Switzera"</code><code class="o">;</code>&#13;
    <code class="nt">src</code><code class="o">:</code> <code class="nt">url</code><code class="o">(</code><code class="s2">"SwitzeraADF-Regular.otf"</code><code class="o">)</code> <code class="nt">format</code><code class="o">(</code><code class="s2">"opentype"</code><code class="o">),</code>&#13;
         <code class="nt">url</code><code class="o">(</code><code class="s2">"SwitzeraADF-Regular.true"</code><code class="o">)</code> <code class="nt">format</code><code class="o">(</code><code class="s2">"truetype"</code><code class="o">);</code>&#13;
         <code class="c">/* TrueType font files usually end in '.ttf' */</code>&#13;
<code class="p">}</code></pre>&#13;
&#13;
<p><a data-type="xref" href="#recognized_font_format_values">Table 14-2</a> lists all of the allowed format values (as of late 2022).</p>&#13;
<table id="recognized_font_format_values">&#13;
<caption><span class="label">Table 14-2. </span>Recognized font-format values</caption>&#13;
<thead>&#13;
<tr>&#13;
<th>Value</th>&#13;
<th>Format</th>&#13;
<th>Full name</th>&#13;
</tr>&#13;
</thead>&#13;
<tbody>&#13;
<tr>&#13;
<td><p><code>collection</code></p></td>&#13;
<td><p>OTC/TTC</p></td>&#13;
<td><p>OpenType Collection (formerly: TrueType Collection)</p></td>&#13;
</tr>&#13;
<tr>&#13;
<td><p><code>embedded-opentype</code></p></td>&#13;
<td><p>EOT</p></td>&#13;
<td><p>Embedded OpenType</p></td>&#13;
</tr>&#13;
<tr>&#13;
<td><p><code>opentype</code></p></td>&#13;
<td><p>OTF</p></td>&#13;
<td><p>OpenType</p></td>&#13;
</tr>&#13;
<tr>&#13;
<td><p><code>svg</code></p></td>&#13;
<td><p>SVG</p></td>&#13;
<td><p>Scalable Vector Graphics</p></td>&#13;
</tr>&#13;
<tr>&#13;
<td><p><code>truetype</code></p></td>&#13;
<td><p>TTF</p></td>&#13;
<td><p>TrueType</p></td>&#13;
</tr>&#13;
<tr>&#13;
<td><p><code>woff2</code></p></td>&#13;
<td><p>WOFF2</p></td>&#13;
<td><p>Web Open Font Format, version 2</p></td>&#13;
</tr>&#13;
<tr>&#13;
<td><p><code>woff</code></p></td>&#13;
<td><p>WOFF</p></td>&#13;
<td><p>Web Open Font Format</p></td>&#13;
</tr>&#13;
</tbody>&#13;
</table>&#13;
&#13;
<p>In <a data-primary="@font-face rule" data-primary-sortas="font-face rule" data-secondary="tech() function" data-type="indexterm" id="idm45176061358256"/><a data-primary="tech() function, @font-face rule" data-type="indexterm" id="idm45176061357168"/>addition to the format, you can supply a value corresponding to a font technology with the <code>tech()</code> function.  A color font version of Switzera might look something like this:</p>&#13;
&#13;
<pre data-code-language="css" data-type="programlisting"><code class="k">@font-face</code> <code class="p">{</code>&#13;
    <code class="nt">font-family</code><code class="o">:</code> <code class="s2">"Switzera"</code><code class="o">;</code>&#13;
    <code class="nt">src</code><code class="o">:</code> <code class="nt">url</code><code class="o">(</code><code class="s2">"SwitzeraADF-Regular-Color.otf"</code><code class="o">)</code>&#13;
            <code class="nt">format</code><code class="o">(</code><code class="s2">"opentype"</code><code class="o">)</code> <code class="nt">tech</code><code class="o">(</code><code class="s2">"color-COLRv1"</code><code class="o">),</code>&#13;
         <code class="nt">url</code><code class="o">(</code><code class="s2">"SwitzeraADF-Regular.true"</code><code class="o">)</code> <code class="nt">format</code><code class="o">(</code><code class="s2">"truetype"</code><code class="o">);</code>&#13;
         <code class="c">/* TrueType font files usually end in '.ttf' */</code>&#13;
<code class="p">}</code></pre>&#13;
&#13;
<p><a data-type="xref" href="#recognized_font_tech_values">Table 14-3</a> lists all of the recognized font-technology values (as of late 2022).</p>&#13;
<table id="recognized_font_tech_values">&#13;
<caption><span class="label">Table 14-3. </span>Recognized font-technology values</caption>&#13;
<thead>&#13;
<tr>&#13;
<th>Value</th>&#13;
<th>Description</th>&#13;
</tr>&#13;
</thead>&#13;
<tbody>&#13;
<tr>&#13;
<td><p>color-CBDT</p></td>&#13;
<td><p>Font colors are defined using the OpenType <code>CBDT</code> (Color Bitmap Data Table) table.</p></td>&#13;
</tr>&#13;
<tr>&#13;
<td><p>color-COLRv0</p></td>&#13;
<td><p>Font colors are defined using the OpenType <code>COLR</code> (Color Table) table.</p></td>&#13;
</tr>&#13;
<tr>&#13;
<td><p>color-COLRv1</p></td>&#13;
<td><p>Font colors are defined using the OpenType <code>COLR</code> table.</p></td>&#13;
</tr>&#13;
<tr>&#13;
<td><p>color-sbix</p></td>&#13;
<td><p>Font colors are defined using the OpenType <code>sbix</code> (Standard Bitmap Graphics Table) table.</p></td>&#13;
</tr>&#13;
<tr>&#13;
<td><p>color-SVG</p></td>&#13;
<td><p>Font colors are defined using the OpenType <code>SVG</code> (Scalable Vector Graphics) table.</p></td>&#13;
</tr>&#13;
<tr>&#13;
<td><p>feature-aat</p></td>&#13;
<td><p>Font uses tables from the Apple Advanced Typography (AAT) Font Feature Registry.</p></td>&#13;
</tr>&#13;
<tr>&#13;
<td><p>feature-graphite</p></td>&#13;
<td><p>Font uses tables from the Graphite open source font-rendering engine.</p></td>&#13;
</tr>&#13;
<tr>&#13;
<td><p>feature-opentype</p></td>&#13;
<td><p>Font uses tables from the OpenType specification.</p></td>&#13;
</tr>&#13;
<tr>&#13;
<td><p>incremental</p></td>&#13;
<td><p>Incremental font-loading using the range-request or patch-subset server methods.</p></td>&#13;
</tr>&#13;
<tr>&#13;
<td><p>palettes</p></td>&#13;
<td><p>A font that offers palettes by way of the OpenType <code>CPAL</code> table.</p></td>&#13;
</tr>&#13;
<tr>&#13;
<td><p>variations</p></td>&#13;
<td><p>Font uses variations as defined by the OpenType tables such as <code>GSUB</code> and <code>GPOS</code>, the AAT tables <code>morx</code> and <code>kerx</code>, or the Graphite tables <code>Silf</code>, <code>Glat</code>, <code>Gloc</code>, <code>Feat</code>, and <code>Sill</code>.</p></td>&#13;
</tr>&#13;
</tbody>&#13;
</table>&#13;
&#13;
<p>Delving into the details of all these feature tables is well beyond the scope of this book, and you are unlikely to need to use them most of the time.  Even if a font has one or more of the listed feature tables, listing them is not required.  Even with <code>tech("color-SVG")</code>, an SVG color font will still render using its colors.</p>&#13;
&#13;
<p>In <a data-primary="@font-face rule" data-primary-sortas="font-face rule" data-secondary="local() font function" data-type="indexterm" id="idm45176061268720"/><a data-primary="local() font function, @font-face rule" data-type="indexterm" id="idm45176061267472"/>addition to the combination of <code>url()</code>, <code>format()</code>, and <code>tech()</code>, you can supply a font family name (or several names) in case the font is already locally available on the user’s machine, using the aptly named <code>local()</code> function:</p>&#13;
&#13;
<pre data-code-language="css" data-type="programlisting"><code class="k">@font-face</code> <code class="p">{</code>&#13;
    <code class="nt">font-family</code><code class="o">:</code> <code class="s2">"Switzera"</code><code class="o">;</code>&#13;
    <code class="nt">src</code><code class="o">:</code> <code class="nt">local</code><code class="o">(</code><code class="s2">"Switzera-Regular"</code><code class="o">),</code>&#13;
         <code class="nt">local</code><code class="o">(</code><code class="s2">"SwitzeraADF-Regular"</code><code class="o">),</code>&#13;
         <code class="nt">url</code><code class="o">(</code><code class="s2">"SwitzeraADF-Regular.otf"</code><code class="o">)</code> <code class="nt">format</code><code class="o">(</code><code class="s2">"opentype"</code><code class="o">),</code>&#13;
         <code class="nt">url</code><code class="o">(</code><code class="s2">"SwitzeraADF-Regular.true"</code><code class="o">)</code> <code class="nt">format</code><code class="o">(</code><code class="s2">"truetype"</code><code class="o">);</code>&#13;
<code class="p">}</code></pre>&#13;
&#13;
<p>In this example, the user agent looks to see if it already has a font family named <code>Switzera-Regular</code> or <code>SwitzeraADF-Regular</code>, case-insensitively, available on the local machine. If so, it will use the name <code>Switzera</code> to refer to that locally installed font. If not, it will use the <code>url()</code> values to try downloading the first remote font listed that has a format type it supports.</p>&#13;
&#13;
<p>Bear in mind that the order of the resources listed in <code>src</code> matters. As soon as the browser encounters a source in a format it supports, it attempts to use that source. For this reason, <code>local()</code> values should be listed first, with no format hint needed.  This should be followed by external resources with file type hints, generally in order of smallest file size to largest to minimize performance hits.</p>&#13;
&#13;
<p>This capability allows an author to create custom names for locally installed fonts. For example, you could set up a shorter name for versions of Hiragino, a Japanese font, &#13;
<span class="keep-together">like so:</span></p>&#13;
&#13;
<pre data-code-language="css" data-type="programlisting"><code class="k">@font-face</code> <code class="p">{</code>&#13;
    <code class="nt">font-family</code><code class="o">:</code> <code class="s2">"Hiragino"</code><code class="o">;</code>&#13;
    <code class="nt">src</code><code class="o">:</code> <code class="nt">local</code><code class="o">(</code><code class="s2">"Hiragino Kaku Gothic Pro"</code><code class="o">),</code>&#13;
         <code class="nt">local</code><code class="o">(</code><code class="s2">"Hiragino Kaku Gothic Std"</code><code class="o">);</code>&#13;
<code class="p">}</code>&#13;
&#13;
<code class="nt">h1</code><code class="o">,</code> <code class="nt">h2</code><code class="o">,</code> <code class="nt">h3</code> <code class="p">{</code><code class="k">font-family</code><code class="o">:</code> <code class="n">Hiragino</code><code class="o">,</code> <code class="nb">sans-serif</code><code class="p">;}</code></pre>&#13;
&#13;
<p>As long as the user has one of the versions of Hiragino Kaku Gothic installed on their machine, those rules will cause the first three heading levels to be rendered using that font.</p>&#13;
&#13;
<p>Online services let you upload font-face files and generate all the <code>@font-face</code> rules you need, convert those files to all the formats required, and hand everything back to you as a single package. One of the best known is <a href="https://www.fontsquirrel.com/tools/webfont-generator">Font Squirrel’s @Font-Face Kit Generator</a>. Just make sure you’re legally able to convert and use the font faces you’re running through the generator (see the following sidebar for more information).<a data-primary="" data-startref="ix_font_face_fam_desc" data-type="indexterm" id="idm45176061167056"/><a data-primary="" data-startref="ix_font_face_src_desc" data-type="indexterm" id="idm45176061166176"/><a data-primary="" data-startref="ix_font_fam_desc" data-type="indexterm" id="idm45176061165232"/><a data-primary="" data-startref="ix_src_desc" data-type="indexterm" id="idm45176061164288"/></p>&#13;
<aside data-type="sidebar" epub:type="sidebar"><div class="sidebar" id="custom_font_considerations">&#13;
<h1>Custom Font Considerations</h1>&#13;
<p>You <a data-primary="@font-face rule" data-primary-sortas="font-face rule" data-secondary="custom font considerations" data-type="indexterm" id="idm45176061161360"/>need to keep two points in mind when using customized fonts. The first is that you legally must have the rights to use the font in a web page, and the second is whether it’s a good idea to do so.</p>&#13;
&#13;
<p>Much like <a data-primary="fonts" data-secondary="licensing issue" data-type="indexterm" id="idm45176061159600"/><a data-primary="@font-face rule" data-primary-sortas="font-face rule" data-secondary="licenses for" data-type="indexterm" id="idm45176061158592"/>stock photography, commercial font families come with licenses that govern their use, and not every font license permits its use on the web. You can completely avoid this question by using only free and open source software (FOSS) fonts, or by using a commercial service like Google Fonts or Adobe Fonts that deals with the licensing and format conversion issues so you don’t have to. Otherwise, you need to make sure you have the legal right to use a font face in the way you want to use it, just the same as you make sure you have the proper license for any images you want to use in your designs.</p>&#13;
&#13;
<p>In addition, the more <a data-primary="performance issues" data-secondary="custom fonts" data-type="indexterm" id="idm45176061156864"/><a data-primary="@font-face rule" data-primary-sortas="font-face rule" data-secondary="resources used by" data-type="indexterm" id="idm45176061155856"/>font faces you call upon, the more resources the web server has to hand over and the higher the overall page weight will become. Most faces are not overly large—usually 50 KB to 200 KB—but they add up quickly if you decide to get fancy with your type, and truly complicated faces can be much larger than 200 KB. You will have to balance appearance against performance, leaning one way or the other depending on the circumstances.</p>&#13;
&#13;
<p>That said, just as <a data-primary="subsetting fonts" data-type="indexterm" id="idm45176061154128"/>image optimization tools are available, so are font optimization tools. Typically, these are <em>subsetting</em> tools, which construct fonts using only the symbols actually needed for display. If you’re using a service like Adobe Fonts or <a href="http://fonts.com">Fonts.com</a>, they probably have subsetting tools available, or else do it dynamically when the font is requested.</p>&#13;
&#13;
<p>When subsetting a font, you can use the <code>unicode-range</code> descriptor to limit custom font use to only the characters in the font file.  Services such as Font Squirrel will subset the font for you and provide the unicode range in the CSS snippet it produces. Just remember that subsetting needs to be done in the font file, not just in the Unicode range, in order to reduce the file size.</p>&#13;
</div></aside>&#13;
</div></section>&#13;
&#13;
&#13;
&#13;
&#13;
&#13;
&#13;
&#13;
&#13;
<section data-pdf-bookmark="Restricting Character Range" data-type="sect2"><div class="sect2" id="restricting_character_range">&#13;
<h2>Restricting Character Range</h2>&#13;
&#13;
<p>At <a data-primary="unicode-range descriptor, @font-face" data-type="indexterm" id="ix_unicode_font_face_desc"/><a data-primary="@font-face rule" data-primary-sortas="font-face rule" data-secondary="restricting character range" data-type="indexterm" id="ix_font_face_restrict_char"/>times you might want to use a custom font in very limited circumstances; for example, to ensure that a font face is applied only to characters that are in a specific language.  In these cases, it can be useful to restrict the use of a font to certain characters or symbols, and the <code>unicode-range</code> descriptor allows precisely that.</p>&#13;
<aside data-type="sidebar" epub:type="sidebar"><div class="sidebar" id="unicode-range">&#13;
<h1>unicode-range descriptor</h1><table>&#13;
&#13;
<tbody>&#13;
<tr>&#13;
<td><p><strong>Values</strong></p></td>&#13;
<td><p>&lt;<em><code>urange</code></em>&gt;#</p></td>&#13;
</tr>&#13;
<tr>&#13;
<td><p><strong>Initial value</strong></p></td>&#13;
<td><p>U+0-10FFFF</p></td>&#13;
</tr>&#13;
</tbody>&#13;
</table>&#13;
</div></aside>&#13;
&#13;
<p>By default, the value of this descriptor covers U+0 to U+10FFFF, which is the entirety of Unicode—meaning that if a font can supply the glyph for a character, it will. Most of the time, this is exactly what you want. For all the other times, you’ll want to use specific font faces for specific kinds of content. You can define a single code point, a code-point range, or a set of ranges with the <code>?</code> wildcard character.</p>&#13;
&#13;
<p>To pick a few examples from the CSS Fonts Module Level 3:</p>&#13;
&#13;
<pre data-code-language="css" data-type="programlisting"><code class="k">unicode-range</code><code class="o">:</code> <code class="n">U</code><code class="o">+</code><code class="m">0026</code><code class="p">;</code> <code class="c">/* the Ampersand (&amp;) character */</code>&#13;
<code class="k">unicode-range</code><code class="o">:</code> <code class="n">U</code><code class="o">+</code><code class="m">590-5</code><code class="n">FF</code><code class="p">;</code>  <code class="c">/* Hebrew characters */</code>&#13;
<code class="k">unicode-range</code><code class="o">:</code> <code class="n">U</code><code class="o">+</code><code class="m">4</code><code class="n">E00</code><code class="m">-9</code><code class="n">FFF</code><code class="o">,</code> <code class="n">U</code><code class="o">+</code><code class="n">FF00</code><code class="o">-</code><code class="n">FF9F</code><code class="o">,</code> <code class="n">U</code><code class="o">+</code><code class="m">30</code><code class="o">??,</code> <code class="n">U</code><code class="o">+</code><code class="n">A5</code><code class="p">;</code>  <code class="c">/* Japanese</code>&#13;
<code class="c">  kanji, hiragana, and katakana, plus the yen/yuan currency symbol*/</code></pre>&#13;
&#13;
<p>In the first case, a single code point is specified. The font will be used only for the ampersand (&amp;) character. If the ampersand is not used, the font is not downloaded. If it is used, the entire font file is downloaded. For this reason, it is sometimes good to optimize your font files to include only characters in the specified Unicode range, especially if, as in this case, you’re using only one character from a font that could contain several thousand characters.</p>&#13;
&#13;
<p>In the second case, a single range is specified, spanning Unicode character code point 590 through code point 5FF. This covers the 111 total characters used when writing Hebrew. Thus, an author might specify a Hebrew font and restrict it to be used only for Hebrew characters, even if the face contains glyphs for other code points:</p>&#13;
&#13;
<pre data-code-language="css" data-type="programlisting"><code class="k">@font-face</code> <code class="p">{</code>&#13;
    <code class="nt">font-family</code><code class="o">:</code> <code class="s2">"CMM-Ahuvah"</code><code class="o">;</code>&#13;
    <code class="nt">src</code><code class="o">:</code> <code class="nt">url</code><code class="o">(</code><code class="s2">"cmm-ahuvah.otf"</code> <code class="nt">format</code><code class="o">(</code><code class="s2">"opentype"</code><code class="o">);</code>&#13;
    <code class="nt">unicode-range</code><code class="o">:</code> <code class="nt">U</code><code class="o">+</code><code class="nt">590-5FF</code><code class="o">;</code>&#13;
<code class="p">}</code></pre>&#13;
&#13;
<p>In the third case, a series of ranges are specified in a comma-separated list to cover all the Japanese characters. The interesting feature there is the <code>U+30??</code> value, with a question mark, which is a special format permitted in <code>unicode-range</code> values. The question marks are wildcards meaning “any possible digit,” making <code>U+30??</code> equivalent to <code>U+3000-30FF</code>. The question mark is the only “special” character pattern permitted in the value.</p>&#13;
&#13;
<p>Ranges must always ascend. Any descending range, such as <code>U+400-300</code>, is treated as a parsing error and ignored.</p>&#13;
&#13;
<p>Because <code>@font-face</code> is designed to optimize <a data-primary="lazy loading of font faces" data-type="indexterm" id="idm45176061011296"/>lazy loading, it’s possible to use <code>unicode-range</code> to download only the font faces a page actually needs, with possibly a much smaller file size when using a font file optimized to contain only the defined subset character range. If the page doesn’t use any character in the range, the font is not downloaded. If a single character on a page requires a font, the whole font is downloaded.</p>&#13;
&#13;
<p>Suppose you have a website that uses a mixture of English, Russian, and basic mathematical operators, but you don’t know which will appear on any given page. A page could be all English, a mixture of Russian and math, and so on. Furthermore, suppose you have special font faces for all three types of content. You can make sure a user agent downloads only the faces it needs with a properly constructed series of <code>@font-face</code> rules:</p>&#13;
&#13;
<pre data-code-language="css" data-type="programlisting"><code class="k">@font-face</code> <code class="p">{</code>&#13;
    <code class="nt">font-family</code><code class="o">:</code> <code class="s2">"MyFont"</code><code class="o">;</code>&#13;
    <code class="nt">src</code><code class="o">:</code> <code class="nt">url</code><code class="o">(</code><code class="s2">"myfont-general.otf"</code> <code class="nt">format</code><code class="o">(</code><code class="s2">"opentype"</code><code class="o">);</code>&#13;
<code class="p">}</code>&#13;
<code class="k">@font-face</code> <code class="p">{</code>&#13;
    <code class="nt">font-family</code><code class="o">:</code> <code class="s2">"MyFont"</code><code class="o">;</code>&#13;
    <code class="nt">src</code><code class="o">:</code> <code class="nt">url</code><code class="o">(</code><code class="s2">"myfont-cyrillic.otf"</code> <code class="nt">format</code><code class="o">(</code><code class="s2">"opentype"</code><code class="o">);</code>&#13;
    <code class="nt">unicode-range</code><code class="o">:</code> <code class="nt">U</code><code class="o">+</code><code class="nt">04</code><code class="o">??,</code> <code class="nt">U</code><code class="o">+</code><code class="nt">0500-052F</code><code class="o">,</code> <code class="nt">U</code><code class="o">+</code><code class="nt">2DE0-2DFF</code><code class="o">,</code> <code class="nt">U</code><code class="o">+</code><code class="nt">A640-A69F</code><code class="o">,</code> <code class="nt">U</code><code class="o">+</code><code class="nt">1D2B-1D78</code><code class="o">;</code>&#13;
<code class="p">}</code>&#13;
<code class="k">@font-face</code> <code class="p">{</code>&#13;
    <code class="nt">font-family</code><code class="o">:</code> <code class="s2">"MyFont"</code><code class="o">;</code>&#13;
    <code class="nt">src</code><code class="o">:</code> <code class="nt">url</code><code class="o">(</code><code class="s2">"myfont-math.otf"</code> <code class="nt">format</code><code class="o">(</code><code class="s2">"opentype"</code><code class="o">);</code>&#13;
    <code class="nt">unicode-range</code><code class="o">:</code> <code class="nt">U</code><code class="o">+</code><code class="nt">22</code><code class="o">??;</code>   <code class="c">/* equivalent to U+2200-22FF */</code>&#13;
<code class="p">}</code>&#13;
&#13;
<code class="nt">body</code> <code class="p">{</code><code class="k">font-family</code><code class="o">:</code> <code class="n">MyFont</code><code class="o">,</code> <code class="nb">serif</code><code class="p">;}</code></pre>&#13;
&#13;
<p>Because the first rule doesn’t specify a Unicode range, the entire font file is always downloaded—unless a page happens to contain no characters at all (and maybe even then). The second rule causes <em>myfont-cyrillic.otf</em> to be downloaded only if the page contains characters in its declared Unicode range; the third rule does the same for mathematical symbols.</p>&#13;
&#13;
<p>If the content calls for the mathematical character U+2222 (∢, the spherical angle character), <em>myfont-math.otf</em> will be downloaded and the character from <em>myfont-math.otf</em> will be used, even if <em>myfont-general.otf</em> has that character.</p>&#13;
&#13;
<p>A more likely way to use this capability would be our ampersand example; we can include a fancy ampersand from a cursive font and use it in place of the ampersand found in a headline font.  Something like this:</p>&#13;
&#13;
<pre data-code-language="css" data-type="programlisting"><code class="k">@font-face</code> <code class="p">{</code>&#13;
    <code class="nt">font-family</code><code class="o">:</code> <code class="s2">"Headline"</code><code class="o">;</code>&#13;
    <code class="nt">src</code><code class="o">:</code> <code class="nt">url</code><code class="o">(</code><code class="s2">"headliner.otf"</code> <code class="nt">format</code><code class="o">(</code><code class="s2">"opentype"</code><code class="o">);</code>&#13;
<code class="p">}</code>&#13;
<code class="k">@font-face</code> <code class="p">{</code>&#13;
    <code class="nt">font-family</code><code class="o">:</code> <code class="s2">"Headline"</code><code class="o">;</code>&#13;
    <code class="nt">src</code><code class="o">:</code> <code class="nt">url</code><code class="o">(</code><code class="s2">"cursive-font.otf"</code> <code class="nt">format</code><code class="o">(</code><code class="s2">"opentype"</code><code class="o">);</code>&#13;
    <code class="nt">unicode-range</code><code class="o">:</code> <code class="nt">U</code><code class="o">+</code><code class="nt">0026</code><code class="o">;</code>&#13;
<code class="p">}</code>&#13;
&#13;
<code class="nt">h1</code><code class="o">,</code> <code class="nt">h2</code><code class="o">,</code> <code class="nt">h3</code><code class="o">,</code> <code class="nt">h4</code><code class="o">,</code> <code class="nt">h5</code><code class="o">,</code> <code class="nt">h6</code> <code class="p">{</code><code class="k">font</code><code class="o">-</code><code class="n">face</code><code class="o">:</code> <code class="n">Headline</code><code class="o">,</code> <code class="nb">cursive</code><code class="p">;}</code></pre>&#13;
&#13;
<p>In a case like this, to keep page weights low, take a cursive font (that you have the rights to use) and minimize it down to contain just the ampersand character. You can use a tool like Font Squirrel to create a single-character font file.</p>&#13;
<div data-type="note" epub:type="note"><h6>Note</h6>&#13;
<p>Remember that pages can be translated with automated services like Google Translate.  If you too aggressively restrict your Unicode ranges (say, to the range of unaccented letters used in English), an auto-translated version of the page into French or Swedish, for example, could end up a mishmash of characters in different font faces, as the accented characters in those languages would use a fallback font and the unaccented characters would be in your intended font.<a data-primary="" data-startref="ix_font_face_restrict_char" data-type="indexterm" id="idm45176060845360"/><a data-primary="" data-startref="ix_unicode_font_face_desc" data-type="indexterm" id="idm45176060803696"/></p>&#13;
</div>&#13;
</div></section>&#13;
&#13;
&#13;
&#13;
&#13;
&#13;
&#13;
&#13;
&#13;
<section data-pdf-bookmark="Working with Font Display" data-type="sect2"><div class="sect2" id="font_display">&#13;
<h2>Working with Font Display</h2>&#13;
&#13;
<p>If you’re a <a data-primary="FOUC (flash of unstyled content)" data-type="indexterm" id="idm45176060801056"/><a data-primary="flash of unstyled content (FOUC)" data-type="indexterm" id="idm45176060800352"/>designer or developer of a certain vintage, you may remember the days of the <em>flash of unstyled content</em> (<em>FOUC</em>). This happened in earlier browsers that would load the HTML and display it to the screen before the CSS was finished loading, or, at least, before the layout of the page via CSS was finished.</p>&#13;
&#13;
<p>A <em>flash of unstyled text</em> (<em>FOUT</em>) <a data-primary="FOUT (flash of unstyled text)" data-type="indexterm" id="idm45176060797472"/><a data-primary="flash of unstyled text (FOUT)" data-type="indexterm" id="idm45176060749936"/>happens when a browser has loaded the page and the CSS and then displays the laid-out page, along with all the text, before it’s done loading custom fonts. FOUT causes text to appear in the default font, or a fallback font, before being replaced by text using the custom-loaded font.</p>&#13;
&#13;
<p>A cousin to this <a data-primary="FOIT (flash of invisible text)" data-type="indexterm" id="idm45176060748816"/><a data-primary="flash of invisible text (FOIT)" data-type="indexterm" id="idm45176060748208"/>problem is the <em>flash of invisible text</em> (<em>FOIT</em>).  This user-agent solution to FOUT is caused when the browser detects that text is set in a custom font that hasn’t loaded yet and makes the text invisible until the font loads or a certain amount of time &#13;
<span class="keep-together">has passed.</span></p>&#13;
&#13;
<p>Since the replacement of text can change its size, whether via FOUT or FOIT, take care when selecting fallback fonts. If a significant height difference exists between the font used to initially display the text and the custom font eventually loaded and used, significant page reflows are likely to occur.</p>&#13;
&#13;
<p>In an <a data-primary="font-display descriptor" data-type="indexterm" id="ix_font_disp_desc"/>attempt to help with this, the <code>font-display</code> descriptor guides the browser to proceed with text rendering when a web font has yet to load.</p>&#13;
<aside data-type="sidebar" epub:type="sidebar"><div class="sidebar" id="font-display">&#13;
<h1>font-display descriptor</h1><table>&#13;
&#13;
<tbody>&#13;
<tr>&#13;
<td><p><strong>Values</strong></p></td>&#13;
<td><p><code>auto</code> | <code>block</code> | <code>swap</code> | <code>fallback</code> | <code>optional</code></p></td>&#13;
</tr>&#13;
<tr>&#13;
<td><p><strong>Initial value</strong></p></td>&#13;
<td><p><code>auto</code></p></td>&#13;
</tr>&#13;
<tr>&#13;
<td><p><strong>Applies to</strong></p></td>&#13;
<td><p>All elements</p></td>&#13;
</tr>&#13;
<tr>&#13;
<td><p><strong>Computed value</strong></p></td>&#13;
<td><p>As specified</p></td>&#13;
</tr>&#13;
</tbody>&#13;
</table>&#13;
</div></aside>&#13;
&#13;
<p>What we can call the <em>font-display timeline timer</em> starts when the user agent first paints the page. The timeline is divided into three periods: block, swap, and failure.</p>&#13;
&#13;
<p>During the <em>font-block period</em>, if the font face is not loaded, the browser renders any content that should use that font by using an invisible fallback font face, meaning the text content is not visible but the space is reserved. If the font loads successfully during the block period, the text is rendered with the downloaded font and made visible.</p>&#13;
&#13;
<p>During the <em>swap period</em>, if the font face is not loaded, the browser renders the content by using a visible fallback font face, most likely one it has installed locally (e.g., Helvetica). If the font loads successfully, the fallback font face is swapped to the downloaded font.</p>&#13;
&#13;
<p>Once the <em>failure period</em> is entered, the user agent treats the requested font as a failed load, falls back to an available font, and will not swap the font if it does eventually load.  If the swap period is infinite, the failure period is never entered.</p>&#13;
&#13;
<p>The values of the <code>font-display</code> descriptor match these periods of the timeline, and their effect is to emphasize one part of the timeline at the expense of the others.  The effects are summarized in <a data-type="xref" href="#font-display-values">Table 14-4</a>.</p>&#13;
<table id="font-display-values">&#13;
<caption><span class="label">Table 14-4. </span><code>font-display</code> values</caption>&#13;
<thead>&#13;
<tr>&#13;
   <th>Value</th>&#13;
   <th>Block period<sup><a data-type="noteref" href="ch14.html#fn-fdv-1" id="fn-fdv-1-marker">a</a></sup></th>&#13;
   <th>Swap period<sup><a data-type="noteref" epub:type="noteref" href="#fn-fdv-1">a</a></sup></th>&#13;
   <th>Failure period<sup><a data-type="noteref" epub:type="noteref" href="#fn-fdv-1">a</a></sup></th>&#13;
</tr>&#13;
</thead>&#13;
<tbody>&#13;
   <tr>&#13;
      <td><code>auto</code></td>&#13;
      <td>Browser defined</td>&#13;
      <td>Browser defined</td>&#13;
      <td>Browser defined</td>&#13;
   </tr>&#13;
      <tr>&#13;
      <td><code>block</code></td>&#13;
      <td>3s</td>&#13;
      <td>Infinite</td>&#13;
      <td><em>n/a</em></td>&#13;
   </tr>&#13;
      <tr>&#13;
      <td><code>swap</code></td>&#13;
      <td>&lt; 100 ms</td>&#13;
      <td>Infinite</td>&#13;
      <td><em>n/a</em></td>&#13;
   </tr>&#13;
      <tr>&#13;
      <td><code>fallback</code></td>&#13;
      <td>&lt; 100 ms</td>&#13;
      <td>3s</td>&#13;
      <td>Infinite</td>&#13;
   </tr>&#13;
      <tr>&#13;
      <td><code>optional</code></td>&#13;
      <td>0</td>&#13;
      <td>0</td>&#13;
      <td>Infinite</td>&#13;
   </tr>&#13;
</tbody>&#13;
&#13;
<tbody><tr class="footnotes"><td colspan="4"><p data-type="footnote" id="fn-fdv-1"><sup><a href="ch14.html#fn-fdv-1-marker">a</a></sup> Recommended period length; actual times may vary</p></td></tr></tbody></table>&#13;
&#13;
<p class="pagebreak-before">Let’s consider each value in turn:</p>&#13;
<dl>&#13;
<dt><code>block</code></dt>&#13;
<dd>&#13;
<p>Tells the <a data-primary="block keyword, font-display" data-type="indexterm" id="idm45176060705152"/>browser to hold open space for the font for a few seconds (3 is what the specification recommends, but browsers may choose their own values), and then enters an infinitely long swap period.  If the font ever finally loads, even if it’s 10 minutes later, the fallback font that was used in its place will be replaced with the loaded font.</p>&#13;
</dd>&#13;
<dt><code>swap</code></dt>&#13;
<dd>&#13;
<p>Is similar, <a data-primary="swap keyword, font-display" data-type="indexterm" id="idm45176060702912"/>except it doesn’t hold the space open for longer than a fraction of a second (100 milliseconds is the recommendation).  A fallback font is then used, and is replaced with the intended font whenever it finally loads.</p>&#13;
</dd>&#13;
<dt><code>fallback</code></dt>&#13;
<dd>&#13;
<p>Gives the <a data-primary="fallback keyword, font-display" data-type="indexterm" id="idm45176060700672"/>same brief block window that <code>swap</code> does, and then enters a short period in which the fallback font can be replaced by the intended font.  If that short period (3 seconds is recommended) is exceeded, the fallback font is used indefinitely, and the user agent may cancel the download of the intended font since a swap will never &#13;
<span class="keep-together">happen.</span></p>&#13;
</dd>&#13;
<dt><code>optional</code></dt>&#13;
<dd>&#13;
<p>Is the <a data-primary="optional keyword, font-display" data-type="indexterm" id="idm45176060697408"/>most stringent of them all: if the font isn’t immediately available at first paint, the user agent goes straight to the fallback font and skips right over the block and swap periods to sit in the failure period for the rest of the page’s life.<a data-primary="" data-startref="ix_font_disp_desc" data-type="indexterm" id="idm45176060696480"/></p>&#13;
</dd>&#13;
</dl>&#13;
</div></section>&#13;
&#13;
&#13;
&#13;
&#13;
&#13;
&#13;
&#13;
&#13;
<section data-pdf-bookmark="Combining Descriptors" data-type="sect2"><div class="sect2" id="combining_descriptors">&#13;
<h2>Combining Descriptors</h2>&#13;
&#13;
<p>Something that <a data-primary="@font-face rule" data-primary-sortas="font-face rule" data-secondary="combining descriptors" data-type="indexterm" id="ix_font_face_combine"/>might not be immediately obvious is that you can supply multiple descriptors in order to assign specific faces for specific property combinations. For example, you can assign one face to bold text, another to italic text, and a third to text that is both bold and italic.</p>&#13;
&#13;
<p>This capability is implicit, as any undeclared descriptor is assigned its default value. Let’s consider a basic set of three face assignments, using both descriptors we’ve covered and a few we’ll get to in a bit:</p>&#13;
&#13;
<pre data-code-language="css" data-type="programlisting"><code class="k">@font-face</code> <code class="p">{</code>&#13;
    <code class="nt">font-family</code><code class="o">:</code> <code class="s2">"Switzera"</code><code class="o">;</code>&#13;
    <code class="nt">font-weight</code><code class="o">:</code> <code class="nt">normal</code><code class="o">;</code>&#13;
    <code class="nt">font-style</code><code class="o">:</code> <code class="nt">normal</code><code class="o">;</code>&#13;
    <code class="nt">font-stretch</code><code class="o">:</code> <code class="nt">normal</code><code class="o">;</code>&#13;
    <code class="nt">src</code><code class="o">:</code> <code class="nt">url</code><code class="o">(</code><code class="s2">"SwitzeraADF-Regular.otf"</code><code class="o">)</code> <code class="nt">format</code><code class="o">(</code><code class="s2">"opentype"</code><code class="o">);</code>&#13;
<code class="p">}</code>&#13;
<code class="k">@font-face</code> <code class="p">{</code>&#13;
    <code class="nt">font-family</code><code class="o">:</code> <code class="s2">"Switzera"</code><code class="o">;</code>&#13;
    <code class="nt">font-weight</code><code class="o">:</code> <code class="nt">500</code><code class="o">;</code>&#13;
    <code class="nt">font-style</code><code class="o">:</code> <code class="nt">normal</code><code class="o">;</code>&#13;
    <code class="nt">font-stretch</code><code class="o">:</code> <code class="nt">normal</code><code class="o">;</code>&#13;
    <code class="nt">src</code><code class="o">:</code> <code class="nt">url</code><code class="o">(</code><code class="s2">"SwitzeraADF-Bold.otf"</code><code class="o">)</code> <code class="nt">format</code><code class="o">(</code><code class="s2">"opentype"</code><code class="o">);</code>&#13;
<code class="p">}</code>&#13;
<code class="k">@font-face</code> <code class="p">{</code>&#13;
    <code class="nt">font-family</code><code class="o">:</code> <code class="s2">"Switzera"</code><code class="o">;</code>&#13;
    <code class="nt">font-weight</code><code class="o">:</code> <code class="nt">normal</code><code class="o">;</code>&#13;
    <code class="nt">font-style</code><code class="o">:</code> <code class="nt">italic</code><code class="o">;</code>&#13;
    <code class="nt">font-stretch</code><code class="o">:</code> <code class="nt">normal</code><code class="o">;</code>&#13;
    <code class="nt">src</code><code class="o">:</code> <code class="nt">url</code><code class="o">(</code><code class="s2">"SwitzeraADF-Italic.otf"</code><code class="o">)</code> <code class="nt">format</code><code class="o">(</code><code class="s2">"opentype"</code><code class="o">);</code>&#13;
<code class="p">}</code></pre>&#13;
&#13;
<p>You may have noticed that we’ve explicitly declared some descriptors with their default values, even though we didn’t need to. The previous example is exactly the same as a set of three rules in which we remove every descriptor that shows a value of <code>normal</code>:</p>&#13;
&#13;
<pre data-code-language="css" data-type="programlisting"><code class="k">@font-face</code> <code class="p">{</code>&#13;
   <code class="nt">font-family</code><code class="o">:</code> <code class="s2">"Switzera"</code><code class="o">;</code>&#13;
   <code class="nt">src</code><code class="o">:</code> <code class="nt">url</code><code class="o">(</code><code class="s2">"SwitzeraADF-Regular.otf"</code><code class="o">)</code> <code class="nt">format</code><code class="o">(</code><code class="s2">"opentype"</code><code class="o">);</code>&#13;
<code class="p">}</code>&#13;
<code class="k">@font-face</code> <code class="p">{</code>&#13;
   <code class="nt">font-family</code><code class="o">:</code> <code class="s2">"Switzera"</code><code class="o">;</code>&#13;
   <code class="nt">font-weight</code><code class="o">:</code> <code class="nt">500</code><code class="o">;</code>&#13;
   <code class="nt">src</code><code class="o">:</code> <code class="nt">url</code><code class="o">(</code><code class="s2">"SwitzeraADF-Bold.otf"</code><code class="o">)</code> <code class="nt">format</code><code class="o">(</code><code class="s2">"opentype"</code><code class="o">);</code>&#13;
<code class="p">}</code>&#13;
<code class="k">@font-face</code> <code class="p">{</code>&#13;
   <code class="nt">font-family</code><code class="o">:</code> <code class="s2">"Switzera"</code><code class="o">;</code>&#13;
   <code class="nt">font-style</code><code class="o">:</code> <code class="nt">italic</code><code class="o">;</code>&#13;
   <code class="nt">src</code><code class="o">:</code> <code class="nt">url</code><code class="o">(</code><code class="s2">"SwitzeraADF-Italic.otf"</code><code class="o">)</code> <code class="nt">format</code><code class="o">(</code><code class="s2">"opentype"</code><code class="o">);</code>&#13;
<code class="p">}</code></pre>&#13;
&#13;
<p>In all three rules, no font-stretching occurs beyond the default <code>normal</code> amount, and the values of <code>font-weight</code> and <code>font-style</code> vary by which face is being assigned. So what if we want to assign a specific face to unstretched text that’s both bold and italic?</p>&#13;
&#13;
<pre data-code-language="css" data-type="programlisting"><code class="k">@font-face</code> <code class="p">{</code>&#13;
   <code class="nt">font-family</code><code class="o">:</code> <code class="s2">"Switzera"</code><code class="o">;</code>&#13;
   <code class="nt">font-weight</code><code class="o">:</code> <code class="nt">bold</code><code class="o">;</code>&#13;
   <code class="nt">font-style</code><code class="o">:</code> <code class="nt">italic</code><code class="o">;</code>&#13;
   <code class="nt">font-stretch</code><code class="o">:</code> <code class="nt">normal</code><code class="o">;</code>&#13;
   <code class="nt">src</code><code class="o">:</code> <code class="nt">url</code><code class="o">(</code><code class="s2">"SwitzeraADF-BoldItalic.otf"</code><code class="o">)</code> <code class="nt">format</code><code class="o">(</code><code class="s2">"opentype"</code><code class="o">);</code>&#13;
<code class="p">}</code></pre>&#13;
&#13;
<p>And then what about bold, italic, condensed text?</p>&#13;
&#13;
<pre data-code-language="css" data-type="programlisting"><code class="k">@font-face</code> <code class="p">{</code>&#13;
   <code class="nt">font-family</code><code class="o">:</code> <code class="s2">"Switzera"</code><code class="o">;</code>&#13;
   <code class="nt">font-weight</code><code class="o">:</code> <code class="nt">bold</code><code class="o">;</code>&#13;
   <code class="nt">font-style</code><code class="o">:</code> <code class="nt">italic</code><code class="o">;</code>&#13;
   <code class="nt">font-stretch</code><code class="o">:</code> <code class="nt">condensed</code><code class="o">;</code>&#13;
   <code class="nt">src</code><code class="o">:</code> <code class="nt">url</code><code class="o">(</code><code class="s2">"SwitzeraADF-BoldCondItalic.otf"</code><code class="o">)</code> <code class="nt">format</code><code class="o">(</code><code class="s2">"opentype"</code><code class="o">);</code>&#13;
<code class="p">}</code></pre>&#13;
&#13;
<p>How about normal-weight, italic, condensed text?</p>&#13;
&#13;
<pre data-code-language="css" data-type="programlisting"><code class="k">@font-face</code> <code class="p">{</code>&#13;
   <code class="nt">font-family</code><code class="o">:</code> <code class="s2">"Switzera"</code><code class="o">;</code>&#13;
   <code class="nt">font-weight</code><code class="o">:</code> <code class="nt">normal</code><code class="o">;</code>&#13;
   <code class="nt">font-style</code><code class="o">:</code> <code class="nt">italic</code><code class="o">;</code>&#13;
   <code class="nt">font-stretch</code><code class="o">:</code> <code class="nt">condensed</code><code class="o">;</code>&#13;
   <code class="nt">src</code><code class="o">:</code> <code class="nt">url</code><code class="o">(</code><code class="s2">"SwitzeraADF-CondItalic.otf"</code><code class="o">)</code> <code class="nt">format</code><code class="o">(</code><code class="s2">"opentype"</code><code class="o">);</code>&#13;
<code class="p">}</code></pre>&#13;
&#13;
<p>We could keep this up for quite a while, but let’s stop there. If we take all those rules and strip out anything with a <code>normal</code> value, we end up with the following result, illustrated in <a data-type="xref" href="#employing_a_variety_of_faces">Figure 14-3</a>:</p>&#13;
&#13;
<pre data-code-language="css" data-type="programlisting"><code class="k">@font-face</code> <code class="p">{</code>&#13;
   <code class="nt">font-family</code><code class="o">:</code> <code class="s2">"Switzera"</code><code class="o">;</code>&#13;
   <code class="nt">src</code><code class="o">:</code> <code class="nt">url</code><code class="o">(</code><code class="s2">"SwitzeraADF-Regular.otf"</code><code class="o">)</code> <code class="nt">format</code><code class="o">(</code><code class="s2">"opentype"</code><code class="o">);</code>&#13;
<code class="p">}</code>&#13;
<code class="k">@font-face</code> <code class="p">{</code>&#13;
   <code class="nt">font-family</code><code class="o">:</code> <code class="s2">"Switzera"</code><code class="o">;</code>&#13;
   <code class="nt">font-weight</code><code class="o">:</code> <code class="nt">bold</code><code class="o">;</code>&#13;
   <code class="nt">src</code><code class="o">:</code> <code class="nt">url</code><code class="o">(</code><code class="s2">"SwitzeraADF-Bold.otf"</code><code class="o">)</code> <code class="nt">format</code><code class="o">(</code><code class="s2">"opentype"</code><code class="o">);</code>&#13;
<code class="p">}</code>&#13;
<code class="k">@font-face</code> <code class="p">{</code>&#13;
   <code class="nt">font-family</code><code class="o">:</code> <code class="s2">"Switzera"</code><code class="o">;</code>&#13;
   <code class="nt">font-style</code><code class="o">:</code> <code class="nt">italic</code><code class="o">;</code>&#13;
   <code class="nt">src</code><code class="o">:</code> <code class="nt">url</code><code class="o">(</code><code class="s2">"SwitzeraADF-Italic.otf"</code><code class="o">)</code> <code class="nt">format</code><code class="o">(</code><code class="s2">"opentype"</code><code class="o">);</code>&#13;
<code class="p">}</code>&#13;
<code class="k">@font-face</code> <code class="p">{</code>&#13;
   <code class="nt">font-family</code><code class="o">:</code> <code class="s2">"Switzera"</code><code class="o">;</code>&#13;
   <code class="nt">font-weight</code><code class="o">:</code> <code class="nt">bold</code><code class="o">;</code>&#13;
   <code class="nt">font-style</code><code class="o">:</code> <code class="nt">italic</code><code class="o">;</code>&#13;
   <code class="nt">src</code><code class="o">:</code> <code class="nt">url</code><code class="o">(</code><code class="s2">"SwitzeraADF-BoldItalic.otf"</code><code class="o">)</code> <code class="nt">format</code><code class="o">(</code><code class="s2">"opentype"</code><code class="o">);</code>&#13;
<code class="p">}</code>&#13;
<code class="k">@font-face</code> <code class="p">{</code>&#13;
   <code class="nt">font-family</code><code class="o">:</code> <code class="s2">"Switzera"</code><code class="o">;</code>&#13;
   <code class="nt">font-weight</code><code class="o">:</code> <code class="nt">bold</code><code class="o">;</code>&#13;
   <code class="nt">font-stretch</code><code class="o">:</code> <code class="nt">condensed</code><code class="o">;</code>&#13;
   <code class="nt">src</code><code class="o">:</code> <code class="nt">url</code><code class="o">(</code><code class="s2">"SwitzeraADF-BoldCond.otf"</code><code class="o">)</code> <code class="nt">format</code><code class="o">(</code><code class="s2">"opentype"</code><code class="o">);</code>&#13;
<code class="p">}</code>&#13;
<code class="k">@font-face</code> <code class="p">{</code>&#13;
   <code class="nt">font-family</code><code class="o">:</code> <code class="s2">"Switzera"</code><code class="o">;</code>&#13;
   <code class="nt">font-style</code><code class="o">:</code> <code class="nt">italic</code><code class="o">;</code>&#13;
   <code class="nt">font-stretch</code><code class="o">:</code> <code class="nt">condensed</code><code class="o">;</code>&#13;
   <code class="nt">src</code><code class="o">:</code> <code class="nt">url</code><code class="o">(</code><code class="s2">"SwitzeraADF-CondItalic.otf"</code><code class="o">)</code> <code class="nt">format</code><code class="o">(</code><code class="s2">"opentype"</code><code class="o">);</code>&#13;
<code class="p">}</code>&#13;
<code class="k">@font-face</code> <code class="p">{</code>&#13;
   <code class="nt">font-family</code><code class="o">:</code> <code class="s2">"Switzera"</code><code class="o">;</code>&#13;
   <code class="nt">font-weight</code><code class="o">:</code> <code class="nt">bold</code><code class="o">;</code>&#13;
   <code class="nt">font-style</code><code class="o">:</code> <code class="nt">italic</code><code class="o">;</code>&#13;
   <code class="nt">font-stretch</code><code class="o">:</code> <code class="nt">condensed</code><code class="o">;</code>&#13;
   <code class="nt">src</code><code class="o">:</code> <code class="nt">url</code><code class="o">(</code><code class="s2">"SwitzeraADF-BoldCondItalic.otf"</code><code class="o">)</code> <code class="nt">format</code><code class="o">(</code><code class="s2">"opentype"</code><code class="o">);</code>&#13;
<code class="p">}</code></pre>&#13;
&#13;
<figure><div class="figure" id="employing_a_variety_of_faces">&#13;
<img alt="css5 1403" src="assets/css5_1403.png"/>&#13;
<h6><span class="label">Figure 14-3. </span>Employing a variety of faces</h6>&#13;
</div></figure>&#13;
&#13;
<p>If you declare <code>html { +font-family: switzera;}</code>, you don’t have to declare the font family again for additional selectors that use <code>switzera</code>. The browser will use the correct font file for your bold, italic, stretched, and normal text depending on your selector-specific values for the <code>font-weight</code>, <code>font-style</code>, and <code>font-stretch</code> property values.</p>&#13;
&#13;
<p>The point is, we can have a specific font file for every weight, style, and stretch. The ability to declare all the variations within a few <code>@font-face</code> rules with a single <code>font-family</code> name ensures cohesive typeface design and avoids font synthesis even when using nonvariable fonts. Declaring all the variations of a font via <code>@font-face</code>, with the same <code>font-family</code> descriptor name, reduces <code>font-family</code> property overrides, reducing the chance of other developers on your team using the wrong font file for a specific selector.</p>&#13;
&#13;
<p>As you can see, when using standard fonts, a lot of possible combinations exist just for those three descriptors—consider that <code>font-stretch</code> has 10 possible values—but you’ll likely never have to run through them all. In fact, most font families don’t have as many faces as SwitzeraADF offers (24 at last count), so there wouldn’t be much point in writing out all the possibilities. Nevertheless, the options are there, and in some cases you may find that you need to assign, say, a specific face for bold condensed text so that the user agent doesn’t try to compute them for you.  Or else use a variable font that has weight and condensing axes.</p>&#13;
&#13;
<p>Now that we’ve covered <code>@font-face</code> and provided an overview of a few descriptors, let’s get back to properties.<a data-primary="" data-startref="ix_font_face_ch14" data-type="indexterm" id="idm45176060185504"/><a data-primary="" data-startref="ix_font_face_combine" data-type="indexterm" id="idm45176060184528"/></p>&#13;
</div></section>&#13;
</div></section>&#13;
&#13;
&#13;
&#13;
&#13;
&#13;
&#13;
<section data-pdf-bookmark="Font Weights" data-type="sect1"><div class="sect1" id="font_weights">&#13;
<h1>Font Weights</h1>&#13;
&#13;
<p>Most of us are used to <a data-primary="fonts" data-secondary="weights" data-type="indexterm" id="ix_font_weights"/><a data-primary="font-weight property" data-type="indexterm" id="ix_font_weight_prop"/>normal and bold text, which are the two most basic font weights available. CSS gives you a lot more control over font weights with the property &#13;
<span class="keep-together"><code>font-weight</code>.</span></p>&#13;
<aside data-type="sidebar" epub:type="sidebar"><div class="sidebar" id="font-weight">&#13;
<h1>font-weight</h1><table>&#13;
&#13;
<tbody>&#13;
<tr>&#13;
<td><p><strong>Values</strong></p></td>&#13;
<td><p><code>normal</code> | <code>bold</code> | <code>bolder</code> | <code>lighter</code> | &lt;<em><code>number</code></em>&gt;</p></td>&#13;
</tr>&#13;
<tr>&#13;
<td><p><strong>Initial value</strong></p></td>&#13;
<td><p><code>normal</code></p></td>&#13;
</tr>&#13;
<tr>&#13;
<td><p><strong>Applies to</strong></p></td>&#13;
<td><p>All elements</p></td>&#13;
</tr>&#13;
<tr>&#13;
<td><p><strong>Computed value</strong></p></td>&#13;
<td><p>One of the numeric values (<code>100</code>, etc.), or one of the numeric values plus one of the relative values (<code>bolder</code> or <code>lighter</code>)</p></td>&#13;
</tr>&#13;
<tr>&#13;
<td><p><strong>@font-face equivalent</strong></p></td>&#13;
<td><p><code>font-weight</code></p></td>&#13;
</tr>&#13;
<tr>&#13;
<td><p><strong>Variable axis</strong></p></td>&#13;
<td><p><code>"wght"</code></p></td>&#13;
</tr>&#13;
<tr>&#13;
<td><p><strong>Inherited</strong></p></td>&#13;
<td><p>Yes</p></td>&#13;
</tr>&#13;
<tr>&#13;
<td><p><strong>Animatable</strong></p></td>&#13;
<td><p>No</p></td>&#13;
</tr>&#13;
</tbody>&#13;
</table>&#13;
</div></aside>&#13;
&#13;
<p>The &lt;<em><code>number</code></em>&gt; value can be from <code>1</code> to <code>1000</code>, inclusive, where <code>1</code> is the lightest and <code>1000</code> is the heaviest possible weight.  Unless you are using variable fonts, discussed later, limited weights are almost always available for a font family (sometimes there is only a single weight).</p>&#13;
&#13;
<p>Generally speaking, the heavier a font weight becomes, the darker and “more bold” a font appears. There are a great many ways to label a heavy font face. For example, the font family known as SwitzeraADF has variants such as SwitzeraADF Bold, SwitzeraADF Extra Bold, SwitzeraADF Light, and SwitzeraADF Regular. All of these use the same basic font shapes, but each has a different weight.</p>&#13;
&#13;
<p>If the specified weight doesn’t exist, a nearby weight is used.  <a data-type="xref" href="#weight_mappings">Table 14-5</a> lists the numbers used for each of the commonly accepted font weight labels, as defined in the <code>"wght"</code> variation axis.  If a font has only two weights corresponding to <code>400</code> and <code>700</code> (normal and bold), any number value for <code>font-weight</code> will be mapped to the closest value.  Thus, any <code>font-weight</code> value from <code>1</code> through <code>550</code> will be mapped to <code>400</code>, and any value greater than <code>550</code> up through <code>1000</code> will be mapped to <code>700</code>.</p>&#13;
<table id="weight_mappings">&#13;
<caption><span class="label">Table 14-5. </span>Weight mappings</caption>&#13;
<thead>&#13;
<tr>&#13;
<th>Value</th>&#13;
<th>Mapping</th>&#13;
</tr>&#13;
</thead>&#13;
<tbody>&#13;
<tr>&#13;
<td><p>1</p></td>&#13;
<td><p>Lowest valid value</p></td>&#13;
</tr>&#13;
<tr>&#13;
<td><p>100</p></td>&#13;
<td><p>Thin</p></td>&#13;
</tr>&#13;
<tr>&#13;
<td><p>200</p></td>&#13;
<td><p>Extra Light (Ultra Light)</p></td>&#13;
</tr>&#13;
<tr>&#13;
<td><p>300</p></td>&#13;
<td><p>Light</p></td>&#13;
</tr>&#13;
<tr>&#13;
<td><p>400</p></td>&#13;
<td><p>Normal</p></td>&#13;
</tr>&#13;
<tr>&#13;
<td><p>500</p></td>&#13;
<td><p>Medium</p></td>&#13;
</tr>&#13;
<tr>&#13;
<td><p>600</p></td>&#13;
<td><p>Semi Bold (Demi Bold)</p></td>&#13;
</tr>&#13;
<tr>&#13;
<td><p>700</p></td>&#13;
<td><p>Bold</p></td>&#13;
</tr>&#13;
<tr>&#13;
<td><p>800</p></td>&#13;
<td><p>Extra Bold (Ultra Bold)</p></td>&#13;
</tr>&#13;
<tr>&#13;
<td><p>900</p></td>&#13;
<td><p>Black (Heavy)</p></td>&#13;
</tr>&#13;
<tr>&#13;
<td><p>950</p></td>&#13;
<td><p>Extra Black (Ultra Black)</p></td>&#13;
</tr>&#13;
<tr>&#13;
<td><p>1000</p></td>&#13;
<td><p>Highest valid value</p></td>&#13;
</tr>&#13;
</tbody>&#13;
</table>&#13;
&#13;
<p>Let’s say that you want to use SwitzeraADF for a document but would like to make use of all those heaviness levels. If your user has all the font files locally on their machine and you didn’t use <code>@font-face</code> to rename all the options to <code>Switzera</code>, you could refer to them directly through the <code>font-family</code> property—but you really shouldn’t have to do that. It’s no fun having to write a stylesheet like this:</p>&#13;
&#13;
<pre data-code-language="css" data-type="programlisting"><code class="nt">h1</code> <code class="p">{</code><code class="k">font-family</code><code class="o">:</code> <code class="s1">'SwitzeraADF Extra Bold'</code><code class="o">,</code> <code class="nb">sans-serif</code><code class="p">;}</code>&#13;
<code class="nt">h2</code> <code class="p">{</code><code class="k">font-family</code><code class="o">:</code> <code class="s1">'SwitzeraADF Bold'</code><code class="o">,</code> <code class="nb">sans-serif</code><code class="p">;}</code>&#13;
<code class="nt">h3</code> <code class="p">{</code><code class="k">font-family</code><code class="o">:</code> <code class="s1">'SwitzeraADF Bold'</code><code class="o">,</code> <code class="nb">sans-serif</code><code class="p">;}</code>&#13;
<code class="nt">h4</code><code class="o">,</code> <code class="nt">p</code> <code class="p">{</code><code class="k">font-family</code><code class="o">:</code> <code class="s1">'SwitzeraADF Regular'</code><code class="o">,</code> <code class="nb">sans-serif</code><code class="p">;}</code>&#13;
<code class="nt">small</code> <code class="p">{</code><code class="k">font-family</code><code class="o">:</code> <code class="s1">'SwitzeraADF Light'</code><code class="o">,</code> <code class="nb">sans-serif</code><code class="p">;}</code></pre>&#13;
&#13;
<p>That’s pretty tedious. This is a perfect example of why specifying a single font family for the whole document and then assigning different weights to various elements by using <code>@font-face</code> is so powerful: you can include several <code>@font-face</code> declarations, each with the same <code>font-family</code> name, but with various values for the <code>font-weight</code> descriptors.  Then you can use different font files with fairly simple <code>font-weight</code> declarations:</p>&#13;
&#13;
<pre data-code-language="css" data-type="programlisting"><code class="nt">strong</code> <code class="p">{</code><code class="k">font-weight</code><code class="o">:</code> <code class="nb">bold</code><code class="p">;}</code>&#13;
<code class="nt">b</code> <code class="p">{</code><code class="k">font-weight</code><code class="o">:</code> <code class="nb">bolder</code><code class="p">;}</code></pre>&#13;
&#13;
<p>The first declaration says the <code>&lt;strong&gt;</code> element should be displayed using a bold font face or, to put it another way, a font face that is heavier than the normal font face.  The second declaration says <code>&lt;b&gt;</code> should use a font face that is the inherited <code>font-weight</code> value &#13;
<span class="keep-together">plus 100.</span></p>&#13;
&#13;
<p>What’s really happening behind the scenes is that heavier faces of the font are used for displaying <code>&lt;strong&gt;</code> and <code>&lt;b&gt;</code> elements. Thus, if you display a paragraph using Times, and part of it is bold, then two faces of the same font are really in use: Times and TimesBold. The regular text is displayed using Times, and the bold and bolder text are displayed using TimesBold.</p>&#13;
&#13;
<p>If the font doesn’t have a boldfaced version, it may be synthesized by the browser, creating a faux bold. (To prevent this, use <code>font-synthesis</code> property, which is described later.)</p>&#13;
&#13;
&#13;
&#13;
&#13;
&#13;
&#13;
&#13;
&#13;
<section data-pdf-bookmark="How Weights Work" data-type="sect2"><div class="sect2" id="how_weights_work">&#13;
<h2>How Weights Work</h2>&#13;
&#13;
<p>To understand how a user agent determines the heaviness, or weight, of a given font variant (not to mention how weight is inherited), it’s easiest to start by talking about the values <code>1</code> through <code>1000</code> inclusive, specifically the values divisible by 100, <code>100</code> through <code>900</code>. These number values were defined to map to a relatively common feature of font design that gives a font nine levels of weight. If a nonvariable font family has faces for all nine weight levels available, the numbers are mapped directly to the predefined levels, with <code>100</code> as the lightest variant of the font and <code>900</code> as the heaviest.</p>&#13;
&#13;
<p>In fact, these numbers have no intrinsic weight. The CSS specification says only that each number corresponds to a weight at least as heavy as the number that precedes it. Thus, <code>100</code>, <code>200</code>, <code>300</code>, and <code>400</code> might all map to a single relatively lightweight variant; <code>500</code> and <code>600</code> could correspond to a single medium-heavy font variant; and <code>700</code>, <code>800</code>, and <code>900</code> could all produce the same very heavy font variant. As long as no number corresponds to a variant that is lighter than the variant assigned to the previous lower number, everything will be all right.</p>&#13;
&#13;
<p>When it comes to nonvariable fonts, these numbers are defined to be equivalent to certain common variant names. The value <code>400</code> is defined to be equivalent to <code>normal</code>, and <code>700</code> corresponds to <code>bold</code>.</p>&#13;
&#13;
<p>A user agent has to do some calculations if a font family has fewer than nine weights. In this case, the user agent must fill in the gaps in a predetermined way:</p>&#13;
&#13;
<ul>&#13;
<li>&#13;
<p>If the value <code>500</code> is unassigned, it is given the same font weight as that assigned to <code>400</code>.</p>&#13;
</li>&#13;
<li>&#13;
<p>If <code>300</code> is unassigned, it is given the next variant lighter than <code>400</code>. If no lighter variant is available, <code>300</code> is assigned the same variant as <code>400</code>. In this case, it will usually be Normal or Medium. This method is also used for <code>200</code> and <code>100</code>.</p>&#13;
</li>&#13;
<li>&#13;
<p>If <code>600</code> is unassigned, it is given the next variant darker than that assigned for <code>500</code>. If no darker variant is available, <code>600</code> is assigned the same variant as <code>500</code>. This method is also used for <code>700</code>, <code>800</code>, and <code>900</code>.</p>&#13;
</li>&#13;
</ul>&#13;
&#13;
<p>To illustrate this weighting scheme more clearly, let’s look at a couple of examples. In the first example, assume that the font family Karrank% is an OpenType font, so it has nine weights already defined. In this case, the numbers are assigned to each level, and the keywords <code>normal</code> and <code>bold</code> are assigned to the numbers <code>400</code> and <code>700</code>, respectively.</p>&#13;
&#13;
<p>In our second example, consider the font family SwitzeraADF. Hypothetically, its variants might be assigned numeric values for <code>font-weight</code>, as shown in <a data-type="xref" href="#hypothetical_weight_assignments_for_a_sp">Table 14-6</a>.</p>&#13;
<table id="hypothetical_weight_assignments_for_a_sp">&#13;
<caption><span class="label">Table 14-6. </span>Hypothetical weight assignments for a specific font family</caption>&#13;
<thead>&#13;
<tr>&#13;
<th>Font face</th>&#13;
<th>Assigned keyword</th>&#13;
<th>Assigned number(s)</th>&#13;
</tr>&#13;
</thead>&#13;
<tbody>&#13;
<tr>&#13;
<td><p>SwitzeraADF Light</p></td>&#13;
<td/>&#13;
<td><p><code>100</code> through <code>300</code></p></td>&#13;
</tr>&#13;
<tr>&#13;
<td><p>SwitzeraADF Regular</p></td>&#13;
<td><p><code>normal</code></p></td>&#13;
<td><p><code>400</code></p></td>&#13;
</tr>&#13;
<tr>&#13;
<td><p>SwitzeraADF Medium</p></td>&#13;
<td/>&#13;
<td><p><code>500</code></p></td>&#13;
</tr>&#13;
<tr>&#13;
<td><p>SwitzeraADF Bold</p></td>&#13;
<td><p><code>bold</code></p></td>&#13;
<td><p><code>600</code> through <code>700</code></p></td>&#13;
</tr>&#13;
<tr>&#13;
<td><p>SwitzeraADF Extra Bold</p></td>&#13;
<td/>&#13;
<td><p><code>800</code> through <code>900</code></p></td>&#13;
</tr>&#13;
</tbody>&#13;
</table>&#13;
&#13;
<p>The first three number values are assigned to the lightest weight. The Regular face gets the keyword <code>normal</code> and the number weight <code>400</code>. Since there is a Medium font, it’s assigned to the number <code>500</code>. There is nothing to assign to <code>600</code>, so it’s mapped to the Bold font face, which is also the variant to which <code>700</code> and <code>bold</code> are assigned. Finally, <code>800</code> and <code>900</code> are assigned to the Black and Ultra Black variants, respectively. Note that this last assignment would happen only if those faces had the top two weight levels already assigned. Otherwise, the user agent might ignore them and assign <code>800</code> and <code>900</code> to the Bold face instead, or it might assign them both to one or the other of the Black variants.</p>&#13;
&#13;
<p>The <code>font-weight</code> property is inherited, so if you set a paragraph to be <code>bold</code></p>&#13;
&#13;
<pre data-code-language="css" data-type="programlisting"><code class="nt">p</code><code class="nc">.one</code> <code class="p">{</code><code class="k">font-weight</code><code class="o">:</code> <code class="nb">bold</code><code class="p">;}</code></pre>&#13;
&#13;
<p>then all of its children will inherit that boldness, as we see in <a data-type="xref" href="#inherited_font-weight">Figure 14-4</a>.</p>&#13;
&#13;
<figure><div class="figure" id="inherited_font-weight">&#13;
<img alt="css5 1404" src="assets/css5_1404.png"/>&#13;
<h6><span class="label">Figure 14-4. </span>Inherited font-weight</h6>&#13;
</div></figure>&#13;
&#13;
<p>This isn’t unusual, but the situation gets interesting when you use the last two values we have to discuss: <code>bolder</code> and <code>lighter</code>. In general terms, these keywords have the effect you’d anticipate: they make text more or less bold compared to its parent’s font weight. How they do so is slightly complicated. First, let’s consider <code>bolder</code>.</p>&#13;
&#13;
<p>If you set an element to have a weight of <code>bolder</code> or <code>lighter</code>, the user agent first must determine what <code>font-weight</code> value was inherited from the parent element.  Once it has that number (say, <code>400</code>), it then changes the value as shown in <a data-type="xref" href="#bolder_and_lighter_weight_mappings">Table 14-7</a>.</p>&#13;
<table id="bolder_and_lighter_weight_mappings">&#13;
<caption><span class="label">Table 14-7. </span><code>bolder</code> and <code>lighter</code> weight mappings</caption>&#13;
<thead>&#13;
<tr>&#13;
<th>Inherited value</th>&#13;
<th><code>bolder</code></th>&#13;
<th><code>lighter</code></th>&#13;
</tr>&#13;
</thead>&#13;
<tbody>&#13;
<tr>&#13;
<td><p>value &lt; 100</p></td>&#13;
<td><p>400</p></td>&#13;
<td><p>No change</p></td>&#13;
</tr>&#13;
<tr>&#13;
<td><p>100 ≤ value &lt; 350</p></td>&#13;
<td><p>400</p></td>&#13;
<td><p>100</p></td>&#13;
</tr>&#13;
<tr>&#13;
<td><p>350 ≤ value &lt; 550</p></td>&#13;
<td><p>700</p></td>&#13;
<td><p>100</p></td>&#13;
</tr>&#13;
<tr>&#13;
<td><p>550 ≤ value &lt; 750</p></td>&#13;
<td><p>900</p></td>&#13;
<td><p>400</p></td>&#13;
</tr>&#13;
<tr>&#13;
<td><p>750 ≤ value &lt; 900</p></td>&#13;
<td><p>900</p></td>&#13;
<td><p>700</p></td>&#13;
</tr>&#13;
<tr>&#13;
<td><p>900 ≤ value</p></td>&#13;
<td><p>No change</p></td>&#13;
<td><p>700</p></td>&#13;
</tr>&#13;
</tbody>&#13;
</table>&#13;
&#13;
<p>Thus, you might encounter the following situations, illustrated in <a data-type="xref" href="#text_trying_to_be_bolder">Figure 14-5</a>:</p>&#13;
&#13;
<pre data-code-language="css" data-type="programlisting"><code class="nt">p</code> <code class="p">{</code><code class="k">font-weight</code><code class="o">:</code> <code class="n">normal</code><code class="p">;}</code>&#13;
<code class="nt">p</code> <code class="nt">em</code> <code class="p">{</code><code class="k">font-weight</code><code class="o">:</code> <code class="nb">bolder</code><code class="p">;}</code>  <code class="c">/* inherited value '400', evaluates to '700' */</code>&#13;
&#13;
<code class="nt">h1</code> <code class="p">{</code><code class="k">font-weight</code><code class="o">:</code> <code class="nb">bold</code><code class="p">;}</code>&#13;
<code class="nt">h1</code> <code class="nt">b</code> <code class="p">{</code><code class="k">font-weight</code><code class="o">:</code> <code class="nb">bolder</code><code class="p">;}</code>  <code class="c">/* inherited value '700', evaluates to '900' */</code>&#13;
&#13;
<code class="nt">div</code> <code class="p">{</code><code class="k">font-weight</code><code class="o">:</code> <code class="m">100</code><code class="p">;}</code>&#13;
<code class="nt">div</code> <code class="nt">strong</code> <code class="p">{</code><code class="k">font-weight</code><code class="o">:</code> <code class="nb">bolder</code><code class="p">;}</code> <code class="c">/* inherited value '100', evaluates to '400' */</code></pre>&#13;
&#13;
<figure><div class="figure" id="text_trying_to_be_bolder">&#13;
<img alt="css5 1405" src="assets/css5_1405.png"/>&#13;
<h6><span class="label">Figure 14-5. </span>Text trying to be bolder</h6>&#13;
</div></figure>&#13;
&#13;
<p>In the first example, the user agent moves up from <code>400</code> to <code>700</code>. In the second example, <code>&lt;h1&gt;</code> text is already set to <code>bold</code>, which equates to <code>700</code>. If no bolder face is available, the user agent sets the weight of <code>&lt;b&gt;</code> text within an <code>&lt;h1&gt;</code> to <code>900</code>, since that is the next step up from <code>700</code>. Since <code>900</code> is assigned to the same font face as <code>700</code>, no visible difference exists between normal <code>&lt;h1&gt;</code> text and bold <code>&lt;h1&gt;</code> text, but the weight values are different &#13;
<span class="keep-together">nonetheless.</span></p>&#13;
&#13;
<p>As you might expect, <code>lighter</code> works in much the same way, except it causes the user agent to move down the weight scale instead of up.</p>&#13;
</div></section>&#13;
&#13;
&#13;
&#13;
&#13;
&#13;
&#13;
&#13;
&#13;
<section data-pdf-bookmark="The font-weight Descriptor" data-type="sect2"><div class="sect2" id="the_font-weight_descriptor">&#13;
<h2>The font-weight Descriptor</h2>&#13;
&#13;
<p>With the <code>font-weight</code> descriptor, <a data-primary="font-weight descriptor, @font-face" data-type="indexterm" id="ix_font_weight_desc"/><a data-primary="@font-face rule" data-primary-sortas="font-face rule" data-secondary="font-weight descriptor" data-type="indexterm" id="ix_font_face_weight"/>authors can assign faces of varying weights to the weighting levels permitted by the <code>font-weight</code> property. The allowable values are different for the descriptor, which supports <code>auto</code>, <code>normal</code>, <code>bold</code>, or one to two numeric values as a range. Neither <code>lighter</code> nor <code>bolder</code> are supported.</p>&#13;
&#13;
<p>For example, the following rules explicitly assign five faces to six <code>font-weight</code> values:</p>&#13;
&#13;
<pre data-code-language="css" data-type="programlisting"><code class="k">@font-face</code> <code class="p">{</code>&#13;
   <code class="nt">font-family</code><code class="o">:</code> <code class="s2">"Switzera"</code><code class="o">;</code>&#13;
   <code class="nt">font-weight</code><code class="o">:</code> <code class="nt">1</code> <code class="nt">250</code><code class="o">;</code>&#13;
   <code class="nt">src</code><code class="o">:</code> <code class="nt">url</code><code class="o">(</code><code class="s2">"f/SwitzeraADF-Light.otf"</code><code class="o">)</code> <code class="nt">format</code><code class="o">(</code><code class="s2">"opentype"</code><code class="o">);</code>&#13;
<code class="p">}</code>&#13;
<code class="k">@font-face</code> <code class="p">{</code>&#13;
   <code class="nt">font-family</code><code class="o">:</code> <code class="s2">"Switzera"</code><code class="o">;</code>&#13;
   <code class="nt">font-weight</code><code class="o">:</code> <code class="nt">normal</code><code class="o">;</code>&#13;
   <code class="nt">src</code><code class="o">:</code> <code class="nt">url</code><code class="o">(</code><code class="s2">"f/SwitzeraADF-Regular.otf"</code><code class="o">)</code> <code class="nt">format</code><code class="o">(</code><code class="s2">"opentype"</code><code class="o">);</code>&#13;
<code class="p">}</code>&#13;
<code class="k">@font-face</code> <code class="p">{</code>&#13;
   <code class="nt">font-family</code><code class="o">:</code> <code class="s2">"Switzera"</code><code class="o">;</code>&#13;
   <code class="nt">font-weight</code><code class="o">:</code> <code class="nt">500</code> <code class="nt">600</code><code class="o">;</code>&#13;
   <code class="nt">src</code><code class="o">:</code> <code class="nt">url</code><code class="o">(</code><code class="s2">"f/SwitzeraADF-DemiBold.otf"</code><code class="o">)</code> <code class="nt">format</code><code class="o">(</code><code class="s2">"opentype"</code><code class="o">);</code>&#13;
<code class="p">}</code>&#13;
<code class="k">@font-face</code> <code class="p">{</code>&#13;
   <code class="nt">font-family</code><code class="o">:</code> <code class="s2">"Switzera"</code><code class="o">;</code>&#13;
   <code class="nt">font-weight</code><code class="o">:</code> <code class="nt">bold</code><code class="o">;</code>&#13;
   <code class="nt">src</code><code class="o">:</code> <code class="nt">url</code><code class="o">(</code><code class="s2">"f/SwitzeraADF-Bold.otf"</code><code class="o">)</code> <code class="nt">format</code><code class="o">(</code><code class="s2">"opentype"</code><code class="o">);</code>&#13;
<code class="p">}</code>&#13;
<code class="k">@font-face</code> <code class="p">{</code>&#13;
   <code class="nt">font-family</code><code class="o">:</code> <code class="s2">"Switzera"</code><code class="o">;</code>&#13;
   <code class="nt">font-weight</code><code class="o">:</code> <code class="nt">800</code> <code class="nt">1000</code><code class="o">;</code>&#13;
   <code class="nt">src</code><code class="o">:</code> <code class="nt">url</code><code class="o">(</code><code class="s2">"f/SwitzeraADF-ExtraBold.otf"</code><code class="o">)</code> <code class="nt">format</code><code class="o">(</code><code class="s2">"opentype"</code><code class="o">);</code>&#13;
<code class="p">}</code></pre>&#13;
&#13;
<p>With these faces assigned, the author now has multiple weighting levels available for their use, as illustrated in <a data-type="xref" href="#using_declared_font-weight_faces">Figure 14-6</a>:</p>&#13;
&#13;
<pre data-code-language="css" data-type="programlisting"><code class="nt">h1</code><code class="o">,</code> <code class="nt">h2</code><code class="o">,</code> <code class="nt">h3</code><code class="o">,</code> <code class="nt">h4</code> <code class="p">{</code><code class="k">font-family</code><code class="o">:</code> <code class="n">SwitzeraADF</code><code class="o">,</code> <code class="n">Helvetica</code><code class="o">,</code> <code class="nb">sans-serif</code><code class="p">;}</code>&#13;
<code class="nt">h1</code> <code class="p">{</code><code class="k">font-size</code><code class="o">:</code> <code class="m">225%</code><code class="p">;</code> <code class="k">font-weight</code><code class="o">:</code> <code class="m">900</code><code class="p">;}</code>&#13;
<code class="nt">h2</code> <code class="p">{</code><code class="k">font-size</code><code class="o">:</code> <code class="m">180%</code><code class="p">;</code> <code class="k">font-weight</code><code class="o">:</code> <code class="m">700</code><code class="p">;}</code>&#13;
<code class="nt">h3</code> <code class="p">{</code><code class="k">font-size</code><code class="o">:</code> <code class="m">150%</code><code class="p">;</code> <code class="k">font-weight</code><code class="o">:</code> <code class="m">500</code><code class="p">;}</code>&#13;
<code class="nt">h4</code> <code class="p">{</code><code class="k">font-size</code><code class="o">:</code> <code class="m">125%</code><code class="p">;</code> <code class="k">font-weight</code><code class="o">:</code> <code class="m">300</code><code class="p">;}</code></pre>&#13;
&#13;
<figure><div class="figure" id="using_declared_font-weight_faces">&#13;
<img alt="css5 1406" src="assets/css5_1406.png"/>&#13;
<h6><span class="label">Figure 14-6. </span>Using declared font-weight faces</h6>&#13;
</div></figure>&#13;
&#13;
<p>In any given situation, the user agent picks which face to use depending on the exact value of a <code>font-weight</code> property, using the resolution algorithm detailed in <a data-type="xref" href="#how_weights_work">“How Weights Work”</a>. While the <code>font-weight</code> property has numerous keyword values, the <code>font-weight</code> descriptor accepts only <code>normal</code> and <code>bold</code> as keywords, and any number from <code>1</code> to <code>1000</code> inclusive.<a data-primary="" data-startref="ix_font_weight_prop" data-type="indexterm" id="idm45176059409056"/><a data-primary="" data-startref="ix_font_weights" data-type="indexterm" id="idm45176059408208"/><a data-primary="" data-startref="ix_font_face_weight" data-type="indexterm" id="idm45176059407360"/><a data-primary="" data-startref="ix_font_weight_desc" data-type="indexterm" id="idm45176059406512"/></p>&#13;
</div></section>&#13;
</div></section>&#13;
&#13;
&#13;
&#13;
&#13;
&#13;
&#13;
<section data-pdf-bookmark="Font Size" data-type="sect1"><div class="sect1" id="font_size">&#13;
<h1>Font Size</h1>&#13;
&#13;
<p>While <a data-primary="font-size property" data-type="indexterm" id="ix_font_size_prop2"/><a data-primary="fonts" data-secondary="sizes" data-type="indexterm" id="ix_font_size_ch14"/>size doesn’t have a <code>@font-face</code> descriptor, you need to understand the <code>font-size</code> property to better understand some of the descriptors to come, so we’ll explore it now.  The methods for determining font size are both very familiar and very different.</p>&#13;
<aside data-type="sidebar" epub:type="sidebar"><div class="sidebar" id="font-size">&#13;
<h1>font-size</h1><table>&#13;
&#13;
<tbody>&#13;
<tr>&#13;
<td><p><strong>Values</strong></p></td>&#13;
<td><p><code>xx-small</code> | <code>x-small</code> | <code>small</code> | <code>medium</code> | <code>large</code> | <code>x-large</code> | <code>xx-large</code> | <code>xxx-large</code> | <code>smaller</code> | <code>larger</code> | &lt;<em><code>length</code></em>&gt; | &lt;<em><code>percentage</code></em>&gt;</p></td>&#13;
</tr>&#13;
<tr>&#13;
<td><p><strong>Initial value</strong></p></td>&#13;
<td><p><code>medium</code></p></td>&#13;
</tr>&#13;
<tr>&#13;
<td><p><strong>Applies to</strong></p></td>&#13;
<td><p>All elements</p></td>&#13;
</tr>&#13;
<tr>&#13;
<td><p><strong>Percentages</strong></p></td>&#13;
<td><p>Calculated with respect to the parent element’s font size</p></td>&#13;
</tr>&#13;
<tr>&#13;
<td><p><strong>Computed value</strong></p></td>&#13;
<td><p>An absolute length</p></td>&#13;
</tr>&#13;
<tr>&#13;
<td><p><strong>Inherited</strong></p></td>&#13;
<td><p>Yes</p></td>&#13;
</tr>&#13;
<tr>&#13;
<td><p><strong>Animatable</strong></p></td>&#13;
<td><p>Yes (numeric keywords only)</p></td>&#13;
</tr>&#13;
</tbody>&#13;
</table>&#13;
</div></aside>&#13;
&#13;
<p>What can be a real head-scratcher at first is that different fonts declared to be the same size may not appear to be the same size. This is because the actual relation of the <code>font-size</code> property to what you see rendered is determined by the font’s designer.  <a data-primary="boxes" data-secondary="em box (em square)" data-type="indexterm" id="idm45176059380048"/><a data-primary="character box (em box)" data-type="indexterm" id="idm45176059379072"/><a data-primary="em box (em square)" data-type="indexterm" id="idm45176059378400"/>This relationship is set as an <em>em square</em> (some call it an <em>em box</em>) within the font itself.  This em square (and thus the font size) doesn’t have to refer to any boundaries established by the characters in a font. Instead, it refers to the distance between baselines when the font is set without any extra leading (<code><code>line-height</code></code> in CSS).</p>&#13;
&#13;
<p>The effect of <code>font-size</code> is to provide a size for the em box of a given font. This does not guarantee that any of the displayed characters will be this size.  It is quite possible for fonts to have characters that are taller than the default distance between baselines. For that matter, a font might be defined such that all of its characters are smaller than its em square, as many fonts are.  <a data-type="xref" href="#font_characters_and_em_squares">Figure 14-7</a> shows some hypothetical examples.</p>&#13;
&#13;
<figure><div class="figure" id="font_characters_and_em_squares">&#13;
<img alt="css5 1407" src="assets/css5_1407.png"/>&#13;
<h6><span class="label">Figure 14-7. </span>Font characters and em squares</h6>&#13;
</div></figure>&#13;
&#13;
&#13;
&#13;
&#13;
&#13;
&#13;
&#13;
&#13;
<section data-pdf-bookmark="Using Absolute Sizes" data-type="sect2"><div class="sect2" id="absolute_sizes">&#13;
<h2>Using Absolute Sizes</h2>&#13;
&#13;
<p>Having <a data-primary="font-size property" data-secondary="absolute sizes" data-type="indexterm" id="ix_font_size_prop_absol"/><a data-primary="absolute sizes for fonts" data-type="indexterm" id="ix_absol_font_size"/>established all that, we turn now to the absolute-size keywords. The <code>font-size</code> property has eight absolute-size values: <code>xx-small</code>, <code>x-small</code>, <code>small</code>, <code>medium</code>, <code>large</code>, <code>x-large</code>, <code>xx-large</code>, and the relatively new <code>xxx-large</code>. These are not defined precisely but instead are defined relative to each other, as <a data-type="xref" href="#absolute_font_sizes">Figure 14-8</a> demonstrates:</p>&#13;
&#13;
<pre data-code-language="css" data-type="programlisting"><code class="nt">p</code><code class="nc">.one</code> <code class="p">{</code><code class="k">font-size</code><code class="o">:</code> <code class="nb">xx-small</code><code class="p">;}</code>&#13;
<code class="nt">p</code><code class="nc">.two</code> <code class="p">{</code><code class="k">font-size</code><code class="o">:</code> <code class="nb">x-small</code><code class="p">;}</code>&#13;
<code class="nt">p</code><code class="nc">.three</code> <code class="p">{</code><code class="k">font-size</code><code class="o">:</code> <code class="n">small</code><code class="p">;}</code>&#13;
<code class="nt">p</code><code class="nc">.four</code> <code class="p">{</code><code class="k">font-size</code><code class="o">:</code> <code class="nb">medium</code><code class="p">;}</code>&#13;
<code class="nt">p</code><code class="nc">.five</code> <code class="p">{</code><code class="k">font-size</code><code class="o">:</code> <code class="nb">large</code><code class="p">;}</code>&#13;
<code class="nt">p</code><code class="nc">.six</code> <code class="p">{</code><code class="k">font-size</code><code class="o">:</code> <code class="nb">x-large</code><code class="p">;}</code>&#13;
<code class="nt">p</code><code class="nc">.seven</code> <code class="p">{</code><code class="k">font-size</code><code class="o">:</code> <code class="nb">xx-large</code><code class="p">;}</code>&#13;
<code class="nt">p</code><code class="nc">.eight</code> <code class="p">{</code><code class="k">font-size</code><code class="o">:</code> <code class="n">xxx</code><code class="o">-</code><code class="nb">large</code><code class="p">;}</code></pre>&#13;
&#13;
<figure><div class="figure" id="absolute_font_sizes">&#13;
<img alt="css5 1408" src="assets/css5_1408.png"/>&#13;
<h6><span class="label">Figure 14-8. </span>Absolute font sizes</h6>&#13;
</div></figure>&#13;
&#13;
<p>In the <a data-primary="scaling factor" data-type="indexterm" id="idm45176059332256"/><a data-primary="CSS1 specification" data-secondary="scaling factor" data-type="indexterm" id="idm45176059331520"/><a data-primary="CSS2 specification" data-secondary="scaling factor" data-type="indexterm" id="idm45176059330576"/>CSS1 specification, the difference (or <em>scaling factor</em>) between one absolute size and the next was 1.5 going up the ladder, or 0.66 going down.  This was determined to be too large a scaling factor. In CSS2, the suggested scaling factor for computer screens between adjacent indexes was 1.2. This didn’t resolve all the issues, though, as it created issues for the small sizes.</p>&#13;
&#13;
<p>The <a data-primary="CSS Fonts Level 4 specification" data-type="indexterm" id="idm45176059328480"/>CSS Fonts Level 4 specification doesn’t have a one-size-fits-all scaling factor. Rather, each absolute-size keyword value has a size-specific scaling factor based on the value of <code>medium</code> (see <a data-type="xref" href="#size_mappings">Table 14-8</a>). The <code>small</code> value is listed as eight-ninths the size of <code>medium</code>, while <code>xx-small</code> is three-fifths. In any case, the scaling factors are guidelines, and user agents are free to alter them for any reason.</p>&#13;
<table id="size_mappings">&#13;
<caption><span class="label">Table 14-8. </span>Font-size mappings</caption>&#13;
<thead>&#13;
<tr>&#13;
<th>CSS absolute-size values</th>&#13;
<th><code>xx-small</code></th>&#13;
<th><code>x-small</code></th>&#13;
<th><code>small</code></th>&#13;
<th><code>medium</code></th>&#13;
<th><code>large</code></th>&#13;
<th><code>x-large</code></th>&#13;
<th><code>xx-large</code></th>&#13;
<th><code>xxx-large</code></th>&#13;
</tr>&#13;
</thead>&#13;
<tbody>&#13;
<tr>&#13;
<td><p>Scaling factor</p></td>&#13;
<td><p>3/5</p></td>&#13;
<td><p>3/4</p></td>&#13;
<td><p>8/9</p></td>&#13;
<td><p>1</p></td>&#13;
<td><p>6/5</p></td>&#13;
<td><p>3/2</p></td>&#13;
<td><p>2/1</p></td>&#13;
<td><p>3/1</p></td>&#13;
</tr>&#13;
<tr>&#13;
<td><p>Sizes at <code>medium</code>==<code>16px</code></p></td>&#13;
<td><p><code>9px</code></p></td>&#13;
<td><p><code>10px</code></p></td>&#13;
<td><p><code>13px</code></p></td>&#13;
<td><p><code>16px</code></p></td>&#13;
<td><p><code>18px</code></p></td>&#13;
<td><p><code>24px</code></p></td>&#13;
<td><p><code>32px</code></p></td>&#13;
<td><p><code>48px</code></p></td>&#13;
</tr>&#13;
<tr>&#13;
<td><p>HTML heading equivalent</p></td>&#13;
<td><p><code>h6</code></p></td>&#13;
<td><p>-</p></td>&#13;
<td><p><code>h5</code></p></td>&#13;
<td><p><code>h4</code></p></td>&#13;
<td><p><code>h3</code></p></td>&#13;
<td><p><code>h2</code></p></td>&#13;
<td><p><code>h1</code></p></td>&#13;
<td><p><em>n/a</em></p></td>&#13;
</tr>&#13;
</tbody>&#13;
</table>&#13;
&#13;
<p>Note that we’ve set the default size, <code>medium</code>, explicitly to <code>16px</code>. The default <code>font-size</code> value is the same, <code>medium</code>, for all generic font families, but the <code>medium</code> keyword may have different definitions based on operating system or browser user settings. For example, in many browsers, serif and sans-serif fonts have <code>medium</code> equal to <code>16px</code>, but <code>monospace</code> set &#13;
<span class="keep-together">to <code>13px</code>.</span></p>&#13;
<div data-type="warning" epub:type="warning"><h6>Warning</h6>&#13;
<p>As of late 2022, the <code>xxx-large</code> keyword is not supported by Safari or Opera, either on desktop or mobile devices.<a data-primary="" data-startref="ix_absol_font_size" data-type="indexterm" id="idm45176059225312"/><a data-primary="" data-startref="ix_font_size_prop_absol" data-type="indexterm" id="idm45176059224336"/></p>&#13;
</div>&#13;
</div></section>&#13;
&#13;
&#13;
&#13;
&#13;
&#13;
&#13;
&#13;
&#13;
<section data-pdf-bookmark="Using Relative Sizes" data-type="sect2"><div class="sect2" id="relative_sizes">&#13;
<h2>Using Relative Sizes</h2>&#13;
&#13;
<p>Just as <code>font-weight</code> has the <a data-primary="font-size property" data-secondary="relative sizes" data-type="indexterm" id="ix_font_size_prop_rel"/><a data-primary="relative font sizes" data-type="indexterm" id="ix_rel_font_size"/>keywords <code>bolder</code> and <code>lighter</code>, the <code>font-size</code> property has relative-size keywords called <code>larger</code> and <code>smaller</code>. Much as with relative font weights, these keywords cause the computed value of <code>font-size</code> to move up and down a scale of size values.</p>&#13;
&#13;
<p>The <code>larger</code> and <code>smaller</code> keywords are fairly straightforward: they cause the size of an element to be shifted up or down the absolute-size scale, relative to their parent element:</p>&#13;
&#13;
<pre data-code-language="css" data-type="programlisting"><code class="nt">p</code> <code class="p">{</code><code class="k">font-size</code><code class="o">:</code> <code class="nb">medium</code><code class="p">;}</code>&#13;
<code class="nt">strong</code><code class="o">,</code> <code class="nt">em</code> <code class="p">{</code><code class="k">font-size</code><code class="o">:</code> <code class="nb">larger</code><code class="p">;}</code></pre>&#13;
&#13;
<pre data-code-language="html" data-type="programlisting"><code class="p">&lt;</code><code class="nt">p</code><code class="p">&gt;</code>This paragraph element contains <code class="p">&lt;</code><code class="nt">strong</code><code class="p">&gt;</code>a strong-emphasis element,&#13;
which itself contains <code class="p">&lt;</code><code class="nt">em</code><code class="p">&gt;</code>an emphasis element, which also contains&#13;
<code class="p">&lt;</code><code class="nt">strong</code><code class="p">&gt;</code>a strong element.<code class="p">&lt;/</code><code class="nt">strong</code><code class="p">&gt;&lt;/</code><code class="nt">em</code><code class="p">&gt;&lt;/</code><code class="nt">strong</code><code class="p">&gt;&lt;/</code><code class="nt">p</code><code class="p">&gt;</code>&#13;
&#13;
<code class="p">&lt;</code><code class="nt">p</code><code class="p">&gt;</code> medium <code class="p">&lt;</code><code class="nt">strong</code><code class="p">&gt;</code>large <code class="p">&lt;</code><code class="nt">em</code><code class="p">&gt;</code> x-large <code class="p">&lt;</code><code class="nt">strong</code><code class="p">&gt;</code>xx-large<code class="p">&lt;/</code><code class="nt">strong</code><code class="p">&gt;</code> <code class="p">&lt;/</code><code class="nt">em</code><code class="p">&gt;</code> <code class="p">&lt;/</code><code class="nt">strong</code><code class="p">&gt;</code>&#13;
    <code class="p">&lt;/</code><code class="nt">p</code><code class="p">&gt;</code></pre>&#13;
&#13;
<p>Unlike the relative values for weight, the relative-size values are not necessarily constrained to the limits of the absolute-size range. Thus, a font’s size can be pushed beyond the sizes for <code>xx-small</code> and <code>xxx-large</code>. If the parent element <code>font-size</code> is the largest or smallest absolute value, the browser will use a scaling factor between 1.2 and 1.5 to create an even smaller or larger font size. For example:</p>&#13;
&#13;
<pre data-code-language="css" data-type="programlisting"><code class="nt">h1</code> <code class="p">{</code><code class="k">font-size</code><code class="o">:</code> <code class="n">xxx</code><code class="o">-</code><code class="nb">large</code><code class="p">;}</code>&#13;
<code class="nt">em</code> <code class="p">{</code><code class="k">font-size</code><code class="o">:</code> <code class="nb">larger</code><code class="p">;}</code></pre>&#13;
&#13;
<pre data-code-language="html" data-type="programlisting"><code class="p">&lt;</code><code class="nt">h1</code><code class="p">&gt;</code>A Heading with <code class="p">&lt;</code><code class="nt">em</code><code class="p">&gt;</code>Emphasis<code class="p">&lt;/</code><code class="nt">em</code><code class="p">&gt;</code> added<code class="p">&lt;/</code><code class="nt">h1</code><code class="p">&gt;</code>&#13;
<code class="p">&lt;</code><code class="nt">p</code><code class="p">&gt;</code>This paragraph has some <code class="p">&lt;</code><code class="nt">em</code><code class="p">&gt;</code>emphasis<code class="p">&lt;/</code><code class="nt">em</code><code class="p">&gt;</code> as well.<code class="p">&lt;/</code><code class="nt">p</code><code class="p">&gt;</code></pre>&#13;
&#13;
<p>As you can see in <a data-type="xref" href="#relative_font_sizing_at_the_edges_of_the">Figure 14-9</a>, the emphasized text in the <code>&lt;h1&gt;</code> element is slightly larger than <code>xxx-large</code>. The amount of scaling is left up to the user agent, with a scaling factor in the range of 1.2 to 1.5 being preferred, but not required. The <code>em</code> text in the paragraph is shifted up one slot to 140%.</p>&#13;
&#13;
<figure><div class="figure" id="relative_font_sizing_at_the_edges_of_the">&#13;
<img alt="css5 1409" src="assets/css5_1409.png"/>&#13;
<h6><span class="label">Figure 14-9. </span>Relative font sizing at the edges of the absolute sizes</h6>&#13;
</div></figure>&#13;
<div data-type="warning" epub:type="warning"><h6>Warning</h6>&#13;
<p>User <a data-primary="accessibility issues" data-secondary="small text sizes" data-type="indexterm" id="idm45176059033616"/>agents are not required to increase or decrease font size beyond the limits of the absolute-size keywords, but they may do so anyway.&#13;
Also, while it is technically possible to declare <code>smaller</code> than <code>xx-small</code>, small text can be very difficult to read onscreen, leading to content being not accessible to users.  Use very small text sparingly and with a great deal of caution.<a data-primary="" data-startref="ix_rel_font_size" data-type="indexterm" id="idm45176059031648"/><a data-primary="" data-startref="ix_font_size_prop_rel" data-type="indexterm" id="idm45176059030672"/></p>&#13;
</div>&#13;
</div></section>&#13;
&#13;
&#13;
&#13;
&#13;
&#13;
&#13;
&#13;
&#13;
<section data-pdf-bookmark="Setting Sizes as Percentages" data-type="sect2"><div class="sect2" id="percentages_and_sizes">&#13;
<h2>Setting Sizes as Percentages</h2>&#13;
&#13;
<p>In a way, <a data-primary="font-size property" data-secondary="percentages" data-type="indexterm" id="ix_font_size_prop_percent"/><a data-primary="inheritance" data-secondary="font-size property" data-type="indexterm" id="ix_inherit_font_size_prop"/><a data-primary="font-size property" data-secondary="inheritance" data-type="indexterm" id="ix_font_size_prop_inherit"/>percentage values are very similar to the relative-size keywords. A percentage value is always computed in terms of whatever size is inherited from an element’s parent. Unlike the size keywords previously discussed, percentages permit much finer control over the computed font size. Consider the following example, illustrated in <a data-type="xref" href="#throwing_percentages_into_the_mix">Figure 14-10</a>:</p>&#13;
&#13;
<pre data-code-language="css" data-type="programlisting"><code class="nt">body</code> <code class="p">{</code><code class="k">font-size</code><code class="o">:</code> <code class="m">15px</code><code class="p">;}</code>&#13;
<code class="nt">p</code> <code class="p">{</code><code class="k">font-size</code><code class="o">:</code> <code class="m">12px</code><code class="p">;}</code>&#13;
<code class="nt">em</code> <code class="p">{</code><code class="k">font-size</code><code class="o">:</code> <code class="m">120%</code><code class="p">;}</code>&#13;
<code class="nt">strong</code> <code class="p">{</code><code class="k">font-size</code><code class="o">:</code> <code class="m">135%</code><code class="p">;}</code>&#13;
<code class="nt">small</code><code class="o">,</code> <code class="nc">.fnote</code> <code class="p">{</code><code class="k">font-size</code><code class="o">:</code> <code class="m">70%</code><code class="p">;}</code></pre>&#13;
&#13;
<pre data-code-language="html" data-type="programlisting"><code class="p">&lt;</code><code class="nt">body</code><code class="p">&gt;</code>&#13;
<code class="p">&lt;</code><code class="nt">p</code><code class="p">&gt;</code>This paragraph contains both <code class="p">&lt;</code><code class="nt">em</code><code class="p">&gt;</code>emphasis<code class="p">&lt;/</code><code class="nt">em</code><code class="p">&gt;</code> and <code class="p">&lt;</code><code class="nt">strong</code><code class="p">&gt;</code>strong&#13;
emphasis<code class="p">&lt;/</code><code class="nt">strong</code><code class="p">&gt;</code>, both of which are larger than their parent element.&#13;
The <code class="p">&lt;</code><code class="nt">small</code><code class="p">&gt;</code>small text<code class="p">&lt;/</code><code class="nt">small</code><code class="p">&gt;</code>, on the other hand, is smaller by a quarter.<code class="p">&lt;/</code><code class="nt">p</code><code class="p">&gt;</code>&#13;
<code class="p">&lt;</code><code class="nt">p</code> <code class="na">class</code><code class="o">=</code><code class="s">"fnote"</code><code class="p">&gt;</code>This is a 'footnote' and is smaller than regular text.<code class="p">&lt;/</code><code class="nt">p</code><code class="p">&gt;</code>&#13;
&#13;
<code class="p">&lt;</code><code class="nt">p</code><code class="p">&gt;</code> 12px <code class="p">&lt;</code><code class="nt">em</code><code class="p">&gt;</code> 14.4px <code class="p">&lt;/</code><code class="nt">em</code><code class="p">&gt;</code> 12px <code class="p">&lt;</code><code class="nt">strong</code><code class="p">&gt;</code> 16.2px <code class="p">&lt;/</code><code class="nt">strong</code><code class="p">&gt;</code> 12px&#13;
<code class="p">&lt;</code><code class="nt">small</code><code class="p">&gt;</code> 9px <code class="p">&lt;/</code><code class="nt">small</code><code class="p">&gt;</code> 12px <code class="p">&lt;/</code><code class="nt">p</code><code class="p">&gt;</code>&#13;
<code class="p">&lt;</code><code class="nt">p</code> <code class="na">class</code><code class="o">=</code><code class="s">"fnote"</code><code class="p">&gt;</code> 10.5px <code class="p">&lt;/</code><code class="nt">p</code><code class="p">&gt;</code>&#13;
<code class="p">&lt;/</code><code class="nt">body</code><code class="p">&gt;</code></pre>&#13;
&#13;
<figure><div class="figure" id="throwing_percentages_into_the_mix">&#13;
<img alt="css5 1410" src="assets/css5_1410.png"/>&#13;
<h6><span class="label">Figure 14-10. </span>Throwing percentages into the mix</h6>&#13;
</div></figure>&#13;
&#13;
<p>In this example, the exact pixel-size values are shown. These are the values calculated by the browser, regardless of the displayed size of the characters onscreen, which may have been rounded to the nearest whole number of pixels.</p>&#13;
&#13;
<p>When using <a data-primary="font-size property" data-secondary="length units for" data-type="indexterm" id="idm45176058843200"/>em measurements, the same principles apply as with percentages, such as the inheritance of computed sizes and so forth. CSS defines the length value <code>em</code> to be equivalent to percentage values, in the sense that <code>1em</code> is the same as <code>100%</code> when sizing fonts. Thus, the following would yield identical results, assuming that both paragraphs have the same parent element:</p>&#13;
&#13;
<pre data-code-language="css" data-type="programlisting"><code class="nt">p</code><code class="nc">.one</code> <code class="p">{</code><code class="k">font-size</code><code class="o">:</code> <code class="m">166%</code><code class="p">;}</code>&#13;
<code class="nt">p</code><code class="nc">.two</code> <code class="p">{</code><code class="k">font-size</code><code class="o">:</code> <code class="m">1.66em</code><code class="p">;}</code></pre>&#13;
&#13;
<p>As with the relative-size keywords, percentages are effectively cumulative. Thus, the following markup is displayed as shown in <a data-type="xref" href="#the_issues_of_inheritance">Figure 14-11</a>:</p>&#13;
&#13;
<pre data-code-language="css" data-type="programlisting"><code class="nt">p</code> <code class="p">{</code><code class="k">font-size</code><code class="o">:</code> <code class="m">12px</code><code class="p">;}</code>&#13;
<code class="nt">em</code> <code class="p">{</code><code class="k">font-size</code><code class="o">:</code> <code class="m">120%</code><code class="p">;}</code>&#13;
<code class="nt">strong</code> <code class="p">{</code><code class="k">font-size</code><code class="o">:</code> <code class="m">135%</code><code class="p">;}</code></pre>&#13;
&#13;
<pre data-code-language="html" data-type="programlisting"><code class="p">&lt;</code><code class="nt">p</code><code class="p">&gt;</code>This paragraph contains both <code class="p">&lt;</code><code class="nt">em</code><code class="p">&gt;</code>emphasis and <code class="p">&lt;</code><code class="nt">strong</code><code class="p">&gt;</code>strong&#13;
emphasis<code class="p">&lt;/</code><code class="nt">strong</code><code class="p">&gt;&lt;/</code><code class="nt">em</code><code class="p">&gt;</code>, both of which are larger than the paragraph text. <code class="p">&lt;/</code><code class="nt">p</code><code class="p">&gt;</code>&#13;
&#13;
<code class="p">&lt;</code><code class="nt">p</code><code class="p">&gt;</code>12px <code class="p">&lt;</code><code class="nt">em</code><code class="p">&gt;</code>14.4px <code class="p">&lt;</code><code class="nt">strong</code><code class="p">&gt;</code> 19.44px <code class="p">&lt;/</code><code class="nt">strong</code><code class="p">&gt;&lt;/</code><code class="nt">em</code><code class="p">&gt;</code> 12px<code class="p">&lt;/</code><code class="nt">p</code><code class="p">&gt;</code></pre>&#13;
&#13;
<figure><div class="figure" id="the_issues_of_inheritance">&#13;
<img alt="css5 1411" src="assets/css5_1411.png"/>&#13;
<h6><span class="label">Figure 14-11. </span>The issues of inheritance</h6>&#13;
</div></figure>&#13;
&#13;
<p>The size value for the <code>&lt;strong&gt;</code> element shown in <a data-type="xref" href="#the_issues_of_inheritance">Figure 14-11</a> is computed as follows:</p>&#13;
<ul class="simplelist">&#13;
  <li>12 px × 120% = 14.4 px + 14.4 px × 135% = 19.44 px</li></ul>&#13;
&#13;
<p>The problem of runaway scaling can go the other direction, too. Imagine the effect of the following rule on a nested list item if we have lists nested four levels deep:</p>&#13;
&#13;
<pre data-code-language="css" data-type="programlisting"><code class="nt">ul</code> <code class="p">{</code><code class="k">font-size</code><code class="o">:</code> <code class="m">80%</code><code class="p">;}</code></pre>&#13;
&#13;
<p>The unordered list nested four levels deep would have a computed <code>font-size</code> value 40.96% the size of the parent of the top-level list. Every nested list would have a font size 80% as big as its parent list, causing each level to become harder and harder to read.<a data-primary="" data-startref="ix_font_size_prop_inherit" data-type="indexterm" id="idm45176058705184"/><a data-primary="" data-startref="ix_font_size_prop_percent" data-type="indexterm" id="idm45176058704336"/><a data-primary="" data-startref="ix_inherit_font_size_prop" data-type="indexterm" id="idm45176058703488"/></p>&#13;
</div></section>&#13;
&#13;
&#13;
&#13;
&#13;
&#13;
&#13;
&#13;
&#13;
<section data-pdf-bookmark="Automatically Adjusting Size" data-type="sect2"><div class="sect2" id="automatically_adjusting_size">&#13;
<h2>Automatically Adjusting Size</h2>&#13;
&#13;
<p>Two of the <a data-primary="font-size-adjust property" data-type="indexterm" id="ix_font_size_adj_prop"/><a data-primary="x-height" data-type="indexterm" id="idm45176058654880"/><a data-primary="automatic font-size adjustment" data-type="indexterm" id="ix_auto_font_size"/><a data-primary="font-size property" data-secondary="automatically adjusting" data-type="indexterm" id="ix_font_size_prop_adj"/>main factors that influence a font’s legibility are its size and its <em>x-height</em>, which is the height of a lowercase <em>x</em> character in the font. The number that results from dividing the x-height by the <code>font-size</code> is referred to as the <em>aspect value</em>. Fonts with higher aspect values tend to remain legible as the font’s size is reduced; conversely, fonts with low aspect values become illegible more quickly. CSS provides a way to deal with shifts in aspect values between font families, as well as ways to use different metrics to compute an aspect value, with the property <code>font-size-adjust</code>.</p>&#13;
<aside data-type="sidebar" epub:type="sidebar"><div class="sidebar" id="font-size-adjust">&#13;
<h1>font-size-adjust</h1><table>&#13;
&#13;
<tbody>&#13;
<tr>&#13;
<td><p><strong>Values</strong></p></td>&#13;
<td><p>[ <code>ex-height</code> | <code>cap-height</code> | <code>ch-width</code> | <code>ic-width</code> | <code>ic-height</code> ]? [ <code>from-font</code> | &lt;<em><code>number</code></em>&gt; ] | <code>none</code> | <code>auto</code></p></td>&#13;
</tr>&#13;
<tr>&#13;
<td><p><strong>Initial value</strong></p></td>&#13;
<td><p><code>none</code></p></td>&#13;
</tr>&#13;
<tr>&#13;
<td><p><strong>Applies to</strong></p></td>&#13;
<td><p>All elements</p></td>&#13;
</tr>&#13;
<tr>&#13;
<td><p><strong>@font-face equivalent</strong></p></td>&#13;
<td><p><code>size-adjust</code></p></td>&#13;
</tr>&#13;
<tr>&#13;
<td><p><strong>Inherited</strong></p></td>&#13;
<td><p>Yes</p></td>&#13;
</tr>&#13;
<tr>&#13;
<td><p><strong>Animatable</strong></p></td>&#13;
<td><p>Yes</p></td>&#13;
</tr>&#13;
</tbody>&#13;
</table>&#13;
</div></aside>&#13;
&#13;
<p>The goal of this property is to preserve legibility when the font used is not the author’s first choice. Because of the differences in font appearance, one font may be legible at a certain size, while another font at the same size is difficult or impossible to read.</p>&#13;
&#13;
<p>The property value can be <code>none</code>, <code>from-font</code>, or a number. The number specified should generally be the aspect value (the ratio of a given font metric to font size) of the first-choice font family.  To pick the font metric used to compute the aspect ratio, you can add a keyword specifying it.  If not included, it defaults to <code>ex-height</code>, which normalizes the aspect value of the fonts using the x-height divided by the font size.</p>&#13;
&#13;
<p>The other possibilities for the font metric keyword are as follows:</p>&#13;
<dl>&#13;
<dt><code>cap-height</code></dt>&#13;
<dd>&#13;
<p>Use the <a data-primary="cap-height metric keyword" data-type="indexterm" id="idm45176058616416"/>cap-height (height of capital letters) of the font.</p>&#13;
</dd>&#13;
<dt><code>ch-width</code></dt>&#13;
<dd>&#13;
<p>Use the <a data-primary="ch-width metric keyword" data-type="indexterm" id="idm45176058614176"/>horizontal pitch (also the width of <code>1ch</code>) of the font.</p>&#13;
</dd>&#13;
<dt><code>ic-width</code></dt>&#13;
<dd>&#13;
<p>Use the <a data-primary="ic-width metric keyword" data-type="indexterm" id="idm45176058611456"/>width of the font using the CJK water ideograph, “水” (U+6C34) of the font.</p>&#13;
</dd>&#13;
<dt><code>ic-height</code></dt>&#13;
<dd>&#13;
<p>Use the <a data-primary="ic-height metric keyword" data-type="indexterm" id="idm45176058609184"/>height of the ideograph “水” (U+6C34) of the font.</p>&#13;
</dd>&#13;
</dl>&#13;
&#13;
<p>Declaring <code>font-size-adjust: none</code> will suppress any adjustment of font sizes. This is the default state.</p>&#13;
&#13;
<p>The <code>from-font</code> keyword directs the user agent to use the built-in value of the specified font metric from the first available font, rather than requiring the author to figure out what that value is and write it explicitly.  Thus, writing <code>font-size-adjust: cap-height from-font</code> will automatically set an aspect value by dividing the cap-height by the em-square height.</p>&#13;
&#13;
<p>A good example is to compare the common fonts Verdana and Times. Consider <a data-type="xref" href="#comparing_verdana_and_times">Figure 14-12</a> and the following markup, which shows both fonts at a <code>font-size</code> of <code>10px</code>:</p>&#13;
&#13;
<pre data-code-language="css" data-type="programlisting"><code class="nt">p</code> <code class="p">{</code><code class="k">font-size</code><code class="o">:</code> <code class="m">10px</code><code class="p">;}</code>&#13;
<code class="nt">p</code><code class="nc">.cl1</code> <code class="p">{</code><code class="k">font-family</code><code class="o">:</code> <code class="n">Verdana</code><code class="o">,</code> <code class="nb">sans-serif</code><code class="p">;}</code>&#13;
<code class="nt">p</code><code class="nc">.cl2</code> <code class="p">{</code><code class="k">font-family</code><code class="o">:</code> <code class="n">Times</code><code class="o">,</code> <code class="nb">serif</code><code class="p">;</code> <code class="p">}</code></pre>&#13;
&#13;
<figure><div class="figure" id="comparing_verdana_and_times">&#13;
<img alt="css5 1412" src="assets/css5_1412.png"/>&#13;
<h6><span class="label">Figure 14-12. </span>Comparing Verdana and Times</h6>&#13;
</div></figure>&#13;
&#13;
<p>The text in Times is much harder to read than the Verdana text. This is partly due to the limitations of pixel-based display, but it is also because Times becomes harder to read at smaller font sizes.</p>&#13;
&#13;
<p>As it turns out, the ratio of x-height to character size in Verdana is 0.58, whereas in Times it is 0.46. To make these font faces look more consistent with each other, you can declare the aspect value of Verdana, and have the user agent adjust the size of the text that’s actually used. This is accomplished using the following formula:</p>&#13;
<ul class="simplelist">&#13;
  <li>Declared <code>font-size</code> × <br/>&#13;
(<code>font-size-adjust</code> value ÷ aspect <br/>&#13;
value of available font) = Adjusted <code>font-size</code></li></ul>&#13;
&#13;
<p>So, when Times is used instead of Verdana, the adjustment is as follows:</p>&#13;
<ul class="simplelist">&#13;
  <li><code>10px</code> × (<code>0.58</code> ÷ <code>0.46</code>) = <code>12.6px</code></li></ul>&#13;
&#13;
<p>This leads to the result shown in <a data-type="xref" href="#adjusting_times">Figure 14-13</a>:</p>&#13;
&#13;
<pre data-code-language="css" data-type="programlisting"><code class="nt">p</code> <code class="p">{</code><code class="k">font</code><code class="o">:</code> <code class="m">10px</code> <code class="n">Verdana</code><code class="o">,</code> <code class="nb">sans-serif</code><code class="p">;</code> <code class="k">font-size-adjust</code><code class="o">:</code> <code class="n">ex</code><code class="o">-</code><code class="k">height</code> <code class="m">0</code><code class="o">.</code><code class="m">58</code><code class="p">;}</code>&#13;
<code class="nt">p</code><code class="nc">.cl2</code> <code class="p">{</code><code class="k">font-family</code><code class="o">:</code> <code class="n">Times</code><code class="o">,</code> <code class="nb">serif</code><code class="p">;</code> <code class="p">}</code></pre>&#13;
&#13;
<figure><div class="figure" id="adjusting_times">&#13;
<img alt="css5 1413" src="assets/css5_1413.png"/>&#13;
<h6><span class="label">Figure 14-13. </span>Adjusting Times</h6>&#13;
</div></figure>&#13;
&#13;
<p>The catch is that for a user agent to intelligently make size adjustments, it first has to know the aspect value of the fonts you specify. User agents that support <code>@font-face</code> will be able to pull that information directly from the font file, assuming the files contain the information—any professionally produced font should, but there’s no guarantee. If a font file doesn’t contain the aspect value, a user agent may try to compute it; but again, there’s no guarantee that they will or even can.</p>&#13;
&#13;
<p>If the user agent can’t find or figure out aspect values on its own, the <code>auto</code> value for <code>font-size-adjust</code> is a way of getting the desired effect even if you don’t know the actual aspect value of your first-choice font. For example, assuming that the user agent can determine that the aspect value of Verdana is 0.58, the following will have the same result as that shown in <a data-type="xref" href="#adjusting_times">Figure 14-13</a>:</p>&#13;
&#13;
<pre data-code-language="css" data-type="programlisting"><code class="nt">p</code> <code class="p">{</code><code class="k">font</code><code class="o">:</code> <code class="m">10px</code> <code class="n">Verdana</code><code class="o">,</code> <code class="nb">sans-serif</code><code class="p">;</code> <code class="k">font-size-adjust</code><code class="o">:</code> <code class="nb">auto</code><code class="p">;}</code>&#13;
<code class="nt">p</code><code class="nc">.cl2</code> <code class="p">{</code><code class="k">font-family</code><code class="o">:</code> <code class="n">Times</code><code class="o">,</code> <code class="nb">serif</code><code class="p">;</code> <code class="p">}</code></pre>&#13;
<div data-type="warning" epub:type="warning"><h6>Warning</h6>&#13;
<p>As of late 2022, the only user-agent line to support <code>font-size-adjust</code> is the Gecko (Firefox) family.</p>&#13;
</div>&#13;
&#13;
<p>Understanding font size adjustment comes in handy when considering <code>size-adjust</code>.  This font <a data-primary="size-adjust descriptor, for fonts" data-type="indexterm" id="idm45176058451488"/>descriptor behaves similarly to the <code>font-size-adjust</code> property, though it’s restricted to comparing only x-heights instead of the range of font metrics available for <code>font-size-adjust</code>.</p>&#13;
<aside data-type="sidebar" epub:type="sidebar"><div class="sidebar" id="size-adjust">&#13;
<h1>size-adjust descriptor</h1><table>&#13;
&#13;
<tbody>&#13;
<tr>&#13;
<td><p><strong>Values</strong></p></td>&#13;
<td><p>&lt;<em><code>percentage</code></em>&gt;</p></td>&#13;
</tr>&#13;
<tr>&#13;
<td><p><strong>Initial value</strong></p></td>&#13;
<td><p><code>100%</code></p></td>&#13;
</tr>&#13;
</tbody>&#13;
</table>&#13;
</div></aside>&#13;
&#13;
<p>The <code>font-size-adjust</code> property is a rare case where the property and descriptor names are not the same: the descriptor is <code>size-adjust</code>. The value is any positive percentage value (from 0 to infinity) by which you want the fallback font scaled so it better matches the primary font selected.  That percentage is used as a multiplier for the glyph outline sizes and other metrics of the font:</p>&#13;
&#13;
<pre data-code-language="css" data-type="programlisting"><code class="k">@font-face</code> <code class="p">{</code>&#13;
  <code class="nt">font-family</code><code class="o">:</code> <code class="nt">myPreferredFont</code><code class="o">;</code>&#13;
  <code class="nt">src</code><code class="o">:</code> <code class="nt">url</code><code class="o">(</code><code class="s2">"longLoadingFont.otf"</code><code class="o">);</code>&#13;
<code class="p">}</code>&#13;
&#13;
<code class="k">@font-face</code> <code class="p">{</code>&#13;
  <code class="nt">font-family</code><code class="o">:</code> <code class="nt">myFallBackFont</code><code class="o">;</code>&#13;
  <code class="nt">src</code><code class="o">:</code> <code class="nt">local</code><code class="o">(</code><code class="nt">aLocalFont</code><code class="o">);</code>&#13;
  <code class="nt">size-adjust</code><code class="o">:</code> <code class="nt">87.3%</code><code class="o">;</code>&#13;
<code class="p">}</code></pre>&#13;
<div data-type="warning" epub:type="warning"><h6>Warning</h6>&#13;
<p>As of late 2022, the only user-agent line that does <em>not</em> support the <code>size-adjust</code> descriptor is the WebKit (Safari) family.<a data-primary="" data-startref="ix_font_size_ch14" data-type="indexterm" id="idm45176058389872"/><a data-primary="" data-startref="ix_font_size_prop2" data-type="indexterm" id="idm45176058388896"/><a data-primary="" data-startref="ix_auto_font_size" data-type="indexterm" id="idm45176058387952"/><a data-primary="" data-startref="ix_font_size_adj_prop" data-type="indexterm" id="idm45176058387008"/><a data-primary="" data-startref="ix_font_size_prop_adj" data-type="indexterm" id="idm45176058386064"/></p>&#13;
</div>&#13;
</div></section>&#13;
</div></section>&#13;
&#13;
&#13;
&#13;
&#13;
&#13;
&#13;
<section data-pdf-bookmark="Font Style" data-type="sect1"><div class="sect1" id="font_style">&#13;
<h1>Font Style</h1>&#13;
&#13;
<p>The <code>font-style</code> property<a data-primary="font-style property" data-type="indexterm" id="ix_font_style_prop"/><a data-primary="fonts" data-secondary="styles" data-type="indexterm" id="ix_font_style_ch14"/> sounds very simple: you can choose from three values, and optionally provide an angle for oblique text if you’re using it.</p>&#13;
<aside data-type="sidebar" epub:type="sidebar"><div class="sidebar" id="font-style">&#13;
<h1>font-style</h1><table>&#13;
&#13;
<tbody>&#13;
<tr>&#13;
<td><p><strong>Values</strong></p></td>&#13;
<td><p><code>italic</code> |[ <code>oblique</code> &lt;<em><code>angle</code></em>&gt;? ] | <code>normal</code></p></td>&#13;
</tr>&#13;
<tr>&#13;
<td><p><strong>Initial value</strong></p></td>&#13;
<td><p><code>normal</code></p></td>&#13;
</tr>&#13;
<tr>&#13;
<td><p><strong>Applies to</strong></p></td>&#13;
<td><p>All elements</p></td>&#13;
</tr>&#13;
<tr>&#13;
<td><p><strong>Computed value</strong></p></td>&#13;
<td><p>As specified</p></td>&#13;
</tr>&#13;
<tr>&#13;
<td><p><strong>@font-face equivalent</strong></p></td>&#13;
<td><p><code>font-style</code></p></td>&#13;
</tr>&#13;
<tr>&#13;
<td><p><strong>Variable axis</strong></p></td>&#13;
<td><p><code>"slnt"</code> (slant) or <code>"ital"</code> (italic)</p></td>&#13;
</tr>&#13;
<tr>&#13;
<td><p><strong>Inherited</strong></p></td>&#13;
<td><p>Yes</p></td>&#13;
</tr>&#13;
<tr>&#13;
<td><p><strong>Animatable</strong></p></td>&#13;
<td><p>Yes for variable fonts that define a ranged axis for italic or oblique; otherwise, no</p></td>&#13;
</tr>&#13;
</tbody>&#13;
</table>&#13;
</div></aside>&#13;
&#13;
<p>The default value of <code>font-style</code> is <code>normal</code>. This value refers to <em>upright</em> text, which is best described as text that is not italic or otherwise slanted. For instance, the vast majority of text in this book is upright.</p>&#13;
&#13;
<p>Italic <a data-primary="italic keyword, fonts" data-type="indexterm" id="idm45176058330128"/>font faces are usually a bit cursive in appearance, and generally use less horizontal space than the <code>normal</code> version of the same font.  In standard fonts, italic text is a separate font face, with small changes made to the structure of each letter to account for the altered appearance. This is especially true of serif fonts because, in addition to the text characters “leaning,” the serifs may be altered. Font faces with labels like <code>Italic</code>, <code>Cursive</code>, and <code>Kursiv</code> are usually mapped to the <code>italic</code> keyword.</p>&#13;
&#13;
<p><em>Oblique text</em>, on the other <a data-primary="oblique font style" data-type="indexterm" id="idm45176058326464"/>hand, is a slanted version of the normal, upright text. Oblique text is generally not altered from the upright text other than being given a slope. If a font has oblique versions, they are often in faces with labels such as <code>Oblique</code>, <code>Slanted</code>, and <code>Incline</code>.</p>&#13;
&#13;
<p>When fonts don’t have italic or oblique versions, the browser can simulate italic and oblique fonts by artificially sloping the glyphs of the regular face. (To prevent this from happening, use <code>font-synthesis: none</code>, covered later in the chapter.)</p>&#13;
&#13;
<p>Italic and oblique text at the same angle are not the same: italic is stylized and usually obsessively designed, and oblique is merely slanted.  By default, if <code>oblique</code> is declared without an angle, a value of <code>14deg</code> is used.</p>&#13;
&#13;
<p>When oblique is given an angle, such as <code>font-style: oblique 25deg</code>, the browser selects the face classified as oblique, if available. If one or more oblique faces are available in the chosen font family, the one most closely matching the specified angle by the <code>font-style</code> descriptor is chosen. If no oblique faces are available, the browser may synthesize an oblique version of the font by slanting a normal face by the specified angle.</p>&#13;
&#13;
<p>Unless further limited by the font or the descriptor, the oblique angle specified must be between <code>90deg</code> and <code>-90deg</code>, inclusive. If the given value is outside those limits, the declaration is ignored. Positive values are slanted toward the end (inline-end) of the line, while negative values are slanted toward the beginning (inline-start) of the line.</p>&#13;
&#13;
<p>To visualize the difference between italic and oblique text, refer to <a data-type="xref" href="#italic_and_oblique_text_in_detail">Figure 14-14</a>.</p>&#13;
&#13;
<figure><div class="figure" id="italic_and_oblique_text_in_detail">&#13;
<img alt="css5 1414" src="assets/css5_1414.png"/>&#13;
<h6><span class="label">Figure 14-14. </span>Italic and oblique text in detail</h6>&#13;
</div></figure>&#13;
&#13;
<p>For TrueType or OpenType variable fonts, the <code>"slnt"</code> variation axis is used to implement varying slant angles for oblique, and the <code>"ital"</code> variation axis with a value of <code>1</code> is used to implement italic values. See <a data-type="xref" href="#font-variation-settings">“Font Variation Settings”</a> for more details.</p>&#13;
&#13;
<p>If you want to make sure that a document uses italic text in familiar ways, you could write a stylesheet like this:</p>&#13;
&#13;
<pre data-code-language="css" data-type="programlisting"><code class="nt">p</code> <code class="p">{</code><code class="k">font-style</code><code class="o">:</code> <code class="n">normal</code><code class="p">;}</code>&#13;
<code class="nt">em</code><code class="o">,</code> <code class="nt">i</code> <code class="p">{</code><code class="k">font-style</code><code class="o">:</code> <code class="nb">italic</code><code class="p">;}</code></pre>&#13;
&#13;
<p>These styles would make paragraphs use an upright font, as usual, and cause the <code>&lt;em&gt;</code> and <code>&lt;i&gt;</code> elements to use an italic font, also as usual. On the other hand, you might decide that there should be a subtle difference between <code>&lt;em&gt;</code> and <code>&lt;i&gt;</code>:</p>&#13;
&#13;
<pre data-code-language="css" data-type="programlisting"><code class="nt">p</code> <code class="p">{</code><code class="k">font-style</code><code class="o">:</code> <code class="n">normal</code><code class="p">;}</code>&#13;
<code class="nt">em</code> <code class="p">{</code><code class="k">font-style</code><code class="o">:</code> <code class="nb">oblique</code><code class="p">;}</code>&#13;
<code class="nt">i</code> <code class="p">{</code><code class="k">font-style</code><code class="o">:</code> <code class="nb">italic</code><code class="p">;}</code>&#13;
<code class="nt">b</code> <code class="p">{</code><code class="k">font-style</code><code class="o">:</code> <code class="nb">oblique</code> <code class="m">-8deg</code><code class="p">;}</code></pre>&#13;
&#13;
<p>If you look closely at <a data-type="xref" href="#more_font_styles">Figure 14-15</a>, you’ll see no apparent difference between the <code>&lt;em&gt;</code> and <code>&lt;i&gt;</code> elements. In practice, not every font is so sophisticated as to have both an italic face and an oblique face, and even fewer web browsers are sophisticated enough to tell the difference when both faces do exist.</p>&#13;
&#13;
<figure><div class="figure" id="more_font_styles">&#13;
<img alt="css5 1415" src="assets/css5_1415.png"/>&#13;
<h6><span class="label">Figure 14-15. </span>More font styles</h6>&#13;
</div></figure>&#13;
&#13;
<p>The equivalent <code>font-variation-settings</code> setting for <code>italic</code> is <code>"ital"</code>. For the <code>oblique &lt;<em>angle</em>&gt;</code> value, the equivalent is <code>"slnt"</code>, which is used to vary between upright and slanted text. Just as with <code>font-style</code>, the slant axis is interpreted as the angle of slant in counterclockwise degrees from upright: inline-start-leaning oblique design will have a negative slant value, whereas inline-end-leaning needs a positive value.</p>&#13;
&#13;
&#13;
&#13;
&#13;
&#13;
&#13;
&#13;
&#13;
<section data-pdf-bookmark="The font-style Descriptor" data-type="sect2"><div class="sect2" id="the_font-style_descriptor">&#13;
<h2>The font-style Descriptor</h2>&#13;
&#13;
<p>As a <a data-primary="font-style descriptor, @font-face" data-type="indexterm" id="ix_font_style_desc"/>descriptor, <code>font-style</code> lets an author link specific faces to specific font-style values.</p>&#13;
<aside data-type="sidebar" epub:type="sidebar"><div class="sidebar" id="idm45176058233024">&#13;
<h1>font-style descriptor</h1><table>&#13;
&#13;
<tbody>&#13;
<tr>&#13;
<td><p><strong>Values</strong></p></td>&#13;
<td><p><code>normal</code> | <code>italic</code> | <code>oblique</code> &lt;<em><code>angle</code></em>&gt;{0,2}</p></td>&#13;
</tr>&#13;
<tr>&#13;
<td><p><strong>Initial value</strong></p></td>&#13;
<td><p><code>auto</code></p></td>&#13;
</tr>&#13;
</tbody>&#13;
</table>&#13;
</div></aside>&#13;
&#13;
<p>For example, we might want to <a data-primary="@font-face rule" data-primary-sortas="font-face rule" data-secondary="styles" data-type="indexterm" id="ix_font_face_style"/>assign very particular faces of Switzera to the various kinds of <code>font-style</code> property values.  Given the following, the result would be to render <code>&lt;h2&gt;</code> and <code>&lt;h3&gt;</code> elements using SwitzeraADF-Italic instead of SwitzeraADF-Regular, as illustrated in <a data-type="xref" href="#using_declared_font-style_faces">Figure 14-16</a>:</p>&#13;
&#13;
<pre data-code-language="css" data-type="programlisting"><code class="k">@font-face</code> <code class="p">{</code>&#13;
   <code class="nt">font-family</code><code class="o">:</code> <code class="s2">"Switzera"</code><code class="o">;</code>&#13;
   <code class="nt">font-style</code><code class="o">:</code> <code class="nt">normal</code><code class="o">;</code>&#13;
   <code class="nt">src</code><code class="o">:</code> <code class="nt">url</code><code class="o">(</code><code class="s2">"SwitzeraADF-Regular.otf"</code><code class="o">)</code> <code class="nt">format</code><code class="o">(</code><code class="s2">"opentype"</code><code class="o">);</code>&#13;
<code class="p">}</code>&#13;
<code class="k">@font-face</code> <code class="p">{</code>&#13;
   <code class="nt">font-family</code><code class="o">:</code> <code class="s2">"Switzera"</code><code class="o">;</code>&#13;
   <code class="nt">font-style</code><code class="o">:</code> <code class="nt">italic</code><code class="o">;</code>&#13;
   <code class="nt">src</code><code class="o">:</code> <code class="nt">url</code><code class="o">(</code><code class="s2">"SwitzeraADF-Italic.otf"</code><code class="o">)</code> <code class="nt">format</code><code class="o">(</code><code class="s2">"opentype"</code><code class="o">);</code>&#13;
<code class="p">}</code>&#13;
<code class="k">@font-face</code> <code class="p">{</code>&#13;
   <code class="nt">font-family</code><code class="o">:</code> <code class="s2">"Switzera"</code><code class="o">;</code>&#13;
   <code class="nt">font-style</code><code class="o">:</code> <code class="nt">oblique</code><code class="o">;</code>&#13;
   <code class="nt">src</code><code class="o">:</code> <code class="nt">url</code><code class="o">(</code><code class="s2">"SwitzeraADF-Italic.otf"</code><code class="o">)</code> <code class="nt">format</code><code class="o">(</code><code class="s2">"opentype"</code><code class="o">);</code>&#13;
<code class="p">}</code>&#13;
&#13;
<code class="nt">h1</code><code class="o">,</code> <code class="nt">h2</code><code class="o">,</code> <code class="nt">h3</code> <code class="p">{</code><code class="k">font-family</code><code class="o">:</code> <code class="n">SwitzeraADF</code><code class="o">,</code> <code class="n">Helvetica</code><code class="o">,</code> <code class="nb">sans-serif</code><code class="p">;}</code>&#13;
<code class="nt">h1</code> <code class="p">{</code><code class="k">font-size</code><code class="o">:</code> <code class="m">225%</code><code class="p">;}</code>&#13;
<code class="nt">h2</code> <code class="p">{</code><code class="k">font-size</code><code class="o">:</code> <code class="m">180%</code><code class="p">;</code> <code class="k">font-style</code><code class="o">:</code> <code class="nb">italic</code><code class="p">;}</code>&#13;
<code class="nt">h3</code> <code class="p">{</code><code class="k">font-size</code><code class="o">:</code> <code class="m">150%</code><code class="p">;</code> <code class="k">font-style</code><code class="o">:</code> <code class="nb">oblique</code><code class="p">;}</code></pre>&#13;
&#13;
<figure><div class="figure" id="using_declared_font-style_faces">&#13;
<img alt="css5 1416" src="assets/css5_1416.png"/>&#13;
<h6><span class="label">Figure 14-16. </span>Using declared font-style faces</h6>&#13;
</div></figure>&#13;
&#13;
<p>Ideally, if a SwitzeraADF face with an oblique typeface existed, a page author could point to it instead of the italic variant. There isn’t such a face, though, so the author mapped the italic face to both the <code>italic</code> and <code>oblique</code> values. As with <code>font-weight</code>, the <code>font-style</code> descriptor can take all of the values of the <code>font-style</code> property <em>except</em> for <code>inherit</code>.</p>&#13;
&#13;
<p>Oblique <a data-primary="oblique font style" data-type="indexterm" id="idm45176058131136"/>text changes the angle of letterforms without performing any kind of character substitution.  Any variable font that supports oblique text also supports normal or upright text: upright text is oblique text at a <code>0deg</code> angle.  For example:</p>&#13;
&#13;
<pre data-code-language="css" data-type="programlisting"><code class="k">@font-face</code> <code class="p">{</code>&#13;
  <code class="nt">font-family</code><code class="o">:</code> <code class="s2">"varFont"</code><code class="o">;</code>&#13;
  <code class="nt">src</code><code class="o">:</code> <code class="nt">url</code><code class="o">(</code><code class="s2">"aVariableFont.woff2"</code><code class="o">)</code> <code class="nt">format</code><code class="o">(</code><code class="s2">"woff2-variations"</code><code class="o">);</code>&#13;
  <code class="nt">font-weight</code><code class="o">:</code> <code class="nt">1</code> <code class="nt">1000</code><code class="o">;</code>&#13;
  <code class="nt">font-stretch</code><code class="o">:</code> <code class="nt">75%</code> <code class="nt">100%</code><code class="o">;</code>&#13;
  <code class="nt">font-style</code><code class="o">:</code> <code class="nt">oblique</code> <code class="nt">0deg</code> <code class="nt">20deg</code><code class="o">;</code>&#13;
  <code class="nt">font-display</code><code class="o">:</code> <code class="nt">swap</code><code class="o">;</code>&#13;
<code class="p">}</code>&#13;
&#13;
<code class="nt">body</code> <code class="p">{</code> <code class="k">font-family</code><code class="o">:</code> <code class="n">varFont</code><code class="o">,</code> <code class="nb">sans-serif</code><code class="p">;</code> <code class="k">font-style</code><code class="o">:</code> <code class="nb">oblique</code> <code class="m">0deg</code><code class="p">;</code> <code class="p">}</code>&#13;
<code class="nt">em</code> <code class="p">{</code> <code class="k">font-style</code><code class="o">:</code> <code class="nb">oblique</code> <code class="m">14deg</code><code class="p">;</code> <code class="p">}</code></pre>&#13;
&#13;
<p>The angle given in the CSS value <code>oblique 3deg</code> is a clockwise slant of 3 degrees. Positive angles are clockwise slants, whereas negative angles are counterclockwise slants.  If no angle is included, it is the same as writing <code>oblique 14deg</code>. The degree angle can be any value between <code>-90deg</code> and <code>90deg</code>, inclusive.<a data-primary="" data-startref="ix_font_style_ch14" data-type="indexterm" id="idm45176057991248"/><a data-primary="" data-startref="ix_font_style_prop" data-type="indexterm" id="idm45176057990240"/><a data-primary="" data-startref="ix_font_face_style" data-type="indexterm" id="idm45176057989296"/><a data-primary="" data-startref="ix_font_style_desc" data-type="indexterm" id="idm45176057988352"/></p>&#13;
</div></section>&#13;
</div></section>&#13;
&#13;
&#13;
&#13;
&#13;
&#13;
&#13;
<section data-pdf-bookmark="Font Stretching" data-type="sect1"><div class="sect1" id="font_stretching">&#13;
<h1>Font Stretching</h1>&#13;
&#13;
<p>In some <a data-primary="font-stretch property" data-type="indexterm" id="ix_font_stretch_prop"/>font families, variant faces have wider or narrower letterforms. These often take names like Condensed, Wide, and Ultra Expanded. The utility of such variants is that a designer can use a single font family while also having skinny and fat variants. CSS provides a property that allows an author to select among such variants, when they exist, without having to explicitly define them in <code>font-family</code> declarations. It does this via the somewhat misleadingly named <code>font-stretch</code>.</p>&#13;
<aside data-type="sidebar" epub:type="sidebar"><div class="sidebar" id="font-stretch">&#13;
<h1>font-stretch</h1><table>&#13;
&#13;
<tbody>&#13;
<tr>&#13;
<td><p><strong>Values</strong></p></td>&#13;
<td><p><code>normal</code> | <code>ultra-condensed</code> | <code>extra-condensed</code> | <code>condensed</code> | <code>semi-condensed</code> | <code>semi-expanded</code> | <code>expanded</code> | <code>extra-expanded</code> | <code>ultra-expanded</code> | &lt;<em><code>percentage</code></em>&gt;</p></td>&#13;
</tr>&#13;
<tr>&#13;
<td><p><strong>Initial value</strong></p></td>&#13;
<td><p><code>normal</code></p></td>&#13;
</tr>&#13;
<tr>&#13;
<td><p><strong>Applies to</strong></p></td>&#13;
<td><p>All elements</p></td>&#13;
</tr>&#13;
<tr>&#13;
<td><p><strong>@font-face equivalent</strong></p></td>&#13;
<td><p><code>font-stretch</code></p></td>&#13;
</tr>&#13;
<tr>&#13;
<td><p><strong>Variable axis</strong></p></td>&#13;
<td><p><code>"wdth"</code></p></td>&#13;
</tr>&#13;
<tr>&#13;
<td><p><strong>Inherited</strong></p></td>&#13;
<td><p>Yes</p></td>&#13;
</tr>&#13;
<tr>&#13;
<td><p><strong>Animatable</strong></p></td>&#13;
<td><p>Yes in a variable font that defines a stretch axis; otherwise, no</p></td>&#13;
</tr>&#13;
</tbody>&#13;
</table>&#13;
</div></aside>&#13;
&#13;
<p>You might expect from the property name that <code>font-stretch</code> will stretch or squeeze a font like saltwater taffy, but that’s not the case. This property instead behaves very much like the absolute-size keywords (e.g., <code><code>xx-large</code></code>) for the <code>font-size</code> property.  You can set a percentage between 50% and 200% inclusive, or use a range of keyword values that have defined percentage equivalents.  <a data-type="xref" href="#font_stretch_keyword_mapping">Table 14-9</a> shows the mapping between keyword values and numeric percentages.</p>&#13;
<table id="font_stretch_keyword_mapping">&#13;
<caption><span class="label">Table 14-9. </span>Percentage equivalents for <code>font-stretch</code> keyword values</caption>&#13;
<thead>&#13;
<tr>&#13;
<th>Keyword</th>&#13;
<th>Percentage</th>&#13;
</tr>&#13;
</thead>&#13;
<tbody>&#13;
<tr>&#13;
<td><p><code>ultra-condensed</code></p></td>&#13;
<td><p>50%</p></td>&#13;
</tr>&#13;
<tr>&#13;
<td><p><code>extra-condensed</code></p></td>&#13;
<td><p>62.5%</p></td>&#13;
</tr>&#13;
<tr>&#13;
<td><p><code>condensed</code></p></td>&#13;
<td><p>75%</p></td>&#13;
</tr>&#13;
<tr>&#13;
<td><p><code>semi-condensed</code></p></td>&#13;
<td><p>87.5%</p></td>&#13;
</tr>&#13;
<tr>&#13;
<td><p><code>normal</code></p></td>&#13;
<td><p>100%</p></td>&#13;
</tr>&#13;
<tr>&#13;
<td><p><code>semi-expanded</code></p></td>&#13;
<td><p>112.5%</p></td>&#13;
</tr>&#13;
<tr>&#13;
<td><p><code>expanded</code></p></td>&#13;
<td><p>125%</p></td>&#13;
</tr>&#13;
<tr>&#13;
<td><p><code>extra-expanded</code></p></td>&#13;
<td><p>150%</p></td>&#13;
</tr>&#13;
<tr>&#13;
<td><p><code>ultra-expanded</code></p></td>&#13;
<td><p>200%</p></td>&#13;
</tr>&#13;
</tbody>&#13;
</table>&#13;
&#13;
<p>For example, you might decide to stress the text in a strongly emphasized element by changing the font characters to a wider face than its parent element’s font characters.</p>&#13;
&#13;
<p>The catch is that this property works only if the font family in use actually <em>has</em> wider and narrower faces, which mostly come with only expensive traditional fonts.  (They’re much more widely available in variable fonts.)</p>&#13;
&#13;
<p>For example, consider the common font Verdana, which has only one width face; this is equivalent to <code>font-stretch: normal</code>. Declaring the following will have no effect on the width of the displayed text:</p>&#13;
&#13;
<pre data-code-language="css" data-type="programlisting"><code class="nt">body</code> <code class="p">{</code><code class="k">font-family</code><code class="o">:</code> <code class="n">Verdana</code><code class="p">;}</code>&#13;
<code class="nt">strong</code> <code class="p">{</code><code class="k">font-stretch</code><code class="o">:</code> <code class="nb">extra-expanded</code><code class="p">;}</code>&#13;
<code class="nt">footer</code> <code class="p">{</code><code class="k">font-stretch</code><code class="o">:</code> <code class="nb">extra-condensed</code><code class="p">;}</code></pre>&#13;
&#13;
<p>All of the text will be at Verdana’s usual width. However, if the font family is changed to one that has multiple width faces, such as Futura, things will be different, as shown in <a data-type="xref" href="#stretching_font_characters">Figure 14-17</a>:</p>&#13;
&#13;
<pre data-code-language="css" data-type="programlisting"><code class="nt">body</code> <code class="p">{</code><code class="k">font-family</code><code class="o">:</code> <code class="n">Verdana</code><code class="p">;}</code>&#13;
<code class="nt">strong</code> <code class="p">{</code><code class="k">font-stretch</code><code class="o">:</code> <code class="nb">extra-expanded</code><code class="p">;}</code>&#13;
<code class="nt">footer</code> <code class="p">{</code><code class="k">font-stretch</code><code class="o">:</code> <code class="nb">extra-condensed</code><code class="p">;}</code></pre>&#13;
&#13;
<figure><div class="figure" id="stretching_font_characters">&#13;
<img alt="css5 1417" src="assets/css5_1417.png"/>&#13;
<h6><span class="label">Figure 14-17. </span>Stretching font characters</h6>&#13;
</div></figure>&#13;
&#13;
<p>For variable fonts that support the <code>"wdth"</code> axis, set the width in <code>font-variation-settings</code> to a value greater than 0. This controls the glyph width or stroke thickness, depending on the font design.<a data-primary="" data-startref="ix_font_stretch_prop" data-type="indexterm" id="idm45176057815440"/></p>&#13;
&#13;
&#13;
&#13;
&#13;
&#13;
&#13;
&#13;
&#13;
<section data-pdf-bookmark="The font-stretch Descriptor" data-type="sect2"><div class="sect2" id="the_font-stretch_descriptor">&#13;
<h2>The font-stretch Descriptor</h2>&#13;
&#13;
<p>Much <a data-primary="font-stretch descriptor, @font-face" data-type="indexterm" id="ix_font_stretch_desc"/><a data-primary="stretching" data-secondary="of fonts" data-secondary-sortas="fonts" data-type="indexterm" id="ix_stretch_font"/><a data-primary="@font-face rule" data-primary-sortas="font-face rule" data-secondary="stretching fonts" data-type="indexterm" id="ix_font_face_stretch"/>as with the <code>font-weight</code> descriptor, the <code>font-stretch</code> descriptor allows you to explicitly assign faces of varying widths to the width values permitted in the <code>font-stretch</code> property. For example, the following rules explicitly assign three faces to the most directly analogous <code>font-stretch</code> values:</p>&#13;
&#13;
<pre data-code-language="css" data-type="programlisting"><code class="k">@font-face</code> <code class="p">{</code>&#13;
   <code class="nt">font-family</code><code class="o">:</code> <code class="s2">"Switzera"</code><code class="o">;</code>&#13;
   <code class="nt">font-stretch</code><code class="o">:</code> <code class="nt">normal</code><code class="o">;</code>&#13;
   <code class="nt">src</code><code class="o">:</code> <code class="nt">url</code><code class="o">(</code><code class="s2">"SwitzeraADF-Regular.otf"</code><code class="o">)</code> <code class="nt">format</code><code class="o">(</code><code class="s2">"opentype"</code><code class="o">);</code>&#13;
<code class="p">}</code>&#13;
<code class="k">@font-face</code> <code class="p">{</code>&#13;
   <code class="nt">font-family</code><code class="o">:</code> <code class="s2">"Switzera"</code><code class="o">;</code>&#13;
   <code class="nt">font-stretch</code><code class="o">:</code> <code class="nt">condensed</code><code class="o">;</code>&#13;
   <code class="nt">src</code><code class="o">:</code> <code class="nt">url</code><code class="o">(</code><code class="s2">"SwitzeraADF-Cond.otf"</code><code class="o">)</code> <code class="nt">format</code><code class="o">(</code><code class="s2">"opentype"</code><code class="o">);</code>&#13;
<code class="p">}</code>&#13;
<code class="k">@font-face</code> <code class="p">{</code>&#13;
   <code class="nt">font-family</code><code class="o">:</code> <code class="s2">"Switzera"</code><code class="o">;</code>&#13;
   <code class="nt">font-stretch</code><code class="o">:</code> <code class="nt">expanded</code><code class="o">;</code>&#13;
   <code class="nt">src</code><code class="o">:</code> <code class="nt">url</code><code class="o">(</code><code class="s2">"SwitzeraADF-Ext.otf"</code><code class="o">)</code> <code class="nt">format</code><code class="o">(</code><code class="s2">"opentype"</code><code class="o">);</code>&#13;
<code class="p">}</code></pre>&#13;
&#13;
<p>In a parallel to what you saw in previous sections, you can call on these different width faces through the <code>font-stretch</code> property, as illustrated in <a data-type="xref" href="#using_declared_font-stretch_faces">Figure 14-18</a>:</p>&#13;
&#13;
<pre data-code-language="css" data-type="programlisting"><code class="nt">h1</code><code class="o">,</code> <code class="nt">h2</code><code class="o">,</code> <code class="nt">h3</code> <code class="p">{</code><code class="k">font-family</code><code class="o">:</code> <code class="n">SwitzeraADF</code><code class="o">,</code> <code class="n">Helvetica</code><code class="o">,</code> <code class="nb">sans-serif</code><code class="p">;}</code>&#13;
<code class="nt">h1</code> <code class="p">{</code><code class="k">font-size</code><code class="o">:</code> <code class="m">225%</code><code class="p">;}</code>&#13;
<code class="nt">h2</code> <code class="p">{</code><code class="k">font-size</code><code class="o">:</code> <code class="m">180%</code><code class="p">;</code> <code class="k">font-stretch</code><code class="o">:</code> <code class="nb">condensed</code><code class="p">;}</code>&#13;
<code class="nt">h3</code> <code class="p">{</code><code class="k">font-size</code><code class="o">:</code> <code class="m">150%</code><code class="p">;</code> <code class="k">font-stretch</code><code class="o">:</code> <code class="nb">expanded</code><code class="p">;}</code></pre>&#13;
&#13;
<figure><div class="figure" id="using_declared_font-stretch_faces">&#13;
<img alt="css5 1418" src="assets/css5_1418.png"/>&#13;
<h6><span class="label">Figure 14-18. </span>Using declared font-stretch faces</h6>&#13;
</div></figure>&#13;
&#13;
<p>If you use a variable font that contains the full spectrum of font-stretch sizing, you can import a single font file with <code>@font-face</code>, then use it for all of your text font-stretch requirements. This produces the same degree of horizontal stretching shown in <a data-type="xref" href="#using_declared_font-stretch_faces">Figure 14-18</a>, albeit with a different font:</p>&#13;
&#13;
<pre data-code-language="css" data-type="programlisting"><code class="k">@font-face</code> <code class="p">{</code>&#13;
  <code class="nt">font-family</code><code class="o">:</code> <code class="s1">'League Mono Var'</code><code class="o">;</code>&#13;
  <code class="nt">src</code><code class="o">:</code> <code class="nt">url</code><code class="o">(</code><code class="s1">'LeagueMonoVariable.woff2'</code><code class="o">)</code> <code class="nt">format</code><code class="o">(</code><code class="s1">'woff2'</code><code class="o">);</code>&#13;
  <code class="nt">font-weight</code><code class="o">:</code> <code class="nt">100</code> <code class="nt">900</code><code class="o">;</code>&#13;
  <code class="nt">font-stretch</code><code class="o">:</code> <code class="nt">50%</code> <code class="nt">200%</code><code class="o">;</code>&#13;
  <code class="nt">font-display</code><code class="o">:</code> <code class="nt">swap</code><code class="o">;</code>&#13;
<code class="p">}</code>&#13;
&#13;
<code class="nt">h1</code><code class="o">,</code> <code class="nt">h2</code><code class="o">,</code> <code class="nt">h3</code> <code class="p">{</code><code class="k">font-family</code><code class="o">:</code> <code class="s2">"League Mono Var"</code><code class="o">,</code> <code class="n">Helvetica</code><code class="o">,</code> <code class="nb">sans-serif</code><code class="p">;}</code>&#13;
<code class="nt">h2</code> <code class="p">{</code><code class="k">font-size</code><code class="o">:</code> <code class="m">180%</code><code class="p">;</code> <code class="k">font-stretch</code><code class="o">:</code> <code class="m">75%</code><code class="p">;}</code>&#13;
<code class="nt">h3</code> <code class="p">{</code><code class="k">font-size</code><code class="o">:</code> <code class="m">150%</code><code class="p">;</code> <code class="k">font-stretch</code><code class="o">:</code> <code class="m">125%</code><code class="p">;}</code></pre>&#13;
&#13;
<p>The <code>font-stretch</code> descriptor can take all of the values of the <code>font-stretch</code> property <em>except</em> for <code>inherit</code>.</p>&#13;
&#13;
<p>If you do want to use a different font for your variable fonts depending on whether the text is extended or condensed, use the <code>"wdth"</code> value in the comma-separated value of the <code>@font-face</code> <code>font-variation-settings</code> descriptor, as in the following example:<a data-primary="" data-startref="ix_font_face_stretch" data-type="indexterm" id="idm45176057532160"/><a data-primary="" data-startref="ix_font_stretch_desc" data-type="indexterm" id="idm45176057531184"/><a data-primary="" data-startref="ix_stretch_font" data-type="indexterm" id="idm45176057530240"/></p>&#13;
&#13;
<pre data-code-language="css" data-type="programlisting"><code class="k">@font-face</code> <code class="p">{</code>&#13;
  <code class="nt">font-family</code><code class="o">:</code> <code class="s1">'League Mono Var'</code><code class="o">;</code>&#13;
  <code class="nt">src</code><code class="o">:</code> <code class="nt">url</code><code class="o">(</code><code class="s1">'LeagueMonoVariable.woff2'</code><code class="o">)</code> <code class="nt">format</code><code class="o">(</code><code class="s1">'woff2'</code><code class="o">);</code>&#13;
  <code class="nt">font-weight</code><code class="o">:</code> <code class="nt">100</code> <code class="nt">900</code><code class="o">;</code>&#13;
  <code class="nt">font-stretch</code><code class="o">:</code> <code class="nt">50%</code> <code class="nt">200%</code><code class="o">;</code>&#13;
<code class="p">}</code>&#13;
<code class="nt">strong</code> <code class="p">{</code>&#13;
  <code class="k">font-family</code><code class="o">:</code> <code class="n">LeagueMono</code><code class="p">;</code>&#13;
  <code class="k">font</code><code class="o">-</code><code class="n">variation</code><code class="o">-</code><code class="n">settings</code><code class="o">:</code> <code class="s2">"wdth"</code> <code class="m">100</code><code class="p">;</code>&#13;
<code class="p">}</code></pre>&#13;
</div></section>&#13;
</div></section>&#13;
&#13;
&#13;
&#13;
&#13;
&#13;
&#13;
<section data-pdf-bookmark="Font Synthesis" data-type="sect1"><div class="sect1" id="font_synthesis">&#13;
<h1>Font Synthesis</h1>&#13;
&#13;
<p>Sometimes a given font family will lack alternate faces for options like bold or italic text or small capital letters. In such situations, the user agent may attempt to synthesize a face from the faces it has available, but this can lead to unattractive letterforms. To address this, <a data-primary="synthesizing fonts" data-type="indexterm" id="idm45176057453040"/><a data-primary="fonts" data-secondary="synthesizing" data-type="indexterm" id="idm45176057452448"/>CSS offers <code>font-synthesis</code>, which lets you say how much synthesis you will or won’t permit in the rendering of a page.  <a data-primary="font-synthesis property" data-type="indexterm" id="idm45176057450848"/>This doesn’t have a <code>@font-face</code> descriptor, but it has bearing on all the font variants to follow, so we’re dealing with it now.</p>&#13;
<aside data-type="sidebar" epub:type="sidebar"><div class="sidebar" id="font-synthesis">&#13;
<h1>font-synthesis</h1><table>&#13;
&#13;
<tbody>&#13;
<tr>&#13;
<td><p><strong>Values</strong></p></td>&#13;
<td><p><code>none</code> | <code>weight</code> | <code>style</code> | <code>small-caps</code></p></td>&#13;
</tr>&#13;
<tr>&#13;
<td><p><strong>Initial value</strong></p></td>&#13;
<td><p><code>weight style</code></p></td>&#13;
</tr>&#13;
<tr>&#13;
<td><p><strong>Applies to</strong></p></td>&#13;
<td><p>All elements</p></td>&#13;
</tr>&#13;
<tr>&#13;
<td><p><strong>Inherited</strong></p></td>&#13;
<td><p>Yes</p></td>&#13;
</tr>&#13;
<tr>&#13;
<td><p><strong>Animatable</strong></p></td>&#13;
<td><p>No</p></td>&#13;
</tr>&#13;
</tbody>&#13;
</table>&#13;
</div></aside>&#13;
&#13;
<p>In many user agents, a font family that has no bold face can have one computed for it. This might be done by adding pixels to either side of each character glyph, for example. While this might seem useful, it can lead to results that are visually unappealing, especially at smaller font sizes. This is why most font families have bold faces included: the font’s designer wanted to make sure that bolded text in that font looked good.</p>&#13;
&#13;
<p>Similarly, a font family that lacks an italic face can have one synthesized by simply slanting the characters in the normal face. This tends to look even worse than synthesized bold faces, particularly when it comes to serif fonts. Compare the difference between the actual italic face included in Georgia and a synthesized italic version of Georgia (which we’re calling “oblique” here), illustrated in <a data-type="xref" href="#synthesized_versus_designed_italics">Figure 14-19</a>.</p>&#13;
&#13;
<figure><div class="figure" id="synthesized_versus_designed_italics">&#13;
<img alt="css5 1419" src="assets/css5_1419.png"/>&#13;
<h6><span class="label">Figure 14-19. </span>Synthesized versus designed italics</h6>&#13;
</div></figure>&#13;
&#13;
<p>In supporting user agents, declaring <code>font-synthesis: none</code> blocks the user agent from doing any such synthesis for the affected elements. You can block it for the whole document with <code>html {font-synthesis: none;}</code>, for example. The downside is that any attempts to create variant text using a font that doesn’t offer the appropriate faces will stay the normal face, instead of even approximating what was intended. The upside is that you don’t have to worry about a user agent trying to synthesize those variants and doing a poor job of it.</p>&#13;
</div></section>&#13;
&#13;
&#13;
&#13;
&#13;
&#13;
&#13;
<section data-pdf-bookmark="Font Variants" data-type="sect1"><div class="sect1" id="font_variants">&#13;
<h1>Font Variants</h1>&#13;
&#13;
<p>Beyond <a data-primary="fonts" data-secondary="variants" data-type="indexterm" id="ix_font_variant"/><a data-primary="fonts" data-secondary="ligatures" data-type="indexterm" id="idm45176057398048"/><a data-primary="ligatures" data-type="indexterm" id="idm45176057397104"/>font weights and font styles, there are font variants. These are embedded within a font face and can cover aspects like various styles of historical ligatures, small-caps presentation, ways of presenting fractions, the spacing of numbers, whether zeros get slashes through them, and much more. <a data-primary="font-variant property" data-type="indexterm" id="ix_font_var_prop"/>CSS lets you invoke these variants, when they exist, through the shorthand property <code>font-variant</code>.</p>&#13;
<aside data-type="sidebar" epub:type="sidebar"><div class="sidebar" id="font-variant">&#13;
<h1>font-variant</h1><table>&#13;
&#13;
<tbody>&#13;
<tr>&#13;
<td><p><strong>Values</strong></p></td>&#13;
<td><p>[ &lt;<em><code>font-variant-caps</code></em>&gt; ‖ &lt;<em><code>font-variant-numeric</code></em>&gt; ‖ <span class="keep-together">&lt;<em><code>font-variant-alternates</code></em>&gt;</span> ‖ &lt;<em><code>font-variant-ligatures</code></em>&gt; ‖ &lt;<em><code>font-variant-east-asian</code></em>&gt; ] | <code>normal</code> | <code>none</code></p></td>&#13;
</tr>&#13;
<tr>&#13;
<td><p><strong>Initial value</strong></p></td>&#13;
<td><p><code>normal</code></p></td>&#13;
</tr>&#13;
<tr>&#13;
<td><p><strong>Applies to</strong></p></td>&#13;
<td><p>All elements</p></td>&#13;
</tr>&#13;
<tr>&#13;
<td><p><strong>Computed value</strong></p></td>&#13;
<td><p>As specified</p></td>&#13;
</tr>&#13;
<tr>&#13;
<td><p><strong>@font-face equivalent</strong></p></td>&#13;
<td><p><code>font-variant</code></p></td>&#13;
</tr>&#13;
<tr>&#13;
<td><p><strong>Inherited</strong></p></td>&#13;
<td><p>Yes</p></td>&#13;
</tr>&#13;
<tr>&#13;
<td><p><strong>Animatable</strong></p></td>&#13;
<td><p>No</p></td>&#13;
</tr>&#13;
</tbody>&#13;
</table>&#13;
</div></aside>&#13;
&#13;
<p>This <a data-primary="CSS1 specification" data-secondary="fonts" data-type="indexterm" id="idm45176057375152"/>property is shorthand for five separate properties, which we’ll get to in just a moment.  The most common values you’ll find in the wild are <code>normal</code>, which is the default and describes ordinary text, and <code>small-caps</code>, which has existed since CSS1.</p>&#13;
&#13;
<p>First, however, let’s cover the two values that don’t correspond to other properties:</p>&#13;
<dl>&#13;
<dt><code>none</code></dt>&#13;
<dd>&#13;
<p>Disables all variants of any kind by setting <code>font-feature-ligatures</code> to <code>none</code> and all the other font variant properties to <code>normal</code></p>&#13;
</dd>&#13;
<dt><code>normal</code></dt>&#13;
<dd>&#13;
<p>Disables most variants by setting all the font variant properties, including <code>font-feature-ligatures</code>, to <code>normal</code></p>&#13;
</dd>&#13;
</dl>&#13;
&#13;
<p class="pagebreak-before">Understanding the variant aspect of <code>small-caps</code> might help explain the idea of variants, making all the other properties easier to understand.  The <code>small-caps</code> value calls for the use of small caps (<code>font-feature-settings: "smcp"</code>). Instead of upper- and lowercase letters, a small-caps font employs capital letters of different sizes. Thus, you might see something like what’s shown in <a data-type="xref" href="#the_small-caps_value_in_use">Figure 14-20</a>:</p>&#13;
&#13;
<pre data-code-language="css" data-type="programlisting"><code class="nt">h1</code> <code class="p">{</code><code class="k">font-variant</code><code class="o">:</code> <code class="nb">small-caps</code><code class="p">;}</code>&#13;
<code class="nt">h1</code> <code class="nt">code</code><code class="o">,</code> <code class="nt">p</code> <code class="p">{</code><code class="k">font-variant</code><code class="o">:</code> <code class="n">normal</code><code class="p">;}</code></pre>&#13;
&#13;
<pre data-code-language="html" data-type="programlisting"><code class="p">&lt;</code><code class="nt">h1</code><code class="p">&gt;</code>The Uses of <code class="p">&lt;</code><code class="nt">code</code><code class="p">&gt;</code>font-variant<code class="p">&lt;/</code><code class="nt">code</code><code class="p">&gt;&lt;/</code><code class="nt">h1</code><code class="p">&gt;</code>&#13;
<code class="p">&lt;</code><code class="nt">p</code><code class="p">&gt;</code>&#13;
The property <code class="p">&lt;</code><code class="nt">code</code><code class="p">&gt;</code>font-variant<code class="p">&lt;/</code><code class="nt">code</code><code class="p">&gt;</code> is very interesting...&#13;
<code class="p">&lt;/</code><code class="nt">p</code><code class="p">&gt;</code></pre>&#13;
&#13;
<figure><div class="figure" id="the_small-caps_value_in_use">&#13;
<img alt="css5 1420" src="assets/css5_1420.png"/>&#13;
<h6><span class="label">Figure 14-20. </span>The <code>small-caps</code> value in use</h6>&#13;
</div></figure>&#13;
&#13;
<p>As you may notice, in the display of the <code>&lt;h1&gt;</code> element, there is a larger capital letter wherever an uppercase letter appears in the source, and a small capital letter wherever there is a lowercase letter in the source. This is very similar to <code>text-transform: uppercase</code>, with the only real difference being that, here, the capital letters are of different sizes. However, the reason that <code>small-caps</code> is declared using a font property is that some fonts have a specific small-caps face, which a font property is used to select.</p>&#13;
&#13;
<p>What happens if no font-face variant, such as <code>small-caps</code>, exists? The specification provides two options. The first is for the user agent to create a small-caps face by scaling capital letters on its own. The second is to make all letters uppercase and the same size, exactly as if the declaration <code>text-transform: uppercase</code> had been used instead. This is not an ideal solution but it is permitted.</p>&#13;
<div data-type="warning" epub:type="warning"><h6>Warning</h6>&#13;
<p>Bear in mind that not every font supports every variant. For example, most Latin fonts won’t support any of the East Asian variants. In addition, not every font will include support for, say, some of the numeric and ligature variants.  Many fonts will support <em>none</em> of the variants.</p>&#13;
&#13;
<p>To find out what a given font supports, you have to consult its documentation, or do a lot of testing if no documentation is available.  Most commercial fonts do come with documentation, and most free fonts don’t.  Fortunately, some browser developer tools (not including Chromium browsers, as of late 2022) have a tab that provides information about font variants and feature settings.<a data-primary="" data-startref="ix_font_var_prop" data-type="indexterm" id="idm45176057303552"/></p>&#13;
</div>&#13;
&#13;
&#13;
&#13;
&#13;
&#13;
&#13;
&#13;
&#13;
<section class="less_space pagebreak-before" data-pdf-bookmark="Capital Font Variants" data-type="sect2"><div class="sect2" id="idm45176057302320">&#13;
<h2>Capital Font Variants</h2>&#13;
&#13;
<p>In <a data-primary="font-variant-caps property" data-type="indexterm" id="ix_font_var_cap_prop"/><a data-primary="capitals, font variants" data-type="indexterm" id="ix_cap_font_var"/>addition to the <code>small-caps</code> value we just discussed, CSS has other  capital-text variants.  These are addressed via the property <code>font-variant-caps</code>.</p>&#13;
<aside data-type="sidebar" epub:type="sidebar"><div class="sidebar" id="font-variant-caps">&#13;
<h1>font-variant-caps</h1><table>&#13;
&#13;
<tbody>&#13;
<tr>&#13;
<td><p><strong>Values</strong></p></td>&#13;
<td><p><code>normal</code> | <code>small-caps</code> | <code>all-small-caps</code> | <code>petite-caps</code> | &#13;
<span class="keep-together"><code>all-petite-caps</code></span> | <code>titling-caps</code> | <code>unicase</code></p></td>&#13;
</tr>&#13;
<tr>&#13;
<td><p><strong>Initial value</strong></p></td>&#13;
<td><p><code>normal</code></p></td>&#13;
</tr>&#13;
<tr>&#13;
<td><p><strong>Applies to</strong></p></td>&#13;
<td><p>All elements</p></td>&#13;
</tr>&#13;
<tr>&#13;
<td><p><strong>Computed value</strong></p></td>&#13;
<td><p>Specified keyword</p></td>&#13;
</tr>&#13;
<tr>&#13;
<td><p><strong>@font-face equivalent</strong></p></td>&#13;
<td><p><code>font-variant</code></p></td>&#13;
</tr>&#13;
<tr>&#13;
<td><p><strong>Inherited</strong></p></td>&#13;
<td><p>Yes</p></td>&#13;
</tr>&#13;
<tr>&#13;
<td><p><strong>Animatable</strong></p></td>&#13;
<td><p>No</p></td>&#13;
</tr>&#13;
</tbody>&#13;
</table>&#13;
</div></aside>&#13;
&#13;
<p>The default value is <code>normal</code>, which means no capital-letter variant is used.  From there, we have the following options:</p>&#13;
<dl>&#13;
<dt><code>small-caps</code></dt>&#13;
<dd>&#13;
<p>Renders <a data-primary="small-caps keyword, font-variant" data-type="indexterm" id="idm45176057243376"/>all of the letters using capital letters.  The capital letters for characters that are uppercase in the source text are the same height as uppercase letters.  Characters that are lowercase in the text are rendered as smaller capitals, usually a bit taller than the font’s x-height.</p>&#13;
</dd>&#13;
<dt><code>all-small-caps</code></dt>&#13;
<dd>&#13;
<p>The <a data-primary="all-small-caps keyword, font-variant-caps" data-type="indexterm" id="idm45176057241136"/>same as <code>small-caps</code>, except all letters are rendered as smaller capitals, even those that are uppercase in the source text.</p>&#13;
</dd>&#13;
<dt><code>petite-caps</code></dt>&#13;
<dd>&#13;
<p>Similar <a data-primary="petite-caps keyword, font-variant-caps" data-type="indexterm" id="idm45176057238320"/>to <code>small-caps</code>, except the capitals used for lowercase letters are equal in height to, or even a bit shorter than, the font’s x-height.  If the font has no petite-caps variant, the result is likely to be the same as for <code>small-caps</code>.</p>&#13;
</dd>&#13;
<dt><code>all-petite-caps</code></dt>&#13;
<dd>&#13;
<p>The <a data-primary="all-petite-caps keyword, font-variant-caps" data-type="indexterm" id="idm45176057235184"/>same as <code>petite-caps</code>, except all letters are rendered as smaller capitals, even those that are uppercase in the source text.</p>&#13;
</dd>&#13;
<dt><code>titling-caps</code></dt>&#13;
<dd>&#13;
<p>If a <a data-primary="titling-caps keyword, font-variant-caps" data-type="indexterm" id="idm45176057232304"/>row has multiple uppercase letters, alternate capital forms are used to keep the letters from appearing too visually strong.  Usually these are thinner versions of the normal capitals in the font.</p>&#13;
</dd>&#13;
<dt><code>unicase</code></dt>&#13;
<dd>&#13;
<p>The <a data-primary="unicase keyword, font-variant-caps" data-type="indexterm" id="idm45176057230064"/>text is rendered using a mixture of capital and noncapital letterforms, usually all the same height.  This can vary widely even among the few fonts that offer this &#13;
<span class="keep-together">variant.</span></p>&#13;
</dd>&#13;
</dl>&#13;
&#13;
<p>The following code is illustrated in <a data-type="xref" href="#different_types_of_capital_variants">Figure 14-21</a>;  note that the values marked with a dagger (†) were faked in one way or another:</p>&#13;
&#13;
<pre data-code-language="css" data-type="programlisting"><code class="nc">.variant1</code> <code class="p">{</code><code class="k">font-variant</code><code class="o">-</code><code class="n">caps</code><code class="o">:</code> <code class="nb">small-caps</code><code class="p">;}</code>&#13;
<code class="nc">.variant2</code> <code class="p">{</code><code class="k">font-variant</code><code class="o">-</code><code class="n">caps</code><code class="o">:</code> <code class="n">all</code><code class="o">-</code><code class="nb">small-caps</code><code class="p">;}</code>&#13;
<code class="nc">.variant3</code> <code class="p">{</code><code class="k">font-variant</code><code class="o">-</code><code class="n">caps</code><code class="o">:</code> <code class="n">petite</code><code class="o">-</code><code class="n">caps</code><code class="p">;}</code>&#13;
<code class="nc">.variant4</code> <code class="p">{</code><code class="k">font-variant</code><code class="o">-</code><code class="n">caps</code><code class="o">:</code> <code class="n">all</code><code class="o">-</code><code class="n">petite</code><code class="o">-</code><code class="n">caps</code><code class="p">;}</code>&#13;
<code class="nc">.variant5</code> <code class="p">{</code><code class="k">font-variant</code><code class="o">-</code><code class="n">caps</code><code class="o">:</code> <code class="n">titling</code><code class="o">-</code><code class="n">caps</code><code class="p">;}</code>&#13;
<code class="nc">.variant6</code> <code class="p">{</code><code class="k">font-variant</code><code class="o">-</code><code class="n">caps</code><code class="o">:</code> <code class="n">unicase</code><code class="p">;}</code></pre>&#13;
&#13;
<figure><div class="figure" id="different_types_of_capital_variants">&#13;
<img alt="css5 1421" src="assets/css5_1421.png"/>&#13;
<h6><span class="label">Figure 14-21. </span>Different types of capital variants</h6>&#13;
</div></figure>&#13;
&#13;
<p>Why did we fake some of the examples in <a data-type="xref" href="#different_types_of_capital_variants">Figure 14-21</a>?  In part, because finding a single font that contains all the capital variants is exceedingly difficult, and it is literally faster to fake some results than dig up a font, or set of fonts, that might work.</p>&#13;
&#13;
<p>We also want to highlight that exact situation: most of the time, you’re going to get either a fallback (as from <code>petite-caps</code> to <code>small-caps</code>) or no variant at all.  <a data-primary="@font-face rule" data-primary-sortas="font-face rule" data-secondary="font-variant descriptor" data-type="indexterm" id="idm45176057141664"/><a data-primary="font-variant descriptor, @font-face" data-type="indexterm" id="idm45176057140416"/>Because of this, make sure to use the <code>@font-face</code> <code>font-variant</code> descriptor to define what should happen.  Otherwise, if a <code>font-variant-caps</code> category variant is not available, the browser will decide how to render it. For example, if <code>petite-caps</code> is specified and the font doesn’t have a petite-caps face or variable axis defined, the user agent may render the text using small capital glyphs. If small capital glyphs are not included in the font, the browser may synthesize them by proportionally shrinking uppercase glyphs.</p>&#13;
&#13;
<p>Alternatively, you can use <code>{font-synthesis: none;}</code> to prevent the browser from synthesizing the text. You can also include <code>{font-synthesis: small-caps;}</code>, or omit <code>font-synthesis</code> altogether, to allow a small-caps typeface to be synthesized if needed.</p>&#13;
&#13;
<p>Fonts sometimes include special glyphs for various caseless characters like punctuation marks to match the cap-variant text. The browser will not synthesize caseless characters on its own.<a data-primary="" data-startref="ix_cap_font_var" data-type="indexterm" id="idm45176057124624"/><a data-primary="" data-startref="ix_font_var_cap_prop" data-type="indexterm" id="idm45176057123648"/></p>&#13;
&#13;
<p>All the values of <code>font-variant-caps</code> other than <code>normal</code> have defined equivalent OpenType features.  <a data-primary="fonts" data-secondary="OpenType font features" data-type="indexterm" id="idm45176057121424"/><a data-primary="OpenType font features" data-type="indexterm" id="idm45176057120448"/>These are summarized in <a data-type="xref" href="#font_variant_caps_opentype">Table 14-10</a>.</p>&#13;
<table id="font_variant_caps_opentype">&#13;
<caption><span class="label">Table 14-10. </span><code>font-variant-caps</code> values and equivalent OpenType features</caption>&#13;
<thead>&#13;
<tr>&#13;
<th>Value</th>&#13;
<th>OpenType feature</th>&#13;
</tr>&#13;
</thead>&#13;
<tbody>&#13;
<tr>&#13;
<td><p><code>normal</code></p></td>&#13;
<td><p><em>n/a</em></p></td>&#13;
</tr>&#13;
<tr>&#13;
<td><p><code>small-caps</code></p></td>&#13;
<td><p><code>"smcp"</code></p></td>&#13;
</tr>&#13;
<tr>&#13;
<td><p><code>all-small-caps</code></p></td>&#13;
<td><p><code>"c2sc"</code>, <code>"smcp"</code></p></td>&#13;
</tr>&#13;
<tr>&#13;
<td><p><code>petite-caps</code></p></td>&#13;
<td><p><code>"pcap"</code></p></td>&#13;
</tr>&#13;
<tr>&#13;
<td><p><code>all-petite-caps</code></p></td>&#13;
<td><p><code>"c2pc"</code>, <code>"pcap"</code></p></td>&#13;
</tr>&#13;
<tr>&#13;
<td><p><code>titling-caps</code></p></td>&#13;
<td><p><code>"titl"</code></p></td>&#13;
</tr>&#13;
<tr>&#13;
<td><p><code>unicase</code></p></td>&#13;
<td><p><code>"unic"</code></p></td>&#13;
</tr>&#13;
</tbody>&#13;
</table>&#13;
</div></section>&#13;
&#13;
&#13;
&#13;
&#13;
&#13;
&#13;
&#13;
&#13;
<section data-pdf-bookmark="Numeric Font Variants" data-type="sect2"><div class="sect2" id="idm45176057301728">&#13;
<h2>Numeric Font Variants</h2>&#13;
&#13;
<p>Many <a data-primary="numeric font variants" data-type="indexterm" id="ix_num_font_var"/><a data-primary="font-variant-numeric property" data-type="indexterm" id="ix_font_var_num_prop"/>font faces have variant behaviors for use when rendering numerals.  When available, these can be accessed via the <code>font-variant-numeric</code> property.  The values of this property affect the usage of alternate glyphs for numbers, fractions, and ordinal markers.</p>&#13;
<aside data-type="sidebar" epub:type="sidebar"><div class="sidebar" id="font-variant-numeric">&#13;
<h1>font-variant-numeric</h1><table>&#13;
&#13;
<tbody>&#13;
<tr>&#13;
<td><p><strong>Values</strong></p></td>&#13;
<td><p><code>normal</code> | [ <code>lining-nums</code> | <code>oldstyle-nums</code> ] ‖ [ &#13;
<span class="keep-together"><code>proportional-nums</code> |</span> &#13;
<span class="keep-together"><code>tabular-nums</code> ]</span> ‖ [ <code>diagonal-fractions</code> | <code>stacked-fractions</code> ] ‖ <code>ordinal</code> ‖ <code>slashed-zero</code> ]</p></td>&#13;
</tr>&#13;
<tr>&#13;
<td><p><strong>Initial value</strong></p></td>&#13;
<td><p><code>normal</code></p></td>&#13;
</tr>&#13;
<tr>&#13;
<td><p><strong>Applies to</strong></p></td>&#13;
<td><p>All elements</p></td>&#13;
</tr>&#13;
<tr>&#13;
<td><p><strong>Computed value</strong></p></td>&#13;
<td><p>Specified keyword</p></td>&#13;
</tr>&#13;
<tr>&#13;
<td><p><strong>Inherited</strong></p></td>&#13;
<td><p>Yes</p></td>&#13;
</tr>&#13;
<tr>&#13;
<td><p><strong>Animatable</strong></p></td>&#13;
<td><p>No</p></td>&#13;
</tr>&#13;
</tbody>&#13;
</table>&#13;
</div></aside>&#13;
&#13;
<p>The default value, <code>normal</code>, means that nothing special will be done when rendering numbers.  They’ll just appear the same as they usually do for the font face.  <a data-type="xref" href="#different_types_of_numeric_variants">Figure 14-22</a> demonstrates all the values, and as before, the examples marked with a dagger (†) were faked in one way or another because fonts lacked those features.</p>&#13;
&#13;
<figure><div class="figure" id="different_types_of_numeric_variants">&#13;
<img alt="css5 1422" src="assets/css5_1422.png"/>&#13;
<h6><span class="label">Figure 14-22. </span>Different types of numeric variants</h6>&#13;
</div></figure>&#13;
&#13;
<p>Perhaps the simplest numeric variant is <code>slashed-zero</code>.  This causes the numeral 0 to appear with a slash through it, most likely on a diagonal.  Slashed zeros are often the default rendering in monospace fonts, where distinguishing 0 from the capital letter <em>O</em> can be difficult. <a data-primary="slashed-zero numeric display keyword" data-type="indexterm" id="idm45176057074304"/> In serif and sans-serif fonts, they are usually not the default appearance of zeros.  Setting <code>font-variant-numeric: slashed-zero</code> will bring out a slashed zero if one is available.</p>&#13;
&#13;
<p>Speaking of <a data-primary="diagonal-fractions numeric display keyword" data-type="indexterm" id="idm45176057072528"/>diagonal slashes, the value <code>diagonal-fractions</code> causes characters arranged as a fraction (e.g., 1/2) to be rendered as smaller numbers, the first raised up, separated by a diagonal slash. The <code>stacked-fractions</code> value renders the fraction as the first number above the second, and the two separated by a horizontal slash.</p>&#13;
&#13;
<p>If the <a data-primary="ordinal numeric display keyword" data-type="indexterm" id="idm45176057070064"/>font has features for ordinal labels, like the letters following the numbers of 1st, 2nd, 3rd, and 4th in English, <code>ordinal</code> enables the use of those special glyphs.  These will generally look like superscripted, smaller versions of the letters.</p>&#13;
&#13;
<p>Authors can <a data-primary="lining-nums numeric display keyword" data-type="indexterm" id="idm45176057068256"/><a data-primary="oldstyle-nums numeric display keyword" data-type="indexterm" id="idm45176057067504"/>affect the figures used for numbers with <code>lining-nums</code>, which sets all numbers on the baseline; and <code>oldstyle-nums</code>, which enables numbers like 3, 4, 7, and 9 to descend below the baseline.  Georgia is a common example of a font that has old-style numbers.</p>&#13;
&#13;
<p>You can also influence the <a data-primary="font-size property" data-secondary="monospaced text" data-type="indexterm" id="idm45176057065248"/><a data-primary="proportional-nums numeric display keyword" data-type="indexterm" id="idm45176057064272"/><a data-primary="tabular-nums numeric display keyword" data-type="indexterm" id="idm45176057063504"/>sizing of figures used for numbers. The <code>proportional-nums</code> value enables the numbers to be proportional, as in proportional fonts; and <code>tabular-nums</code> gives all numbers the same width, as in monospace fonts.  The advantage of these values is that you can, assuming there are glyphs to support them in the font face, get the monospace effect in proportional fonts without converting the numbers to a monospace face, and similarly cause monospace numbers to be sized proportionally.</p>&#13;
&#13;
<p class="pagebreak-before">You can include multiple values, but only one value from each of the numeric-value sets:</p>&#13;
&#13;
<pre data-code-language="css" data-type="programlisting"><code class="k">@font-face</code> <code class="p">{</code>&#13;
  <code class="nt">font-family</code><code class="o">:</code> <code class="s1">'mathVariableFont'</code><code class="o">;</code>&#13;
  <code class="nt">src</code><code class="o">:</code> <code class="nt">local</code><code class="o">(</code><code class="s2">"math"</code><code class="o">);</code>&#13;
  <code class="nt">font-feature-settings</code><code class="o">:</code> <code class="s2">"tnum"</code> <code class="nt">on</code><code class="o">,</code> <code class="s2">"zero"</code> <code class="nt">on</code><code class="o">;</code>&#13;
<code class="p">}</code>&#13;
<code class="nc">.number</code> <code class="p">{</code>&#13;
  <code class="k">font-family</code><code class="o">:</code> <code class="n">mathVariableFont</code><code class="o">,</code> <code class="nb">serif</code><code class="p">;</code>&#13;
  <code class="k">font</code><code class="o">-</code><code class="n">feature</code><code class="o">-</code><code class="n">settings</code><code class="o">:</code> <code class="s2">"tnum"</code> <code class="n">on</code><code class="o">,</code> <code class="s2">"zero"</code> <code class="n">on</code><code class="p">;</code>&#13;
  <code class="k">font-variant</code><code class="o">-</code><code class="n">numeric</code><code class="o">:</code> <code class="n">ordinal</code> <code class="n">slashed</code><code class="o">-</code><code class="n">zero</code> <code class="n">oldstyle</code><code class="o">-</code><code class="n">nums</code> <code class="n">stacked</code><code class="o">-</code><code class="n">fractions</code><code class="p">;</code>&#13;
<code class="p">}</code></pre>&#13;
&#13;
<p>All the values of <code>font-variant-numeric</code> other than <code>normal</code> have defined equivalent OpenType features.  These are summarized in <a data-type="xref" href="#font_variant_numeric_opentype">Table 14-11</a>.<a data-primary="" data-startref="ix_font_var_num_prop" data-type="indexterm" id="idm45176057010800"/><a data-primary="" data-startref="ix_num_font_var" data-type="indexterm" id="idm45176057009824"/></p>&#13;
<table id="font_variant_numeric_opentype">&#13;
<caption><span class="label">Table 14-11. </span><code>font-variant-numeric</code> values and equivalent OpenType features</caption>&#13;
<thead>&#13;
<tr>&#13;
<th>Value</th>&#13;
<th>OpenType feature</th>&#13;
</tr>&#13;
</thead>&#13;
<tbody>&#13;
<tr>&#13;
<td><p><code>normal</code></p></td>&#13;
<td><p><em>n/a</em></p></td>&#13;
</tr>&#13;
<tr>&#13;
<td><p><code>ordinal</code></p></td>&#13;
<td><p><code>"ordn"</code></p></td>&#13;
</tr>&#13;
<tr>&#13;
<td><p><code>slashed-zero</code></p></td>&#13;
<td><p><code>"zero"</code></p></td>&#13;
</tr>&#13;
<tr>&#13;
<td><p><code>lining-nums</code></p></td>&#13;
<td><p><code>"lnum"</code></p></td>&#13;
</tr>&#13;
<tr>&#13;
<td><p><code>oldstyle-nums</code></p></td>&#13;
<td><p><code>"onum"</code></p></td>&#13;
</tr>&#13;
<tr>&#13;
<td><p><code>proportional-nums</code></p></td>&#13;
<td><p><code>"pnum"</code></p></td>&#13;
</tr>&#13;
<tr>&#13;
<td><p><code>tabular-nums</code></p></td>&#13;
<td><p><code>"tnum"</code></p></td>&#13;
</tr>&#13;
<tr>&#13;
<td><p><code>diagonal-fractions</code></p></td>&#13;
<td><p><code>"frac"</code></p></td>&#13;
</tr>&#13;
<tr>&#13;
<td><p><code>stacked-fractions</code></p></td>&#13;
<td><p><code>"afrc"</code></p></td>&#13;
</tr>&#13;
</tbody>&#13;
</table>&#13;
</div></section>&#13;
&#13;
&#13;
&#13;
&#13;
&#13;
&#13;
&#13;
&#13;
<section data-pdf-bookmark="Ligature Variants" data-type="sect2"><div class="sect2" id="ligature_variants">&#13;
<h2>Ligature Variants</h2>&#13;
&#13;
<p>A <em>ligature</em> is a <a data-primary="font-variant-ligatures property" data-type="indexterm" id="ix_font_var_lig_prop"/><a data-primary="ligatures" data-type="indexterm" id="ix_ligatures_ch14"/><a data-primary="fonts" data-secondary="ligatures" data-type="indexterm" id="ix_font_lig"/>joining of two (or more) characters into one shape.  As an example, two lowercase <em>f</em> characters could have their crossbars merged into a single line when they appear next to each other, or the crossbar could extend over a lowercase <em>i</em> and replace its usual dot in the sequence <em>fi</em>.  More archaically, a combination like <em>st</em> could have a swash curve from one to the other.  When available, these features can be enabled or disabled with the <code>font-variant-ligatures</code> property.</p>&#13;
<aside data-type="sidebar" epub:type="sidebar"><div class="sidebar" id="font-variant-ligatures">&#13;
<h1>font-variant-ligatures</h1><table>&#13;
&#13;
<tbody>&#13;
<tr>&#13;
<td><p><strong>Values</strong></p></td>&#13;
<td><p><code>normal</code> |  <code>none</code> |  [ [ <code>common-ligatures</code> |  <code>no-common-ligatures</code> ] ‖ &#13;
<span class="keep-together">[ <code>discretionary-ligatures</code></span> | <code>no-discretionary-ligatures</code> ] ‖ &#13;
<span class="keep-together">[ <code>historical-ligatures</code></span> | <code>no-historical-ligatures</code> ] ‖ [ &#13;
<span class="keep-together"><code>contextual</code></span> |  &#13;
<span class="keep-together"><code>no-contextual</code></span> ] ]</p></td>&#13;
</tr>&#13;
<tr>&#13;
<td><p><strong>Initial value</strong></p></td>&#13;
<td><p><code>normal</code></p></td>&#13;
</tr>&#13;
<tr>&#13;
<td><p><strong>Applies to</strong></p></td>&#13;
<td><p>All elements</p></td>&#13;
</tr>&#13;
<tr>&#13;
<td><p><strong>Computed value</strong></p></td>&#13;
<td><p>Specified keyword</p></td>&#13;
</tr>&#13;
<tr>&#13;
<td><p><strong>Inherited</strong></p></td>&#13;
<td><p>Yes</p></td>&#13;
</tr>&#13;
<tr>&#13;
<td><p><strong>Animatable</strong></p></td>&#13;
<td><p>No</p></td>&#13;
</tr>&#13;
</tbody>&#13;
</table>&#13;
</div></aside>&#13;
&#13;
<p>The values have the following effects:</p>&#13;
<dl>&#13;
<dt><code>common-ligatures</code></dt>&#13;
<dd>&#13;
<p>Enables<a data-primary="common-ligatures keyword" data-type="indexterm" id="idm45176056910864"/> the use of common ligatures, such as those combining <em>f</em> or <em>t</em> with letters that follow them.  In French, the sequence <em>oe</em> is more usually rendered using the ligature <em>œ</em>.  Browsers usually have these enabled by default, so if you want to disable them, use <code>no-common-ligatures</code> instead.</p>&#13;
</dd>&#13;
<dt><code>discretionary-ligatures</code></dt>&#13;
<dd>&#13;
<p>Enables<a data-primary="discretionary-ligatures keyword" data-type="indexterm" id="idm45176056906480"/> the use of special ligatures created by font designers that are unusual or otherwise not regarded as common.</p>&#13;
</dd>&#13;
<dt><code>historical-ligatures</code></dt>&#13;
<dd>&#13;
<p>Enables<a data-primary="historical-ligatures keyword" data-type="indexterm" id="idm45176056904112"/> the use of historical ligatures, which are generally those found in the typography of centuries past but are not used today.  For example, in German the <em>tz</em> digraph used to be rendered as <img src="assets/tz_italic.png"/>.</p>&#13;
</dd>&#13;
<dt><code>contextual-ligatures</code></dt>&#13;
<dd>&#13;
<p>Enables<a data-primary="contextual-ligatures keyword" data-type="indexterm" id="idm45176056900896"/> the use of ligatures that appear based on context, such as a cursive font enabling connecting curves from one letter to the next depending on not just the character that follows, but possibly also what characters came before.  These are also sometimes used in programming fonts, where sequences like <code>!=</code> may be rendered as <code>≠</code> instead.</p>&#13;
</dd>&#13;
<dt><code>no-common-ligatures</code></dt>&#13;
<dd>&#13;
<p>Explicitly<a data-primary="no-common-ligatures keyword" data-type="indexterm" id="idm45176056897760"/> disables the use of common ligatures.</p>&#13;
</dd>&#13;
<dt><code>no-discretionary-ligatures</code></dt>&#13;
<dd>&#13;
<p>Explicitly<a data-primary="no-discretionary-ligatures keyword" data-type="indexterm" id="idm45176056895552"/> disables the use of discretionary ligatures.</p>&#13;
</dd>&#13;
<dt><code>no-historical-ligatures</code></dt>&#13;
<dd>&#13;
<p>Explicitly<a data-primary="no-historical-ligatures keyword" data-type="indexterm" id="idm45176056893248"/> disables the use of historical ligatures.</p>&#13;
</dd>&#13;
<dt><code>no-contextual-ligatures</code></dt>&#13;
<dd>&#13;
<p>Explicitly<a data-primary="no-contextual-ligatures keyword" data-type="indexterm" id="idm45176056890944"/> disables the use of contextual ligatures.</p>&#13;
</dd>&#13;
</dl>&#13;
&#13;
<p>The default value, <code>normal</code>, turns off all these ligatures <em>except</em> common ligatures, which are enabled by default.  This is especially relevant because <code>font-variant: normal</code> turns off all the <code>font-variant-ligatures</code> except the common ones, whereas <code>font-variant: none</code> turns them all off <em>including</em> common ligatures. <a data-type="xref" href="#font_variant_caps">Table 14-12</a> provides a condensed summary of how each value translates into <a data-primary="fonts" data-secondary="OpenType font features" data-type="indexterm" id="idm45176056885888"/><a data-primary="OpenType font features" data-type="indexterm" id="idm45176056884944"/>OpenType features.</p>&#13;
<table id="font_variant_caps">&#13;
<caption><span class="label">Table 14-12. </span><code>font-variant-ligatures</code> values and equivalent OpenType features</caption>&#13;
<thead>&#13;
<tr>&#13;
<th>Value</th>&#13;
<th>OpenType feature</th>&#13;
</tr>&#13;
</thead>&#13;
<tbody>&#13;
<tr>&#13;
<td><p><code>common-ligatures</code></p></td>&#13;
<td><p><code>"clig" on</code>, <code>"liga" on</code></p></td>&#13;
</tr>&#13;
<tr>&#13;
<td><p><code>discretionary-ligatures</code></p></td>&#13;
<td><p><code>"dlig" on</code></p></td>&#13;
</tr>&#13;
<tr>&#13;
<td><p><code>historical-ligatures</code></p></td>&#13;
<td><p><code>"hlig" on</code></p></td>&#13;
</tr>&#13;
<tr>&#13;
<td><p><code>contextual-ligatures</code></p></td>&#13;
<td><p><code>"calt" on</code></p></td>&#13;
</tr>&#13;
<tr>&#13;
<td><p><code>no-common-ligatures</code></p></td>&#13;
<td><p><code>"clig" off</code>, <code>"liga" off</code></p></td>&#13;
</tr>&#13;
<tr>&#13;
<td><p><code>no-discretionary-ligatures</code></p></td>&#13;
<td><p><code>"dlig" off</code></p></td>&#13;
</tr>&#13;
<tr>&#13;
<td><p><code>no-historical-ligatures</code></p></td>&#13;
<td><p><code>"hlig" off</code></p></td>&#13;
</tr>&#13;
<tr>&#13;
<td><p><code>no-contextual-ligatures</code></p></td>&#13;
<td><p><code>"calt" off</code></p></td>&#13;
</tr>&#13;
</tbody>&#13;
</table>&#13;
&#13;
<p>Less likely to be used or supported by browsers are the <code>font-variant-alternates</code> and <code>font-variant-east-asian</code> properties.<a data-primary="" data-startref="ix_font_lig" data-type="indexterm" id="idm45176056863552"/><a data-primary="" data-startref="ix_font_var_lig_prop" data-type="indexterm" id="idm45176056862544"/><a data-primary="" data-startref="ix_ligatures_ch14" data-type="indexterm" id="idm45176056861600"/></p>&#13;
</div></section>&#13;
&#13;
&#13;
&#13;
&#13;
&#13;
&#13;
&#13;
&#13;
<section data-pdf-bookmark="Alternate Variants" data-type="sect2"><div class="sect2" id="alternate-variants">&#13;
<h2>Alternate Variants</h2>&#13;
&#13;
<p>For any given <a data-primary="font-variant-alternates property" data-type="indexterm" id="ix_font_var_alt_prop"/><a data-primary="alternate glyphs, font variants" data-type="indexterm" id="ix_alt_glyph_font_var"/>character, a font may include alternate glyphs in addition to the default glyph for that character. The <code>font-variant-alternates</code> property affects the usage of those alternate glyphs.</p>&#13;
<aside data-type="sidebar" epub:type="sidebar"><div class="sidebar" id="font-variant-alternates">&#13;
<h1>font-variant-alternates</h1><table>&#13;
&#13;
<tbody>&#13;
<tr>&#13;
<td><p><strong>Values</strong></p></td>&#13;
<td><p><code>normal</code> | [ <code>historical-forms</code> ‖ <code>stylistic()</code> ‖ <code>historical-forms</code> ‖ <span class="keep-together"><code>styleset()</code></span> ‖ <code>character-variant()</code> ‖ <code>swash()</code> ‖ <code>ornaments()</code> ‖ <span class="keep-together"><code>annotation()</code></span> ]</p></td>&#13;
</tr>&#13;
<tr>&#13;
<td><p><strong>Initial value</strong></p></td>&#13;
<td><p><code>normal</code></p></td>&#13;
</tr>&#13;
<tr>&#13;
<td><p><strong>Applies to</strong></p></td>&#13;
<td><p>All elements</p></td>&#13;
</tr>&#13;
<tr>&#13;
<td><p><strong>Computed value</strong></p></td>&#13;
<td><p>As specified</p></td>&#13;
</tr>&#13;
<tr>&#13;
<td><p><strong>Inherited</strong></p></td>&#13;
<td><p>Yes</p></td>&#13;
</tr>&#13;
<tr>&#13;
<td><p><strong>Animatable</strong></p></td>&#13;
<td><p>Discrete</p></td>&#13;
</tr>&#13;
</tbody>&#13;
</table>&#13;
</div></aside>&#13;
&#13;
<p>The default value, <code>normal</code>, means don’t use any alternate variants. The <code>historical-forms</code> keyword enables historical forms, glyphs that were common in the past but not today.  All the other values are functions.</p>&#13;
&#13;
<p>These alternate glyphs may be referenced by alternative names defined in <code>@font-feature-values</code>. With <code>@font-feature-values</code>, you can define a common name for the <code>font-variant-alternates</code> function values to activate OpenType features.</p>&#13;
&#13;
<p>The <code>@font-feature-values</code> at-rule may be used either at the top level of your CSS or inside any CSS conditional-group at-rule.</p>&#13;
&#13;
<p>In <a data-type="xref" href="#font_variant_alternates">Table 14-13</a>, <em><code>XY</code></em> is replaced by a number representing the feature set. With OpenType fonts and <code>font-feature-settings</code>, some features are already defined. For example, the OpenType equivalent of the <code>styleset()</code> function is <code>"ss<em>XY</em>"</code>. As of late 2022, <code>ss01</code> through <code>ss20</code> are currently defined. Values higher than 99 are allowed, but they don’t map to any OpenType values and will be <a data-primary="fonts" data-secondary="OpenType font features" data-type="indexterm" id="idm45176056829584"/><a data-primary="OpenType font features" data-type="indexterm" id="idm45176056828608"/>ignored.</p>&#13;
<table id="font_variant_alternates">&#13;
<caption><span class="label">Table 14-13. </span><code>font-variant-alternates</code> values and equivalent OpenType features</caption>&#13;
<thead>&#13;
<tr>&#13;
<th>Value</th>&#13;
<th>OpenType feature</th>&#13;
</tr>&#13;
</thead>&#13;
<tbody>&#13;
<tr>&#13;
<td><p><code>annotation()</code></p></td>&#13;
<td><p><code>"nalt"</code></p></td>&#13;
</tr>&#13;
<tr>&#13;
<td><p><code>character-variant()</code></p></td>&#13;
<td><p><code>"cv<em>XY</em>"</code></p></td>&#13;
</tr>&#13;
<tr>&#13;
<td><p><code>historical-forms</code></p></td>&#13;
<td><p><code>"hist"</code></p></td>&#13;
</tr>&#13;
<tr>&#13;
<td><p><code>ornaments()</code></p></td>&#13;
<td><p><code>"ornm"</code></p></td>&#13;
</tr>&#13;
<tr>&#13;
<td><p><code>styleset()</code></p></td>&#13;
<td><p><code>"ss<em>XY</em>"</code></p></td>&#13;
</tr>&#13;
<tr>&#13;
<td><p><code>stylistic()</code></p></td>&#13;
<td><p><code>"salt"</code></p></td>&#13;
</tr>&#13;
<tr>&#13;
<td><p><code>swash()</code></p></td>&#13;
<td><p><code>"swsh"</code>, <code>"cswh"</code></p></td>&#13;
</tr>&#13;
</tbody>&#13;
</table>&#13;
&#13;
<p>An <a data-primary="@font-feature-values rule" data-primary-sortas="font-feature-values rule" data-type="indexterm" id="idm45176056808848"/><a data-primary="at-rules" data-secondary="@font-feature-values" data-secondary-sortas="font-feature-values" data-type="indexterm" id="idm45176056807936"/>at-rule version of <code>font-variant-alternates</code>, called <code>@font-feature-values</code>, allows authors to define labels for alternate values of <code>font-variant-alternates</code> using at-rules of their own.  The following two styles (taken from the CSS specification) demonstrate how to label the numeric values of the <code>swash</code> alternate, and then use them later in <code>font-variant-alternates</code>:</p>&#13;
&#13;
<pre data-code-language="css" data-type="programlisting"><code class="k">@font-feature-values</code> <code class="nt">Noble</code> <code class="nt">Script</code> <code class="p">{</code> <code class="k">@swash</code> <code class="p">{</code> <code class="nt">swishy</code><code class="o">:</code> <code class="nt">1</code><code class="o">;</code> <code class="nt">flowing</code><code class="o">:</code> <code class="nt">2</code><code class="o">;</code> <code class="p">}</code> <code class="p">}</code>&#13;
&#13;
<code class="nt">p</code> <code class="p">{</code>&#13;
  <code class="k">font-family</code><code class="o">:</code> <code class="n">Noble</code> <code class="n">Script</code><code class="p">;</code>&#13;
  <code class="k">font-variant</code><code class="o">-</code><code class="n">alternates</code><code class="o">:</code> <code class="n">swash</code><code class="p">(</code><code class="n">flowing</code><code class="p">);</code> <code class="c">/* use swash alternate #2 */</code>&#13;
<code class="p">}</code></pre>&#13;
&#13;
<p>Without the presence of the <code>@font-feature-values</code> at-rule, the paragraph styles would have to say <code>font-variant-alternates: swash(2)</code> instead of using <code>flowing</code> for the value of the <code>swash</code> function.</p>&#13;
<div data-type="warning" epub:type="warning"><h6>Warning</h6>&#13;
<p>As of late 2022, while all browsers support <code>font-variant</code> and its associated subproperties, only Firefox and Safari have <code>font-variant-alternates</code> and <code>@font-feature-values</code> support.  You can more reliably set these variants by using the <code>font-feature-settings</code> property.<a data-primary="" data-startref="ix_alt_glyph_font_var" data-type="indexterm" id="idm45176056734992"/><a data-primary="" data-startref="ix_font_var_alt_prop" data-type="indexterm" id="idm45176056734080"/></p>&#13;
</div>&#13;
</div></section>&#13;
&#13;
&#13;
&#13;
&#13;
&#13;
&#13;
&#13;
&#13;
<section data-pdf-bookmark="East Asian Font Variants" data-type="sect2"><div class="sect2" id="east_asian_font_variants">&#13;
<h2>East Asian Font Variants</h2>&#13;
&#13;
<p>The <a data-primary="East Asian font variant" data-type="indexterm" id="idm45176056731520"/><a data-primary="font-variant-east-asian property" data-type="indexterm" id="idm45176056730816"/>values of the <code>font-variant-east-asian</code> property allow for controlling glyph substitution and sizing in East Asian text.</p>&#13;
<aside data-type="sidebar" epub:type="sidebar"><div class="sidebar" id="font_variant_east_asian">&#13;
<h1>font-variant-east-asian</h1><table>&#13;
&#13;
<tbody>&#13;
<tr>&#13;
<td><p><strong>Values</strong></p></td>&#13;
<td><p><code>normal</code> | [ [ <code>jis78</code> | <code>jis83</code> | <code>jis90</code> | <code>jis04</code> | <code>simplified</code> | <code>traditional</code>]  ‖ &#13;
<span class="keep-together">[ <code>full-width</code></span> | <code>proportional-width</code> ] ‖ <code>ruby</code> ]</p></td>&#13;
</tr>&#13;
<tr>&#13;
<td><p><strong>Initial value</strong></p></td>&#13;
<td><p><code>normal</code></p></td>&#13;
</tr>&#13;
<tr>&#13;
<td><p><strong>Applies to</strong></p></td>&#13;
<td><p>All elements</p></td>&#13;
</tr>&#13;
<tr>&#13;
<td><p><strong>Computed value</strong></p></td>&#13;
<td><p>Specified keyword</p></td>&#13;
</tr>&#13;
<tr>&#13;
<td><p><strong>Inherited</strong></p></td>&#13;
<td><p>Yes</p></td>&#13;
</tr>&#13;
<tr>&#13;
<td><p><strong>Animatable</strong></p></td>&#13;
<td><p>No</p></td>&#13;
</tr>&#13;
</tbody>&#13;
</table>&#13;
</div></aside>&#13;
&#13;
<p>The assorted Japanese Industrial Standard (JIS) variants reflect the glyph forms defined in different Japanese national standards. Fonts generally include glyphs defined by the most recent national standard. JIS values allow for the inclusion of older Japanese glyph variations when such variants are needed, such as when reproducing historical documents.</p>&#13;
&#13;
<p>Similarly, the <code>simplified</code> and <code>traditional</code> values allow control over the glyph forms for characters that have been simplified over time but for which the older, traditional form is still used in some contexts.</p>&#13;
&#13;
<p>The <code>ruby</code> value enables display of Ruby variant glyphs. Ruby text is generally smaller than the associated body text.</p>&#13;
&#13;
<p>This property value allows font designers to include glyphs better suited for smaller typography than scaled-down versions of the default glyphs would be.  Only glyph selection is affected; there is no associated font scaling.</p>&#13;
</div></section>&#13;
&#13;
&#13;
&#13;
&#13;
&#13;
&#13;
&#13;
&#13;
<section data-pdf-bookmark="Font Variant Position" data-type="sect2"><div class="sect2" id="font_variant_position">&#13;
<h2>Font Variant Position</h2>&#13;
&#13;
<p>Compared to the <a data-primary="font-variant-position property" data-type="indexterm" id="idm45176056706688"/>previous variants, <code>font-variant-position</code> is fairly straightforward.  It’s strange, then, that it’s so poorly supported.</p>&#13;
<aside data-type="sidebar" epub:type="sidebar"><div class="sidebar" id="font_variant_position_property">&#13;
<h1>font-variant-position</h1><table>&#13;
&#13;
<tbody>&#13;
<tr>&#13;
<td><p><strong>Values</strong></p></td>&#13;
<td><p><code>normal</code> | <code>sub</code> | <code>super</code></p></td>&#13;
</tr>&#13;
<tr>&#13;
<td><p><strong>Initial value</strong></p></td>&#13;
<td><p><code>normal</code></p></td>&#13;
</tr>&#13;
<tr>&#13;
<td><p><strong>Applies to</strong></p></td>&#13;
<td><p>All elements</p></td>&#13;
</tr>&#13;
<tr>&#13;
<td><p><strong>Computed value</strong></p></td>&#13;
<td><p>Specified keyword</p></td>&#13;
</tr>&#13;
<tr>&#13;
<td><p><strong>Inherited</strong></p></td>&#13;
<td><p>Yes</p></td>&#13;
</tr>&#13;
<tr>&#13;
<td><p><strong>Animatable</strong></p></td>&#13;
<td><p>No</p></td>&#13;
</tr>&#13;
</tbody>&#13;
</table>&#13;
</div></aside>&#13;
&#13;
<p>This <a data-primary="subscripts" data-type="indexterm" id="idm45176056691264"/><a data-primary="superscripts" data-type="indexterm" id="idm45176056690528"/>property can be used to enable specialized variant glyphs that are meant solely for superscripted and subscripted text.  As it says in the <a href="https://www.w3.org/TR/css-fonts-4/#font-variant-position-prop">CSS specification</a>, these glyphs are:</p>&#13;
<blockquote>&#13;
<p>…designed within the same em-box as default glyphs and are intended to be laid out on the same baseline as the default glyphs, with no resizing or repositioning of the baseline. They are explicitly designed to match the surrounding text and to be more readable without affecting the line height.</p></blockquote>&#13;
&#13;
<p>This is in contrast to what happens with super- and subscripted text in fonts that lack such alternates, which is usually just smaller text that’s been shifted up or down from the baseline.  This sort of synthesis of super- and subscripted text often leads to line-height increases, which variant glyphs are generally designed to prevent.<a data-primary="" data-startref="ix_font_variant" data-type="indexterm" id="idm45176056687792"/></p>&#13;
</div></section>&#13;
</div></section>&#13;
&#13;
&#13;
&#13;
&#13;
&#13;
&#13;
<section data-pdf-bookmark="Font Feature Settings" data-type="sect1"><div class="sect1" id="font_feature_settings">&#13;
<h1>Font Feature Settings</h1>&#13;
&#13;
<p>Throughout this <a data-primary="fonts" data-secondary="feature settings" data-type="indexterm" id="ix_font_feat_set"/><a data-primary="font-feature-settings property" data-type="indexterm" id="ix_font_feat_set_prop"/>chapter, we’ve discussed font features but have yet to cover the <code>font-feature-settings</code> property or descriptor.  Similarly to <code>font-variant</code>, <code>font-feature-settings</code> allows you to exercise low-level control over which OpenType font features are available for use.</p>&#13;
<aside data-type="sidebar" epub:type="sidebar"><div class="sidebar" id="font-feature-settings">&#13;
<h1>font-feature-settings</h1><table>&#13;
&#13;
<tbody>&#13;
<tr>&#13;
<td><p><strong>Values</strong></p></td>&#13;
<td><p><code>normal</code> | &lt;<em><code>feature-tag-value</code></em>&gt;#</p></td>&#13;
</tr>&#13;
<tr>&#13;
<td><p><strong>Initial value</strong></p></td>&#13;
<td><p><code>normal</code></p></td>&#13;
</tr>&#13;
</tbody>&#13;
</table>&#13;
</div></aside>&#13;
&#13;
<p>The <code>font-feature-settings</code> property<a data-primary="fonts" data-secondary="OpenType font features" data-type="indexterm" id="ix_font_opentype"/><a data-primary="OpenType font features" data-type="indexterm" id="ix_opentype_feat"/> controls advanced typographic features in OpenType fonts, as opposed to the <code>font-variation-settings</code> property, which provides low-level control over variable font characteristics.</p>&#13;
&#13;
<p>You can list one or more comma-separated OpenType features, as defined by the OpenType specification. For example, enabling common ligatures, small caps, and slashed zeros would look something like this:</p>&#13;
&#13;
<pre data-code-language="css" data-type="programlisting"><code class="k">font</code><code class="o">-</code><code class="n">feature</code><code class="o">-</code><code class="n">settings</code><code class="o">:</code> <code class="s2">"liga"</code> <code class="n">on</code><code class="o">,</code> <code class="s2">"smcp"</code> <code class="n">on</code><code class="o">,</code> <code class="s2">"zero"</code> <code class="n">on</code><code class="p">;</code></pre>&#13;
&#13;
<p>The exact format of a &lt;<em><code>feature-tag-value</code></em>&gt; value is as follows:</p>&#13;
<dl>&#13;
<dt>&lt;<em><code>feature-tag-value</code></em>&gt;</dt>&#13;
<dd>&#13;
<p>&lt;<em><code>string</code></em>&gt; [ &lt;<em><code>integer</code></em>&gt; | <code>on</code> | <code>off</code> ]?</p>&#13;
</dd>&#13;
</dl>&#13;
&#13;
<p>For many features, the only permitted integer values are <code>0</code> and <code>1</code>, which are equivalent to <code>off</code> and <code>on</code> (and vice versa). Some features allow a range of numbers, however, in which case values greater than 1 both enable the feature and define the feature’s selection index. If a feature is listed but no number is provided, <code>1</code> (on) is assumed. Thus, the following descriptors are all equivalent:</p>&#13;
&#13;
<pre data-code-language="css" data-type="programlisting"><code class="k">font</code><code class="o">-</code><code class="n">feature</code><code class="o">-</code><code class="n">settings</code><code class="o">:</code> <code class="s2">"liga"</code><code class="p">;</code>     <code class="c">/* 1 is assumed */</code>&#13;
<code class="k">font</code><code class="o">-</code><code class="n">feature</code><code class="o">-</code><code class="n">settings</code><code class="o">:</code> <code class="s2">"liga"</code> <code class="m">1</code><code class="p">;</code>   <code class="c">/* 1 is declared */</code>&#13;
<code class="k">font</code><code class="o">-</code><code class="n">feature</code><code class="o">-</code><code class="n">settings</code><code class="o">:</code> <code class="s2">"liga"</code> <code class="n">on</code><code class="p">;</code>  <code class="c">/* on = 1 */</code></pre>&#13;
&#13;
<p>Remember that all &lt;<em><code>string</code></em>&gt; values <em>must</em> be quoted. Thus, the first of the following descriptors will be recognized, but the second will be ignored:</p>&#13;
&#13;
<pre data-code-language="css" data-type="programlisting"><code class="k">font</code><code class="o">-</code><code class="n">feature</code><code class="o">-</code><code class="n">settings</code><code class="o">:</code> <code class="s2">"liga"</code><code class="o">,</code> <code class="n">dlig</code><code class="p">;</code>&#13;
<code class="c">/* common ligatures are enabled; we wanted discretionary ligatures, but forgot</code>&#13;
<code class="c">   quotes, so they are not enabled */</code></pre>&#13;
&#13;
<p>A further restriction is that OpenType requires that all feature tags be four ASCII characters long. Any feature name longer or shorter, or that uses non-ASCII characters, is invalid and will be ignored. (This isn’t something you need to worry about unless you’re using a font that has its own made-up feature names and the font’s creator didn’t follow the naming rules.)</p>&#13;
&#13;
<p>By default, OpenType fonts <em>always</em> have the following features enabled unless the author explicitly disables them via <code>font-feature-settings</code> or <code>font-variant</code>:</p>&#13;
<dl>&#13;
<dt><code>"calt"</code></dt>&#13;
<dd>&#13;
<p>Contextual alternates</p>&#13;
</dd>&#13;
<dt><code>"ccmp"</code></dt>&#13;
<dd>&#13;
<p>Composed characters</p>&#13;
</dd>&#13;
<dt><code>"clig"</code></dt>&#13;
<dd>&#13;
<p>Contextual ligatures</p>&#13;
</dd>&#13;
<dt><code>"liga"</code></dt>&#13;
<dd>&#13;
<p>Standard ligatures</p>&#13;
</dd>&#13;
<dt><code>"locl"</code></dt>&#13;
<dd>&#13;
<p>Localized forms</p>&#13;
</dd>&#13;
<dt><code>"mark"</code></dt>&#13;
<dd>&#13;
<p>Mark-to-base positioning</p>&#13;
</dd>&#13;
<dt><code>"mkmk"</code></dt>&#13;
<dd>&#13;
<p>Mark-to-mark positioning</p>&#13;
</dd>&#13;
<dt><code>"rlig"</code></dt>&#13;
<dd>&#13;
<p>Required ligatures</p>&#13;
</dd>&#13;
</dl>&#13;
&#13;
<p>Additionally, other features may be enabled by default in specific situations, such as vertical alternatives (<code>"vert"</code>) for vertical runs of text.</p>&#13;
&#13;
<p>The OpenType <code>font-feature-setting</code> values we’ve discussed so far are all listed in <a data-type="xref" href="#opentype_values">Table 14-14</a>, along with a few others we didn’t touch on for lack of support.</p>&#13;
<table id="opentype_values">&#13;
<caption><span class="label">Table 14-14. </span>OpenType values</caption>&#13;
<thead>&#13;
<tr>&#13;
<th>Code</th>&#13;
<th>Meaning</th>&#13;
<th>Longhand</th>&#13;
</tr>&#13;
</thead>&#13;
<tbody>&#13;
<tr>&#13;
<td><p><code>"afrc"</code></p></td>&#13;
<td><p>Alternative fractions</p></td>&#13;
<td><p><code>stacked-fractions</code></p></td>&#13;
</tr>&#13;
<tr>&#13;
<td><p><code>"c2pc"</code></p></td>&#13;
<td><p>Petite capitals</p></td>&#13;
<td><p><code>petite-caps</code></p></td>&#13;
</tr>&#13;
<tr>&#13;
<td><p><code>"c2sc"</code></p></td>&#13;
<td><p>Small capitals from capitals</p></td>&#13;
<td><p><code>all-small-caps</code></p></td>&#13;
</tr>&#13;
<tr>&#13;
<td><p><code>"calt"</code></p></td>&#13;
<td><p>Contextual alternates</p></td>&#13;
<td><p><code>contextual</code></p></td>&#13;
</tr>&#13;
<tr>&#13;
<td><p><code>"case"</code></p></td>&#13;
<td><p>Case-sensitive forms</p></td>&#13;
<td/>&#13;
</tr>&#13;
<tr>&#13;
<td><p><code>"clig"</code></p></td>&#13;
<td><p>Common ligatures</p></td>&#13;
<td><p><code>common-ligatures</code></p></td>&#13;
</tr>&#13;
<tr>&#13;
<td><p><code>"cswh"</code></p></td>&#13;
<td><p>Swash function</p></td>&#13;
<td><p><code>swash()</code></p></td>&#13;
</tr>&#13;
<tr>&#13;
<td><p><code>"cv01"</code></p></td>&#13;
<td><p>Character variants (01–99)</p></td>&#13;
<td><p><code>character-variant()</code></p></td>&#13;
</tr>&#13;
<tr>&#13;
<td><p><code>"dnom"</code></p></td>&#13;
<td><p>Denominators</p></td>&#13;
<td/>&#13;
</tr>&#13;
<tr>&#13;
<td><p><code>"frac"</code></p></td>&#13;
<td><p>Fractions</p></td>&#13;
<td><p><code>diagonal-fractions</code></p></td>&#13;
</tr>&#13;
<tr>&#13;
<td><p><code>"fwid"</code></p></td>&#13;
<td><p>Full-width variants</p></td>&#13;
<td><p><code>full-width</code></p></td>&#13;
</tr>&#13;
<tr>&#13;
<td><p><code>"hist"</code></p></td>&#13;
<td><p>Enable historical forms</p></td>&#13;
<td><p><code>historical-forms</code></p></td>&#13;
</tr>&#13;
<tr>&#13;
<td><p><code>"liga"</code></p></td>&#13;
<td><p>Standard ligatures</p></td>&#13;
<td><p><code>common-ligatures</code></p></td>&#13;
</tr>&#13;
<tr>&#13;
<td><p><code>"lnum"</code></p></td>&#13;
<td><p>Lining figures</p></td>&#13;
<td><p><code>lining-nums</code></p></td>&#13;
</tr>&#13;
<tr>&#13;
<td><p><code>"locl"</code></p></td>&#13;
<td><p>Localized forms</p></td>&#13;
<td/>&#13;
</tr>&#13;
<tr>&#13;
<td><p><code>"numr"</code></p></td>&#13;
<td><p>Numerators</p></td>&#13;
<td/>&#13;
</tr>&#13;
<tr>&#13;
<td><p><code>"nalt"</code></p></td>&#13;
<td><p>Annotation function</p></td>&#13;
<td><p><code>annotation()</code></p></td>&#13;
</tr>&#13;
<tr>&#13;
<td><p><code>"onum"</code></p></td>&#13;
<td><p>Old-style figures</p></td>&#13;
<td><p><code>oldstyle-nums</code></p></td>&#13;
</tr>&#13;
<tr>&#13;
<td><p><code>"ordn"</code></p></td>&#13;
<td><p>Ordinal markers</p></td>&#13;
<td><p><code>ordinal</code></p></td>&#13;
</tr>&#13;
<tr>&#13;
<td><p><code>"ornm"</code></p></td>&#13;
<td><p>Ornaments (function)</p></td>&#13;
<td><p><code>ornaments()</code></p></td>&#13;
</tr>&#13;
<tr>&#13;
<td><p><code>"pcap"</code></p></td>&#13;
<td><p>Petite capitals</p></td>&#13;
<td><p><code>petite-caps</code></p></td>&#13;
</tr>&#13;
<tr>&#13;
<td><p><code>"pnum"</code></p></td>&#13;
<td><p>Proportional figures</p></td>&#13;
<td/>&#13;
</tr>&#13;
<tr>&#13;
<td><p><code>"pwid"</code></p></td>&#13;
<td><p>Proportionally spaced variants</p></td>&#13;
<td><p><code>proportional-width</code></p></td>&#13;
</tr>&#13;
<tr>&#13;
<td><p><code>"ruby"</code></p></td>&#13;
<td><p>Ruby</p></td>&#13;
<td><p><code>ruby</code></p></td>&#13;
</tr>&#13;
<tr>&#13;
<td><p><code>"salt"</code></p></td>&#13;
<td><p>Stylistic function</p></td>&#13;
<td><p><code>stylistic()</code></p></td>&#13;
</tr>&#13;
<tr>&#13;
<td><p><code>"sinf"</code></p></td>&#13;
<td><p>Scientific inferiors</p></td>&#13;
<td/>&#13;
</tr>&#13;
<tr>&#13;
<td><p><code>"smcp"</code></p></td>&#13;
<td><p>Small capitals</p></td>&#13;
<td><p><code>small-caps</code></p></td>&#13;
</tr>&#13;
<tr>&#13;
<td><p><code>"smpl"</code></p></td>&#13;
<td><p>Simplified forms</p></td>&#13;
<td><p><code>simplified</code></p></td>&#13;
</tr>&#13;
<tr>&#13;
<td><p><code>"ss01"</code></p></td>&#13;
<td><p>Stylistic set 1 (numero correct)</p></td>&#13;
<td><p><code>styleset()</code></p></td>&#13;
</tr>&#13;
<tr>&#13;
<td><p><code>"ss07"</code></p></td>&#13;
<td><p>Stylistic set (1–20)</p></td>&#13;
<td><p><code>styleset()</code></p></td>&#13;
</tr>&#13;
<tr>&#13;
<td><p><code>"subs"</code></p></td>&#13;
<td><p>Subscript</p></td>&#13;
<td/>&#13;
</tr>&#13;
<tr>&#13;
<td><p><code>"sups"</code></p></td>&#13;
<td><p>Superscript</p></td>&#13;
<td/>&#13;
</tr>&#13;
<tr>&#13;
<td><p><code>"swsh"</code></p></td>&#13;
<td><p>Swash function</p></td>&#13;
<td><p><code>swash()</code></p></td>&#13;
</tr>&#13;
<tr>&#13;
<td><p><code>"titl"</code></p></td>&#13;
<td><p>Titling capitals</p></td>&#13;
<td><p><code>titling-caps</code></p></td>&#13;
</tr>&#13;
<tr>&#13;
<td><p><code>"tnum"</code></p></td>&#13;
<td><p>Tabular figures</p></td>&#13;
<td><p><code>tabular-nums</code></p></td>&#13;
</tr>&#13;
<tr>&#13;
<td><p><code>"trad"</code></p></td>&#13;
<td><p>Traditional forms</p></td>&#13;
<td><p><code>traditional</code></p></td>&#13;
</tr>&#13;
<tr>&#13;
<td><p><code>"unic"</code></p></td>&#13;
<td><p>Unicase</p></td>&#13;
<td><p><code>unicase</code></p></td>&#13;
</tr>&#13;
<tr>&#13;
<td><p><code>"zero"</code></p></td>&#13;
<td><p>Slashed zero</p></td>&#13;
<td><p><code>slashed-zero</code></p></td>&#13;
</tr>&#13;
</tbody>&#13;
</table>&#13;
&#13;
<p>The complete list of standard OpenType feature names can be found at <a href="https://microsoft.com/typography/otspec/featurelist.htm">Microsoft’s Registered Features page</a>.</p>&#13;
&#13;
<p>That said, <code>font-feature-settings</code> is a low-level feature designed to handle special cases for which no other way exists to enable or access an OpenType font feature. You also have to list all of the feature settings you want to use in a single property value.  Whenever possible, use the <code>font-variant</code> shorthand property or one of the six associated longhand properties: <code>font-variant-ligatures</code>, <code>font-variant-caps</code>, <code>font-variant-east-asian</code>, <code>font-variant-alternates</code>, <code>font-variant-position</code>, and <code>font-variant-numeric</code>.<a data-primary="" data-startref="ix_font_feat_set_prop" data-type="indexterm" id="idm45176056416480"/></p>&#13;
&#13;
&#13;
&#13;
&#13;
&#13;
&#13;
&#13;
&#13;
<section data-pdf-bookmark="The font-feature-settings Descriptor" data-type="sect2"><div class="sect2" id="the_font-feature-settings_descriptor">&#13;
<h2>The font-feature-settings Descriptor</h2>&#13;
&#13;
<p>The <code>font-feature-settings</code> <a data-primary="@font-face rule" data-primary-sortas="font-face rule" data-secondary="feature settings" data-type="indexterm" id="idm45176056412992"/><a data-primary="font-feature-settings descriptor, @font-face" data-type="indexterm" id="idm45176056411712"/>descriptor lets you decide which of an OpenType font face’s settings can or cannot be used, specified as a space-separated list. <a data-primary="font-variant descriptor, @font-face" data-type="indexterm" id="idm45176056410944"/><a data-primary="@font-face rule" data-primary-sortas="font-face rule" data-secondary="font-variant descriptor" data-type="indexterm" id="idm45176056410304"/>Now, wait a second—isn’t that almost exactly what we did with <code>font-variant</code> just a few paragraphs ago? Yes! The <code>font-variant</code> descriptor covers nearly everything <code>font-feature-settings</code> does, plus a little more besides. It just does so in a more CSS-like way, with value names instead of cryptic OpenType identifiers and Boolean toggles. Because of this, the CSS specification explicitly encourages authors to use <code>font-variant</code> instead of <code>font-feature-settings</code>, except when there’s a font feature that the value list of <code>font-variant</code> doesn’t include.</p>&#13;
&#13;
<p>Keep in mind that this descriptor merely makes features available for use (or suppresses their use). It does not turn them on for the display of text; for that, see <a data-type="xref" href="#font_feature_settings">“Font Feature Settings”</a>.</p>&#13;
&#13;
<p>Just as with the <code>font-variant</code> descriptor, the <code>font-feature-settings</code> descriptor defines which font features are enabled (or disabled) for the font face being declared in the <code>@font-face</code> rule. For example, given the following, Switzera will have alternative fractions and small-caps disabled, even if such features exist in SwitzeraADF:</p>&#13;
&#13;
<pre data-code-language="css" data-type="programlisting"><code class="k">@font-face</code> <code class="p">{</code>&#13;
  <code class="nt">font-family</code><code class="o">:</code> <code class="s2">"Switzera"</code><code class="o">;</code>&#13;
  <code class="nt">font-weight</code><code class="o">:</code> <code class="nt">normal</code><code class="o">;</code>&#13;
  <code class="nt">src</code><code class="o">:</code> <code class="nt">url</code><code class="o">(</code><code class="s2">"SwitzeraADF-Regular.otf"</code><code class="o">)</code> <code class="nt">format</code><code class="o">(</code><code class="s2">"opentype"</code><code class="o">);</code>&#13;
  <code class="nt">font-feature-settings</code><code class="o">:</code> <code class="s2">"afrc"</code> <code class="nt">off</code><code class="o">,</code> <code class="s2">"smcp"</code> <code class="nt">off</code><code class="o">;</code>&#13;
<code class="p">}</code></pre>&#13;
&#13;
<p>The <code>font-feature-settings</code> descriptor can take all of the values of the <code>font-feature-settings</code> property <em>except</em> for <code>inherit</code>.<a data-primary="" data-startref="ix_font_feat_set" data-type="indexterm" id="idm45176056373184"/><a data-primary="" data-startref="ix_font_opentype" data-type="indexterm" id="idm45176056372176"/><a data-primary="" data-startref="ix_opentype_feat" data-type="indexterm" id="idm45176056371232"/></p>&#13;
</div></section>&#13;
</div></section>&#13;
&#13;
&#13;
&#13;
&#13;
&#13;
&#13;
<section data-pdf-bookmark="Font Variation Settings" data-type="sect1"><div class="sect1" id="font-variation-settings">&#13;
<h1>Font Variation Settings</h1>&#13;
&#13;
<p>The <code>font-variation-settings</code> property<a data-primary="font-variation-settings" data-type="indexterm" id="ix_font_var_set_prop"/><a data-primary="fonts" data-secondary="variation settings" data-type="indexterm" id="ix_font_var_set"/> provides low-level control over variable font characteristics, by specifying a four-letter axis name along with a value.</p>&#13;
<aside data-type="sidebar" epub:type="sidebar"><div class="sidebar" id="idm45176056365856">&#13;
<h1>font-variation-settings</h1><table>&#13;
&#13;
<tbody>&#13;
<tr>&#13;
<td><p><strong>Values</strong></p></td>&#13;
<td><p><code>normal</code> | [ &lt;<em><code>string</code></em>&gt; &lt;<em><code>number</code></em>&gt; ]#</p></td>&#13;
</tr>&#13;
<tr>&#13;
<td><p><strong>Initial value</strong></p></td>&#13;
<td><p><code>normal</code></p></td>&#13;
</tr>&#13;
<tr>&#13;
<td><p><strong>Applies to</strong></p></td>&#13;
<td><p>All elements</p></td>&#13;
</tr>&#13;
<tr>&#13;
<td><p><strong>Computed value</strong></p></td>&#13;
<td><p>As specified</p></td>&#13;
</tr>&#13;
<tr>&#13;
<td><p><strong>Inherited</strong></p></td>&#13;
<td><p>Yes</p></td>&#13;
</tr>&#13;
<tr>&#13;
<td><p><strong>Animatable</strong></p></td>&#13;
<td><p>Yes</p></td>&#13;
</tr>&#13;
</tbody>&#13;
</table>&#13;
</div></aside>&#13;
&#13;
<p>There are five registered axes, listed in <a data-type="xref" href="#font_variation_axes">Table 14-15</a>. We have covered almost all of them.</p>&#13;
<table id="font_variation_axes">&#13;
<caption><span class="label">Table 14-15. </span>Font variation axes</caption>&#13;
<thead>&#13;
<tr>&#13;
<th>Axis</th>&#13;
<th>Property</th>&#13;
<th>Property value</th>&#13;
</tr>&#13;
</thead>&#13;
<tbody>&#13;
<tr>&#13;
<td><p><code>"wght"</code></p></td>&#13;
<td><p><code>font-weight</code></p></td>&#13;
<td><p><code>1</code> – <code>1000</code></p></td>&#13;
</tr>&#13;
<tr>&#13;
<td><p><code>"slnt"</code></p></td>&#13;
<td><p><code>font-style</code></p></td>&#13;
<td><p><code>oblique</code>  / <code>oblique</code> <em>&lt;angle&gt;</em></p></td>&#13;
</tr>&#13;
<tr>&#13;
<td><p><code>"ital"</code></p></td>&#13;
<td><p><code>font-style</code></p></td>&#13;
<td><p><code>italic</code></p></td>&#13;
</tr>&#13;
<tr>&#13;
<td><p><code>"opsz"</code></p></td>&#13;
<td><p><code>font-optical-sizing</code></p></td>&#13;
<td/>&#13;
</tr>&#13;
<tr>&#13;
<td><p><code>"wdth"</code></p></td>&#13;
<td><p><code>font-stretch</code></p></td>&#13;
<td/>&#13;
</tr>&#13;
</tbody>&#13;
</table>&#13;
&#13;
<p>We use the term <em>registered axes</em> because font developers are not limited to weight, width, optical size, slant, and italics: they can create custom axes, and “register” them by giving them a four-letter label. The simplest way to know if a font has such axes is to look at the font’s documentation; otherwise, you have to know how to dig into the internals of a font’s file(s) to find out. These axes can control any aspect of the font’s appearance, such as the size of the dot on lowercase <em>i</em> and <em>j</em>. Creating custom axes is beyond the scope of this book, but calling on them where they exist is not.</p>&#13;
&#13;
<p>Because these axes are string values, they have to be quoted, are case-sensitive, and are always lowercase.  Imagine a font for which the size of the dots (which are properly called <em>diacritic marks</em> or just <em>diacritics</em>) over lowercase <em>i</em> and <em>j</em> can be changed by way of an axis called <code>DCSZ</code> (for <em>diacritic size</em>).  Furthermore, this axis has been defined by the font’s designer to allow values from 1 to 10.  The diacritic size could be maximized as follows:</p>&#13;
&#13;
<pre data-code-language="css" data-type="programlisting"><code class="nt">p</code> <code class="p">{</code><code class="k">font-family</code><code class="o">:</code> <code class="n">DotFont</code><code class="o">,</code> <code class="n">Helvetica</code><code class="o">,</code> <code class="nb">serif</code><code class="p">;</code> <code class="k">font</code><code class="o">-</code><code class="n">variation</code><code class="o">-</code><code class="n">settings</code><code class="o">:</code> <code class="s2">"DCSZ"</code> <code class="m">10</code><code class="p">;}</code></pre>&#13;
&#13;
<p>The <code>font-variation-settings</code> descriptor is the same as the property. Instead of declaring each registered axis separately, they are declared on one line, comma separated:</p>&#13;
&#13;
<pre data-code-language="css" data-type="programlisting"><code class="k">@font-face</code> <code class="p">{</code>&#13;
  <code class="nt">font-family</code><code class="o">:</code> <code class="s1">'LeagueMono'</code><code class="o">;</code>&#13;
  <code class="nt">src</code><code class="o">:</code> <code class="nt">url</code><code class="o">(</code><code class="s1">'LeagueMonoVariable.woff2'</code><code class="o">)</code> <code class="nt">format</code><code class="o">(</code><code class="s1">'woff2'</code><code class="o">);</code>&#13;
  <code class="nt">font-weight</code><code class="o">:</code> <code class="nt">100</code> <code class="nt">900</code><code class="o">;</code>&#13;
  <code class="nt">font-stretch</code><code class="o">:</code> <code class="nt">50%</code> <code class="nt">200%</code><code class="o">;</code>&#13;
  <code class="nt">font-variation-settings</code><code class="o">:</code> <code class="s1">'wght'</code> <code class="nt">100</code> <code class="nt">900</code><code class="o">,</code> <code class="s1">'wdth'</code> <code class="nt">50</code> <code class="nt">200</code><code class="o">;</code>&#13;
  <code class="nt">font-display</code><code class="o">:</code> <code class="nt">swap</code><code class="o">;</code>&#13;
<code class="p">}</code></pre>&#13;
<div data-type="tip"><h6>Tip</h6>&#13;
<p>Although you can set the weight, style, and so forth of a given font by using <code>font-variation-settings</code>, it is recommended that you use the more widely supported and human-readable properties <code>font-weight</code> and <code>font-style</code> instead.<a data-primary="" data-startref="ix_font_var_set" data-type="indexterm" id="idm45176056187040"/><a data-primary="" data-startref="ix_font_var_set_prop" data-type="indexterm" id="idm45176056186032"/></p>&#13;
</div>&#13;
</div></section>&#13;
&#13;
&#13;
&#13;
&#13;
&#13;
&#13;
<section data-pdf-bookmark="Font Optical Sizing" data-type="sect1"><div class="sect1" id="font-optical-sizing">&#13;
<h1>Font Optical Sizing</h1>&#13;
&#13;
<p>Text <a data-primary="optical sizing, fonts" data-type="indexterm" id="idm45176056183152"/><a data-primary="fonts" data-secondary="optical sizing" data-type="indexterm" id="idm45176056182416"/><a data-primary="font-optical-sizing property" data-type="indexterm" id="idm45176056171984"/>rendered at different sizes often benefits from slightly different visual representations. For example, to aid reading at small text sizes, glyphs have less detail and strokes are often thicker with larger serifs. Larger text can have more features and a greater contrast between thicker and thinner strokes. The property <code>font-optical-sizing</code> allows authors to enable or disable this feature of variable fonts.</p>&#13;
<aside data-type="sidebar" epub:type="sidebar"><div class="sidebar" id="idm45176056170736">&#13;
<h1>font-optical-sizing</h1><table>&#13;
&#13;
<tbody>&#13;
<tr>&#13;
<td><p><strong>Values</strong></p></td>&#13;
<td><p><code>auto</code> | <code>none</code></p></td>&#13;
</tr>&#13;
<tr>&#13;
<td><p><strong>Initial value</strong></p></td>&#13;
<td><p><code>auto</code></p></td>&#13;
</tr>&#13;
<tr>&#13;
<td><p><strong>Applies to</strong></p></td>&#13;
<td><p>All elements and text</p></td>&#13;
</tr>&#13;
<tr>&#13;
<td><p><strong>Computed value</strong></p></td>&#13;
<td><p>As specified</p></td>&#13;
</tr>&#13;
<tr>&#13;
<td><p><strong>Variable font axis</strong></p></td>&#13;
<td><p><code>"opsz"</code></p></td>&#13;
</tr>&#13;
<tr>&#13;
<td><p><strong>Inherited</strong></p></td>&#13;
<td><p>Yes</p></td>&#13;
</tr>&#13;
<tr>&#13;
<td><p><strong>Animatable</strong></p></td>&#13;
<td><p>Discrete</p></td>&#13;
</tr>&#13;
</tbody>&#13;
</table>&#13;
</div></aside>&#13;
&#13;
<p>By default (via <code>auto</code>), browsers can modify the shape of glyphs based on font size and pixel density. The <code>none</code> value tells the browser to <em>not</em> do this.</p>&#13;
<div data-type="tip"><h6>Tip</h6>&#13;
<p>In fonts that support it, optical sizing is usually defined as a range of numbers.  If you want to explicitly change the optical sizing of a given element’s font to be a specific number, perhaps to make text sturdier or more delicate than it would be by default, use the <code>font-variation-settings</code> property and give it a value like <code>'opsz' 10</code> (where <code>10</code> can be any number in the optical-sizing range).</p>&#13;
</div>&#13;
</div></section>&#13;
&#13;
&#13;
&#13;
&#13;
&#13;
&#13;
<section data-pdf-bookmark="Override Descriptors" data-type="sect1"><div class="sect1" id="override_descriptors">&#13;
<h1>Override Descriptors</h1>&#13;
&#13;
<p>This <a data-primary="@font-face rule" data-primary-sortas="font-face rule" data-secondary="override descriptors" data-type="indexterm" id="idm45176056150176"/><a data-primary="fonts" data-secondary="override descriptors" data-type="indexterm" id="idm45176056148928"/><a data-primary="ascent-override descriptor, @font-face" data-type="indexterm" id="idm45176056147952"/><a data-primary="descent-override descriptor, @font-face" data-type="indexterm" id="idm45176056147312"/><a data-primary="line-gap-override descriptor, @font-face" data-type="indexterm" id="idm45176056146672"/>brings us to the last three <code>@font-face</code> descriptors that we have yet to discuss. Three descriptors enable override settings for font families: <code>ascent-override</code>, <code>descent-override</code>, and <code>line-gap-override</code>, which define the ascent, descent, and line gap metrics, respectively.  All three descriptors take the same values: <code>normal</code> or a &lt;<em><code>percentage</code></em>&gt;.</p>&#13;
<aside data-type="sidebar" epub:type="sidebar"><div class="sidebar" id="idm45176056142928">&#13;
<h1>ascent-override, descent-override, line-gap-override descriptors</h1><table>&#13;
&#13;
<tbody>&#13;
<tr>&#13;
<td><p><strong>Values</strong></p></td>&#13;
<td><p><code>normal</code> | &lt;<em><code>percentage</code></em>&gt;</p></td>&#13;
</tr>&#13;
<tr>&#13;
<td><p><strong>Initial value</strong></p></td>&#13;
<td><p><code>normal</code></p></td>&#13;
</tr>&#13;
</tbody>&#13;
</table>&#13;
</div></aside>&#13;
&#13;
<p>The goal of these descriptors is to help fallback fonts better match a primary font by  overriding the metrics of the fallback font and using those of the primary font instead.</p>&#13;
&#13;
<p>The <em>ascent metric</em> is the <a data-primary="ascent metric" data-type="indexterm" id="idm45176056135040"/><a data-primary="descent metric" data-type="indexterm" id="idm45176056134304"/><a data-primary="leading" data-type="indexterm" id="idm45176056133632"/><a data-primary="external leading" data-type="indexterm" id="idm45176056132960"/><a data-primary="line-gap metric" data-type="indexterm" id="idm45176056132288"/>distance above the baseline used to lay out line boxes (the distance from the baseline to the top of the em box). The <em>descent metric</em> is the distance below the baseline used to lay out line boxes (the distance from the baseline to the bottom of the em box). The <em>line-gap metric</em> is the font’s recommended distance between adjacent lines of text, which is sometimes called <em>external leading</em>.</p>&#13;
&#13;
<p>Here’s an example of a hypothetical font and its ascent, descent, and line-gap override descriptors:</p>&#13;
&#13;
<pre data-code-language="css" data-type="programlisting"><code class="k">@font-face</code> <code class="p">{</code>&#13;
  <code class="nt">font-family</code><code class="o">:</code> <code class="s2">"PreferredFont"</code><code class="o">;</code>&#13;
  <code class="nt">src</code><code class="o">:</code> <code class="nt">url</code><code class="o">(</code><code class="s2">"PreferredFont.woff"</code><code class="o">);</code>&#13;
<code class="p">}</code>&#13;
&#13;
<code class="k">@font-face</code> <code class="p">{</code>&#13;
  <code class="nt">font-family</code><code class="o">:</code> <code class="nt">FallbackFont</code><code class="o">;</code>&#13;
  <code class="nt">src</code><code class="o">:</code> <code class="nt">local</code><code class="o">(</code><code class="nt">FallbackFont</code><code class="o">);</code>&#13;
  <code class="nt">ascent-override</code><code class="o">:</code> <code class="nt">110%</code><code class="o">;</code>&#13;
  <code class="nt">descent-override</code><code class="o">:</code> <code class="nt">95%</code><code class="o">;</code>&#13;
  <code class="nt">line-gap-override</code><code class="o">:</code> <code class="nt">105%</code><code class="o">;</code>&#13;
<code class="p">}</code></pre>&#13;
&#13;
<p>This will direct the browser to alter the ascent and descent heights by 110% and 95%, respectively, and increase the line gap to 105% the distance in the fallback font.</p>&#13;
</div></section>&#13;
&#13;
&#13;
&#13;
&#13;
&#13;
&#13;
<section data-pdf-bookmark="Font Kerning" data-type="sect1"><div class="sect1" id="font_kerning">&#13;
<h1>Font Kerning</h1>&#13;
&#13;
<p>A font <a data-primary="fonts" data-secondary="kerning" data-type="indexterm" id="idm45176056104688"/><a data-primary="kerning" data-type="indexterm" id="idm45176056103680"/>property that doesn’t have a descriptor equivalent is <code>font-kerning</code>. Some fonts contain data indicating how characters should be spaced relative to one another, known as <em>kerning</em>. Kerning can make character spacing more visually appealing and pleasant to read.</p>&#13;
&#13;
<p>Kerning <a data-primary="font-kerning property" data-type="indexterm" id="idm45176056101328"/>space varies depending on the way characters are combined; for example, the character pair <em>oc</em> may have a different spacing than the pair <em>ox</em>. Similarly, <em>AB</em> and <em>AW</em> may have different separation distances, to the point that in some fonts, the top-right tip of the <em>W</em> is actually placed to the left of the bottom-right tip of the <em>A</em>. This kerning data can be explicitly called for or suppressed using the property <code>font-kerning</code>.</p>&#13;
<aside data-type="sidebar" epub:type="sidebar"><div class="sidebar" id="font-kerning">&#13;
<h1>font-kerning</h1><table>&#13;
&#13;
<tbody>&#13;
<tr>&#13;
<td><p><strong>Values</strong></p></td>&#13;
<td><p><code>auto</code> | <code>normal</code> | <code>none</code></p></td>&#13;
</tr>&#13;
<tr>&#13;
<td><p><strong>Initial value</strong></p></td>&#13;
<td><p><code>auto</code></p></td>&#13;
</tr>&#13;
<tr>&#13;
<td><p><strong>Applies to</strong></p></td>&#13;
<td><p>All elements</p></td>&#13;
</tr>&#13;
<tr>&#13;
<td><p><strong>Inherited</strong></p></td>&#13;
<td><p>Yes</p></td>&#13;
</tr>&#13;
<tr>&#13;
<td><p><strong>Animatable</strong></p></td>&#13;
<td><p>No</p></td>&#13;
</tr>&#13;
</tbody>&#13;
</table>&#13;
</div></aside>&#13;
&#13;
<p>The value <code>none</code> is pretty simple: it tells the user agent to ignore any kerning information in the font. The <code>normal</code> value tells the user agent to kern the text normally—that is, according to the kerning data contained in the font. The <code>auto</code> value tells the user agent to do whatever it thinks best, possibly depending on the type of font in use. The OpenType specification, for example, recommends (but does not require) that kerning be applied whenever the font supports it.  Furthermore, as per the <a href="https://www.w3.org/TR/css-fonts-4/#font-kerning-prop">CSS specification</a>:</p>&#13;
<blockquote>&#13;
<p>[Browsers] may synthetically support the kern feature with fonts that contain kerning data in the form of a <code>kern</code> table but lack kern feature support in the <code>GPOS</code> table.</p></blockquote>&#13;
&#13;
<p>This means, in effect, that if kerning information is built into the font, browsers are allowed to enforce it even if the font lacks an explicit enabling of kerning via a &#13;
<span class="keep-together">feature table.</span></p>&#13;
<div class="less_space pagebreak-before" data-type="note" epub:type="note"><h6>Note</h6>&#13;
<p>If the <code>letter-spacing</code> property<a data-primary="letter-spacing property" data-type="indexterm" id="idm45176056033088"/><a data-primary="spacing" data-secondary="letter" data-type="indexterm" id="idm45176056032352"/> (see <a data-type="xref" href="ch15.html#text_properties">Chapter 15</a>) is applied to kerned text, the kerning is done first and <em>then</em> the letters’ spacing is adjusted according to the value of <code>letter-spacing</code>, not the other way around.</p>&#13;
</div>&#13;
</div></section>&#13;
&#13;
&#13;
&#13;
&#13;
&#13;
&#13;
<section data-pdf-bookmark="The font Property" data-type="sect1"><div class="sect1" id="the_font_property">&#13;
<h1>The font Property</h1>&#13;
&#13;
<p>All of the <a data-primary="fonts" data-secondary="shorthand property" data-type="indexterm" id="ix_fonts_shorthand"/><a data-primary="font property" data-type="indexterm" id="ix_font_prop"/>properties discussed thus far are very sophisticated, but writing them all out could get a little tedious:</p>&#13;
&#13;
<pre data-code-language="css" data-type="programlisting"><code class="nt">h1</code> <code class="p">{</code><code class="k">font-family</code><code class="o">:</code> <code class="n">Verdana</code><code class="o">,</code> <code class="n">Helvetica</code><code class="o">,</code> <code class="n">Arial</code><code class="o">,</code> <code class="nb">sans-serif</code><code class="p">;</code> <code class="k">font-size</code><code class="o">:</code> <code class="m">30px</code><code class="p">;</code>&#13;
    <code class="k">font-weight</code><code class="o">:</code> <code class="m">900</code><code class="p">;</code> <code class="k">font-style</code><code class="o">:</code> <code class="nb">italic</code><code class="p">;</code> <code class="k">font-variant</code><code class="o">-</code><code class="n">caps</code><code class="o">:</code> <code class="nb">small-caps</code><code class="p">;}</code>&#13;
<code class="nt">h2</code> <code class="p">{</code><code class="k">font-family</code><code class="o">:</code> <code class="n">Verdana</code><code class="o">,</code> <code class="n">Helvetica</code><code class="o">,</code> <code class="n">Arial</code><code class="o">,</code> <code class="nb">sans-serif</code><code class="p">;</code> <code class="k">font-size</code><code class="o">:</code> <code class="m">24px</code><code class="p">;</code>&#13;
    <code class="k">font-weight</code><code class="o">:</code> <code class="nb">bold</code><code class="p">;</code> <code class="k">font-style</code><code class="o">:</code> <code class="nb">italic</code><code class="p">;</code> <code class="k">font-variant</code><code class="o">-</code><code class="n">caps</code><code class="o">:</code> <code class="n">normal</code><code class="p">;}</code></pre>&#13;
&#13;
<p>Some of this problem could be solved by grouping selectors, but wouldn’t it be easier to combine everything into a single property? Enter <code>font</code>, which is a shorthand property encompassing most (not quite all) of the other font properties, and a little more besides.</p>&#13;
<aside data-type="sidebar" epub:type="sidebar"><div class="sidebar" id="font">&#13;
<h1>font</h1><table>&#13;
&#13;
<tbody>&#13;
<tr>&#13;
<td><p><strong>Values</strong></p></td>&#13;
<td><p>[[ &lt;<em><code>font-style</code></em>&gt; ‖ [ <code>normal</code> | <code>small-caps</code> ] ‖ &lt;<em><code>font-weight</code></em>&gt; ‖ <span class="keep-together">&lt;<em><code>font-stretch</code></em>&gt;</span> ]? &lt;<em><code>font-size</code></em>&gt; [ / &lt;<em><code>line-height</code></em>&gt; ]? <span class="keep-together">&lt;<em><code>font-family</code></em>&gt;]</span> | <code>caption</code> | <code>icon</code> | <code>menu</code> | <code>message-box</code> | <code>small-caption</code> | &#13;
<span class="keep-together"><code>status-bar</code></span></p></td>&#13;
</tr>&#13;
<tr>&#13;
<td><p><strong>Initial value</strong></p></td>&#13;
<td><p>Refer to individual properties</p></td>&#13;
</tr>&#13;
<tr>&#13;
<td><p><strong>Applies to</strong></p></td>&#13;
<td><p>All elements</p></td>&#13;
</tr>&#13;
<tr>&#13;
<td><p><strong>Percentages</strong></p></td>&#13;
<td><p>Calculated with respect to the parent element for &lt;<em><code>font-size</code></em>&gt; and with respect to the element’s &lt;<em><code>font-size</code></em>&gt; for &lt;<em><code>line-height</code></em>&gt;</p></td>&#13;
</tr>&#13;
<tr>&#13;
<td><p><strong>Computed value</strong></p></td>&#13;
<td><p>See individual properties (<code><code>font-style</code></code>, etc.)</p></td>&#13;
</tr>&#13;
<tr>&#13;
<td><p><strong>Inherited</strong></p></td>&#13;
<td><p>Yes</p></td>&#13;
</tr>&#13;
<tr>&#13;
<td><p><strong>Animatable</strong></p></td>&#13;
<td><p>Refer to individual properties</p></td>&#13;
</tr>&#13;
</tbody>&#13;
</table>&#13;
</div></aside>&#13;
&#13;
<p>Generally speaking, a <code>font</code> declaration can have any one value from each of the listed font properties, or else a system font value (described in <a data-type="xref" href="#using_system_fonts">“Using System Fonts”</a>). Therefore, the preceding example could be shortened as follows (and have exactly the same effect, as illustrated by <a data-type="xref" href="#typical_font_rules">Figure 14-23</a>):</p>&#13;
&#13;
<pre data-code-language="css" data-type="programlisting"><code class="nt">h1</code> <code class="p">{</code><code class="k">font</code><code class="o">:</code> <code class="nb">italic</code> <code class="m">900</code> <code class="nb">small-caps</code> <code class="m">30px</code> <code class="n">Verdana</code><code class="o">,</code> <code class="n">Helvetica</code><code class="o">,</code> <code class="n">Arial</code><code class="o">,</code> <code class="nb">sans-serif</code><code class="p">;}</code>&#13;
<code class="nt">h2</code> <code class="p">{</code><code class="k">font</code><code class="o">:</code> <code class="nb">bold</code> <code class="n">normal</code> <code class="nb">italic</code> <code class="m">24px</code> <code class="n">Verdana</code><code class="o">,</code> <code class="n">Helvetica</code><code class="o">,</code> <code class="n">Arial</code><code class="o">,</code> <code class="nb">sans-serif</code><code class="p">;}</code></pre>&#13;
&#13;
<figure><div class="figure" id="typical_font_rules">&#13;
<img alt="css5 1423" src="assets/css5_1423.png"/>&#13;
<h6><span class="label">Figure 14-23. </span>Typical font rules</h6>&#13;
</div></figure>&#13;
&#13;
<p>We say that the styles “could be” shortened in this way because a few other possibilities exist, thanks to the relatively loose way in which <code>font</code> can be written. If you look closely at the preceding example, you’ll see that the first three values don’t occur in the same order. In the <code>h1</code> rule, the first three values are for <code>font-style</code>, <code>font-weight</code>, and <code>font-variant</code>, in that order. In the second, they’re ordered <code>font-weight</code>, <code>font-variant</code>, and <code>font-style</code>. There is nothing wrong here because these three can be written in any order. Furthermore, if any has a value of <code>normal</code>, that can be left out altogether. Therefore, the following rules are equivalent to the previous example:</p>&#13;
&#13;
<pre data-code-language="css" data-type="programlisting"><code class="nt">h1</code> <code class="p">{</code><code class="k">font</code><code class="o">:</code> <code class="nb">italic</code> <code class="m">900</code> <code class="nb">small-caps</code> <code class="m">30px</code> <code class="n">Verdana</code><code class="o">,</code> <code class="n">Helvetica</code><code class="o">,</code> <code class="n">Arial</code><code class="o">,</code> <code class="nb">sans-serif</code><code class="p">;}</code>&#13;
<code class="nt">h2</code> <code class="p">{</code><code class="k">font</code><code class="o">:</code> <code class="nb">bold</code> <code class="nb">italic</code> <code class="m">24px</code> <code class="n">Verdana</code><code class="o">,</code> <code class="n">Helvetica</code><code class="o">,</code> <code class="n">Arial</code><code class="o">,</code> <code class="nb">sans-serif</code><code class="p">;}</code></pre>&#13;
&#13;
<p>In this example, the value of <code>normal</code> is left out of the <code>h2</code> rule, but the effect is exactly the same as in the preceding example.</p>&#13;
&#13;
<p>It’s important to realize, however, that this free-for-all situation applies only to the first three values of <code>font</code>. The last two are much stricter in their behavior. Not only must <code>font-size</code> and <code>font-family</code> appear in that order as the last two values in the declaration, but both must always be present in a <code>font</code> declaration. Period, end of story. If either is left out,  the entire rule will be invalidated and will be ignored completely by a user agent. Thus, the following rules will get you the result shown in <a data-type="xref" href="#the_necessity_of_both_size_and_family">Figure 14-24</a>:</p>&#13;
&#13;
<pre data-code-language="css" data-type="programlisting"><code class="nt">h1</code> <code class="p">{</code><code class="k">font</code><code class="o">:</code> <code class="n">normal</code> <code class="n">normal</code> <code class="nb">italic</code> <code class="m">30px</code> <code class="nb">sans-serif</code><code class="p">;}</code>   <code class="c">/* no problem here */</code>&#13;
<code class="nt">h2</code> <code class="p">{</code><code class="k">font</code><code class="o">:</code> <code class="m">1.5em</code> <code class="nb">sans-serif</code><code class="p">;}</code>   <code class="c">/* also fine; omitted values set to 'normal' */</code>&#13;
<code class="nt">h3</code> <code class="p">{</code><code class="k">font</code><code class="o">:</code> <code class="nb">sans-serif</code><code class="p">;}</code>     <code class="c">/* INVALID--no 'font-size' provided */</code>&#13;
<code class="nt">h4</code> <code class="p">{</code><code class="k">font</code><code class="o">:</code> <code class="nb">lighter</code> <code class="m">14px</code><code class="p">;}</code>   <code class="c">/* INVALID--no 'font-family' provided */</code></pre>&#13;
&#13;
<figure><div class="figure" id="the_necessity_of_both_size_and_family">&#13;
<img alt="css5 1424" src="assets/css5_1424.png"/>&#13;
<h6><span class="label">Figure 14-24. </span>The necessity of both size and family</h6>&#13;
</div></figure>&#13;
&#13;
&#13;
&#13;
&#13;
&#13;
&#13;
&#13;
&#13;
<section class="less_space pagebreak-before" data-pdf-bookmark="Understanding font Property Limitations" data-type="sect2"><div class="sect2" id="font_property_limitations">&#13;
<h2>Understanding font Property Limitations</h2>&#13;
&#13;
<p>Because the <code>font</code> property has been part of CSS since the very beginning, and because so many properties dealing with all the variants came later, the <code>font</code> property has some limitations when it comes to font variations.</p>&#13;
&#13;
<p>First, it’s important to remember that when using the <code>font</code> shorthand property, the following properties are all set to their default values even though they cannot be &#13;
<span class="keep-together">represented</span> in <code>font</code>:</p>&#13;
&#13;
<ul>&#13;
<li>&#13;
<p><code>font-feature-settings</code></p>&#13;
</li>&#13;
<li>&#13;
<p><code>font-kerning</code></p>&#13;
</li>&#13;
<li>&#13;
<p><code>font-language-override</code></p>&#13;
</li>&#13;
<li>&#13;
<p><code>font-optical-sizing</code></p>&#13;
</li>&#13;
<li>&#13;
<p><code>font-palette</code></p>&#13;
</li>&#13;
<li>&#13;
<p><code>font-size-adjust</code></p>&#13;
</li>&#13;
<li>&#13;
<p><code>font-variant-alternates</code></p>&#13;
</li>&#13;
<li>&#13;
<p><code>font-variant-caps</code> (unless <code>small-caps</code> is included in the <code>font</code> value)</p>&#13;
</li>&#13;
<li>&#13;
<p><code>font-variant-east-asian</code></p>&#13;
</li>&#13;
<li>&#13;
<p><code>font-variant-ligatures</code></p>&#13;
</li>&#13;
<li>&#13;
<p><code>font-variant-numeric</code></p>&#13;
</li>&#13;
<li>&#13;
<p><code>font-variation-settings</code></p>&#13;
</li>&#13;
</ul>&#13;
&#13;
<p>Second, and following on the note in the previous list, only two variation values are permitted: <code>small-caps</code> and <code>normal</code>.  The numeric, ligature, alternate, East Asian, and many of the caps variants cannot be set via the <code>font</code> property.  If you want, for example, to use small caps and slashed zeros in your top-level headings, you would need to write something like this:</p>&#13;
&#13;
<pre data-code-language="css" data-type="programlisting"><code class="nt">h1</code> <code class="p">{</code><code class="k">font</code><code class="o">:</code> <code class="nb">bold</code> <code class="nb">small-caps</code> <code class="m">3em</code><code class="o">/</code><code class="m">1</code><code class="o">.</code><code class="m">1</code> <code class="n">Helvetica</code><code class="o">,</code> <code class="nb">sans-serif</code><code class="p">;</code>&#13;
    <code class="k">font-variant</code><code class="o">-</code><code class="n">numeric</code><code class="o">:</code> <code class="n">slashed</code><code class="o">-</code><code class="n">zero</code><code class="p">;</code></pre>&#13;
&#13;
<p>Third, another property value that suffers from the weight of history is font stretching.  As we discussed earlier in the chapter, <code>font-stretch</code> allows you to choose from numerous keywords or to set a percentage in the range of 50% to 200% (inclusive).  The keywords may be used in <code>font</code>, but the percentage value may not.</p>&#13;
</div></section>&#13;
&#13;
&#13;
&#13;
&#13;
&#13;
&#13;
&#13;
&#13;
<section data-pdf-bookmark="Adding the Line Height" data-type="sect2"><div class="sect2" id="adding_the_line_height">&#13;
<h2>Adding the Line Height</h2>&#13;
&#13;
<p>We also can set the <a data-primary="line-height property" data-type="indexterm" id="idm45176055626704"/>value of the <code>line-height</code> property by using <code>font</code>, even though <code>line-height</code> is a text property (not covered in this chapter), not a font property. It’s done as a sort of addition to the <code>font-size</code> value, separated from it by a forward slash (<code>/</code>):</p>&#13;
&#13;
<pre data-code-language="css" data-type="programlisting"><code class="nt">body</code> <code class="p">{</code><code class="k">font-size</code><code class="o">:</code> <code class="m">12px</code><code class="p">;}</code>&#13;
<code class="nt">h2</code> <code class="p">{</code><code class="k">font</code><code class="o">:</code> <code class="nb">bold</code> <code class="nb">italic</code> <code class="m">200%</code><code class="o">/</code><code class="m">1</code><code class="o">.</code><code class="m">2</code> <code class="n">Verdana</code><code class="o">,</code> <code class="n">Helvetica</code><code class="o">,</code> <code class="n">Arial</code><code class="o">,</code> <code class="nb">sans-serif</code><code class="p">;}</code></pre>&#13;
&#13;
<p>These rules, demonstrated in <a data-type="xref" href="#adding_line_height_to_the_mix">Figure 14-25</a>, set all <code>&lt;h2&gt;</code> elements to be bold and italic (using face for one of the sans-serif font families), set the <code>font-size</code> to <code>24px</code> (twice the <code>body</code>’s size), and set the <code>line-height</code> to <code>28.8px</code>.</p>&#13;
&#13;
<figure><div class="figure" id="adding_line_height_to_the_mix">&#13;
<img alt="css5 1425" src="assets/css5_1425.png"/>&#13;
<h6><span class="label">Figure 14-25. </span>Adding line height to the mix</h6>&#13;
</div></figure>&#13;
&#13;
<p>This addition of a value for <code>line-height</code> is entirely optional, just as the first three <code>font</code> values are. If you do include a <code>line-height</code> value, remember that <code>font-size</code> always comes before <code>line-height</code>, never after, and the two are always separated by a slash.</p>&#13;
<div data-type="warning" epub:type="warning"><h6>Warning</h6>&#13;
<p>This may seem repetitive, but it’s one of the most common errors made by CSS authors, so we can’t say it enough: the required values for <code>font</code> are <code>font-size</code> and <code>font-family</code>, in that order. Everything else is strictly optional.</p>&#13;
</div>&#13;
</div></section>&#13;
&#13;
&#13;
&#13;
&#13;
&#13;
&#13;
&#13;
&#13;
<section data-pdf-bookmark="Using the Shorthand Properly" data-type="sect2"><div class="sect2" id="using_shorthands_properly">&#13;
<h2>Using the Shorthand Properly</h2>&#13;
&#13;
<p>It is important to remember that <code>font</code>, being a shorthand property, can act in unexpected ways if you are careless with its use. Consider the following rules, which are illustrated in <a data-type="xref" href="#shorthand_changes">Figure 14-26</a>:</p>&#13;
&#13;
<pre data-code-language="css" data-type="programlisting"><code class="nt">h1</code><code class="o">,</code> <code class="nt">h2</code><code class="o">,</code> <code class="nt">h3</code> <code class="p">{</code><code class="k">font</code><code class="o">:</code> <code class="nb">italic</code> <code class="nb">small-caps</code> <code class="m">250%</code> <code class="nb">sans-serif</code><code class="p">;}</code>&#13;
<code class="nt">h2</code> <code class="p">{</code><code class="k">font</code><code class="o">:</code> <code class="m">200%</code> <code class="nb">sans-serif</code><code class="p">;}</code>&#13;
<code class="nt">h3</code> <code class="p">{</code><code class="k">font-size</code><code class="o">:</code> <code class="m">150%</code><code class="p">;}</code></pre>&#13;
&#13;
<pre data-code-language="html" data-type="programlisting"><code class="p">&lt;</code><code class="nt">h1</code><code class="p">&gt;</code>A level 1 heading element<code class="p">&lt;/</code><code class="nt">h1</code><code class="p">&gt;</code>&#13;
<code class="p">&lt;</code><code class="nt">h2</code><code class="p">&gt;</code>A level 2 heading element<code class="p">&lt;/</code><code class="nt">h2</code><code class="p">&gt;</code>&#13;
<code class="p">&lt;</code><code class="nt">h3</code><code class="p">&gt;</code>A level 3 heading element<code class="p">&lt;/</code><code class="nt">h3</code><code class="p">&gt;</code></pre>&#13;
&#13;
<figure><div class="figure" id="shorthand_changes">&#13;
<img alt="css5 1426" src="assets/css5_1426.png"/>&#13;
<h6><span class="label">Figure 14-26. </span>Shorthand changes</h6>&#13;
</div></figure>&#13;
&#13;
<p class="pagebreak-before">Did you notice that the <code>&lt;h2&gt;</code> element is neither italicized nor small-capped, and that none of the elements are bold? This is the correct behavior. When the shorthand property <code>font</code> is used, any omitted values are reset to their defaults. Thus, the previous example could be written as follows and still be exactly equivalent:</p>&#13;
&#13;
<pre data-code-language="css" data-type="programlisting"><code class="nt">h1</code><code class="o">,</code> <code class="nt">h2</code><code class="o">,</code> <code class="nt">h3</code> <code class="p">{</code><code class="k">font</code><code class="o">:</code> <code class="nb">italic</code> <code class="n">normal</code> <code class="nb">small-caps</code> <code class="m">250%</code> <code class="nb">sans-serif</code><code class="p">;}</code>&#13;
<code class="nt">h2</code> <code class="p">{</code><code class="k">font</code><code class="o">:</code> <code class="n">normal</code> <code class="n">normal</code> <code class="n">normal</code> <code class="m">200%</code> <code class="nb">sans-serif</code><code class="p">;}</code>&#13;
<code class="nt">h3</code> <code class="p">{</code><code class="k">font-size</code><code class="o">:</code> <code class="m">150%</code><code class="p">;}</code></pre>&#13;
&#13;
<p>This sets the <code>&lt;h2&gt;</code> element’s font style and variant to <code>normal</code>, and the <code>font-weight</code> of all three elements to <code>normal</code>. This is the expected behavior of shorthand properties. The <code>&lt;h3&gt;</code> does not suffer the same fate as the <code>&lt;h2&gt;</code> because you use the property <code>font-size</code>, which is not a shorthand property and therefore affects only its own value.<a data-primary="" data-startref="ix_font_prop" data-type="indexterm" id="idm45176055429424"/><a data-primary="" data-startref="ix_fonts_shorthand" data-type="indexterm" id="idm45176055428448"/></p>&#13;
</div></section>&#13;
&#13;
&#13;
&#13;
&#13;
&#13;
&#13;
&#13;
&#13;
<section data-pdf-bookmark="Using System Fonts" data-type="sect2"><div class="sect2" id="using_system_fonts">&#13;
<h2>Using System Fonts</h2>&#13;
&#13;
<p>When you <a data-primary="fonts" data-secondary="system" data-type="indexterm" id="idm45176055403104"/><a data-primary="operating system fonts" data-type="indexterm" id="idm45176055402256"/><a data-primary="system fonts" data-type="indexterm" id="idm45176055401648"/>want to make a web page blend in with the user’s operating system, the system font values of <code>font</code> come in handy. These are used to take the font size, family, weight, style, and variant of elements of the operating system, and apply them to an element. The values are as follows:</p>&#13;
<dl>&#13;
<dt><code>caption</code></dt>&#13;
<dd>&#13;
<p>Used for captioned controls, such as buttons</p>&#13;
</dd>&#13;
<dt><code>icon</code></dt>&#13;
<dd>&#13;
<p>Used to label icons</p>&#13;
</dd>&#13;
<dt><code>menu</code></dt>&#13;
<dd>&#13;
<p>Used in menus—that is, drop-down menus and menu lists</p>&#13;
</dd>&#13;
<dt><code>message-box</code></dt>&#13;
<dd>&#13;
<p>Used in dialog boxes</p>&#13;
</dd>&#13;
<dt><code>small-caption</code></dt>&#13;
<dd>&#13;
<p>Used for labeling small controls</p>&#13;
</dd>&#13;
<dt><code>status-bar</code></dt>&#13;
<dd>&#13;
<p>Used in window status bars</p>&#13;
</dd>&#13;
</dl>&#13;
&#13;
<p>For example, you might want to set the font of a button to be the same as that of the buttons found in the operating system. For example:</p>&#13;
&#13;
<pre data-code-language="css" data-type="programlisting"><code class="nt">button</code> <code class="p">{</code><code class="k">font</code><code class="o">:</code> <code class="n">caption</code><code class="p">;}</code></pre>&#13;
&#13;
<p>With these values, you can create web-based applications that look very much like applications native to the user’s operating system.</p>&#13;
&#13;
<p class="pagebreak-before">Note that system fonts may be set only as a whole; that is, the font family, size, weight, style, etc., are all set together. Therefore, the button text from our previous example will look exactly the same as button text in the operating system, whether or not the size matches any of the content around the button. You can, however, alter the individual values after the system font has been set. Thus, the following rule will make sure the button’s font is the same size as its parent element’s font:</p>&#13;
&#13;
<pre data-code-language="css" data-type="programlisting"><code class="nt">button</code> <code class="p">{</code><code class="k">font</code><code class="o">:</code> <code class="n">caption</code><code class="p">;</code> <code class="k">font-size</code><code class="o">:</code> <code class="m">1em</code><code class="p">;}</code></pre>&#13;
&#13;
<p>If you call for a system font and no such font exists on the user’s machine, the user agent may try to find an approximation, such as reducing the size of the <code>caption</code> font to arrive at the <code>small-caption</code> font. If no such approximation is possible, the user agent should use a default font of its own. If it can find a system font but can’t read all of its values, it should use the default value. For example, a user agent may be able to find a <code>status-bar</code> font but not get any information about whether the font is small caps. In that case, the user agent will use the value <code>normal</code> for the <code>small-caps</code> property.</p>&#13;
</div></section>&#13;
</div></section>&#13;
&#13;
&#13;
&#13;
&#13;
&#13;
&#13;
<section data-pdf-bookmark="Font Matching" data-type="sect1"><div class="sect1" id="font_matching">&#13;
<h1>Font Matching</h1>&#13;
&#13;
<p>As you’ve seen, CSS allows for the <a data-primary="fonts" data-secondary="matching" data-type="indexterm" id="ix_font_match"/>matching of font families, weights, and variants. This is all accomplished through font matching, which is a vaguely complicated procedure. Understanding it is important for authors who want to help user agents make good font selections when displaying their documents. We left it for the end of the chapter because it’s not really necessary to understand how the font properties work, and some readers will probably want to skip this part. If you’re still interested, here’s how font matching works:</p>&#13;
<ol>&#13;
<li>&#13;
<p>The user agent creates, or otherwise accesses, a database of font properties. This database lists the various CSS properties of all the fonts to which the user agent has access. Typically, this will be all fonts installed on the machine, although there could be others (for example, the user agent could have its own built-in fonts). If the user agent encounters two identical fonts, it will ignore one of them.</p>&#13;
</li>&#13;
<li>&#13;
<p>The user agent takes apart an element to which font properties have been applied and constructs a list of font properties necessary for the display of that element. Based on that list, the user agent makes an initial choice of a font family to use in displaying the element. If there is a complete match, the user agent can use that font. Otherwise, the user agent needs to do a little more work.</p>&#13;
</li>&#13;
<li>&#13;
<p>A font is first matched against the <code>font-stretch</code> property.</p>&#13;
</li>&#13;
<li>&#13;
<p>A font is next matched against the <code>font-style</code> property. The keyword <code>italic</code> is matched by any font that is labeled as either <code>italic</code> or <code>oblique</code>. If neither is available, the match fails.</p>&#13;
</li>&#13;
<li>&#13;
<p>The next match is to <code>font-weight</code>, which can never fail thanks to the way <code>font-weight</code> is handled in CSS (explained in <a data-type="xref" href="#how_weights_work">“How Weights Work”</a>).</p>&#13;
</li>&#13;
<li>&#13;
<p>Then, <code>font-size</code> is tackled. This must be matched within a certain tolerance, but that tolerance is defined by the user agent. Thus, one user agent might allow matching within a 20% margin of error, whereas another might allow only 10% differences between the size specified and the size that is actually used.</p>&#13;
</li>&#13;
<li>&#13;
<p>If no font matched in step 2, the user agent looks for alternate fonts within the same font family. If it finds any, it repeats step 2 for that font.</p>&#13;
</li>&#13;
<li>&#13;
<p>Assuming a generic match has been found but doesn’t contain everything needed to display a given element—the font is missing the copyright symbol, for instance—the user agent goes back to step 3, which entails a search for another alternate font and another trip through step 2.</p>&#13;
</li>&#13;
<li>&#13;
<p>Finally, if no match has been made and all alternate fonts have been tried, the user agent selects the default font for the given generic font family and does the best it can to display the element correctly.</p>&#13;
</li>&#13;
&#13;
</ol>&#13;
&#13;
<p>Furthermore, the user agent does the following to resolve the handling of font variants and features:</p>&#13;
<ol>&#13;
<li>&#13;
<p>Check for font features enabled by default, including features required for a given script. The core set of default-enabled features is <code>"calt"</code>, <code>"ccmp"</code>, <code>"clig"</code>, <code>"liga"</code>, <code>"locl"</code>, <code>"mark"</code>, <code>"mkmk"</code>, and <code>"rlig"</code>.</p>&#13;
</li>&#13;
<li>&#13;
<p>If the font is defined via an <code>@font-face</code> rule, check for the features implied by the <code>font-variant</code> descriptor in the <code>@font-face</code> rule. Then check for the font features implied by the <code>font-feature-settings</code> descriptor in the <code>@font-face</code> rule.</p>&#13;
</li>&#13;
<li>&#13;
<p>Check feature settings determined by properties other than <code>font-variant</code> or <code>font-feature-settings</code>. (For example, setting a nondefault value for the <code>letter-spacing</code> property will disable ligatures.)</p>&#13;
</li>&#13;
<li>&#13;
<p>Check for features implied by the value of the <code>font-variant</code> property, the related <code>font-variant</code> subproperties (e.g., <code><code>font-variant-ligatures</code></code>), and any other property that may call for the use of OpenType features (e.g., <code><code>font-kerning</code></code>).</p>&#13;
</li>&#13;
<li>&#13;
<p>Check for the features implied by the value of the <code>font-feature-settings</code> property.</p>&#13;
</li>&#13;
&#13;
</ol>&#13;
&#13;
<p>The whole process is long and tedious, but it helps to understand how user agents pick the fonts they do. For example, you might specify the use of Times or any other serif font in a document:</p>&#13;
&#13;
<pre data-code-language="css" data-type="programlisting"><code class="nt">body</code> <code class="p">{</code><code class="k">font-family</code><code class="o">:</code> <code class="n">Times</code><code class="o">,</code> <code class="nb">serif</code><code class="p">;}</code></pre>&#13;
&#13;
<p>For each element, the user agent should examine the characters in that element and determine whether Times can provide characters to match. In most cases, it can do so with no problem.</p>&#13;
&#13;
<p>Assume, however, that a Chinese character has been placed in the middle of a paragraph. Times has nothing that can match this character, so the user agent has to work around the character or look for another font that can fulfill the needs of displaying that element. Any Western font is highly unlikely to contain Chinese characters, but should one exist (let’s call it AsiaTimes), the user agent could use it in the display of that one element—or simply for the single character. Thus, the whole paragraph might be displayed using &#13;
<span class="keep-together">AsiaTimes,</span> or everything in the paragraph might be in Times except for the single Chinese character, which is displayed in AsiaTimes.<a data-primary="" data-startref="ix_font_match" data-type="indexterm" id="idm45176055292656"/></p>&#13;
</div></section>&#13;
&#13;
&#13;
&#13;
&#13;
&#13;
&#13;
<section data-pdf-bookmark="Summary" data-type="sect1"><div class="sect1" id="font_summary">&#13;
<h1>Summary</h1>&#13;
&#13;
<p>From what was initially a very simple set of font properties, CSS has grown to allow fine-grained and wide-ranging influence over the way fonts are displayed on the web. From custom fonts downloaded over the web to custom-built families assembled out of a variety of individual faces, authors may be fairly said to overflow with font power.<a data-primary="" data-startref="ix_fonts_ch14" data-type="indexterm" id="idm45176055290176"/></p>&#13;
&#13;
<p>The typographic options available to authors today are far stronger than ever, but always remember: you must use this power wisely. While you can have 17 fonts in use on your site, that definitely doesn’t mean that you should. Quite aside from the aesthetic difficulties this could present for your users, it would also make the total page weight much, much higher than it needs to be. As with any other aspect of web design, you are advised to use your power wisely, not wildly.</p>&#13;
</div></section>&#13;
</div></section></body></html>