<html><head></head><body><div id="sbo-rt-content"><section data-type="chapter" epub:type="chapter" data-pdf-bookmark="Chapter 15. Recycler Views: Reduce, Reuse, Recycle"><div class="chapter" id="recycler_viewscolon_reducecomma_reusecom">
<h1><span class="label">Chapter 15. </span>Recycler Views: <em>Reduce, Reuse, Recycle</em></h1>
<figure class="informal"><div class="figure">
<img src="Images/f0621-01.png" alt="image" width="490" height="569"/>
<h6/>
</div></figure>
<p><a data-type="indexterm" data-primary="Android Jetpack" data-secondary="recycler views" data-see="recycler views" id="idm46053735268128"/><a data-type="indexterm" data-primary="recycler views" data-seealso="recycler view navigation" id="idm46053735266480"/><strong>Lists of data are a key part of most apps.</strong></p>
<p>And in this chapter, we’ll show you how to create one using a <strong>recycler view</strong>: a <strong>super-flexible</strong> way of building a <strong>scrollable list</strong>. You’ll learn how to create <strong>flexible layouts</strong> for your list, including text views, checkboxes, and more. You’ll find out <strong>how to create adapters</strong> that <strong>squish your data</strong> into the recycler view in whatever way you choose. You’ll discover how to use <strong>card views</strong> to give your data a <strong>3D material look</strong>. Finally, we’ll show you how <strong>layout managers</strong> can completely change the look of your list with <strong>just one or two lines of code</strong>. Let’s get recycling…</p>
<section data-type="sect1" data-pdf-bookmark="What the Tasks app currently looks like"><div class="sect1" id="what_the_tasks_app_currently_looks_like">
<h1>What the Tasks app currently looks like</h1>
<p><a data-type="indexterm" data-primary="Tasks app" id="idm46053735258624"/>In the previous chapter, we built a Tasks app that lets the user enter task records into a Room database. The app displays the list of records as a formatted <code>String</code>, and it looks like this:</p>
<figure class="informal"><div class="figure">
<img src="Images/f0622-01.png" alt="image" width="600" height="691"/>
<h6/>
</div></figure>
<p>We decided to display the task records using a formatted <code>String</code> since it was a relatively quick and basic way of seeing the records that have been added to the database.</p>
<p>The list, however, looks a little bland. So how can we improve it?</p>
</div></section>
<section data-type="sect1" data-pdf-bookmark="We can turn the list into a recycler view"><div class="sect1" id="we_can_turn_the_list_into_a_recycler_vie">
<h1>We can turn the list into a <u>recycler view</u></h1>
<p>Instead of displaying the list of tasks as a formatted <code>String</code>, we can change it up so that it looks like this:</p>
<figure class="informal"><div class="figure">
<img src="Images/f0623-01.png" alt="image" width="600" height="603"/>
<h6/>
</div></figure>
<p>As you can see, each task record uses a text view and a checkbox for its data, instead of plain text. The items are also arranged on cards in a scrollable grid.</p>
<p>This kind of list is created using a <strong>recycler view</strong>. So what’s that?</p>
</div></section>
<section data-type="sect1" data-pdf-bookmark="Why use a recycler view?"><div class="sect1" id="why_use_a_recycler_viewquestion_mark">
<h1>Why use a recycler view?</h1>
<p><a data-type="indexterm" data-primary="adapter, recycler view" id="idm46053735245952"/><a data-type="indexterm" data-primary="recycler views" data-secondary="adapters" id="idm46053735244496"/><a data-type="indexterm" data-primary="recycler views" data-secondary="versus formatted String" id="idm46053735243392"/><a data-type="indexterm" data-primary="String, formatted versus recycler view" id="idm46053735242288"/>A recycler view is a more advanced and flexible way of displaying a list of data than using a simple formatted <code>String</code>. It buys you the following benefits:</p>
<figure class="informal"><div class="figure">
<img src="Images/f0624-01.png" alt="image" width="381" height="137"/>
<h6/>
</div></figure>
<ul style="list-style-type:none;">
<li><p><span class="inlineimage"><img src="Images/star.png" alt="Images" width="17" height="17"/></span> <strong>A rich UI for the list’s items.</strong></p>
<p>Each item is displayed in a layout, so you can use views such as text views, image views, and checkboxes to display its data.</p></li>
<li><p><span class="inlineimage"><img src="Images/star.png" alt="Images" width="17" height="17"/></span> <strong>A flexible way of positioning items.</strong></p>
<p>Recycler views come with layout managers, which let you position views in a vertical or horizontal list, a grid, or a staggered grid where items have unequal heights.</p></li>
<li><p><span class="inlineimage"><img src="Images/star.png" alt="Images" width="17" height="17"/></span> <strong>You can use it for navigation.</strong></p>
<p>You can make items clickable so that they navigate to another fragment when clicked.</p></li>
<li><p><span class="inlineimage"><img src="Images/star.png" alt="Images" width="17" height="17"/></span> <strong>It’s an efficient way to display large data sets.</strong></p>
<p>Recycler views use a small number of views to give the appearance of a large collection of views that extend beyond the screen. When each item scrolls off the screen, it reuses—or <em>recycles</em>—its view for items that have scrolled onto the screen.</p></li>
</ul>
<section data-type="sect2" data-pdf-bookmark="Recycler views get their data from an adapter"><div class="sect2" id="recycler_views_get_their_data_from_an_ad">
<h2>Recycler views get their data from an adapter</h2>
<p>Each recycler view you create uses an adapter to display its data. The adapter uses data from a data source (such as a database), and binds it to views in the item’s layout. The recycler view then displays the items on the device screen as a scrollable list.</p>
<p>The data source, adapter, and recycler view fit together like this:</p>
<figure class="informal"><div class="figure">
<img src="Images/f0624-02.png" alt="image" width="600" height="150"/>
<h6/>
</div></figure>
<p>We’re going to add a recycler view to the Tasks app. Let’s go through the steps we’ll take to do this.</p>
</div></section>
</div></section>
<section data-type="sect1" data-pdf-bookmark="Here’s what we’re going to do"><div class="sect1" id="hereapostrophes_what_weapostroph-id00234">
<h1>Here’s what we’re going to do</h1>
<p><a data-type="indexterm" data-primary="libraries" data-secondary="recycler view" id="idm46053735220768"/><a data-type="indexterm" data-primary="recycler views" data-secondary="adding library" id="idm46053735218464"/>We’ll go through the following steps to add a recycler view to the Tasks app:</p>
<ol>
<li><p><strong>Create a recycler view that displays a list of task names.</strong></p>
<p>We’ll begin by creating a basic recycler view that just displays the name of each task. Keeping this first version relatively simple will make it easier to see how each part of the recycler view is constructed, and how they fit together.</p>
<figure class="informal"><div class="figure">
<img src="Images/f0625-01.png" alt="image" width="600" height="236"/>
<h6/>
</div></figure></li>
<li><p><strong>Update the recycler view to display a grid of cards.</strong></p>
<p>After we’ve got a basic recycler view working, we’ll change it up so that it displays the name of each task and whether it’s been completed in a grid of card views.</p>
<figure class="informal"><div class="figure">
<img src="Images/f0625-02.png" alt="image" width="600" height="202"/>
<h6/>
</div></figure></li>
</ol>
<section data-type="sect2" data-pdf-bookmark="Add a recycler view dependency to the app build.gradle file"><div class="sect2" id="add_a_recycler_view_dependency_to_the_ap">
<h2>Add a recycler view dependency to the <u>app</u> build.gradle file</h2>
<p>Before we can start building the recycler view, we need to add a dependency to the recycler view library to the app’s <em>build.gradle</em> file. Open the Tasks app, then open the file <em>Tasks/app/build.gradle</em>, and add the following line (in bold) to the <code>dependencies</code> section:</p>
<figure class="informal"><div class="figure">
<img src="Images/f0625-03.png" alt="image" width="600" height="132"/>
<h6/>
</div></figure>
<p>When prompted, make sure that you sync this change with the rest of the app.</p>
<p>Now that we’ve added this dependency, let’s start building the recycler view.</p>
<figure class="informal"><div class="figure">
<img src="Images/f0625-04.png" alt="image" width="314" height="293"/>
<h6/>
</div></figure>
</div></section>
</div></section>
<section data-type="sect1" data-pdf-bookmark="Tell the recycler view how to display each item…"><div class="sect1" id="tell_the_recycler_view_how_to_display_ea">
<h1>Tell the recycler view how to display each item…</h1>
<figure class="informal"><div class="figure">
<img src="Images/f0626-01.png" alt="image" width="251" height="58"/>
<h6/>
</div></figure>
<p><a data-type="indexterm" data-primary="layouts" data-secondary="Task record display" id="idm46053735197632"/><a data-type="indexterm" data-primary="recycler views" data-secondary="task list display" id="idm46053735196432"/><a data-type="indexterm" data-primary="Task records" data-secondary="layout file" id="idm46053735195328"/><a data-type="indexterm" data-primary="Task records" data-secondary="recycler view" id="idm46053735194224"/>The first thing that we’ll do is tell the recycler view how to display each task record.</p>
<p>For the first version of the app, we want to display the name of each task in the recycler view so that it looks like this:</p>
<figure class="informal"><div class="figure">
<img src="Images/f0626-02.png" alt="image" width="468" height="187"/>
<h6/>
</div></figure>
<p>So how do we do this?</p>
<section data-type="sect2" data-pdf-bookmark="…by defining a layout file"><div class="sect2" id="hellipby_defining_a_layout_file">
<h2>…by defining a layout file</h2>
<p>You specify how each item in the recycler view should be laid out using a layout file. The recycler view uses this layout file when it needs to display each item. If the layout file is comprised of a single text view, for example, a text view will be displayed for each item in the recycler view’s list.</p>
<p>To create the layout file, highlight the <em>Tasks/app/src/main/res/layout</em> folder in the project explorer, and then choose File→New→Layout Resource File. When prompted, enter a file name of “task_item” and click on OK.</p>
<figure class="informal"><div class="figure">
<img src="Images/f0626-03.png" alt="image" width="236" height="277"/>
<h6/>
</div></figure>
<p>For the first version of the app, we want to display the name of each of the recycler view’s tasks in a single text view, so we’ll add a text view to the layout file we just created. To do this, update the code for <em>task_item.xml</em> so that it matches the code below:</p>
<figure class="informal"><div class="figure">
<img src="Images/f0626-04.png" alt="image" width="600" height="200"/>
<h6/>
</div></figure>
<p>That’s all the code that we need to tell the recycler view how each item should be laid out. Next, we’ll create the recycler view’s adapter.</p>
</div></section>
</div></section>
<section data-type="sect1" data-pdf-bookmark="The adapter adds data to the recycler view"><div class="sect1" id="the_adapter_adds_data_to_the_recycler_vi">
<h1>The adapter adds data to the recycler view</h1>
<p><a data-type="indexterm" data-primary="adapter, recycler view" id="idm46053735179232"/><a data-type="indexterm" data-primary="adapter, recycler view" data-secondary="creating file" id="idm46053735178336"/><a data-type="indexterm" data-primary="recycler views" data-secondary="adapters" id="idm46053735177168"/><a data-type="indexterm" data-primary="TaskItemAdapter" data-secondary="creating" id="idm46053735176064"/><a data-type="indexterm" data-primary="Tasks app" data-secondary="adapters and task list" id="idm46053735174960"/>As we said earlier, when you use a recycler view in your app, you need to create an adapter for it.</p>
<p>The recycler view’s adapter has two main jobs: to create each of the views that are visible within the recycler view, and display a piece of data in each one. For the Tasks app, we need to define an adapter that uses <em>task_item.xml</em> to create a bunch of text views (one for each task record that’s displayed), and puts a task name in each one.</p>
<blockquote>
<p><strong>An adapter acts as a bridge between a data source and a recycler view.</strong></p>
</blockquote>
<p>We’ll build the adapter over the next few pages. Here are the steps we’ll go through to create it.</p>
<ol>
<li><p><strong>Specify what kind of data the adapter should work with.</strong></p>
<p>We want the adapter to work with <code>Task</code> data, so we’ll specify that it uses a <code>List&lt;Task&gt;</code>.</p></li>
<li><p><strong>Define the adapter’s view holder.</strong></p>
<p>This controls how each view in the item’s layout should be populated.</p></li>
<li><p><strong>Inflate each item’s layout.</strong></p>
<p>When the recycler view needs to display each item, we’ll inflate an instance of <em>task_item.xml</em> for that item.</p></li>
<li><p><strong>Display each item’s data in the layout.</strong></p>
<p>We’ll do this by adding each <code>Task</code>’s <code>taskName</code> property value to the layout’s text view.</p></li>
</ol>
<p>We’ll begin by creating a file for the adapter.</p>
<section data-type="sect2" data-pdf-bookmark="Create the adapter file"><div class="sect2" id="create_the_adapter_file">
<h2>Create the adapter file</h2>
<p>We’re going to create an adapter for the recycler view named <code>TaskItemAdapter</code>. To do this, highlight the <em>com.hfad.tasks</em> package in the <em>app/src/main/java</em> folder, then go to File→New→Kotlin Class/File. Name the file “TaskItemAdapter” and choose the Class option.</p>
<p>Once you’ve created the file, update its code so it extends the <code>RecyclerView.Adapter</code> class like this:</p>
<figure class="informal"><div class="figure">
<img src="Images/f0627-02.png" alt="image" width="600" height="192"/>
<h6/>
</div></figure>
<p>This turns the class into an adapter that can be used by a recycler view.</p>
</div></section>
</div></section>
<section data-type="sect1" data-pdf-bookmark="Tell the adapter what data it should work with"><div class="sect1" id="tell_the_adapter_what_data_it_should_wor">
<h1>Tell the adapter what data it should work with</h1>
<p><a data-type="indexterm" data-primary="adapter, recycler view" data-secondary="data type property" id="idm46053735154176"/><a data-type="indexterm" data-primary="data property" data-secondary="recycler view adapter" id="idm46053735152912"/><a data-type="indexterm" data-primary="getItemCount() method, TaskItemAdapter" id="idm46053735151808"/><a data-type="indexterm" data-primary="List&lt;Task&gt; data property, TaskItemAdapter" id="idm46053735151008"/><a data-type="indexterm" data-primary="notifyDataSetChanged() method, TaskItemAdapter" id="idm46053735150208"/><a data-type="indexterm" data-primary="TaskItemAdapter" data-secondary="data type property" id="idm46053735149408"/>When you define a recycler view adapter, you need to tell it what sort of data should be added to the recycler view. We’ll do this by adding a property to the adapter that specifies the data type.</p>
<p>For the tasks app, we want the recycler view to display a list of task records, so we’ll add a <code>List&lt;Task&gt;</code> property named <code>data</code> to the adapter. We’ll also include a custom setter that calls <code>notifyDataSetChanged()</code> if the property gets updated; this tells the recycler view that the data has changed so it can redraw itself.</p>
<p>Here’s the updated <code>TaskItemAdapter</code> code; update <em>TaskItemAdapter.kt</em> to include this change (in bold):</p>
<aside data-type="sidebar" epub:type="sidebar"><div class="sidebar" id="relax-id00235">
<h5><span class="inlineimage"><img src="Images/cup.png" alt="Images" width="124" height="107"/></span> Relax</h5>
<p><strong>Don’t worry if you get errors in your <code><strong>TaskItemAdapter</strong></code> code.</strong></p>
<p>The code isn’t complete yet, and the error messages will go away when we finish writing it.</p>
</div></aside>
<figure class="informal"><div class="figure">
<img src="Images/f0628-02.png" alt="image" width="600" height="253"/>
<h6/>
</div></figure>
<section data-type="sect2" data-pdf-bookmark="Override the getItemCount() method"><div class="sect2" id="override_the_getitemcountleft_parenthesi">
<h2>Override the getItemCount() method</h2>
<p>Next, we need to override the adapter’s <code><strong>getItemCount()</strong></code> method. This tells the adapter how many data items there are so that the recycler view knows how many to display.</p>
<p>In the <code>TaskItemAdapter</code> code, we’re using a <code>List&lt;Task&gt;</code> property named <code>data</code> for the recycler view’s data items, so we can use <code>data.size</code> to say how many items there are.</p>
<p>Here’s the <code>getItemCount()</code> method (in bold), which you can add to <em>TaskItemAdapter.kt</em>:</p>
<figure class="informal"><div class="figure">
<img src="Images/f0628-04.png" alt="image" width="574" height="158"/>
<h6/>
</div></figure>
<p>Now that we’ve specified the type of data the adapter works with, we’ll use it to populate the layout’s text view. We’ll do this by defining the adapter’s <strong>view holder</strong>.</p>
</div></section>
</div></section>
<section data-type="sect1" data-pdf-bookmark="Define the adapter’s view holder"><div class="sect1" id="define_the_adapterapostrophes_view_holde">
<h1>Define the adapter’s view holder</h1>
<p><a data-type="indexterm" data-primary="adapter, recycler view" data-secondary="view holder" id="idm46053735128256"/><a data-type="indexterm" data-primary="TaskItemAdapter" data-secondary="view holder" id="idm46053735126960"/><a data-type="indexterm" data-primary="TaskItemViewHolder inner class" id="idm46053735125776"/><a data-type="indexterm" data-primary="TextView" data-secondary="recycler view adapter" id="idm46053735124976"/><a data-type="indexterm" data-primary="view holder, recycler view adapter" id="idm46053735123872"/>The <strong>view holder</strong> contains information about how a view in the item’s layout should be displayed, and its position in the recycler view. You can think of it as a holder for the root view of the item’s layout—the layout that specifies how the recycler view should display each item.</p>
<p>In the Tasks app, we want the recycler view to use the layout file <em>task_item.xml</em> to display task records. This layout’s root view is a <code>TextView</code>, so we need to define a view holder that works with text views.</p>
<figure class="informal"><div class="figure">
<img src="Images/f0629-02.png" alt="image" width="324" height="308"/>
<h6/>
</div></figure>
<p>You define a view holder by adding an inner class to the adapter file that extends <code>RecyclerView.ViewHolder</code>. It includes a constructor that specifies the type of the layout’s root view (in this case <code>TextView</code>). The adapter’s class definition also needs to be updated to specify the adapter’s class name.</p>
<p>Here’s the updated code for <code>TaskItemAdapter</code>; update <em>TaskItemAdapter.kt</em> so that it includes the changes shown here (in bold):</p>
<figure class="informal"><div class="figure">
<img src="Images/f0629-03.png" alt="image" width="600" height="347"/>
<h6/>
</div></figure>
<p>Now that we’ve defined a view holder, we need to specify which layout it uses by overriding the adapter’s <code>onCreateViewHolder()</code> method.</p>
</div></section>
<section data-type="sect1" data-pdf-bookmark="Override the onCreateViewHolder() method"><div class="sect1" id="override_the_oncreateviewholderleft_pare">
<h1>Override the onCreateViewHolder() method</h1>
<p><a data-type="indexterm" data-primary="inflateFrom() method" data-secondary="TaskItemViewHolder" id="idm46053735110288"/><a data-type="indexterm" data-primary="onCreateViewHolder() method, TaskItemAdapter" id="idm46053735108992"/><a data-type="indexterm" data-primary="TaskItemViewHolder inner class" id="idm46053735108192"/>The adapter’s <code><strong>onCreateViewHolder()</strong></code> method gets called each time the recycler view requires a new view holder. The recycler view calls the method repeatedly when it’s first constructed to build the set of view holders that will be displayed on the screen.</p>
<p>The <code>onCreateViewHolder()</code> method needs to do two things: inflate the layout that’s used for each item (in this case <em>task_item.xml</em>), and return a view holder. Here’s the code to do this for <code>TaskItemAdapter</code>, so update the code for <em>TaskItemAdapter.kt</em> to include the changes shown here (in bold):</p>
<aside data-type="sidebar" epub:type="sidebar"><div class="sidebar" id="relax-id00236">
<h5><span class="inlineimage"><img src="Images/cup.png" alt="Images" width="124" height="107"/></span> Relax</h5>
<p><strong>Writing adapter code can seem daunting at first, as it needs to do several different things.</strong></p>
<p>Take your time, keep going, and we know you’ll be fine.</p>
</div></aside>
<figure class="informal"><div class="figure">
<img src="Images/f0630-02.png" alt="image" width="600" height="438"/>
<h6/>
</div></figure>
<p>As you can see, we’ve put the code to inflate <em>task_item.xml</em> in a new <code>inflateFrom()</code> method in <code>TaskItemViewHolder</code>, which the adapter’s <code>onCreateViewHolder()</code> method calls using:</p>
<pre data-type="programlisting">TaskItemViewHolder.inflateFrom(parent)</pre>
<p>This approach passes responsibility for the view holder’s layout to the view holder instead of inflating the layout in the main body of the adapter code.</p>
</div></section>
<section data-type="sect1" data-pdf-bookmark="Add data to the layout’s view"><div class="sect1" id="add_data_to_the_layoutapostrophes_view">
<h1>Add data to the layout’s view</h1>
<p><a data-type="indexterm" data-primary="bind() method, TaskItemViewHolder" id="idm46053735094736"/><a data-type="indexterm" data-primary="data property" data-secondary="recycler view adapter" id="idm46053735093120"/><a data-type="indexterm" data-primary="onBindViewHolder() method, TaskItemAdapter" id="idm46053735092016"/><a data-type="indexterm" data-primary="TaskItemAdapter" id="idm46053735091216"/><a data-type="indexterm" data-primary="TaskItemAdapter" data-secondary="adding data to layout view" id="idm46053735090384"/><a data-type="indexterm" data-primary="TaskItemViewHolder inner class" data-secondary="bind() method" id="idm46053735089312"/><a data-type="indexterm" data-primary="taskName property, database column" id="idm46053735088240"/>The final detail that we need to add to the adapter is how to display the task records in the view holder’s layout. We’ll do this by overriding the adapter’s <code><strong>onBindViewHolder()</strong></code> method, which gets called whenever the recycler view needs to display data. It takes two parameters: the view holder the data needs to be bound to, and the data’s position in the data set.</p>
<figure class="informal"><div class="figure">
<img src="Images/f0631-02.png" alt="image" width="344" height="301"/>
<h6/>
</div></figure>
<p>In the Tasks app, we want to take the <code>Task</code> object at a certain position in the adapter’s <code>data</code> property (a <code>List&lt;Task&gt;</code>), and display its <code>taskName</code> in the view holder’s layout. Here’s the code to do this for <code>TaskItemAdapter</code>, so update the code for <em>TaskItemAdapter.kt</em> to include the changes shown here (in bold):</p>
<figure class="informal"><div class="figure">
<img src="Images/f0631-03.png" alt="image" width="600" height="425"/>
<h6/>
</div></figure>
<p>As you can see, we’re setting the layout’s text view text in a new <code>bind()</code> method, which we’ve added to <code>TaskItemViewHolder</code>. The adapter’s <code>onBindViewHolder()</code> method then calls this each time it runs. We use this approach because it makes the view holder responsible for populating its layout, instead of the adapter.</p>
<p>That’s all the code that we need to write for <code>TaskItemAdapter</code> and its <code>TaskItemViewHolder</code> inner class. Let’s look at the full code.</p>
</div></section>
<section data-type="sect1" data-pdf-bookmark="The full code for TaskItemAdapter.kt"><div class="sect1" id="the_full_code_for_taskitemadapterdotkt">
<h1>The full code for TaskItemAdapter.kt</h1>
<p>Here’s the full code for <code>TaskItemAdapter</code>; make sure that the code for <em>TaskItemAdapter.kt</em> includes everything shown here:</p>
<figure class="informal"><div class="figure">
<img src="Images/f0632-02.png" alt="image" width="600" height="706"/>
<h6/>
</div></figure>
</div></section>
<section data-type="sect1" data-pdf-bookmark="The adapter code is complete"><div class="sect1" id="the_adapter_code_is_complete">
<h1>The adapter code is complete</h1>
<p><a data-type="indexterm" data-primary="TaskItemAdapter" data-secondary="summary" id="idm46053735069456"/>We’ve now finished writing all of the code that’s needed for <code>TaskItemAdapter</code>. It does the following four things:</p>
<ol>
<li><p><strong>Specifies that it works with Task data</strong></p>
<p>We did this by defining a <code>List&lt;Task&gt;</code> property named <code>data</code>.</p></li>
<li><p><strong>Uses a view holder named TaskItemViewHolder</strong></p>
<p>We added <code>TaskItemViewHolder</code> to <code>TaskItemAdapter</code> as an inner class.</p></li>
<li><p><strong>Inflates each item’s layout</strong></p>
<p>It does this when its <code>onCreateViewHolder()</code> method gets called.</p></li>
<li><p><strong>Displays each item’s data in the layout</strong></p>
<p>It does this using its <code>onBindViewHolder()</code> method.</p></li>
</ol>
<p>As we said earlier, the adapter acts as a bridge between a data source and a recycler view. The data source, adapter, and recycler view fit together like this:</p>
<figure class="informal"><div class="figure">
<img src="Images/f0633-02.png" alt="image" width="600" height="157"/>
<h6/>
</div></figure>
<p>Now that we’ve finished writing the adapter code, let’s move on to the recycler view part of this model.</p>
<aside data-type="sidebar" epub:type="sidebar"><div class="sidebar" id="there_are_no_dumb_questions-id00237">
<h5>there are no Dumb Questions</h5>
<p><strong>Q: Why is it called a recycler view?</strong></p>
<p><strong>A:</strong> Because a recycler view reuses—or recycles—its views. This makes it a very efficient way of displaying a list of data.</p>
<p><strong>Q: You added a view holder inner class to the adapter as well. Can you remind me what that is?</strong></p>
<p><strong>A:</strong> It’s a holder for the root view of each item’s layout. Every recycler view adapter that you create needs to use a view holder.</p>
<p><strong>Q: Does it have to be an inner class?</strong></p>
<p><strong>A:</strong> No. As each view holder is usually tied to a single adapter, it’s often defined as an inner class, but this isn’t mandatory.</p>
<p><strong>Q: Why did you add <strong><code>inflateFrom()</code></strong> and <strong><code>bind()</code></strong> methods to the view holder? Couldn’t you have included their code in the adapter’s <strong><code>onCreateViewHolder()</code></strong> and <strong><code>onBindViewHolder()</code></strong> methods?</strong></p>
<p><strong>A:</strong> We added these methods to the view holder because we wanted to keep all the code that manages view holders in one place. If we’d left the code in the main body of the adapter, we wouldn’t have had such a clear separation of concerns.</p>
<p>This approach is particularly useful when you want to do more than display a single text view for each item in the recycler view, as you’ll find out later on.</p>
</div></aside>
</div></section>
<section data-type="sect1" data-pdf-bookmark="We need to display the recycler view"><div class="sect1" id="we_need_to_display_the_recycler_view">
<h1>We need to display the recycler view</h1>
<figure class="informal"><div class="figure">
<img src="Images/f0634-01.png" alt="image" width="251" height="59"/>
<h6/>
</div></figure>
<p><a data-type="indexterm" data-primary="layout manager, recycler views" id="idm46053735044656"/><a data-type="indexterm" data-primary="recycler views" data-secondary="TasksFragment display" id="idm46053735041408"/><a data-type="indexterm" data-primary="TasksFragment" data-secondary="recycler view display" id="idm46053735040432"/>The next thing that we need to do is display a recycler view in <code>TasksFragment</code> (the Tasks app’s main screen), and get it to use the adapter that we’ve just created.</p>
<p>Here’s a reminder of what the recycler view needs to look like:</p>
<figure class="informal"><div class="figure">
<img src="Images/f0634-02.png" alt="image" width="600" height="330"/>
<h6/>
</div></figure>
<section data-type="sect2" data-pdf-bookmark="How to add a recycler view to a layout"><div class="sect2" id="how_to_add_a_recycler_view_to_a_layout">
<h2>How to add a recycler view to a layout</h2>
<p>You display a recycler view by adding an <code>&lt;androidx.recyclerview.widget.RecyclerView&gt;</code> element to a fragment’s layout file. The code looks like this:</p>
<figure class="informal"><div class="figure">
<img src="Images/f0634-03.png" alt="image" width="600" height="104"/>
<h6/>
</div></figure>
<p>The line:</p>
<pre data-type="programlisting">app:layoutManager="androidx.recyclerview.widget.LinearLayoutManager"</pre>
<p>specifies that the recycler view uses a layout manager, which determines how the recycler view positions its items. Here, we’re using a linear layout manager, which means that the recycler view will display its items in a vertical list with full-length rows.</p>
<div data-type="note" epub:type="note"><h6>Note</h6>
<p><span style="color:#9D9EA0;">You’ll find out more about layout managers later in the chapter.</span></p>
</div>
<p>That’s all the code you need to know to add a recycler view to <code>TasksFragment</code>’s layout, so let’s see what the code looks like.</p>
</div></section>
</div></section>
<section data-type="sect1" data-pdf-bookmark="The full code for fragment_tasks.xml"><div class="sect1" id="the_full_code_for_fragmentunderscoretask">
<h1>The full code for fragment_tasks.xml</h1>
<p><a data-type="indexterm" data-primary="TasksFragment" data-secondary="code for" id="idm46053735027680"/>Below is the full code for <em>fragment_tasks.xml</em> (<code>TasksFragment</code>’s layout). As you can see, we’ve replaced the text view with a recycler view, so update the code for <em>fragment_tasks.xml</em> to include these changes (in bold):</p>
<figure class="informal"><div class="figure">
<img src="Images/f0635-02.png" alt="image" width="600" height="701"/>
<h6/>
</div></figure>
<figure class="informal"><div class="figure">
<img src="Images/f0636-02.png" alt="image" width="600" height="276"/>
<h6/>
</div></figure>
<p><a data-type="indexterm" data-primary="adapter, recycler view" data-secondary="attaching to recycler view" id="idm46053735019008"/><a data-type="indexterm" data-primary="onCreateView() method, fragments" data-secondary="TasksFragment" id="idm46053735017760"/><a data-type="indexterm" data-primary="TaskItemAdapter" data-secondary="telling recycler view to use" id="idm46053735016688"/>That’s all the code we need to write to add a recycler view to <code>TasksFragment</code>’s layout. Next, we’ll tell the recycler view to use the adapter we created.</p>
<section data-type="sect2" data-pdf-bookmark="Tell the recycler view to use the adapter"><div class="sect2" id="tell_the_recycler_view_to_use_the_adapte">
<h2>Tell the recycler view to use the adapter</h2>
<p>You make a recycler view use an adapter by creating an instance of the adapter, and attaching it to the recycler view. You do this in the fragment’s Kotlin code.</p>
<p>In our case, we want to make the recycler view use <code>TaskItemAdapter</code>. This is done by adding the following code (in bold) to <code>TasksFragment</code>’s <code>onCreateView()</code> method:</p>
<figure class="informal"><div class="figure">
<img src="Images/f0636-03.png" alt="image" width="600" height="193"/>
<h6/>
</div></figure>
<p>We’ll add this code to <code>TasksFragment</code> on the next page.</p>
</div></section>
</div></section>
<section data-type="sect1" data-pdf-bookmark="The updated code for TasksFragment.kt"><div class="sect1" id="the_updated_code_for_tasksfragme-id00238">
<h1>The updated code for TasksFragment.kt</h1>
<p>Here’s the code for <code>TasksFragment</code>; update <em>TasksFragment.kt</em> to include all the changes shown (in bold):</p>
<figure class="informal"><div class="figure">
<img src="Images/f0637-02.png" alt="image" width="600" height="630"/>
<h6/>
</div></figure>
<p>So what’s next?</p>
</div></section>
<section data-type="sect1" data-pdf-bookmark="We’ve added a recycler view to TasksFragment’s layout"><div class="sect1" id="weapostropheve_added_a_recycler_view_to">
<h1>We’ve added a recycler view to TasksFragment’s layout</h1>
<p><a data-type="indexterm" data-primary="data property" data-secondary="recycler view adapter" id="idm46053735000256"/><a data-type="indexterm" data-primary="TaskItemAdapter" data-secondary="connecting to data source" id="idm46053734998864"/><a data-type="indexterm" data-primary="tasks property, TasksViewModel" id="idm46053734997792"/><a data-type="indexterm" data-primary="TasksViewModel" data-secondary="connecting tasks list to TaskItemAdapter" id="idm46053734996992"/>We’ve now written all of the code that we need to display a recycler view in <code>TasksFragment</code>’s layout, and told it to use <code>TaskItemAdapter</code> as its adapter. But there’s still one more thing left for us to do: we need to connect the adapter to a data source.</p>
<p>As you learned earlier, the adapter uses data from a data source (such as a database), and binds it to views in the item’s layout. The recycler view then displays the items on the device screen.</p>
<p>The data source, adapter, and recycler view fit together like this:</p>
<figure class="informal"><div class="figure">
<img src="Images/f0638-02.png" alt="image" width="600" height="150"/>
<h6/>
</div></figure>
<p>So in order to display data in the Tasks app’s recycler view, we need to tell <code>TaskItemAdapter</code> what task data to use.</p>
<section data-type="sect2" data-pdf-bookmark="We’ll make TasksFragment add task data to TaskItemAdapter"><div class="sect2" id="weapostrophell_make_tasksfragment_add_ta">
<h2>We’ll make TasksFragment add task data to TaskItemAdapter</h2>
<p>We’ll tell <code>TaskItemAdapter</code> what task data to use by getting <code>TasksFragment</code> to update its <code>data</code> property with a <code>List&lt;Task&gt;</code>. <code>TasksFragment</code> will get this list from <code>TasksViewModel</code>’s <code>tasks</code> property:</p>
<figure class="informal"><div class="figure">
<img src="Images/f0638-03.png" alt="image" width="600" height="143"/>
<h6/>
</div></figure>
<p>To do this, we first need to give <code>TasksFragment</code> access to <code>TasksViewModel</code>’s <code>tasks</code> property.</p>
</div></section>
</div></section>
<section data-type="sect1" data-pdf-bookmark="Update the TasksViewModel.kt code"><div class="sect1" id="update_the_tasksviewmodeldotkt_code">
<h1>Update the TasksViewModel.kt code</h1>
<p>As you may recall, <code>TasksViewModel</code>’s <code>tasks</code> property is currently marked as private. We need to remove this modifier in order for <code>TasksFragment</code> to get the property’s value.</p>
<p>We’ll also remove all the code we added in the previous chapter to transform the task data into a formatted <code>String</code>: this code is no longer needed now that we’re using a recycler view to display a <code>List&lt;Task&gt;</code>.</p>
<p>Here’s the updated <code>TasksViewModel</code> code; update <em>TasksViewModel.kt</em> to include these changes:</p>
<figure class="informal"><div class="figure">
<img src="Images/f0639-02.png" alt="image" width="600" height="492"/>
<h6/>
</div></figure>
<p>Now that <code>TasksFragment</code> has access to the <code>tasks</code> property, let’s make it pass the property’s <code>List&lt;Task&gt;</code> to <code>TaskItemAdapter</code>.</p>
</div></section>
<section data-type="sect1" data-pdf-bookmark="TasksFragment needs to update TaskItemAdapter’s data property"><div class="sect1" id="tasksfragment_needs_to_update_taskitemad">
<h1>TasksFragment needs to update TaskItemAdapter’s data property</h1>
<p><a data-type="indexterm" data-primary="getAll() method, TaskDao" id="idm46053734969568"/><a data-type="indexterm" data-primary="TaskDao interface" data-secondary="getAll() method" id="idm46053734968288"/>As you know, <code>TasksViewModel</code>’s <code>tasks</code> property holds a live data list of tasks, which it gets from the database using this code:</p>
<figure class="informal"><div class="figure">
<img src="Images/f0640-02.png" alt="image" width="600" height="39"/>
<h6/>
</div></figure>
<p>As this property uses live data, we can make <code>TasksFragment</code> observe it so that each time its value changes, the fragment is notified. <code>TasksFragment</code> will then be able to assign the latest version of the list to the adapter’s <code>data</code> property, making sure that the data displayed in the recycler view is always up-to-date.</p>
<figure class="informal"><div class="figure">
<img src="Images/f0640-03.png" alt="image" width="508" height="239"/>
<h6/>
</div></figure>
<p>You’re already familiar with the code to observe live data properties, so here’s the code we need to add to <code>TasksFragment</code> (in bold):</p>
<figure class="informal"><div class="figure">
<img src="Images/f0640-04.png" alt="image" width="600" height="409"/>
<h6/>
</div></figure>
<p>Let’s update <em>TasksFragment.kt</em> to include this change.</p>
</div></section>
<section data-type="sect1" data-pdf-bookmark="The full code for TasksFragment.kt"><div class="sect1" id="the_full_code_for_tasksfragmentdotkt">
<h1>The full code for TasksFragment.kt</h1>
<p><a data-type="indexterm" data-primary="TasksFragment" data-secondary="code for" id="idm46053734956320"/>Here’s the updated code for <code>TasksFragment</code>; update <em>TasksFragment.kt</em> to include all the changes shown (in bold)</p>
<figure class="informal"><div class="figure">
<img src="Images/f0641-02.png" alt="image" width="600" height="625"/>
<h6/>
</div></figure>
<figure class="informal"><div class="figure">
<img src="Images/f0642-02.png" alt="image" width="600" height="356"/>
<h6/>
</div></figure>
<section data-type="sect2" data-pdf-bookmark="We’ve finished writing all the recycler view code"><div class="sect2" id="weapostropheve_finished_writing_all_the">
<h2>We’ve finished writing all the recycler view code</h2>
<p>It took us a while, but we’ve now finished writing all the code that’s needed to display a list of task names in a recycler view. We did this by:</p>
<ol>
<li><p><strong>Creating an adapter named TaskItemAdapter</strong></p>
<p>The adapter acts as a bridge between the recycler view and its data source. In the Tasks app, the data source is a Room database containing task records.</p></li>
<li><p><strong>Attaching TaskItemAdapter to a recycler view</strong></p>
<p>We added a recycler view to <code>TasksFragment</code>’s layout, and told it to use <code>TaskItemAdapter</code> in its Kotlin code.</p></li>
<li><p><strong>Passing an up-to-date List&lt;Task&gt; to TaskItemAdapter</strong></p>
<p>We did this by making <code>TasksFragment</code> set <code>TaskItemAdapter</code>’s data property each time <code>TasksViewModel</code>’s live data list of tasks gets updated.</p></li>
</ol>
<p>Before we take the app for a test drive and see what the recycler view looks like, let’s go through what happens when the code runs.</p>
</div></section>
</div></section>
<section data-type="sect1" data-pdf-bookmark="What happens when the code runs"><div class="sect1" id="what_happens_when_the_code_runs-id00239">
<h1>What happens when the code runs</h1>
<p>The following things happen when the app runs:</p>
<ol>
<li><p><strong>When the app is launched, MainActivity displays TasksFragment.</strong></p>
<p><code>TasksFragment</code> uses <code>TasksViewModel</code> as its view model.</p>
<figure class="informal"><div class="figure">
<img src="Images/f0643-02.png" alt="image" width="381" height="131"/>
<h6/>
</div></figure></li>
<li><p><strong>TasksFragment creates a TaskItemAdapter object, and assigns it to the recycler view as its adapter.</strong></p>
<figure class="informal"><div class="figure">
<img src="Images/f0643-03.png" alt="image" width="600" height="125"/>
<h6/>
</div></figure></li>
<li><p><strong>TasksFragment observes TasksViewModel’s tasks property.</strong></p>
<p>This property is a <code>LiveData&lt;List&lt;Task&gt;&gt;</code>, which holds an up-to-date list of records from the database.</p>
<figure class="informal"><div class="figure">
<img src="Images/f0643-04.png" alt="image" width="434" height="283"/>
<h6/>
</div></figure></li>
<li><p><strong>TasksFragment sets the TaskItemAdapter’s data property to the List&lt;Task&gt;.</strong></p>
<figure class="informal"><div class="figure">
<img src="Images/f0643-05.png" alt="image" width="408" height="125"/>
<h6/>
</div></figure></li>
<li><p><strong>TaskItemAdapter’s onCreateViewHolder() method is called for each item that needs to be displayed in the recycler view.</strong></p>
<p>This creates a <code>TaskItemViewHolder</code> for each item. A layout (defined by <em>task_item.xml</em>) is inflated for each view holder.</p>
<figure class="informal"><div class="figure">
<img src="Images/f0644-02.png" alt="image" width="600" height="169"/>
<h6/>
</div></figure></li>
<li><p><strong>TaskItemAdapter’s onBindViewHolder() is called for each TaskItemViewHolder.</strong></p>
<p>This binds data to the text view in each view holder’s layout.</p>
<figure class="informal"><div class="figure">
<img src="Images/f0644-03.png" alt="image" width="600" height="174"/>
<h6/>
</div></figure></li>
<li><p><strong>Each time TasksViewModel’s tasks property gets updated, TasksFragment passes an updated List&lt;Task&gt; to the TaskItemAdapter.</strong></p>
<p>Steps 5 to 6 are repeated so the recycler view stays up-to-date.</p>
<figure class="informal"><div class="figure">
<img src="Images/f0644-04.png" alt="image" width="583" height="166"/>
<h6/>
</div></figure></li>
</ol>
<p>Let’s take the app for a test drive.</p>
</div></section>
<section data-type="sect1" data-pdf-bookmark=" Test Drive"><div class="sect1" id="test_drive-id00240">
<h1><span class="inlineimage"><img src="Images/car.png" alt="Images" width="119" height="58"/></span> Test Drive</h1>
<p>When we run the app, <code>TasksFragment</code> displays the name of each task in a recycler view.</p>
<p>When we enter new tasks, these get added to the recycler view’s list. The app works as planned.</p>
<figure class="informal"><div class="figure">
<img src="Images/f0645-02.png" alt="image" width="600" height="711"/>
<h6/>
</div></figure>
<p>You’ve now learned how to create a basic recycler view. Before we tweak it to display the task records in a different way, try the following exercise.</p>
</div></section>
<section data-type="sect1" data-pdf-bookmark="Adapter Magnets"><div class="sect1" id="adapter_magnets">
<h1>Adapter Magnets</h1>
<figure class="informal"><div class="figure">
<img src="Images/common02.png" alt="image" width="86" height="144"/>
<h6/>
</div></figure>
<p><a data-type="indexterm" data-primary="adapter, recycler view" data-secondary="exercises" id="idm46053734904432"/><a data-type="indexterm" data-primary="Bits and Pizzas app" data-secondary="adapter magnets exercise" id="idm46053734903152"/><a data-type="indexterm" data-primary="exercises" data-secondary="Magnets" id="idm46053734902080"/><a data-type="indexterm" data-primary="recycler views" data-secondary="exercise" id="idm46053734900976"/>The Bits and Pizzas app includes a <code>Pizza</code> data class that looks like this:</p>
<pre data-type="programlisting">package com.hfad.bitsandpizzas

data class Pizza(
    var pizzaId: Long = 0L,
    var pizzaName: String = "",
    var pizzaDescription: String = "",
    var pizzaImageId: Int = 0
)</pre>
<p>The app needs to include a recycler view that displays the <code>pizzaName</code> for each <code>Pizza</code> item in the following layout (named <em>pizza_item.xml</em>):</p>
<pre data-type="programlisting">&lt;?xml version="1.0" encoding="utf-8"?&gt;
&lt;TextView
    
    android:layout_width="match_parent"
    android:layout_height="wrap_content" /&gt;</pre>
<p>See if you can complete the recycler view’s adapter code (below).</p>
<pre data-type="programlisting">package com.hfad.bitsandpizzas

import android.view.LayoutInflater
import android.view.ViewGroup
import android.widget.TextView
import androidx.recyclerview.widget.RecyclerView

class PizzaAdapter : RecyclerView.Adapter&lt;...........................................&gt;() {

    var pizzas = listOf&lt;..............&gt;()
        set(value) {
            field = value
            notifyDataSetChanged()
        }

    override fun getItemCount() =.............................................
    override fun............................(parent: ViewGroup, viewType: Int)
                         : PizzaViewHolder = PizzaViewHolder.inflateFrom(parent)

    override fun onBindViewHolder(.................................. , position: Int) {

        val item = .......... [position]

        holder.bind(item)
    }

    class PizzaViewHolder(val rootView: TextView)

                             : ................................... (rootView) {
        companion object {
            fun inflateFrom(parent: ViewGroup): PizzaViewHolder {
                val layoutInflater = LayoutInflater.from(parent.context)
                val view = layoutInflater
                           .inflate(R.layout.pizza_item, parent, false) .....................................
                return PizzaViewHolder(view)
            }
        }

        fun bind(item: .......... ) {

            rootView.text = .......................................
        }
    }
}</pre>
<figure class="informal"><div class="figure">
<img src="Images/f0647-01.png" alt="image" width="600" height="183"/>
<h6/>
</div></figure>
</div></section>
<section data-type="sect1" data-pdf-bookmark="Adapter Magnets Solution"><div class="sect1" id="adapter_magnets_solution">
<h1>Adapter Magnets Solution</h1>
<figure class="informal"><div class="figure">
<img src="Images/common02.png" alt="image" width="86" height="144"/>
<h6/>
</div></figure>
<p>The Bits and Pizzas app includes a <code>Pizza</code> data class that looks like this:</p>
<pre data-type="programlisting">package com.hfad.bitsandpizzas

data class Pizza(
    var pizzaId: Long = 0L,
    var pizzaName: String = "",
    var pizzaDescription: String = "",
    var pizzaImageId: Int = 0
)</pre>
<p>The app needs to include a recycler view that displays the <code>pizzaName</code> and <code>PizzaDescription</code> properties for each <code>Pizza</code> item in the following linear layout (named <em>pizza_item.xml</em>):</p>
<pre data-type="programlisting">&lt;?xml version="1.0" encoding="utf-8"?&gt;
&lt;TextView
    
    android:layout_width="match_parent"
    android:layout_height="wrap_content" /&gt;</pre>
<p>See if you can complete the recycler view’s adapter code (below).</p>
<figure class="informal"><div class="figure">
<img src="Images/f0648-01.png" alt="image" width="600" height="296"/>
<h6/>
</div></figure>
<figure class="informal"><div class="figure">
<img src="Images/f0649-01.png" alt="image" width="600" height="690"/>
<h6/>
</div></figure>
</div></section>
<section data-type="sect1" data-pdf-bookmark="Recycler views are very flexible"><div class="sect1" id="recycler_views_are_very_flexible">
<h1>Recycler views are very flexible</h1>
<figure class="informal"><div class="figure">
<img src="Images/f0650-01.png" alt="image" width="250" height="58"/>
<h6/>
</div></figure>
<p><a data-type="indexterm" data-primary="recycler views" data-secondary="flexibility of" id="idm46053734875072"/><a data-type="indexterm" data-primary="Tasks app" data-secondary="grid of cards" id="idm46053734873696"/>So far in this chapter, you’ve learned how to build a basic recycler view that displays a list of task names. You did this by creating a layout that’s used by each item in the list, defining an adapter to populate it with data, and adding a recycler view to <code>TaskFragment</code>’s layout.</p>
<figure class="informal"><div class="figure">
<img src="Images/f0650-02.png" alt="image" width="600" height="687"/>
<h6/>
</div></figure>
<p><strong>While recycler views can seem overly complicated, they’re extremely flexible.</strong></p>
<p>In this app, we created a recycler view to display a simple list of task names, but this was just to get you started. You can also use recycler views to do other things, such as:</p>
<ul style="list-style-type:none;">
<li><p><span class="inlineimage"><img src="Images/star.png" alt="Images" width="17" height="17"/></span> <strong>Displaying a list of images by adding an image view to the item’s layout</strong></p></li>
<li><p><span class="inlineimage"><img src="Images/star.png" alt="Images" width="17" height="17"/></span> <strong>Using a different layout manager to display items in a grid instead of a vertical list</strong></p></li>
<li><p><span class="inlineimage"><img src="Images/star.png" alt="Images" width="17" height="17"/></span> <strong>Making it respond to clicks so that you can use it for navigation</strong></p></li>
</ul>
<p>To show you how flexible recycler views can be, we’re going to change up the recycler view we just created by getting it to show more information about each task.</p>
<p>Let’s take a look at what the new version of the recycler view will look like.</p>
</div></section>
<section data-type="sect1" data-pdf-bookmark="Recycler view 2.0"><div class="sect1" id="recycler_view_twodotzero">
<h1>Recycler view 2.0</h1>
<p><a data-type="indexterm" data-primary="Android Jetpack" data-secondary="CardView" data-see="CardView" id="idm46053734860432"/><a data-type="indexterm" data-primary="CardView" id="idm46053734857152"/><a data-type="indexterm" data-primary="CardView" data-secondary="adding library to" id="idm46053734856320"/><a data-type="indexterm" data-primary="libraries" data-secondary="CardView" id="idm46053734855216"/><a data-type="indexterm" data-primary="recycler views" data-secondary="card view" id="idm46053734854112"/>We’re going to update the recycler view so that it shows the name of each task in a text view, and whether each task has been completed with a checkbox. We’ll display each task record on a single card, which will look like it’s slightly elevated. The cards will be arranged in a grid.</p>
<p>Here’s what the new version of the recycler view will look like:</p>
<figure class="informal"><div class="figure">
<img src="Images/f0651-02.png" alt="image" width="600" height="321"/>
<h6/>
</div></figure>
<p>We’re going to create this version of the recycler view by changing <em>task_item.xml</em> (the layout used by the recycler view’s items) so that it uses a <strong>card view</strong>. This is a type of frame layout that has rounded corners and shadows to make it look as though it’s elevated above its background.</p>
<figure class="informal"><div class="figure">
<img src="Images/f0651-03.png" alt="image" width="329" height="138"/>
<h6/>
</div></figure>
<section data-type="sect2" data-pdf-bookmark="Add a card view dependency to the app build.gradle file"><div class="sect2" id="add_a_card_view_dependency_to_the_app_bu">
<h2>Add a card view dependency to the <strong>app</strong> build.gradle file</h2>
<p>To use a card view, we first need to add a dependency to its library to the app’s <em>build.gradle</em> file. Open the file <em>Tasks/app/build.gradle</em>, and add the following line (in bold) to the <code>dependencies</code> section:</p>
<figure class="informal"><div class="figure">
<img src="Images/f0651-04.png" alt="image" width="600" height="157"/>
<h6/>
</div></figure>
<p>Make sure that you sync this change with the rest of the app.</p>
</div></section>
</div></section>
<section data-type="sect1" data-pdf-bookmark="How to create a card view"><div class="sect1" id="how_to_create_a_card_view">
<h1>How to create a card view</h1>
<p><a data-type="indexterm" data-primary="cardCornerRadius attribute, CardView" id="idm46053734841264"/><a data-type="indexterm" data-primary="cardElevation attribute, CardView" id="idm46053734838272"/><a data-type="indexterm" data-primary="CardView" data-secondary="creating" id="idm46053734837472"/>We’re going to use a card view in <em>task_item.xml</em> that includes a text view and a checkbox.</p>
<p>You create a card view by adding an <code>&lt;androidx.cardview.widget.CardView&gt;</code> element to your layout code. The code for a typical card view looks like this:</p>
<figure class="informal"><div class="figure">
<img src="Images/f0652-02.png" alt="image" width="182" height="628"/>
<h6/>
</div></figure>
<figure class="informal"><div class="figure">
<img src="Images/f0652-03.png" alt="image" width="600" height="291"/>
<h6/>
</div></figure>
<p>As you can see, the above code includes an extra namespace of:</p>
<pre data-type="programlisting"/>
<p>This lets you add attributes that give the card rounded corners and a drop shadow to make it look higher than its background. You add rounded corners using the <code>app:cardCornerRadius</code> attribute, and the <code>app:cardElevation</code> attribute sets its elevation and adds drop shadows:</p>
<div data-type="note" epub:type="note"><h6>Note</h6>
<p><span style="color:#9D9EA0;">There’s also an app:cardBackgroundColor attribute that changes the card’s background color.</span></p>
</div>
<figure class="informal"><div class="figure">
<img src="Images/f0652-05.png" alt="image" width="600" height="83"/>
<h6/>
</div></figure>
<p>Once you’ve defined the card view, you add any views to it that you want it to include. In the Tasks app, we want to add a text view and a checkbox to the card view to display the name of each task and whether it’s been completed. Let’s see what the code for this looks like.</p>
</div></section>
<section data-type="sect1" data-pdf-bookmark="The full code for task_item.xml"><div class="sect1" id="the_full_code_for_taskunderscoreitemdotx">
<h1>The full code for task_item.xml</h1>
<p><a data-type="indexterm" data-primary="task_item.xml file" id="idm46053734822672"/>Here’s the updated code for <em>task_item.xml</em>; update the code for this file so that it includes the changes below (in bold):</p>
<figure class="informal"><div class="figure">
<img src="Images/f0653-02.png" alt="image" width="600" height="585"/>
<h6/>
</div></figure>
<p>Next, we need to update the adapter’s view holder so that it works with the new layout, and populates the card’s views.</p>
</div></section>
<section data-type="sect1" data-pdf-bookmark="The adapter’s view holder needs to work with the new layout code"><div class="sect1" id="the_adapterapostrophes_view_holder_needs">
<h1>The adapter’s view holder needs to work with the new layout code</h1>
<p><a data-type="indexterm" data-primary="TaskItemAdapter" data-secondary="CardView layout update" id="idm46053734815568"/><a data-type="indexterm" data-primary="TaskItemViewHolder inner class" data-secondary="CardView layout update" id="idm46053734814400"/>When we defined <code>TaskItemAdapter</code> (the recycler view’s adapter), we included a <code>TaskItemViewHolder</code> inner class. We used it to inflate the layout (a text view) associated with each item in the recycler view, and populate it with the task’s name.</p>
<p>Here’s a reminder of the code we used for the original inner class:</p>
<figure class="informal"><div class="figure">
<img src="Images/f0654-02.png" alt="image" width="600" height="336"/>
<h6/>
</div></figure>
<p>Now that we’ve changed <em>task_item.xml</em>, we need to update <code>TaskItemViewHolder</code> so that it works with the new layout. To do this we need to make three changes:</p>
<ol>
<li><p><strong>Update the view holder’s constructor so that it uses a CardView instead of a TextView.</strong></p></li>
<li><p><strong>Change the inflateFrom() method so that it inflates each item’s layout as a CardView.</strong></p></li>
<li><p><strong>Update the bind() method so that it populates the layout’s text view and checkbox with the item’s taskName and taskDone property values.</strong></p></li>
</ol>
<p>You’re already familiar with the code that’s needed to make these changes, so we’ll show you the updated code for <code>TaskItemAdapter</code>—and its <code>TaskItemViewHolder</code> inner class—on the next page.</p>
</div></section>
<section data-type="sect1" data-pdf-bookmark="The full code for TaskItemAdapter.kt"><div class="sect1" id="the_full_code_for_taskitemadapte-id00241">
<h1>The full code for TaskItemAdapter.kt</h1>
<p><a data-type="indexterm" data-primary="TaskItemAdapter" data-secondary="code for" id="idm46053734802832"/>Here’s the updated <code>TaskItemAdapter</code> code that works with the new layout code; update the code for <em>TaskItemAdapter.kt</em> so that it includes the changes below (in bold):</p>
<figure class="informal"><div class="figure">
<img src="Images/f0655-02.png" alt="image" width="600" height="521"/>
<h6/>
</div></figure>
<figure class="informal"><div class="figure">
<img src="Images/f0656-02.png" alt="image" width="600" height="368"/>
<h6/>
</div></figure>
<aside data-type="sidebar" epub:type="sidebar"><div class="sidebar" id="there_are_no_dumb_questions-id00242">
<h5>there are no Dumb Questions</h5>
<p><strong>Q: Can I display images inside a recycler view?</strong></p>
<p><strong>A:</strong> Yes! To do this, add an image view to the item’s layout, then populate it in the view holder’s <code>bind()</code> method.</p>
<p><strong>Q: Do recycler views only work with database data?</strong></p>
<p><strong>A:</strong> No, they can be used with data from other sources too, just so long as the adapter has access to the data.</p>
<p><strong>Q: I see that the view holder code uses <strong><code>findViewById()</code></strong>. I thought we’d stopped using that?</strong></p>
<p><strong>A:</strong> The code uses this method to get a reference to each view in the item’s layout that we want to populate with data. We’ve used this approach as it’s a relatively simple way of adding data to each view.</p>
<p>In the next chapter, you’ll learn how to replace these calls using data binding.</p>
<p><strong>Q: Can recycler views use multiple layouts?</strong></p>
<p><strong>A:</strong> Yes! You can, say, make the first item in the list have a different layout to the rest of the items.</p>
<p>To do this, you create each layout you want to use, and define a view holder for each one. You then override the adapter’s <code>getItemViewType()</code> method to say which view holder should be used for which position in the recycler view. Finally, you update <code>onCreateViewHolder()</code> to check its view type parameter, and create the correct corresponding view holder.</p>
</div></aside>
</div></section>
<section data-type="sect1" data-pdf-bookmark="What the recycler view looks like so far"><div class="sect1" id="what_the_recycler_view_looks_like_so_far">
<h1>What the recycler view looks like so far</h1>
<p>If we were to run the app after updating the code for <em>task_item.xml</em> and <em>TaskItemAdapter.kt</em>, we’d see a recycler view that displays tasks in a vertical list of card views like this:</p>
<figure class="informal"><div class="figure">
<img src="Images/f0657-02.png" alt="image" width="600" height="691"/>
<h6/>
</div></figure>
<p>The recycler view arranges the cards in this way because we specified in <em>fragment_tasks.xml</em> that it must use a linear layout manager like this:</p>
<figure class="informal"><div class="figure">
<img src="Images/f0657-03.png" alt="image" width="600" height="91"/>
<h6/>
</div></figure>
<p>By default, this layout manager arranges items in a vertical list with full-length rows. You can, however, include extra options—or use a different type of layout manager—to change the way in which items are displayed.</p>
<p>Let’s take a look at some of the possible options.</p>
</div></section>
<section data-type="sect1" data-pdf-bookmark="The layout manager gallery"><div class="sect1" id="the_layout_manager_gallery">
<h1>The layout manager gallery</h1>
<p><a data-type="indexterm" data-primary="GridLayoutManager" id="idm46053734782608"/><a data-type="indexterm" data-primary="layout manager, recycler views" id="idm46053734775088"/><a data-type="indexterm" data-primary="spanCount attribute, GridLayoutManager" id="idm46053734773872"/><a data-type="indexterm" data-primary="StaggeredGridLayoutManager" id="idm46053734773072"/>Here are some of the other ways in which you might want to arrange items in a recycler view, and how to create each one.</p>
<section data-type="sect2" data-pdf-bookmark="Display items in a horizontal row"><div class="sect2" id="display_items_in_a_horizontal_row">
<h2>Display items in a horizontal row</h2>
<p>A linear layout manager displays items in a vertical list by default. You can, however, display items in a horizontal row instead by changing the orientation to horizontal:</p>
<figure class="informal"><div class="figure">
<img src="Images/f0658-02.png" alt="image" width="404" height="197"/>
<h6/>
</div></figure>
<pre data-type="programlisting">&lt;androidx.recyclerview.widget.RecyclerView ...
    <strong>app:layoutManager="androidx.recyclerview.widget.LinearLayoutManager"</strong>
    <strong>android:orientation="horizontal"</strong> /&gt;</pre>
</div></section>
<section data-type="sect2" data-pdf-bookmark="Use GridLayoutManager to display items in a grid"><div class="sect2" id="use_gridlayoutmanager_to_display_items_i">
<h2>Use GridLayoutManager to display items in a grid</h2>
<p>If you want to arrange items in a grid, try using a <code>GridLayoutManager</code>. Use <code>app:spanCount</code> to specify how many columns the grid should have:</p>
<pre data-type="programlisting">&lt;androidx.recyclerview.widget.RecyclerView ...
    <strong>app:layoutManager="androidx.recyclerview.widget.GridLayoutManager"</strong>
    <strong>app:spanCount="2"</strong> /&gt;</pre>
<figure class="informal"><div class="figure">
<img src="Images/f0658-03.png" alt="image" width="600" height="170"/>
<h6/>
</div></figure>
</div></section>
<section data-type="sect2" data-pdf-bookmark="Arrange items in a staggered grid"><div class="sect2" id="arrange_items_in_a_staggered_grid">
<h2>Arrange items in a staggered grid</h2>
<p>If your items have unequal sizes, you can use a <code>StaggeredGridLayoutManager</code> instead like this:</p>
<pre data-type="programlisting">&lt;androidx.recyclerview.widget.RecyclerView ...
    <strong>app:layoutManager="androidx.recyclerview.widget.StaggeredGridLayoutManager"</strong>
    <strong>app:spanCount="2"</strong> /&gt;</pre>
<figure class="informal"><div class="figure">
<img src="Images/f0658-04.png" alt="image" width="600" height="231"/>
<h6/>
</div></figure>
<p>Let’s apply one of these styles to the Tasks app’s recycler view, and see what happens when the app runs.</p>
</div></section>
</div></section>
<section data-type="sect1" data-pdf-bookmark="Update fragment_tasks.xml to arrange items in a grid"><div class="sect1" id="update_fragmentunderscoretasksdotxml_to">
<h1>Update fragment_tasks.xml to arrange items in a grid</h1>
<p>We’re going to update the recycler view so that it arranges its items in a grid with two columns. The updated layout code for this change is shown below; update <em>fragment_tasks.xml</em> to include these changes (in bold):</p>
<figure class="informal"><div class="figure">
<img src="Images/f0659-02.png" alt="image" width="600" height="610"/>
<h6/>
</div></figure>
</div></section>
<section data-type="sect1" data-pdf-bookmark="What happens when the code runs"><div class="sect1" id="what_happens_when_the_code_runs-id00243">
<h1>What happens when the code runs</h1>
<p>The following things happen when the app runs:</p>
<ol>
<li><p><strong>TasksFragment creates a TaskItemAdapter object, and assigns it to the recycler view as its adapter.</strong></p>
<figure class="informal"><div class="figure">
<img src="Images/f0660-02.png" alt="image" width="600" height="125"/>
<h6/>
</div></figure></li>
<li><p><strong>TasksFragment sets the TaskItemAdapter’s data property to a List&lt;Task&gt;.</strong></p>
<p><code>TasksFragment</code> gets this <code>List&lt;Task&gt;</code> by observing <code>TasksViewModel</code>’s <code>tasks</code> property.</p>
<figure class="informal"><div class="figure">
<img src="Images/f0660-03.png" alt="image" width="405" height="126"/>
<h6/>
</div></figure></li>
<li><p><strong>TaskItemAdapter’s onCreateViewHolder() method is called for each item that needs to be displayed in the recycler view.</strong></p>
<p>This creates a <code>TaskItemViewHolder</code> for each item. A layout (defined by <em>task_item.xml</em>) is inflated for each view holder.</p>
<figure class="informal"><div class="figure">
<img src="Images/f0660-04.png" alt="image" width="600" height="168"/>
<h6/>
</div></figure></li>
<li><p><strong>TaskItemAdapter’s onBindViewHolder() is called for each TaskItemViewHolder.</strong></p>
<p>This binds data to the views in each view holder’s layout.</p>
<figure class="informal"><div class="figure">
<img src="Images/f0661-02.png" alt="image" width="600" height="231"/>
<h6/>
</div></figure></li>
<li><p><strong>The recycler view uses its layout manager to arrange its items.</strong></p>
<p>As the recycler view uses a <code>GridLayoutManager</code> with a <code>spanCount</code> of 2, it arranges items in a grid with two columns.</p>
<figure class="informal"><div class="figure">
<img src="Images/f0661-03.png" alt="image" width="600" height="110"/>
<h6/>
</div></figure></li>
<li><p><strong>Each time TasksViewModel’s tasks property gets updated, TasksFragment passes an updated List&lt;Task&gt; to the TaskItemAdapter.</strong></p>
<p>Steps 3 to 5 are repeated so the recycler view stays up-to-date.</p>
<figure class="informal"><div class="figure">
<img src="Images/f0661-04.png" alt="image" width="406" height="122"/>
<h6/>
</div></figure></li>
</ol>
<p>Let’s take the app for a test drive.</p>
</div></section>
<section data-type="sect1" data-pdf-bookmark=" Test Drive"><div class="sect1" id="test_drive-id00244">
<h1><span class="inlineimage"><img src="Images/car.png" alt="Images" width="119" height="58"/></span> Test Drive</h1>
<p>When we run the app, <code>TasksFragment</code>’s recycler view displays a grid of cards, each one showing a task name and whether the task has been completed.</p>
<p>When we enter new tasks, these get added to the recycler view as soon as we click on the Save Task button.</p>
<figure class="informal"><div class="figure">
<img src="Images/f0662-02.png" alt="image" width="600" height="500"/>
<h6/>
</div></figure>
<p>Congratulations! You’ve now learned how to control the recycler view’s appearance with layout managers, and display data in a scrollable grid of cards.</p>
<p>In the next chapter, we’ll build on this knowledge to make further improvements to the recycler view.</p>
</div></section>
<section data-type="sect1" data-pdf-bookmark="Pool Puzzle"><div class="sect1" id="pool_puzzle-id00245">
<h1>Pool Puzzle</h1>
<figure class="informal"><div class="figure">
<img src="Images/common01.png" alt="image" width="148" height="160"/>
<h6/>
</div></figure>
<p><a data-type="indexterm" data-primary="CardView" data-secondary="exercise" id="idm46053734713280"/><a data-type="indexterm" data-primary="exercises" data-secondary="Pool Puzzle" id="idm46053734711904"/>Your <strong>goal</strong> is to update the layout code below so that it includes a recycler view that displays its items in a three-column staggered grid. Take code snippets from the pool and place them into the blank lines in the code. You may <strong>not</strong> use the same snippet more than once, and you won’t need to use all the snippets.</p>
<pre data-type="programlisting">&lt;?xml version="1.0" encoding="utf-8"?&gt;
&lt;LinearLayout
    
    
    android:layout_width="match_parent"
    android:layout_height="match_parent"
    android:orientation="vertical"&gt;

    &lt;..................................................
        android:id="@+id/recycler"
        android:layout_width="match_parent"
        android:layout_height="match_parent"
        ...............................................................................
        ................../&gt;
&lt;/LinearLayout&gt;</pre>
<figure class="informal"><div class="figure">
<img src="Images/f0663-01.png" alt="image" width="600" height="280"/>
<h6/>
</div></figure>
<div data-type="note" epub:type="note"><h6>Note</h6>
<p><strong>Note: each thing from the pool can only be used once!</strong></p>
</div>
<p><span class="inlineimage"><img src="Images/arr.png" alt="Images" width="101" height="9"/></span> <strong>Answers in <a data-type="xref" href="#pool_puzzle_solution-id00248">“Pool Puzzle Solution”</a>.</strong></p>
<aside data-type="sidebar" epub:type="sidebar"><div class="sidebar" id="exercise-id00246">
<h5><span class="inlineimage"><img src="Images/exercise.png" alt="Images" width="125" height="79"/></span> Exercise</h5>
<p><a data-type="indexterm" data-primary="Bits and Pizzas app" data-secondary="exercises" id="idm46053734699136"/>The Bits and Pizzas app includes a <code>Pizza</code> data class that looks like this:</p>
<pre data-type="programlisting">package com.hfad.bitsandpizzas

data class Pizza(
    var pizzaId: Long = 0L,
    var pizzaName: String = "",
    var pizzaDescription: String = "",
    var pizzaImageId: Int = 0
)</pre>
<p>The app needs to include a recycler view that displays the <code>pizzaName</code> and <code>PizzaDescription</code> properties for each <code>Pizza</code> item in the following linear layout (named <em>pizza_item.xml</em>):</p>
<pre data-type="programlisting">&lt;?xml version="1.0" encoding="utf-8"?&gt;
&lt;LinearLayout
    
    android:layout_width="match_parent"
    android:layout_height="wrap_content"
    android:orientation="vertical"
    android:padding="8dp" &gt;

    &lt;TextView
        android:id="@+id/pizza_name"
        android:layout_width="match_parent"
        android:layout_height="wrap_content" /&gt;

    &lt;TextView
        android:id="@+id/pizza_description"
        android:layout_width="match_parent"
        android:layout_height="wrap_content" /&gt;
 &lt;/LinearLayout&gt;</pre>
<p>See if you can update the adapter code on the next page so that it displays the correct properties in the above layout.</p>
<div data-type="note" epub:type="note"><h6>Note</h6>
<p><span style="color:#9D9EA0;">This is the adapter code that you updated in an earlier exercise. Can you get it to work with the new version of pizza_item.xml?</span></p>
</div>
<pre data-type="programlisting">...
class PizzaAdapter : RecyclerView.Adapter&lt;PizzaAdapter.PizzaViewHolder&gt;() {
    var pizzas = listOf&lt;Pizza&gt;()
        set(value) {
            field = value
            notifyDataSetChanged()
        }

    override fun getItemCount() = pizzas.size

    override fun onCreateViewHolder(parent: ViewGroup, viewType: Int)
                         : PizzaViewHolder = PizzaViewHolder.inflateFrom(parent)

    override fun onBindViewHolder(holder: PizzaViewHolder, position: Int) {
        val item = pizzas[position]
        holder.bind(item)
    }

    class PizzaViewHolder(val rootView: TextView)
                                         : RecyclerView.ViewHolder(rootView) {

        companion object {
            fun inflateFrom(parent: ViewGroup): PizzaViewHolder {
                val layoutInflater = LayoutInflater.from(parent.context)
                val view = layoutInflater.inflate(R.layout.pizza_item, parent, false)
                           as TextView
                return PizzaViewHolder(view)
            }
        }

        fun bind(item: Pizza) {
            rootView.text = item.pizzaName
        }
    }
}</pre>
</div></aside>
<aside data-type="sidebar" epub:type="sidebar"><div class="sidebar" id="exercise_solution-id00247">
<h5><span class="inlineimage"><img src="Images/exercise.png" alt="Images" width="125" height="79"/></span> Exercise Solution</h5>
<p>The Bits and Pizzas app includes a <code>Pizza</code> data class that looks like this:</p>
<pre data-type="programlisting">package com.hfad.bitsandpizzas

data class Pizza(
    var pizzaId: Long = 0L,
    var pizzaName: String = "",
    var pizzaDescription: String = "",
    var pizzaImageId: Int = 0
)</pre>
<p>The app needs to include a recycler view that displays the <code>pizzaName</code> and <code>PizzaDescription</code> properties for each <code>Pizza</code> item in the following linear layout (named <em>pizza_item.xml</em>):</p>
<pre data-type="programlisting">&lt;?xml version="1.0" encoding="utf-8"?&gt;
&lt;LinearLayout
    
    android:layout_width="match_parent"
    android:layout_height="wrap_content"
    android:orientation="vertical"
    android:padding="8dp" &gt;

    &lt;TextView
        android:id="@+id/pizza_name"
        android:layout_width="match_parent"
        android:layout_height="wrap_content" /&gt;

    &lt;TextView
        android:id="@+id/pizza_description"
        android:layout_width="match_parent"
        android:layout_height="wrap_content" /&gt;
 &lt;/LinearLayout&gt;</pre>
<p>See if you can update the adapter code on the next page so that it displays the correct properties in the above layout.</p>
<figure class="informal"><div class="figure">
<img src="Images/f0667-01.png" alt="image" width="600" height="712"/>
<h6/>
</div></figure>
</div></aside>
</div></section>
<section data-type="sect1" data-pdf-bookmark="Pool Puzzle Solution"><div class="sect1" id="pool_puzzle_solution-id00248">
<h1>Pool Puzzle Solution</h1>
<figure class="informal"><div class="figure">
<img src="Images/common01.png" alt="image" width="148" height="160"/>
<h6/>
</div></figure>
<p>Your <strong>goal</strong> is to update the layout code below so that it includes a recycler view that displays its items in a three-column staggered grid. Take code snippets from the pool and place them into the blank lines in the code. You may <strong>not</strong> use the same snippet more than once, and you won’t need to use all the snippets.</p>
<figure class="informal"><div class="figure">
<img src="Images/f0668-01.png" alt="image" width="600" height="296"/>
<h6/>
</div></figure>
<figure class="informal"><div class="figure">
<img src="Images/f0668-02.png" alt="image" width="600" height="270"/>
<h6/>
</div></figure>
</div></section>
<section data-type="sect1" data-pdf-bookmark="Your Android Toolbox"><div class="sect1" id="your_android_toolbox-id00249">
<h1>Your Android Toolbox</h1>
<figure class="informal"><div class="figure">
<img src="Images/tools.png" alt="image" width="182" height="129"/>
<h6/>
</div></figure>
<p><strong>You’ve got <a data-type="xref" href="ch14.xhtml#room_databasescolon_room_with_a_view">Chapter 14</a> under your belt and now you’ve added recycler views to your toolbox.</strong></p>
<figure class="informal"><div class="figure">
<img src="Images/f0669-01.png" alt="image" width="233" height="211"/>
<h6/>
</div></figure>
<aside data-type="sidebar" epub:type="sidebar"><div class="sidebar" id="bullet_points-id00250">
<h5>Bullet Points</h5>
<ul>
<li><p>A recycler view is a flexible way of displaying a scrollable list of data.</p></li>
<li><p>Add a dependency to the recycler view library in the app’s <em>build.gradle</em> file.</p></li>
<li><p>For each recycler view, you define a layout for its items, and an adapter that puts data into each item’s views. The recycler view then displays these items.</p></li>
<li><p>Each adapter needs to extend <code>RecyclerView.Adapter</code>.</p></li>
<li><p>The adapter uses a view holder that extends <code>RecyclerView.ViewHolder</code>. It contains information about how each item’s layout should be displayed, and it’s usually defined as an inner class of the adapter.</p></li>
<li><p>The adapter’s <code>onCreateViewHolder()</code> method inflates each item’s layout, and creates view holders.</p></li>
<li><p>The adapter’s <code>onBindViewHolder()</code> method binds data to the views in each item’s layout.</p></li>
<li><p>Add a recycler view to a layout using the <code>&lt;androidx.recyclerview.widget.RecyclerView&gt;</code> element.</p></li>
<li><p>A card view is a type of frame layout that has rounded corners and elevation.</p></li>
<li><p>Add a dependency to the card view library in the app’s <em>build.gradle</em> file.</p></li>
<li><p>Use a layout manager to control how items are displayed.</p></li>
<li><p>A <code>LinearLayoutManager</code> arranges items in a vertical list or horizontal row.</p></li>
<li><p>A <code>GridLayoutManager</code> arranges items in a grid.</p></li>
<li><p>A <code>StaggeredGridLayoutManager</code> is like a <code>GridLayoutManager</code> except the items can have unequal sizes.</p></li>
</ul>
</div></aside>
</div></section>
</div></section></div></body></html>