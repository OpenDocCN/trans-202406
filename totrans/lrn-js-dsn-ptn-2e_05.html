<html><head></head><body><div id="sbo-rt-content"><section data-type="chapter" epub:type="chapter" data-pdf-bookmark="Chapter 5. Modern JavaScript Syntax and Features"><div class="chapter" id="modern-javascript-syntax">
<h1><span class="label">Chapter 5. </span>Modern JavaScript Syntax and Features</h1>


<p>JavaScript has been around for many decades<a data-type="indexterm" data-primary="JavaScript" data-secondary="about" id="idm45017716248560"/><a data-type="indexterm" data-primary="JavaScript" data-secondary="about" data-tertiary="ES2015+" id="idm45017716247584"/><a data-type="indexterm" data-primary="BabelJS ES2015 guide" id="idm45017716246368"/><a data-type="indexterm" data-primary="resources online" data-secondary="JavaScript ES2015 guide (BabelJS)" id="idm45017716245696"/><a data-type="indexterm" data-primary="JavaScript" data-secondary="modern syntax and features" data-tertiary="ES2015+ syntax" id="idm45017716244688"/><a data-type="indexterm" data-primary="ES2015+ syntax of JavaScript" id="idm45017716243456"/> now and has undergone multiple revisions. This book explores design patterns in the modern JavaScript context and uses modern ES2015+ syntax for all the examples discussed. This chapter discusses ES2015+ JavaScript features and syntax essential to further our discussion of design patterns in the current JavaScript context.</p>
<div data-type="note" epub:type="note"><h6>Note</h6>
<p>Some fundamental changes were introduced<a data-type="indexterm" data-primary="ES2015+ syntax of JavaScript" data-secondary="BabelJS ES2015 guide" id="idm45017716241664"/> to JavaScript syntax with ES2015 that are especially relevant to our discussion on patterns. These are covered well in the <a href="https://oreil.ly/V09r_">BabelJS ES2015 guide</a>.</p>

<p>This book relies on modern JavaScript syntax. You may also be curious about TypeScript. TypeScript, a statically typed superset of JavaScript, offers several language features that JavaScript does not. These features include strong typing, interfaces, enums, and advanced type inference and can also influence design patterns. To learn more about TypeScript and its benefits, consider checking out some O’Reilly books such as <a href="https://learning.oreilly.com/library/view/programming-typescript/9781492037644/" class="orm:hideurl"><i>Programming TypeScript</i></a> by Boris Cherny.</p>
</div>






<section data-type="sect1" data-pdf-bookmark="The Importance of Decoupling Applications"><div class="sect1" id="idm45017716237952">
<h1>The Importance of Decoupling Applications</h1>

<p>Modular JavaScript allows you to logically<a data-type="indexterm" data-primary="JavaScript" data-secondary="modern syntax and features" data-tertiary="modules for decoupling applications" id="idm45017716236352"/><a data-type="indexterm" data-primary="decoupling" data-secondary="applications in modern JavaScript" id="idm45017716235072"/><a data-type="indexterm" data-primary="applications decoupled in JavaScript" id="idm45017716234112"/><a data-type="indexterm" data-primary="modules" data-secondary="decoupling applications" id="idm45017716233424"/><a data-type="indexterm" data-primary="coupling" data-secondary="decoupling applications via modularity" id="idm45017716232480"/><a data-type="indexterm" data-primary="loose coupling" data-secondary="decoupling applications via modularity" id="idm45017718444896"/> split your application into smaller pieces called modules. A module can be imported by other modules that, in turn, can be imported by more modules. Thus, the application can be composed of many nested modules.</p>

<p class="less_space pagebreak-before">In the world of scalable JavaScript,<a data-type="indexterm" data-primary="scaling and modularity" id="idm45017718443136"/><a data-type="indexterm" data-primary="dependencies" data-secondary="decoupling applications via modularity" id="idm45017718442432"/> when we say an application is <em>modular</em>, we often mean it’s composed of a set of highly decoupled, distinct pieces of functionality stored in modules. Loose coupling facilitates easier maintainability of apps by removing <em>dependencies</em> where possible. If implemented efficiently, it allows you to see how changes to one part of a system may affect another.</p>

<p>Unlike some more traditional programming languages,<a data-type="indexterm" data-primary="AMD (Asynchronous Module Definition)" data-secondary="decoupling applications" id="idm45017718439440"/><a data-type="indexterm" data-primary="Asynchronous Module Definition" data-see="AMD" id="idm45017718438448"/><a data-type="indexterm" data-primary="CommonJS" data-secondary="decoupling applications" id="idm45017718437488"/> the older iterations of JavaScript until ES5 (<a href="https://oreil.ly/w2WxN">Standard ECMA-262 5.1 Edition</a>) did not provide developers with the means to organize and import code modules cleanly. It was one of the concerns with the specifications that had not required great thought until more recent years when the need for more organized JavaScript applications became apparent. <a href="https://oreil.ly/W5XPd">AMD (Asynchronous Module Definition)</a> and <a href="https://oreil.ly/lgw0w">CommonJS</a> modules were the most popular patterns to decouple applications in the initial versions of JavaScript.</p>

<p>Native solutions to these problems<a data-type="indexterm" data-primary="JavaScript" data-secondary="ECMAScript" data-tertiary="TC39 standards body" id="idm45017718433904"/><a data-type="indexterm" data-primary="ES6" data-see="ES2015+ syntax of JavaScript" id="idm45017718432656"/><a data-type="indexterm" data-primary="TC39 standards body" id="idm45017718431648"/><a data-type="indexterm" data-primary="ECMAScript" data-secondary="TC39 standards body" id="idm45017718430976"/> arrived with <a href="https://oreil.ly/rPxFL">ES6 or ES2015</a>. <a href="https://oreil.ly/GJduA">TC39</a>, the standards body charged with defining the syntax and semantics of ECMAScript and its future iterations, had been keeping a close eye on the evolution of JavaScript usage for large-scale development and was acutely aware of the need for better language features for writing more modular JS.</p>

<p>The syntax to create modules in JavaScript was developed and standardized with the release of ECMAScript modules in ES2015. Today, all major browsers support JavaScript modules. They have become the de facto method of implementing modern-day modular programming in JavaScript. In this section, we’ll explore code samples using the syntax for modules in ES2015+.</p>
</div></section>






<section data-type="sect1" data-pdf-bookmark="Modules with Imports and Exports"><div class="sect1" id="idm45017718427952">
<h1>Modules with Imports and Exports</h1>

<p>Modules allow us to separate our application<a data-type="indexterm" data-primary="JavaScript" data-secondary="modern syntax and features" data-tertiary="importing module dependencies and exporting module interfaces" id="ch05-imex"/><a data-type="indexterm" data-primary="import declarations for modules" id="ch05-imex2"/><a data-type="indexterm" data-primary="export declarations for modules" id="ch05-imex3"/><a data-type="indexterm" data-primary="dependencies" data-secondary="import and export declarations for modules" id="ch05-imex4"/><a data-type="indexterm" data-primary="modules" data-secondary="importing dependencies and exporting interfaces" id="ch05-imex5"/> code into independent units, each containing code for one aspect of the functionality. Modules also encourage  code reusability and expose features that can be integrated into different applications.</p>

<p>A language should have features that allow you to <code>import</code> module dependencies and <code>export</code> the module interface (the public API/variables we allow other modules to consume) to support modular programming. The support for <a href="https://oreil.ly/kd-pu">JavaScript modules (also referred to as ES modules)</a> was introduced to JavaScript in ES2015, allowing you to specify module dependencies using an <code>import</code> keyword. Similarly, you can use the  <code>export</code> keyword to export just about anything from within the module:</p>

<ul>
<li>
<p><code>import</code> declarations bind a module’s exports as local variables and may be renamed to avoid name collisions/conflicts.</p>
</li>
</ul>

<ul class="less_space pagebreak-before">
<li>
<p><code>export</code> declarations declare that a local binding of a module is externally visible such that other modules may read the exports but can’t modify them. Interestingly, modules may export child modules but can’t export modules that have been defined elsewhere. We can also rename exports so that their external name differs from their local names.</p>
</li>
</ul>
<div data-type="note" epub:type="note"><h6>Note</h6>
<p><em>.mjs</em> is an extension used for JavaScript modules<a data-type="indexterm" data-primary=".mjs extension for modules" data-primary-sortas="mjs" id="idm45017717726800"/><a data-type="indexterm" data-primary=".js extension for scripts" data-primary-sortas="js" id="idm45017717725856"/><a data-type="indexterm" data-primary="filename extensions for modules versus scripts" id="idm45017717724896"/><a data-type="indexterm" data-primary="JavaScript" data-secondary="filename extensions for modules versus scripts" id="idm45017717724128"/> that helps us distinguish between module files and classic scripts (<em>.js</em>). The <em>.mjs</em> extension ensures that corresponding files are parsed as a module by runtimes and build tools (for example, <a href="https://oreil.ly/E9oRS">Node.js</a>, <a href="https://oreil.ly/fkQAL">Babel</a>).</p>
</div>

<p>The following example shows three modules for bakery staff, the functions they perform while baking, and the bakery itself. We see how functionality that is exported by one module is imported and used by the other:</p>

<pre data-type="programlisting" data-code-language="javascript"><code class="c1">// Filename: staff.mjs</code>
<code class="c1">// =========================================</code>
<code class="c1">// specify (public) exports that can be consumed by other modules</code>
<code class="kr">export</code> <code class="kr">const</code> <code class="nx">baker</code> <code class="o">=</code> <code class="p">{</code>
   <code class="nx">bake</code><code class="p">(</code><code class="nx">item</code><code class="p">)</code> <code class="p">{</code>
      <code class="nx">console</code><code class="p">.</code><code class="nx">log</code><code class="p">(</code> <code class="sb">`Woo! I just baked </code><code class="si">${</code><code class="nx">item</code><code class="si">}</code><code class="sb">`</code> <code class="p">);</code>
    <code class="p">}</code>
<code class="p">};</code>

<code class="c1">// Filename: cakeFactory.mjs</code>
<code class="c1">// =========================================</code>
<code class="c1">// specify dependencies</code>
<code class="kr">import</code> <code class="nx">baker</code> <code class="nx">from</code> <code class="s2">"/modules/staff.mjs"</code><code class="p">;</code>

<code class="kr">export</code> <code class="kr">const</code> <code class="nx">oven</code> <code class="o">=</code> <code class="p">{</code>
    <code class="nx">makeCupcake</code><code class="p">(</code><code class="nx">toppings</code><code class="p">)</code> <code class="p">{</code>
       <code class="nx">baker</code><code class="p">.</code><code class="nx">bake</code><code class="p">(</code> <code class="s2">"cupcake"</code><code class="p">,</code> <code class="nx">toppings</code> <code class="p">);</code>
    <code class="p">},</code>
    <code class="nx">makeMuffin</code><code class="p">(</code><code class="nx">mSize</code><code class="p">)</code> <code class="p">{</code>
        <code class="nx">baker</code><code class="p">.</code><code class="nx">bake</code><code class="p">(</code> <code class="s2">"muffin"</code><code class="p">,</code> <code class="nx">size</code> <code class="p">);</code>
    <code class="p">}</code>
<code class="p">}</code>

<code class="c1">// Filename: bakery.mjs</code>
<code class="c1">// =========================================</code>
<code class="kr">import</code> <code class="p">{</code><code class="nx">cakeFactory</code><code class="p">}</code> <code class="nx">from</code> <code class="s2">"/modules/cakeFactory.mjs"</code><code class="p">;</code>
<code class="nx">cakeFactory</code><code class="p">.</code><code class="nx">oven</code><code class="p">.</code><code class="nx">makeCupcake</code><code class="p">(</code> <code class="s2">"sprinkles"</code> <code class="p">);</code>
<code class="nx">cakeFactory</code><code class="p">.</code><code class="nx">oven</code><code class="p">.</code><code class="nx">makeMuffin</code><code class="p">(</code> <code class="s2">"large"</code> <code class="p">);</code></pre>

<p>Typically, a module file contains several related functions, constants, and variables. You can collectively export these at the end of the file using a single export statement followed by a comma-separated list of the module resources you want to export:</p>

<pre data-type="programlisting" data-code-language="javascript"><code class="c1">// Filename: staff.mjs</code>
<code class="c1">// =========================================</code>
<code class="kr">const</code> <code class="nx">baker</code> <code class="o">=</code> <code class="p">{</code>
  <code class="c1">//baker functions</code>
<code class="p">};</code>
<code class="kr">const</code> <code class="nx">pastryChef</code> <code class="o">=</code> <code class="p">{</code>
  <code class="c1">//pastry chef functions</code>
<code class="p">};</code>
<code class="kr">const</code> <code class="nx">assistant</code> <code class="o">=</code> <code class="p">{</code>
  <code class="c1">//assistant functions</code>
<code class="p">};</code>

<code class="kr">export</code> <code class="p">{</code> <code class="nx">baker</code><code class="p">,</code> <code class="nx">pastryChef</code><code class="p">,</code> <code class="nx">assistant</code> <code class="p">};</code></pre>

<p>Similarly, you can import only the functions you need:</p>

<pre data-type="programlisting" data-code-language="javascript"><code class="kr">import</code> <code class="p">{</code><code class="nx">baker</code><code class="p">,</code> <code class="nx">assistant</code><code class="p">}</code> <code class="nx">from</code> <code class="s2">"/modules/staff.mjs"</code><code class="p">;</code></pre>

<p>You can tell browsers to accept<a data-type="indexterm" data-primary="browsers" data-secondary="script tags for modules" id="idm45017717439424"/><a data-type="indexterm" data-primary="script tag" data-secondary="type attribute" id="idm45017717438688"/><a data-type="indexterm" data-primary="type attribute of script tag" id="idm45017717437776"/><a data-type="indexterm" data-primary="nomodule attribute of script tag" id="idm45017717437136"/> <code>&lt;script&gt;</code> tags that contain JavaScript modules by specifying the <code>type</code> attribute with a value of <code>module</code>:</p>

<pre data-type="programlisting" data-code-language="html"><code class="p">&lt;</code><code class="nt">script</code> <code class="na">type</code><code class="o">=</code><code class="s">"module"</code> <code class="na">src</code><code class="o">=</code><code class="s">"main.mjs"</code><code class="p">&gt;&lt;/</code><code class="nt">script</code><code class="p">&gt;</code>
<code class="p">&lt;</code><code class="nt">script</code> <code class="na">nomodule</code> <code class="na">src</code><code class="o">=</code><code class="s">"fallback.js"</code><code class="p">&gt;&lt;/</code><code class="nt">script</code><code class="p">&gt;</code></pre>

<p>The <code>nomodule</code> attribute tells<a data-type="indexterm" data-primary="script tag" data-secondary="nomodule attribute" id="idm45017714104672"/> modern browsers not to load a classic script as a module. This is useful for fallback scripts that don’t use the module syntax. It allows you to use the module syntax in your HTML and have it work in browsers that don’t support it. This is useful for several reasons, including performance. Modern browsers don’t require polyfilling for modern features, allowing you to serve the larger 
<span class="keep-together">transpiled</span> code to legacy browsers alone.<a data-type="indexterm" data-startref="ch05-imex" id="idm45017714102976"/><a data-type="indexterm" data-startref="ch05-imex2" id="idm45017714102272"/><a data-type="indexterm" data-startref="ch05-imex3" id="idm45017714101600"/><a data-type="indexterm" data-startref="ch05-imex4" id="idm45017714100928"/><a data-type="indexterm" data-startref="ch05-imex5" id="idm45017714100256"/></p>
</div></section>






<section data-type="sect1" data-pdf-bookmark="Module Objects"><div class="sect1" id="idm45017718427328">
<h1>Module Objects</h1>

<p>A cleaner approach to importing<a data-type="indexterm" data-primary="JavaScript" data-secondary="modern syntax and features" data-tertiary="module objects" id="idm45017718218416"/><a data-type="indexterm" data-primary="modules" data-secondary="module objects" id="idm45017718217200"/><a data-type="indexterm" data-primary="import declarations for modules" data-secondary="module objects" id="idm45017718216256"/><a data-type="indexterm" data-primary="export declarations for modules" data-secondary="module objects" id="idm45017718215344"/> and using module resources is to import the module as an object. This makes all the exports available as members of the object:</p>

<pre data-type="programlisting" data-code-language="javascript"><code class="c1">// Filename: cakeFactory.mjs</code>

<code class="kr">import</code> <code class="o">*</code> <code class="nx">as</code> <code class="nx">Staff</code> <code class="nx">from</code> <code class="s2">"/modules/staff.mjs"</code><code class="p">;</code>

<code class="kr">export</code> <code class="kr">const</code> <code class="nx">oven</code> <code class="o">=</code> <code class="p">{</code>
    <code class="nx">makeCupcake</code><code class="p">(</code><code class="nx">toppings</code><code class="p">)</code> <code class="p">{</code>
       <code class="nx">Staff</code><code class="p">.</code><code class="nx">baker</code><code class="p">.</code><code class="nx">bake</code><code class="p">(</code> <code class="s2">"cupcake"</code><code class="p">,</code> <code class="nx">toppings</code> <code class="p">);</code>
    <code class="p">},</code>
    <code class="nx">makePastry</code><code class="p">(</code><code class="nx">mSize</code><code class="p">)</code> <code class="p">{</code>
        <code class="nx">Staff</code><code class="p">.</code><code class="nx">pastryChef</code><code class="p">.</code><code class="nx">make</code><code class="p">(</code> <code class="s2">"pastry"</code><code class="p">,</code> <code class="nx">type</code> <code class="p">);</code>
    <code class="p">}</code>
<code class="p">}</code></pre>
</div></section>






<section data-type="sect1" data-pdf-bookmark="Modules Loaded from Remote Sources"><div class="sect1" id="idm45017713979264">
<h1>Modules Loaded from Remote Sources</h1>

<p>ES2015+ also supports remote modules<a data-type="indexterm" data-primary="JavaScript" data-secondary="modern syntax and features" data-tertiary="modules loaded from remote sources" id="idm45017714814288"/><a data-type="indexterm" data-primary="modules" data-secondary="loaded from remote sources" id="idm45017714813168"/><a data-type="indexterm" data-primary="import declarations for modules" data-secondary="modules from remote sources" id="idm45017714812256"/> (e.g., third-party libraries), making it simplistic to load modules from external locations. Here’s an example of pulling in the module we defined previously and utilizing it:</p>

<pre data-type="programlisting" data-code-language="javascript"><code class="kr">import</code> <code class="p">{</code><code class="nx">cakeFactory</code><code class="p">}</code> <code class="nx">from</code> <code class="s2">"https://example.com/modules/cakeFactory.mjs"</code><code class="p">;</code>
<code class="c1">// eagerly loaded static import</code>

<code class="nx">cakeFactory</code><code class="p">.</code><code class="nx">oven</code><code class="p">.</code><code class="nx">makeCupcake</code><code class="p">(</code> <code class="s2">"sprinkles"</code> <code class="p">);</code>
<code class="nx">cakeFactory</code><code class="p">.</code><code class="nx">oven</code><code class="p">.</code><code class="nx">makeMuffin</code><code class="p">(</code> <code class="s2">"large"</code> <code class="p">);</code></pre>
</div></section>






<section data-type="sect1" data-pdf-bookmark="Static Imports"><div class="sect1" id="idm45017714058928">
<h1>Static Imports</h1>

<p>The type of import just discussed is<a data-type="indexterm" data-primary="static imports" id="idm45017714047120"/><a data-type="indexterm" data-primary="import declarations for modules" data-secondary="static imports" id="idm45017714046240"/><a data-type="indexterm" data-primary="JavaScript" data-secondary="modern syntax and features" data-tertiary="static imports" id="idm45017714045328"/> called static import. The module graph needs to be downloaded and executed with static import before the main code can run. This can sometimes lead to the eager loading of a lot of code up front on the initial page load, which can be expensive and delay key features being available earlier:</p>

<pre data-type="programlisting" data-code-language="javascript"><code class="kr">import</code> <code class="p">{</code><code class="nx">cakeFactory</code><code class="p">}</code> <code class="nx">from</code> <code class="s2">"/modules/cakeFactory.mjs"</code><code class="p">;</code>
<code class="c1">// eagerly loaded static import</code>

<code class="nx">cakeFactory</code><code class="p">.</code><code class="nx">oven</code><code class="p">.</code><code class="nx">makeCupcake</code><code class="p">(</code> <code class="s2">"sprinkles"</code> <code class="p">);</code>
<code class="nx">cakeFactory</code><code class="p">.</code><code class="nx">oven</code><code class="p">.</code><code class="nx">makeMuffin</code><code class="p">(</code> <code class="s2">"large"</code> <code class="p">);</code></pre>
</div></section>






<section data-type="sect1" data-pdf-bookmark="Dynamic Imports"><div class="sect1" id="idm45017717231664">
<h1>Dynamic Imports</h1>

<p>Sometimes, you don’t want to load<a data-type="indexterm" data-primary="dynamic imports" id="ch05-dyn"/><a data-type="indexterm" data-primary="JavaScript" data-secondary="modern syntax and features" data-tertiary="dynamic imports" id="ch05-dyn2"/><a data-type="indexterm" data-primary="import declarations for modules" data-secondary="dynamic imports" id="ch05-dyn3"/><a data-type="indexterm" data-primary="lazy-loading of modules" data-see="dynamic imports" id="idm45017718509984"/> a module up-front but on demand when needed. Lazy-loading modules allows you to load what you need when needed—for example, when the user clicks a link or a button. This improves the initial load-time performance. <a href="https://oreil.ly/fqR6v">Dynamic import</a> was introduced to make this possible.</p>

<p>Dynamic import introduces a new function-like form of import.<a data-type="indexterm" data-primary="namespacing patterns" data-secondary="import(url)" id="idm45017717242256"/><a data-type="indexterm" data-primary="dynamic imports" data-secondary="import(url)" id="idm45017717241280"/><a data-type="indexterm" data-primary="import declarations for modules" data-secondary="dynamic imports" data-tertiary="import(url)" id="idm45017717240336"/> <code>import(url)</code> returns a promise for the module namespace object of the requested module, which is created after fetching, instantiating, and evaluating all of the module’s dependencies, as well as the module itself. Here is an example that shows dynamic imports for the 
<span class="keep-together"><code>cakeFactory</code></span> module:</p>

<pre data-type="programlisting" data-code-language="javascript"><code class="nx">form</code><code class="p">.</code><code class="nx">addEventListener</code><code class="p">(</code><code class="s2">"submit"</code><code class="p">,</code> <code class="nx">e</code> <code class="o">=&gt;</code> <code class="p">{</code>
  <code class="nx">e</code><code class="p">.</code><code class="nx">preventDefault</code><code class="p">();</code>
  <code class="kr">import</code><code class="p">(</code><code class="s2">"/modules/cakeFactory.js"</code><code class="p">)</code>
    <code class="p">.</code><code class="nx">then</code><code class="p">((</code><code class="nx">module</code><code class="p">)</code> <code class="o">=&gt;</code> <code class="p">{</code>
      <code class="c1">// Do something with the module.</code>
      <code class="nx">module</code><code class="p">.</code><code class="nx">oven</code><code class="p">.</code><code class="nx">makeCupcake</code><code class="p">(</code><code class="s2">"sprinkles"</code><code class="p">);</code>
      <code class="nx">module</code><code class="p">.</code><code class="nx">oven</code><code class="p">.</code><code class="nx">makeMuffin</code><code class="p">(</code><code class="s2">"large"</code><code class="p">);</code>
    <code class="p">});</code>
<code class="p">});</code></pre>

<p>Dynamic import can also be supported using the <code>await</code> keyword:<a data-type="indexterm" data-primary="dynamic imports" data-secondary="await keyword" id="idm45017717005344"/><a data-type="indexterm" data-primary="await" data-secondary="dynamic imports" id="idm45017717004464"/><a data-type="indexterm" data-primary="import declarations for modules" data-secondary="dynamic imports" data-tertiary="await keyword" id="idm45017717003520"/></p>

<pre data-type="programlisting" data-code-language="javascript"><code class="kd">let</code> <code class="nx">module</code> <code class="o">=</code> <code class="nx">await</code> <code class="kr">import</code><code class="p">(</code><code class="s2">"/modules/cakeFactory.js"</code><code class="p">);</code></pre>

<p>With dynamic import, the module graph is downloaded and evaluated only when the module is used.</p>

<p>Popular patterns like Import on Interaction and Import on Visibility can be easily implemented in vanilla JavaScript using the dynamic import feature.</p>








<section data-type="sect2" data-pdf-bookmark="Import on Interaction"><div class="sect2" id="idm45017716995824">
<h2>Import on Interaction</h2>

<p>Some libraries may be required only when<a data-type="indexterm" data-primary="dynamic imports" data-secondary="Import on Interaction" id="idm45017716717472"/><a data-type="indexterm" data-primary="import declarations for modules" data-secondary="dynamic imports" data-tertiary="Import on Interaction" id="idm45017716716496"/><a data-type="indexterm" data-primary="Import on Interaction pattern" id="idm45017716715312"/> a user starts interacting with a particular feature on the web page. Typical examples are chat widgets, complex dialog boxes, or video embeds. Libraries for these features need not be imported on page load but can be loaded when the user interacts with them (for example, by clicking on the component facade or placeholder). The action can trigger the dynamic import of respective libraries followed by the function call to activate the desired functionality.</p>

<p>For example, you can implement<a data-type="indexterm" data-primary="sort functions" data-secondary="dynamic import on interaction" id="idm45017716714160"/><a data-type="indexterm" data-primary="Lodash library" data-secondary="lodash.sortby module" id="idm45017716713216"/><a data-type="indexterm" data-primary="sort functions" data-secondary="lodash.sortby module" id="idm45017716741280"/> an onscreen sort function using the external <a href="https://oreil.ly/VUgnM"><code>lodash.sortby</code> module</a>, which is loaded dynamically:</p>

<pre data-type="programlisting" data-code-language="javascript"><code class="kr">const</code> <code class="nx">btn</code> <code class="o">=</code> <code class="nb">document</code><code class="p">.</code><code class="nx">querySelector</code><code class="p">(</code><code class="s1">'button'</code><code class="p">);</code>

<code class="nx">btn</code><code class="p">.</code><code class="nx">addEventListener</code><code class="p">(</code><code class="s1">'click'</code><code class="p">,</code> <code class="nx">e</code> <code class="o">=&gt;</code> <code class="p">{</code>
  <code class="nx">e</code><code class="p">.</code><code class="nx">preventDefault</code><code class="p">();</code>
  <code class="kr">import</code><code class="p">(</code><code class="s1">'lodash.sortby'</code><code class="p">)</code>
    <code class="p">.</code><code class="nx">then</code><code class="p">(</code><code class="nx">module</code> <code class="o">=&gt;</code> <code class="nx">module</code><code class="p">.</code><code class="k">default</code><code class="p">)</code>
    <code class="p">.</code><code class="nx">then</code><code class="p">(</code><code class="nx">sortInput</code><code class="p">())</code> <code class="c1">// use the imported dependency</code>
    <code class="p">.</code><code class="k">catch</code><code class="p">(</code><code class="nx">err</code> <code class="o">=&gt;</code> <code class="p">{</code> <code class="nx">console</code><code class="p">.</code><code class="nx">log</code><code class="p">(</code><code class="nx">err</code><code class="p">)</code> <code class="p">});</code>
<code class="p">});</code></pre>
</div></section>








<section data-type="sect2" data-pdf-bookmark="Import on Visibility"><div class="sect2" id="idm45017716708432">
<h2>Import on Visibility</h2>

<p>Many components are not visible<a data-type="indexterm" data-primary="dynamic imports" data-secondary="Import on Visibility" id="idm45017714683248"/><a data-type="indexterm" data-primary="import declarations for modules" data-secondary="dynamic imports" data-tertiary="Import on Visibility" id="idm45017714682304"/><a data-type="indexterm" data-primary="Import on Visibility pattern" id="idm45017714681120"/><a data-type="indexterm" data-primary="APIs" data-secondary="IntersectionObserver detecting component visibility" id="idm45017714680480"/><a data-type="indexterm" data-primary="IntersectionObserver API detecting component visibility" id="idm45017714679568"/><a data-type="indexterm" data-primary="visibility of components" data-secondary="dynamic import on visibility" id="idm45017714678864"/><a data-type="indexterm" data-primary="visibility of components" data-secondary="IntersectionObserver API detecting component visibility" id="idm45017714677984"/> on the initial page load but become visible as the user scrolls down. Since users may not always scroll down, modules corresponding to these components can be lazy-loaded when they become visible. The <a href="https://oreil.ly/wXwgi">IntersectionObserver API</a>  can detect when a component placeholder is about to become visible, and a dynamic import can load the corresponding modules.<a data-type="indexterm" data-startref="ch05-dyn" id="idm45017714676256"/><a data-type="indexterm" data-startref="ch05-dyn2" id="idm45017714675584"/><a data-type="indexterm" data-startref="ch05-dyn3" id="idm45017714674912"/></p>
</div></section>
</div></section>






<section data-type="sect1" data-pdf-bookmark="Modules for the Server"><div class="sect1" id="idm45017717246624">
<h1>Modules for the Server</h1>

<p><a href="https://oreil.ly/4Bh_O">Node</a> 15.3.0 onward<a data-type="indexterm" data-primary="Node.js (Node)" data-secondary="modules supported" id="idm45017714672160"/><a data-type="indexterm" data-primary="npm support of modules" id="idm45017714671152"/><a data-type="indexterm" data-primary="modules" data-secondary="Node.js and npm support for" id="idm45017714670480"/><a data-type="indexterm" data-primary="JavaScript" data-secondary="modern syntax and features" data-tertiary="modules supported by Node.js and npm" id="idm45017714669568"/><a data-type="indexterm" data-primary=".js extension for scripts" data-secondary="Node.js module support" data-primary-sortas="js" id="idm45017714668368"/><a data-type="indexterm" data-primary=".mjs extension for modules" data-secondary="Node.js module support" data-primary-sortas="mjs" id="idm45017714667136"/> supports JavaScript modules. They function without an experimental flag and are compatible with the rest of the npm package ecosystem. Node <a href="https://oreil.ly/q1Jzl">treats</a> files ending in <em>.mjs</em> and <em>.js</em> with a top-level type field value of module as JavaScript modules:</p>

<pre data-type="programlisting" data-code-language="javascript"><code class="p">{</code>
  <code class="s2">"name"</code><code class="o">:</code> <code class="s2">"js-modules"</code><code class="p">,</code>
  <code class="s2">"version"</code><code class="o">:</code> <code class="s2">"1.0.0"</code><code class="p">,</code>
  <code class="s2">"description"</code><code class="o">:</code> <code class="s2">"A package using JS Modules"</code><code class="p">,</code>
  <code class="s2">"main"</code><code class="o">:</code> <code class="s2">"index.js"</code><code class="p">,</code>
  <code class="s2">"type"</code><code class="o">:</code> <code class="s2">"module"</code><code class="p">,</code>
  <code class="s2">"author"</code><code class="o">:</code> <code class="s2">""</code><code class="p">,</code>
  <code class="s2">"license"</code><code class="o">:</code> <code class="s2">"MIT"</code>
<code class="p">}</code></pre>
</div></section>






<section data-type="sect1" data-pdf-bookmark="Advantages of Using Modules"><div class="sect1" id="idm45017716214128">
<h1>Advantages of Using Modules</h1>

<p>Modular programming and the use of modules offer several unique advantages. Some of these are as follows:<a data-type="indexterm" data-primary="JavaScript" data-secondary="modern syntax and features" data-tertiary="module advantages" id="idm45017716205248"/><a data-type="indexterm" data-primary="modules" data-secondary="advantages of using" id="idm45017716204096"/></p>
<dl>
<dt>Modules scripts are evaluated only once.</dt>
<dd>
<p>The browser evaluates module scripts<a data-type="indexterm" data-primary="browsers" data-secondary="module scripts evaluated only once" id="idm45017716201328"/> only once, while classic scripts get evaluated as often as they are added to the DOM. This means that with JS modules, if you have an extended hierarchy of dependent modules, the module that depends on the innermost module will be evaluated first. This is a good thing because it means that the innermost module will be evaluated first and will have access to the exports of the modules that depend on it.</p>
</dd>
<dt>Modules are auto-deferred.</dt>
<dd>
<p>Unlike other script files, where you have<a data-type="indexterm" data-primary="defer attribute" id="idm45017716199008"/><a data-type="indexterm" data-primary="import declarations for modules" data-secondary="defer attribute" id="idm45017716198304"/><a data-type="indexterm" data-primary="modules" data-secondary="defer attribute" id="idm45017716197392"/> to include the <code>defer</code> attribute if you don’t want to load them immediately, browsers automatically defer the loading of modules.</p>
</dd>
<dt>Modules are easy to maintain and reuse.</dt>
<dd>
<p>Modules promote decoupling pieces<a data-type="indexterm" data-primary="decoupling" data-secondary="applications in modern JavaScript" id="idm45017716194448"/><a data-type="indexterm" data-primary="modules" data-secondary="decoupling applications" id="idm45017716159472"/><a data-type="indexterm" data-primary="applications decoupled in JavaScript" id="idm45017716158528"/><a data-type="indexterm" data-primary="coupling" data-secondary="decoupling applications via modularity" id="idm45017716157840"/><a data-type="indexterm" data-primary="JavaScript" data-secondary="modern syntax and features" data-tertiary="modules for decoupling applications" id="idm45017716156880"/><a data-type="indexterm" data-primary="loose coupling" data-secondary="decoupling applications via modularity" id="idm45017716155632"/><a data-type="indexterm" data-primary="dependencies" data-secondary="decoupling applications via modularity" id="idm45017716154672"/> of code that can be maintained independently without significant changes to other modules. They also allow you to reuse the same code in multiple different functions.</p>
</dd>
<dt>Modules provide namespacing.</dt>
<dd>
<p>Modules create a private space<a data-type="indexterm" data-primary="namespacing patterns" data-secondary="modules providing namespacing" id="idm45017716152288"/> for related variables and constants so that they can be referenced via the module without polluting the global namespace.</p>
</dd>
<dt>Modules enable dead code elimination.</dt>
<dd>
<p>Before the introduction of modules,<a data-type="indexterm" data-primary="modules" data-secondary="unused modules eliminated" id="idm45017716149824"/><a data-type="indexterm" data-primary="JavaScript" data-secondary="modern syntax and features" data-tertiary="unused modules eliminated" id="idm45017716148784"/><a data-type="indexterm" data-primary="webpack" data-secondary="module dead code elimination" id="idm45017716147536"/><a data-type="indexterm" data-primary="Rollup" id="idm45017716146576"/> unused code files had to be manually removed from projects. With module imports, bundlers such as <a href="https://oreil.ly/37e9F">webpack</a> and <a href="https://oreil.ly/rUWiB">Rollup</a>  can automatically identify unused modules and eliminate them. Dead code may be removed before adding it to the bundle. This is known as tree-shaking.</p>
</dd>
</dl>

<p>All modern browsers support module<a data-type="indexterm" data-primary="browsers" data-secondary="import and export supported" id="idm45017716143904"/><a data-type="indexterm" data-primary="import declarations for modules" data-secondary="browser support for" id="idm45017716142912"/><a data-type="indexterm" data-primary="export declarations for modules" data-secondary="browser support for" id="idm45017716141952"/> <a href="https://oreil.ly/IauTK">import</a> and <a href="https://oreil.ly/NubAY">export</a>, and you can use them without any fallback.</p>
</div></section>






<section data-type="sect1" data-pdf-bookmark="Classes with Constructors, Getters, and Setters"><div class="sect1" id="idm45017716139200">
<h1>Classes with Constructors, Getters, and Setters</h1>

<p>In addition to modules, ES2015+ also allows<a data-type="indexterm" data-primary="JavaScript" data-secondary="modern syntax and features" data-tertiary="classes with constructors, getters, setters" id="ch05-clas"/><a data-type="indexterm" data-primary="classes" data-secondary="about" id="ch05-clas2"/><a data-type="indexterm" data-primary="constructors for classes" id="ch05-clas3"/><a data-type="indexterm" data-primary="getters for classes" id="ch05-clas4"/><a data-type="indexterm" data-primary="setters for classes" id="ch05-clas5"/><a data-type="indexterm" data-primary="class keyword" id="idm45017716131584"/><a data-type="indexterm" data-primary="new keyword" data-secondary="defining a class" id="idm45017716130912"/><a data-type="indexterm" data-primary="this keyword" data-secondary="defining a class" id="idm45017716129968"/> defining classes with constructors and some sense of privacy. JavaScript classes are defined with the <code>class</code> keyword. In the following example, we define a class <code>Cake</code> with a constructor and two getters<a data-type="indexterm" data-primary="constructor() method" data-secondary="defining a class" id="idm45017716127984"/> and 
<span class="keep-together">setters:</span></p>

<pre data-type="programlisting" data-code-language="javascript"><code class="kr">class</code> <code class="nx">Cake</code><code class="p">{</code>

    <code class="c1">// We can define the body of a class constructor</code>
    <code class="c1">// function by using the keyword constructor</code>
    <code class="c1">// with a list of class variables.</code>
    <code class="nx">constructor</code><code class="p">(</code> <code class="nx">name</code><code class="p">,</code> <code class="nx">toppings</code><code class="p">,</code> <code class="nx">price</code><code class="p">,</code> <code class="nx">cakeSize</code> <code class="p">){</code>
        <code class="k">this</code><code class="p">.</code><code class="nx">name</code> <code class="o">=</code> <code class="nx">name</code><code class="p">;</code>
        <code class="k">this</code><code class="p">.</code><code class="nx">cakeSize</code> <code class="o">=</code> <code class="nx">cakeSize</code><code class="p">;</code>
        <code class="k">this</code><code class="p">.</code><code class="nx">toppings</code> <code class="o">=</code> <code class="nx">toppings</code><code class="p">;</code>
        <code class="k">this</code><code class="p">.</code><code class="nx">price</code> <code class="o">=</code> <code class="nx">price</code><code class="p">;</code>
    <code class="p">}</code>

    <code class="c1">// As a part of ES2015+ efforts to decrease the unnecessary</code>
    <code class="c1">// use of function for everything, you will notice that it is</code>
    <code class="c1">// dropped for cases such as the following. Here an identifier</code>
    <code class="c1">// followed by an argument list and a body defines a new method.</code>

    <code class="nx">addTopping</code><code class="p">(</code> <code class="nx">topping</code> <code class="p">){</code>
        <code class="k">this</code><code class="p">.</code><code class="nx">toppings</code><code class="p">.</code><code class="nx">push</code><code class="p">(</code> <code class="nx">topping</code> <code class="p">);</code>
    <code class="p">}</code>

    <code class="c1">// Getters can be defined by declaring get before</code>
    <code class="c1">// an identifier/method name and a curly body.</code>
    <code class="nx">get</code> <code class="nx">allToppings</code><code class="p">(){</code>
        <code class="k">return</code> <code class="k">this</code><code class="p">.</code><code class="nx">toppings</code><code class="p">;</code>
    <code class="p">}</code>

    <code class="nx">get</code> <code class="nx">qualifiesForDiscount</code><code class="p">(){</code>
        <code class="k">return</code> <code class="k">this</code><code class="p">.</code><code class="nx">price</code> <code class="o">&gt;</code> <code class="mi">5</code><code class="p">;</code>
    <code class="p">}</code>

    <code class="c1">// Similar to getters, setters can be defined by using</code>
    <code class="c1">// the set keyword before an identifier</code>
    <code class="nx">set</code> <code class="nx">size</code><code class="p">(</code> <code class="nx">size</code> <code class="p">){</code>
        <code class="k">if</code> <code class="p">(</code> <code class="nx">size</code> <code class="o">&lt;</code> <code class="mi">0</code><code class="p">){</code>
            <code class="k">throw</code> <code class="k">new</code> <code class="nb">Error</code><code class="p">(</code> <code class="s2">"Cake must be a valid size: "</code> <code class="o">+</code>
                                    <code class="s2">"either small, medium or large"</code><code class="p">);</code>
        <code class="p">}</code>
       <code class="k">this</code><code class="p">.</code><code class="nx">cakeSize</code> <code class="o">=</code> <code class="nx">size</code><code class="p">;</code>
    <code class="p">}</code>
<code class="p">}</code>

<code class="c1">// Usage</code>
<code class="kd">let</code> <code class="nx">cake</code> <code class="o">=</code> <code class="k">new</code> <code class="nx">Cake</code><code class="p">(</code> <code class="s2">"chocolate"</code><code class="p">,</code> <code class="p">[</code><code class="s2">"chocolate chips"</code><code class="p">],</code> <code class="mi">5</code><code class="p">,</code> <code class="s2">"large"</code> <code class="p">);</code></pre>

<p>JavaScript classes are built on prototypes and are a special category of JavaScript functions that need to be defined before they can be referenced.</p>

<p>You can also use the  <code>extends</code> keyword to indicate that a class inherits from another class:<a data-type="indexterm" data-primary="classes" data-secondary="extends keyword" data-seealso="extends keyword for class inheritance" id="idm45017716121520"/><a data-type="indexterm" data-primary="extends keyword for class inheritance" id="idm45017716120336"/><a data-type="indexterm" data-primary="inheritance" data-secondary="extends keyword" id="idm45017716372064"/></p>

<pre data-type="programlisting" data-code-language="javascript"><code class="kr">class</code> <code class="nx">BirthdayCake</code> <code class="kr">extends</code> <code class="nx">Cake</code> <code class="p">{</code>
  <code class="nx">surprise</code><code class="p">()</code> <code class="p">{</code>
    <code class="nx">console</code><code class="p">.</code><code class="nx">log</code><code class="p">(</code><code class="sb">`Happy Birthday!`</code><code class="p">);</code>
  <code class="p">}</code>
<code class="p">}</code>

<code class="kd">let</code> <code class="nx">birthdayCake</code> <code class="o">=</code> <code class="k">new</code> <code class="nx">BirthdayCake</code><code class="p">(</code> <code class="s2">"chocolate"</code><code class="p">,</code> <code class="p">[</code><code class="s2">"chocolate chips"</code><code class="p">],</code> <code class="mi">5</code><code class="p">,</code>
  <code class="s2">"large"</code> <code class="p">);</code>
<code class="nx">birthdayCake</code><code class="p">.</code><code class="nx">surprise</code><code class="p">();</code></pre>

<p>All modern browsers and Node support<a data-type="indexterm" data-primary="browsers" data-secondary="classes supported" id="idm45017717165392"/><a data-type="indexterm" data-primary="Node.js (Node)" data-secondary="classes supported" id="idm45017717207280"/><a data-type="indexterm" data-primary="classes" data-secondary="ES6 new syntax supported" id="idm45017717183728"/> ES2015 classes. They are also compatible with the <a href="https://oreil.ly/9c9jm">new-style class syntax</a>  introduced in ES6.</p>

<p>The difference between JavaScript modules<a data-type="indexterm" data-primary="modules" data-secondary="classes versus" id="idm45017717181360"/><a data-type="indexterm" data-primary="classes" data-secondary="modules versus" id="idm45017717180384"/><a data-type="indexterm" data-primary="JavaScript" data-secondary="modern syntax and features" data-tertiary="classes versus modules" id="idm45017717179440"/> and classes is that modules are <a href="https://oreil.ly/IauTK">imported</a> and <a href="https://oreil.ly/NubAY">exported</a>, and classes are defined with the <code>class</code> keyword.</p>

<p>Reading through, one may also notice<a data-type="indexterm" data-primary="function keyword decreased use" id="idm45017717176016"/> the lack of the word “function” in the previous examples. This isn’t a typo: TC39 has made a conscious effort to decrease our abuse of the <code>function</code> keyword for everything, hoping it will help simplify how we write code.</p>

<p>JavaScript classes also support<a data-type="indexterm" data-primary="classes" data-secondary="super keyword for parent class constructor" id="idm45017717159376"/><a data-type="indexterm" data-primary="super keyword for parent class constructor" id="idm45017717158432"/> the <code>super</code> keyword, which <a href="https://oreil.ly/gYvxw">allows</a> you to call a parent class’ constructor. This is useful for implementing the self-inheritance pattern. You can use <code>super</code> to call the methods of the superclass:</p>

<pre data-type="programlisting" data-code-language="javascript"><code class="kr">class</code> <code class="nx">Cookie</code> <code class="p">{</code>
  <code class="nx">constructor</code><code class="p">(</code><code class="nx">flavor</code><code class="p">)</code> <code class="p">{</code>
    <code class="k">this</code><code class="p">.</code><code class="nx">flavor</code> <code class="o">=</code> <code class="nx">flavor</code><code class="p">;</code>
  <code class="p">}</code>

  <code class="nx">showTitle</code><code class="p">()</code> <code class="p">{</code>
    <code class="nx">console</code><code class="p">.</code><code class="nx">log</code><code class="p">(</code><code class="sb">`The flavor of this cookie is </code><code class="si">${</code><code class="k">this</code><code class="p">.</code><code class="nx">flavor</code><code class="si">}</code><code class="sb">.`</code><code class="p">);</code>
  <code class="p">}</code>
<code class="p">}</code>

<code class="kr">class</code> <code class="nx">FavoriteCookie</code> <code class="kr">extends</code> <code class="nx">Cookie</code> <code class="p">{</code>
  <code class="nx">showTitle</code><code class="p">()</code> <code class="p">{</code>
    <code class="kr">super</code><code class="p">.</code><code class="nx">showTitle</code><code class="p">();</code>
    <code class="nx">console</code><code class="p">.</code><code class="nx">log</code><code class="p">(</code><code class="sb">`</code><code class="si">${</code><code class="k">this</code><code class="p">.</code><code class="nx">flavor</code><code class="si">}</code><code class="sb"> is amazing.`</code><code class="p">);</code>
  <code class="p">}</code>
<code class="p">}</code>

<code class="kd">let</code> <code class="nx">myCookie</code> <code class="o">=</code> <code class="k">new</code> <code class="nx">FavoriteCookie</code><code class="p">(</code><code class="s1">'chocolate'</code><code class="p">);</code>
<code class="nx">myCookie</code><code class="p">.</code><code class="nx">showTitle</code><code class="p">();</code>
<code class="c1">// The flavor of this cookie is chocolate.</code>
<code class="c1">// chocolate is amazing.</code></pre>

<p>Modern JavaScript supports public<a data-type="indexterm" data-primary="classes" data-secondary="public versus private" id="idm45017716909488"/><a data-type="indexterm" data-primary="public classes versus private" id="idm45017717309088"/><a data-type="indexterm" data-primary="private classes versus public" id="idm45017717308480"/><a data-type="indexterm" data-primary="# (hash) prefix for private class fields" id="idm45017717307840"/><a data-type="indexterm" data-primary="hash (#) prefix for private class fields" id="idm45017717307200"/> and private class members. Public class members are accessible to other classes. Private class members are accessible only to the class in which they are defined. Class fields are, by default, public. <a href="https://oreil.ly/SXsES">Private class fields</a> can be created by using the <code>#</code> (hash) prefix:</p>

<pre data-type="programlisting" data-code-language="javascript"><code class="kr">class</code> <code class="nx">CookieWithPrivateField</code> <code class="p">{</code>
  <code class="err">#</code><code class="nx">privateField</code><code class="p">;</code>
<code class="p">}</code>

<code class="kr">class</code> <code class="nx">CookieWithPrivateMethod</code> <code class="p">{</code>
  <code class="err">#</code><code class="nx">privateMethod</code><code class="p">()</code> <code class="p">{</code>
    <code class="k">return</code> <code class="s1">'delicious cookies'</code><code class="p">;</code>
  <code class="p">}</code>
<code class="p">}</code></pre>

<p>JavaScript classes support static methods<a data-type="indexterm" data-primary="classes" data-secondary="static keyword" id="idm45017717273008"/><a data-type="indexterm" data-primary="static keyword for classes" id="idm45017717272160"/> and properties using the <code>static</code> keyword. Static members can be referenced without instantiating the class. You can use static methods to create utility functions and static properties for holding configuration or cached data:<a data-type="indexterm" data-startref="ch05-clas" id="idm45017717271040"/><a data-type="indexterm" data-startref="ch05-clas2" id="idm45017717270336"/><a data-type="indexterm" data-startref="ch05-clas3" id="idm45017717269664"/><a data-type="indexterm" data-startref="ch05-clas4" id="idm45017717279856"/><a data-type="indexterm" data-startref="ch05-clas5" id="idm45017717279184"/></p>

<pre data-type="programlisting" data-code-language="javascript"><code class="kr">class</code> <code class="nx">Cookie</code> <code class="p">{</code>
  <code class="nx">constructor</code><code class="p">(</code><code class="nx">flavor</code><code class="p">)</code> <code class="p">{</code>
    <code class="k">this</code><code class="p">.</code><code class="nx">flavor</code> <code class="o">=</code> <code class="nx">flavor</code><code class="p">;</code>
  <code class="p">}</code>
  <code class="kr">static</code> <code class="nx">brandName</code> <code class="o">=</code> <code class="s2">"Best Bakes"</code><code class="p">;</code>
  <code class="kr">static</code> <code class="nx">discountPercent</code> <code class="o">=</code> <code class="mi">5</code><code class="p">;</code>
<code class="p">}</code>
<code class="nx">console</code><code class="p">.</code><code class="nx">log</code><code class="p">(</code><code class="nx">Cookie</code><code class="p">.</code><code class="nx">brandName</code><code class="p">);</code> <code class="c1">//output = "Best Bakes"</code></pre>
</div></section>






<section data-type="sect1" data-pdf-bookmark="Classes in JavaScript Frameworks"><div class="sect1" id="idm45017716138576">
<h1>Classes in JavaScript Frameworks</h1>

<p>Over the last few years, some modern<a data-type="indexterm" data-primary="JavaScript" data-secondary="modern syntax and features" data-tertiary="classes in JavaScript frameworks" id="idm45017717715040"/><a data-type="indexterm" data-primary="classes" data-secondary="JavaScript frameworks and libraries" id="idm45017717713920"/><a data-type="indexterm" data-primary="React Hooks (Hooks)" data-secondary="alternative to classes" id="idm45017717713008"/><a data-type="indexterm" data-primary="Hooks (React Hooks)" data-secondary="alternative to classes" id="idm45017717712064"/><a data-type="indexterm" data-primary="classes" data-secondary="React class components prior to Hooks" data-tertiary="Hooks instead" id="idm45017717711120"/> JavaScript libraries and frameworks—notably React—have introduced alternatives to classes. React Hooks make it possible to use React state and lifecycle methods without an ES2015 class component. Before Hooks, React developers had to refactor functional components as class components so that they handle state and lifecycle methods. This was often tricky and required an understanding of how ES2015 classes work. React Hooks are functions that allow you to manage a component’s state and lifecycle methods without relying on classes.</p>

<p>Note that several other approaches to building for the web, such as the <a href="https://oreil.ly/ndfeb">Web Components</a> community, continue to use classes as a base for 
<span class="keep-together">component</span> development.</p>
</div></section>






<section data-type="sect1" data-pdf-bookmark="Summary"><div class="sect1" id="idm45017717707792">
<h1>Summary</h1>

<p>This chapter introduced JavaScript language syntax for modules and classes. These features allow us to write code while adhering to object-oriented design and modular programming principles. We will also use these concepts to categorize and describe different design patterns. The next chapter talks about the different categories of design patterns.</p>
</div></section>






<section data-type="sect1" data-pdf-bookmark="Related Reading"><div class="sect1" id="idm45017717705072">
<h1>Related Reading</h1>

<ul>
<li>
<p><a href="https://oreil.ly/IEuAq">JavaScript modules on v8</a></p>
</li>
<li>
<p><a href="https://oreil.ly/OAL9O">JavaScript modules on MDN</a></p>
</li>
</ul>
</div></section>
</div></section></div></body></html>