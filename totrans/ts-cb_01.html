<html><head></head><body><section data-pdf-bookmark="Preface" data-type="preface" epub:type="preface"><div class="preface" id="id269">&#13;
<h1>Preface</h1>&#13;
&#13;
&#13;
<p>The only way you can read this sentence is by opening this book, either physically or digitally. This tells me you are interested in TypeScript, one of the most popular programming languages in recent years. According to the <a href="https://2022.stateofjs.com">2022 State of JavaScript survey</a>, almost 70% of all participants actively use TypeScript. The <a href="https://survey.stackoverflow.co/2022">2022 StackOverflow survey</a> lists TypeScript as one of the top five most popular languages and the fourth highest in user satisfaction. At the beginning of 2023, TypeScript counts <a href="https://oreil.ly/ZHWn8">more than 40 million weekly downloads on NPM</a>.</p>&#13;
&#13;
<p>Without a doubt: TypeScript is a phenomenon!</p>&#13;
&#13;
<p>Despite its popularity, TypeScript still gives a lot of developers a hard time. <em>Fighting the type-checker</em> is one phrase you hear often; another one is <em>throwing a couple of <code>any</code>’s in there so it shuts up</em>. Some people feel slowed down, writing just to please the compiler when they know their code <em>has</em> to work. However, TypeScript’s sole purpose is to make JavaScript developers more productive and efficient. Does the tool ultimately fail to meet its goals, or do we as developers expect something different from the tool than it is designed to deliver?</p>&#13;
&#13;
<p>The answer is somewhere in the middle, and this is where <em>TypeScript Cookbook</em> comes in. In this book, you will find more than one hundred recipes that deal with everything from complex project setups to advanced typing techniques. You will learn about the intricacies and inner workings of the type system, as well as the trade-offs and exceptions it has to make to not interfere with its foundation: JavaScript. You also will learn methodologies, design patterns, and development techniques to create better and more robust TypeScript code. In the end, you will understand not only <em>how</em> to do something but also <em>why</em>.</p>&#13;
&#13;
<p>My goal is to give you a guide that takes you from novice to expert, as well as a quick reference you can use well after you’ve read the book. With TypeScript’s four releases per year, it’s impossible to list all the most up-to-date features in a single book. This is why we focus on long-lasting aspects of the programming language, to prepare you for all the changes to come. Welcome to the TypeScript cookbook.</p>&#13;
&#13;
&#13;
&#13;
&#13;
&#13;
&#13;
<section data-pdf-bookmark="Who This Book Is For" data-type="sect1"><div class="sect1" id="id273">&#13;
<h1>Who This Book Is For</h1>&#13;
&#13;
<p>This book is for developers, engineers, and architects who know enough JavaScript to be dangerous and have gotten their feet wet in TypeScript. You understand the fundamental concepts of types and how to apply them, and you understand the immediate benefits of static types. You are at a point where things get interesting: you need a deeper knowledge of the type system, and you need to actively work with TypeScript not only to ensure a robust and scaleable application but also to guarantee collaboration between you and your colleagues.</p>&#13;
&#13;
<p>You want to learn about how something behaves in TypeScript, as well as understand the reasoning behind its behavior. This is what you get in <em>TypeScript Cookbook</em>. You will learn project setup, quirks, and behavior of the type system; complex types and their use cases; and working with frameworks and applying type development methodology. This book is designed to take you from novice to apprentice, and eventually to expert. If you need a guide to actively learn more of TypeScript’s sophisticated features, but also a reference you can rely on throughout your career, this book will do right by you.</p>&#13;
</div></section>&#13;
&#13;
&#13;
&#13;
&#13;
&#13;
&#13;
<section data-pdf-bookmark="What’s in This Book?" data-type="sect1"><div class="sect1" id="id274">&#13;
<h1>What’s in This Book?</h1>&#13;
&#13;
<p>A predominant goal of writing <em>TypeScript Cookbook</em> was to focus on solutions for everyday problems. TypeScript is a remarkable programming language, and the features of the type system are so powerful that we reach a point where people challenge themselves with advanced <a href="https://tsch.js.org">TypeScript puzzles</a>. While these brain teasers are entertaining, they often lack real-world context and thus are not part of this book.</p>&#13;
&#13;
<p>I want to make sure that the content presented is something you will encounter in your day-to-day life as a TypeScript developer, with problems that stem from real-world situations and solutions that are holistic. I will teach you techniques and methodologies you can use in multiple scenarios, not just in a single recipe. Throughout the book you will find references to earlier recipes, showing you how a specific techique can be applied in a new context.</p>&#13;
&#13;
<p>The examples are either ripped directly from the source code of real projects or stripped down to essentials to illustrate a concept without requiring too much domain knowledge. While some examples are very specific, you will also see a lot of <code>Person</code> objects that have the name “Stefan” (and you will be able to see me age throughout the book).</p>&#13;
&#13;
<p>The book will focus almost exclusively on the features TypeScript adds on top of JavaScript; thus, to understand the example fully, you need to understand a reasonable amount of JavaScript. I don’t expect you to be a JavaScript guru but being able to read basic JavaScript code is a must. Since JavaScript and TypeScript have this strong &#13;
<span class="keep-together">relationship,</span> some chapters in the book discuss JavaScript features and their behavior, but always through the lens of TypeScript.</p>&#13;
&#13;
<p>A cookbook is designed to give you a quick solution to a problem: a recipe. In this book, every recipe ends with a <em>discussion</em>, giving you broader context and meaning for the solution. Depending on the style of the author, the focus of O’Reilly’s &#13;
<span class="keep-together">cookbooks</span> lies either on the solution or on the discussion. <em>TypeScript Cookbook</em> is unmistakably a <em>discussion</em> book. In my almost 20-year career as a person who writes software, I’ve never encountered situations in which one solution fits all problems. That’s why I want to show you in detail how we came to our conclusions, their meaning, and the trade-offs. Ultimately, this book should be a guide for discussions like that. Why make an educated guess when you have proper arguments for your &#13;
<span class="keep-together">decisions?</span></p>&#13;
</div></section>&#13;
&#13;
&#13;
&#13;
&#13;
&#13;
&#13;
<section data-pdf-bookmark="Organization of This Book" data-type="sect1"><div class="sect1" id="id275">&#13;
<h1>Organization of This Book</h1>&#13;
&#13;
<p><em>TypeScript Cookbook</em> takes you through the language from start to finish. We start with project setup, talk about basic types and the inner workings of the type system, and ultimately go into advanced territory like conditional types and helper types. We continue with chapters that explore very specific features, like the duality of classes and support for React, and end with learnings on how to best approach type &#13;
<span class="keep-together">development.</span></p>&#13;
&#13;
<p>While there is a thread and buildup, each chapter and each recipe can be consumed on its own. Each lesson has been designed to point out the connection to previous (or next!) recipes in the book, but each chapter is ultimately self-contained. Feel free to consume it from start to finish, or use the “choose your own adventure” approach with its many references.  Here is a brief overview of the content.</p>&#13;
&#13;
<p>TypeScript wants to work with all flavors of JavaScript, and there are a lot of different flavors. In <a data-type="xref" data-xrefstyle="chap-num-title" href="ch01.html#ch01">Chapter 1, “Project Setup”</a> you will learn about configuration possibilities for different language runtimes, module systems, and target platforms.</p>&#13;
&#13;
<p><a data-type="xref" data-xrefstyle="chap-num-title" href="ch02.html#ch02">Chapter 2, “Basic Types”</a> guides you through the type hierarchy, tells you the difference between <code>any</code> and <code>unknown</code>, teaches you which code contributes to which namespace, and answers the age-old question of whether to choose a type alias or an interface to describe your object types.</p>&#13;
&#13;
<p>One of the longer chapters in the book is <a data-type="xref" data-xrefstyle="chap-num-title" href="ch03.html#ch03">Chapter 3, “The Type System”</a>. Here you will learn everything about union and intersection types, how to define discriminated union types, how to use the <em>assert never</em> and <em>optional never</em> techniques, and how to narrow and widen types based on your use case. After this chapter, you will understand why TypeScript has type assertions and no type casts, why enums are generally frowned upon, and how you find the nominal bits in a structural type system.</p>&#13;
&#13;
<p>TypeScript has a generic type system, which we will see in detail in <a data-type="xref" data-xrefstyle="chap-num-title" href="ch04.html#ch04">Chapter 4, “Generics”</a>. Generics not only make your code more reusable but are also the entrance to the more advanced features of TypeScript. This chapter marks the point where you ascend from TypeScript basics to the more sophisticated areas of the type system, a fitting end to the first part.</p>&#13;
&#13;
<p><a data-type="xref" data-xrefstyle="chap-num-title" href="ch05.html#ch05">Chapter 5, “Conditional Types”</a> explains why the TypeScript type system is also its own metaprogramming language. With the possibility of choosing types based on certain conditions, people invented the most outstanding things, like a full-fledged SQL parser or a dictionary in the type system. We use conditional types as a tool to make a static type system more flexible for dynamic situations.</p>&#13;
&#13;
<p>In <a data-type="xref" data-xrefstyle="chap-num-title" href="ch06.html#ch06">Chapter 6, “String Template Literal Types”</a> you see how TypeScript integrates a string parser in the type system. Extracting names from format strings, defining a dynamic event system based on string input, and creating identifiers dynamically: nothing seems impossible!</p>&#13;
&#13;
<p>You get a little taste of <em>functional programming</em> in <a data-type="xref" data-xrefstyle="chap-num-title" href="ch07.html#ch07">Chapter 7, “Variadic Tuple Types”</a>. The <em>tuple</em> has a special meaning in TypeScript and helps describe function parameters and object-like arrays, and it creates flexible helper functions.</p>&#13;
&#13;
<p>Even more metaprogramming happens in <a data-type="xref" data-xrefstyle="chap-num-title" href="ch08.html#ch08">Chapter 8, “Helper Types”</a>. TypeScript has a few built-in helper types that make it easier for you to derive types from other types. In this chapter, you learn not only how to use them but also how to create your own. This chapter also marks the next breakpoint in <em>TypeScript Cookbook</em> because at this point you have learned all the basic ingredients of the language and type system, which you then can apply in the next part.</p>&#13;
&#13;
<p>After spending eight chapters understanding all the nitty-gritty of the type system, it’s time to integrate your knowledge with type definitions done by others in <a data-type="xref" data-xrefstyle="chap-num-title" href="ch09.html#ch09">Chapter 9, “The Standard Library &#13;
<span class="keep-together">and External Type Definitions</span>”</a>. In this chapter you will see situations that work differently than expected, and see how you can bend the built-in type definitions to your will.</p>&#13;
&#13;
<p>In <a data-type="xref" data-xrefstyle="chap-num-title" href="ch10.html#ch10">Chapter 10, “TypeScript and React”</a> you will learn how one of the most popular JavaScript frameworks is integrated in TypeScript, features that make the syntax extension <em>JSX</em> possible, and how this fits into the overall concept of TypeScript. You will also learn how to write robust types for components and hooks, and how to deal with a type definition file that has been attached to the actual library after the fact.</p>&#13;
&#13;
<p>The next chapter is about classes, a staple of object-oriented programming that was available in TypeScript long before their counterpart existed in JavaScript. This leads to an interesting duality of features discussed in detail in <a data-type="xref" data-xrefstyle="chap-num-title" href="ch11.html#ch11">Chapter 11, “Classes”</a>.</p>&#13;
&#13;
<p>The book ends with <a data-type="xref" data-xrefstyle="chap-num-title" href="ch12.html#ch12">Chapter 12, “Type Development Strategies”</a>. Here I focus on giving you the skills to create advanced types on your own, to make the right decisions on how to move your project along, and to deal with libraries that validate types for you. You also will learn about special workarounds and hidden features, and discuss how to name generics or if advanced types are a bit too much. This chapter is particularly fun because after a long journey from novice to apprentice, you will reach expert &#13;
<span class="keep-together">status.</span></p>&#13;
&#13;
<p>All examples are available as a TypeScript playground or CodeSandbox project at the <a href="https://typescript-cookbook.com">book’s website</a>. The playgrounds in particular offer an intermediate state, so you can fiddle around on your own and play with the behaviors. I always say that you can’t learn a programming language just by reading about it; you need to actively code and get your hands dirty to understand how everything plays together. See this as an invitation to have fun with programming types.</p>&#13;
</div></section>&#13;
&#13;
&#13;
&#13;
&#13;
&#13;
&#13;
<section data-pdf-bookmark="Conventions Used in This Book" data-type="sect1"><div class="sect1" id="id276">&#13;
<h1>Conventions Used in This Book</h1>&#13;
&#13;
&#13;
&#13;
&#13;
&#13;
&#13;
&#13;
&#13;
<section data-pdf-bookmark="Programming Conventions" data-type="sect2"><div class="sect2" id="id386">&#13;
<h2>Programming Conventions</h2>&#13;
&#13;
<p>TypeScript allows for many programming styles and formatting options. To avoid <em>bike-shedding</em>, I chose to autoformat all examples using <a href="https://prettier.io">Prettier</a>. If you are used to a different formatting style—maybe you prefer commas instead of semicolons after each property declaration of your types—you are more than welcome to continue with your preference.</p>&#13;
&#13;
<p><em>TypeScript Cookbook</em> has a lot of examples and deals with a lot of functions. There are many ways to write functions, and I’ve chosen to write mostly <em>function declarations</em> instead of <em>function expressions</em>, except where it was crucial to explain the differences between both notations. On all other occasions, it’s mostly a matter of taste rather than for technical reasons.</p>&#13;
&#13;
<p>All examples have been checked against TypeScript 5.0, the most recent release at the time of this book’s writing. TypeScript changes constantly and so do the rules. This book ensures that we mostly focus on things that are long-lasting and can be trusted across versions. Where I expect further development or fundamental change, I provide respective warnings and notes.</p>&#13;
</div></section>&#13;
&#13;
&#13;
&#13;
&#13;
&#13;
&#13;
&#13;
&#13;
<section class="less_space pagebreak-before" data-pdf-bookmark="Typesetting Conventions" data-type="sect2"><div class="sect2" id="id387">&#13;
<h2>Typesetting Conventions</h2>&#13;
&#13;
<p>The following typographical conventions are used in this book:</p>&#13;
<dl>&#13;
<dt><em>Italic</em></dt>&#13;
<dd>&#13;
<p>Indicates new terms, URLs, email addresses, filenames, and file extensions.</p>&#13;
</dd>&#13;
<dt><code>Constant width</code></dt>&#13;
<dd>&#13;
<p>Used for program listings, as well as within paragraphs to refer to program elements such as variable or function names, databases, data types, environment variables, statements, and keywords.</p>&#13;
</dd>&#13;
<dt><em><code>Constant width italic</code></em></dt>&#13;
<dd>&#13;
<p>Shows text that should be replaced with user-supplied values or by values determined by context.</p>&#13;
</dd>&#13;
</dl>&#13;
<div data-type="tip"><h6>Tip</h6>&#13;
<p>This element signifies a tip or suggestion.</p>&#13;
</div>&#13;
<div data-type="note" epub:type="note"><h6>Note</h6>&#13;
<p>This element signifies a general note.</p>&#13;
</div>&#13;
<div data-type="warning" epub:type="warning"><h6>Warning</h6>&#13;
<p>This element indicates a warning or caution.</p>&#13;
</div>&#13;
</div></section>&#13;
</div></section>&#13;
&#13;
&#13;
&#13;
&#13;
&#13;
&#13;
<section data-pdf-bookmark="Using Code Examples" data-type="sect1"><div class="sect1" id="id277">&#13;
<h1>Using Code Examples</h1>&#13;
<!--PROD: Please reach out to author to find out if they will be uploading code examples to oreilly.com or their own site (e.g., GitHub). If there is no code download, delete this whole section. If there is, when you email digidist with the link, let them know what you filled in for title_title (should be as close to book title as possible, i.e., learning_python_2e). This info will determine where digidist loads the files.-->&#13;
&#13;
<p>Supplemental material (code examples, exercises, etc.) is available for download at <a class="bare" href="https://typescript-cookbook.com"><em class="hyperlink">https://typescript-cookbook.com</em></a>.</p>&#13;
&#13;
<p>If you have a technical question or a problem using the code examples, please send email to <a class="email" href="mailto:support@oreilly.com"><em>support@oreilly.com</em></a>.</p>&#13;
&#13;
<p>This book is here to help you get your job done. In general, if example code is offered with this book, you may use it in your programs and documentation. You do not need to contact us for permission unless you’re reproducing a significant portion of the code. For example, writing a program that uses several chunks of code from this book does not require permission. Selling or distributing examples from O’Reilly books does require permission. Answering a question by citing this book and quoting example code does not require permission. Incorporating a significant amount of example code from this book into your product’s documentation does require &#13;
<span class="keep-together">permission.</span></p>&#13;
&#13;
<p>We appreciate, but do not require, attribution. An attribution usually includes the title, author, publisher, and ISBN. For example: “<em>TypeScript Cookbook</em> by Stefan Baumgartner (O’Reilly). Copyright 2023 Stefan Baumgartner, 978-1-098-13665-9.”</p>&#13;
&#13;
<p>If you feel your use of code examples falls outside fair use or the permission given above, feel free to contact us at <a class="email" href="mailto:permissions@oreilly.com"><em>permissions@oreilly.com</em></a>.</p>&#13;
</div></section>&#13;
&#13;
&#13;
&#13;
&#13;
&#13;
&#13;
<section data-pdf-bookmark="O’Reilly Online Learning" data-type="sect1"><div class="sect1" id="id278">&#13;
<h1>O’Reilly Online Learning</h1>&#13;
<div class="ormenabled" data-type="note" epub:type="note"><h6>Note</h6>&#13;
<p>For more than 40 years, <a class="orm:hideurl" href="https://oreilly.com"><em class="hyperlink">O’Reilly Media</em></a> has provided technology and business training, knowledge, and insight to help companies succeed.</p>&#13;
</div>&#13;
&#13;
<p>Our unique network of experts and innovators share their knowledge and expertise through books, articles, and our online learning platform. O’Reilly’s online learning platform gives you on-demand access to live training courses, in-depth learning paths, interactive coding environments, and a vast collection of text and video from O’Reilly and 200+ other publishers. For more information, visit <a class="orm:hideurl" href="https://oreilly.com"><em>https://oreilly.com</em></a>.</p>&#13;
</div></section>&#13;
&#13;
&#13;
&#13;
&#13;
&#13;
&#13;
<section data-pdf-bookmark="How to Contact Us" data-type="sect1"><div class="sect1" id="id279">&#13;
<h1>How to Contact Us</h1>&#13;
&#13;
<p>Please address comments and questions concerning this book to the publisher:</p>&#13;
<ul class="simplelist">&#13;
  <li>O’Reilly Media, Inc.</li>&#13;
  <li>1005 Gravenstein Highway North</li>&#13;
  <li>Sebastopol, CA 95472</li>&#13;
  <li>800-998-9938 (in the United States or Canada)</li>&#13;
  <li>707-829-0515 (international or local)</li>&#13;
  <li>707-829-0104 (fax)</li>&#13;
  <li><a class="email" href="mailto:support@oreilly.com"><em>support@oreilly.com</em></a></li>&#13;
  <li><a href="https://www.oreilly.com/about/contact.html"><em>https://www.oreilly.com/about/contact.html</em></a></li>&#13;
</ul>&#13;
&#13;
<p>We have a web page for this book, where we list errata, examples, and any additional information. You can access this page at <a class="bare" href="https://oreil.ly/typescript-cookbook"><em class="hyperlink">https://oreil.ly/typescript-cookbook</em></a>.</p>&#13;
<!--Don't forget to update the link above.-->&#13;
&#13;
<p>For news and information about our books and courses, visit <a class="bare" href="https://oreilly.com"><em class="hyperlink">https://oreilly.com</em></a>.</p>&#13;
&#13;
<p>Find us on LinkedIn: <a class="bare" href="https://linkedin.com/company/oreilly-media"><em class="hyperlink">https://linkedin.com/company/oreilly-media</em></a>.</p>&#13;
&#13;
<p class="pagebreak-before">Follow us on Twitter: <a class="bare" href="https://twitter.com/oreillymedia"><em class="hyperlink">https://twitter.com/oreillymedia</em></a>.</p>&#13;
&#13;
<p>Watch us on YouTube: <a class="bare" href="https://youtube.com/oreillymedia"><em class="hyperlink">https://youtube.com/oreillymedia</em></a>.</p>&#13;
</div></section>&#13;
&#13;
&#13;
&#13;
&#13;
&#13;
&#13;
<section data-pdf-bookmark="Acknowledgments" data-type="sect1"><div class="sect1" id="id280">&#13;
<h1>Acknowledgments</h1>&#13;
&#13;
<p>Alexander Rosemann, Sebastian Gierlinger, Dominik Angerer, and Georg Kothmeier are the first people I go to if I have something new cooking. Our regular meetings and interactions not only are entertaining but also provide me with the necessary feedback to evaluate all my choices. They are the first people that heard about the book, and also the first ones that gave feedback.</p>&#13;
&#13;
<p>Interacting with Matt Pocock, Joe Previte, Dan Vanderkam, Nathan Shively-Sanders, and Josh Goldberg on social media brought plenty of new ideas to the table. Their approach to TypeScript might differ from mine, but they ultimately broadened my horizon and made sure that I didn’t end up too opinionated.</p>&#13;
&#13;
<p>Phil Nash, Simona Cotin, and Vanessa Böhner have not only been early reviewers of the final manuscript but also long-time companions and friends who are always here to sanity-check my ideas. Addy Osmani has been an inspiration throughout my entire career, and I’m very proud that he agreed to open my new book.</p>&#13;
&#13;
<p>Lena Matscheko, Alexandra Rapeanu, and Mike Kuss did not hesitate to bombard me with technical challenges and questions based on their real-world experiences. Where I lacked a good example, they flooded me with excellent source material to distill.</p>&#13;
&#13;
<p>I would lose track of all of TypeScript’s developments if it wasn’t for Peter Kröner, who constantly knocks on my door when there’s a new TypeScript version coming out. Our podcast episodes together on TypeScript releases are legendary, and also increasingly not about TypeScript.</p>&#13;
&#13;
<p>My tech editors Mark Halpin, Fabian Friedl, and Bernhard Mayr provided the best technical feedback I could wish for. They challenged every assumption, checked on every code sample, and made sure all my reasoning made sense and that I didn’t skip a beat. Their love of detail and their ability to discuss on such a high level ensured that this book is not just another collection of hot takes but a guide and reference that stands on a solid foundation.</p>&#13;
&#13;
<p>This book would not exist if not for Amanda Quinn. After writing <em>TypeScript in 50 Lessons</em> in 2020, I thought I’d said everything I needed to say about TypeScript. It was Amanda who pursued me to give the idea of a cookbook a go, to see which ideas I would find that wouldn’t make the cut for my first book. After three hours I had a complete proposal and table of contents with more than one hundred entries. Amanda was right: I had so much more to say, and I’m eternally grateful for her &#13;
<span class="keep-together">support</span> and her guidance.</p>&#13;
&#13;
<p>Where Amanda helped in the early phases, Shira Evans made sure that the project made good progress and didn’t derail. Her feedback was invaluable, and her pragmatic and hands-on approach made it a joy to work together.</p>&#13;
&#13;
<p>Elizabeth Faerm and Theresa Jones took care of the production. Their eye for detail is outstanding, and they made sure that the production phase is exciting and actually a lot of fun! The final result is a beautiful experience I can’t get enough of.</p>&#13;
&#13;
<p>During writing I had great assistance from Porcupine Tree, Beck, Nobuo Uematsu, Camel, The Beta Band, and many others.</p>&#13;
&#13;
<p>The biggest contribution to this book comes from my family. Doris, Clemens, and Aaron are everything I’ve ever wished for, and without their endless love and support, I wouldn’t be able to pursue my ambitions. Thank you for everything.</p>&#13;
</div></section>&#13;
</div></section></body></html>