["```\n$ docker container run -d spkane/train-os \\\n  stress -v --cpu 2 --io 1 --vm 2 --vm-bytes 128M --timeout 360s\n\ndcbb…8e86f1dc0a91e7675d3c93895cb6a6d83371e25b7f0bd62803ed8e86\n```", "```\n$ ls /sys/fs/cgroup/docker/dcbb…8e86\n\ncgroup.controllers        cpuset.cpus.partition     memory.high\ncgroup.events             cpuset.mems               memory.low\ncgroup.freeze             cpuset.mems.effective     memory.max\ncgroup.max.depth          hugetlb.2MB.current       memory.min\ncgroup.max.descendants    hugetlb.2MB.events        memory.oom.group\ncgroup.procs              hugetlb.2MB.events.local  memory.stat\ncgroup.stat               hugetlb.2MB.max           memory.swap.current\ncgroup.subtree_control    hugetlb.2MB.rsvd.current  memory.swap.events\ncgroup.threads            hugetlb.2MB.rsvd.max      memory.swap.high\ncgroup.type               io.bfq.weight             memory.swap.max\ncpu.max                   io.latency                pids.current\ncpu.stat                  io.max                    pids.events\ncpu.weight                io.stat                   pids.max\ncpu.weight.nice           memory.current            rdma.current\ncpuset.cpus               memory.events             rdma.max\ncpuset.cpus.effective     memory.events.local\n```", "```\n$ cat /sys/fs/cgroup/docker/dcbb…8e86/cpu.weight\n100\n```", "```\n$ echo 50 > /sys/fs/cgroup/docker/dcbb…8e86/cpu.weight\n$ cat /sys/fs/cgroup/docker/dcbb…8e86/cpu.weight\n50\n```", "```\n$ docker container stop dcbb…8e86\ndcbb…8e86\n\n$ cat /sys/fs/cgroup/docker/dcbb…8e86/cpu.weight\ncat: /sys/fs/…/cpu.weight: No such file or directory\n```", "```\n$ docker container start dcbb…8e86\ndcbb…8e86\n\n$ cat /sys/fs/cgroup/docker/dcbb…8e86/cpu.weight\n100\n```", "```\n$ hostname\n\ndocker-desktop\n```", "```\n$ docker container run -ti --rm ubuntu \\\n    bash -c 'echo \"Container hostname: $(hostname)\"'\n\nContainer hostname: 4cdb66d4495b\n```", "```\n$ docker container run -d --rm --name pstest spkane/train-os sleep 240\n6e005f895e259ed03c4386b5aeb03e0a50368cc173078007b6d1beaa8cd7dded\n\n$ docker container exec -ti pstest ps -ef\n\nUID        PID  PPID  C STIME TTY          TIME CMD\nroot         1     0  0 15:33 ?        00:00:00 sleep 240\nroot        13     0  0 15:33 pts/0    00:00:00 ps -ef\n```", "```\n$ docker container top pstest\n\nUID   PID    PPID   C  STIME  TTY  TIME      CMD\nroot  31396  31370  0  15:33 ?     00:00:00  sleep 240\n```", "```\n$ docker container run --pid=host ubuntu ps -p 31370\nPID    TTY  TIME      CMD\n31370  ?    00:00:00  containerd-shim\n```", "```\n $ docker container rm -f pstest\n```", "```\n$ docker container run --rm -ti ubuntu /bin/bash\n\nroot@808a2b8426d1:/# apt-get update\n…\nroot@808a2b8426d1:/# apt-get install -y kmod\n…\nroot@808a2b8426d1:/# lsmod\nModule                             Size  Used by\nxfrm_user                         36864  1\nxfrm_algo                         16384  1 xfrm_user\nshiftfs                           28672  0\ngrpcfuse                          16384  0\nvmw_vsock_virtio_transport        16384  2\nvmw_vsock_virtio_transport_common 28672  1 vmw_vsock_virtio_transport\nvsock                             36864  9 vmw_vsock_virtio_transport_common…\n```", "```\nroot@808a2b8426d1:/# rmmod shiftfs\n\nrmmod: ERROR: ../libkmod/libkmod-module.c:799 kmod_module_remove_module() …\nrmmod: ERROR: could not remove module shiftfs: Operation not permitted\n\nroot@808a2b8426d1:/# exit\n```", "```\n$ docker container run --rm -it -v /etc:/host_etc ubuntu /bin/bash\n\nroot@e674eb96bb74:/# more /host_etc/shadow\nroot:!:16230:0:99999:7:::\ndaemon:*:16230:0:99999:7:::\nbin:*:16230:0:99999:7:::\nsys:*:16230:0:99999:7:::\n…\nirc:*:16230:0:99999:7:::\nnobody:*:16230:0:99999:7:::\nlibuuid:!:16230:0:99999:7:::\nsyslog:*:16230:0:99999:7:::\nmessagebus:*:16230:0:99999:7:::\nkmatthias:$1$aTAYQT.j$3xamPL3dHGow4ITBdRh1:16230:0:99999:7:::\nsshd:*:16230:0:99999:7:::\nlxc-dnsmasq:!:16458:0:99999:7:::\n\nroot@e674eb96bb74:/# exit\n```", "```\n$ docker container run --rm spkane/train-os:latest whoami\nroot\n\n$ docker container run --rm spkane/train-os:latest cat /etc/shadow\nroot:!locked::0:99999:7:::\nbin:*:18656:0:99999:7:::\ndaemon:*:18656:0:99999:7:::\nadm:*:18656:0:99999:7:::\nlp:*:18656:0:99999:7:::\n…\n```", "```\n$ docker container run --rm -u 500 spkane/train-os:latest whoami\nuser500\n\n$ docker container run --rm -u 500 spkane/train-os:latest cat /etc/shadow\ncat: /etc/shadow: Permission denied\n```", "```\nFROM fedora:34\nRUN useradd -u 500 -m myuser\nUSER 500:500\nCMD [\"whoami\"]\n```", "```\n$ docker image build -t user-test .\n\n[+] Building 0.5s (6/6) FINISHED\n => [internal] load build definition from Dockerfile                      0.0s\n => => transferring dockerfile: 36B                                       0.0s\n => [internal] load .dockerignore                                         0.0s\n => => transferring context: 2B                                           0.0s\n => [internal] load metadata for docker.io/library/fedora:34              0.4s\n => [1/2] FROM docker.io/library/fedora:34@sha256:321d…2697               0.0s\n => CACHED [2/2] RUN useradd -u 500 -m myuser                             0.0s\n => exporting to image                                                    0.0s\n => => exporting layers                                                   0.0s\n => => writing image sha256:4727…30d5                                     0.0s\n => => naming to docker.io/library/user-test                              0.0s\n\n$ docker container run --rm user-test\nmyuser\n```", "```\n$ sudo apt-get install -y dbus-user-session uidmap\n…\ndbus-user-session is already the newest version (1.12.20-2ubuntu4).\n…\nSetting up uidmap (1:4.8.1-2ubuntu2) …\n…\n```", "```\n$ sudo systemctl disable --now docker.service docker.socket\n\nSynchronizing state of docker.service with SysV service script with\n /lib/systemd/systemd-sysv-install.\nExecuting: /lib/systemd/systemd-sysv-install disable docker\nRemoved /etc/systemd/system/sockets.target.wants/docker.socket.\nRemoved /etc/systemd/system/multi-user.target.wants/docker.service.\n\n$ sudo shutdown -r now\n```", "```\n$ ls /var/run/docker.sock\nls: cannot access '/var/run/docker.sock': No such file or directory\n```", "```\n$ dockerd-rootless-setuptool.sh install\n\n[INFO] Creating /home/me/.config/systemd/user/docker.service\n[INFO] starting systemd service docker.service\n+ systemctl --user start docker.service\n+ sleep 3\n+ systemctl --user --no-pager --full status docker.service\n● docker.service - Docker Application Container Engine (Rootless)\n Loaded: loaded (/home/me/.config/systemd/user/docker.service; …)\n…\n+ DOCKER_HOST=unix:///run/user/1000/docker.sock /usr/bin/docker version\nClient: Docker Engine - Community\n Version:           20.10.18\n…\nServer: Docker Engine - Community\n Engine:\n Version:          20.10.18\n…\n+ systemctl --user enable docker.service\nCreated symlink /home/me/.config/systemd/user/default.target.wants/\n docker.service → /home/me/.config/systemd/user/docker.service.\n[INFO] Installed docker.service successfully.\n\n[INFO] To control docker.service, run:\n `systemctl --user (start|stop|restart) docker.service`\n[INFO] To run docker.service on system startup, run:\n `sudo loginctl enable-linger me`\n\n[INFO] Creating CLI context \"rootless\"\nSuccessfully created context \"rootless\"\n\n[INFO] Make sure the following environment variables are set\n (or add them to ~/.bashrc):\nexport PATH=/usr/bin:$PATH\nexport DOCKER_HOST=unix:///run/user/1000/docker.sock\n```", "```\n$ systemctl --user restart docker.service\n$ systemctl --user stop docker.service\n$ systemctl --user start docker.service\n```", "```\n$ sudo loginctl enable-linger $(whoami)\n$ systemctl --user enable docker\n```", "```\n$ export PATH=/usr/bin:$PATH\n$ export DOCKER_HOST=unix:///run/user/1000/docker.sock\n```", "```\n$ docker container run --rm hello-world\n\nHello from Docker!\nThis message shows that your installation appears to be working correctly.\n…\nFor more examples and ideas, visit:\n https://docs.docker.com/get-started/\n```", "```\n$ docker container run --rm -it --privileged --pid=host debian nsenter \\\n    -t 1 -m -u -n -i sh\n\ndocker: Error response from daemon: failed to create shim task: OCI runtime\ncreate failed: runc create failed: unable to start container process: error\nduring container init: error mounting \"proc\" to rootfs at \"/proc\":\nmount proc:/proc (via /proc/self/fd/7), flags: 0xe:\noperation not permitted: unknown.\n```", "```\n$ docker container run --rm spkane/train-os:latest whoami\nroot\n```", "```\n$ docker container run -d --rm --name sleep spkane/train-os:latest sleep 480s\n1f8ccec0a834537da20c6e07423f9217efe34c0eac94f0b0e178fb97612341ef\n```", "```\n$ docker container exec sleep ps auxwww\nUSER         PID %CPU %MEM    VSZ   RSS TTY      STAT START   TIME COMMAND\nroot           1  0.1  0.0   2400   824 ?        Ss   17:51   0:00 sleep 480s\nroot           7  0.0  0.0   7780  3316 ?        Rs   17:51   0:00 ps auxwww\n```", "```\n$ ps auxwww | grep sleep\nme   3509 0.0 0.0  2400  824 ?     Ss 10:51 0:00 sleep 480s\nme   3569 0.0 0.0 17732 2360 pts/0 S+ 10:51 0:00 grep --color=auto sleep\n```", "```\n$ docker container run --rm -ti spkane/train-os /bin/bash\n\n[root@280d4dc16407 /]# ip link ls\n1: lo: <LOOPBACK,UP,LOWER_UP> mtu 65536 qdisc noqueue state UNKNOWN mode …\n link/loopback 00:00:00:00:00:00 brd 00:00:00:00:00:00\n2: tunl0@NONE: <NOARP> mtu 1480 qdisc noop state DOWN mode DEFAULT …\n link/ipip 0.0.0.0 brd 0.0.0.0\n3: ip6tnl0@NONE: <NOARP> mtu 1452 qdisc noop state DOWN mode DEFAULT …\n link/tunnel6 :: brd :: permaddr 12b5:6f1b:a7e9::\n22: eth0@if23: <BROADCAST,MULTICAST,UP,LOWER_UP> mtu 1500 qdisc noqueue …\n link/ether 02:42:ac:11:00:02 brd ff:ff:ff:ff:ff:ff link-netnsid 0\n\n[root@fc4589fb8778 /]# ip link set eth0 address 02:0a:03:0b:04:0c\nRTNETLINK answers: Operation not permitted\n\n[root@280d4dc16407 /]# exit\n```", "```\n$ docker container run -ti --rm --privileged=true spkane/train-os /bin/bash\n\n[root@853e0ef5dd63 /]# ip link ls\n1: lo: <LOOPBACK,UP,LOWER_UP> mtu 65536 qdisc noqueue state UNKNOWN mode …\n link/loopback 00:00:00:00:00:00 brd 00:00:00:00:00:00\n2: tunl0@NONE: <NOARP> mtu 1480 qdisc noop state DOWN mode DEFAULT …\n link/ipip 0.0.0.0 brd 0.0.0.0\n3: ip6tnl0@NONE: <NOARP> mtu 1452 qdisc noop state DOWN mode DEFAULT …\n link/tunnel6 :: brd :: permaddr 12b5:6f1b:a7e9::\n22: eth0@if23: <BROADCAST,MULTICAST,UP,LOWER_UP> mtu 1500 qdisc noqueue …\n link/ether 02:42:ac:11:00:02 brd ff:ff:ff:ff:ff:ff link-netnsid 0\n\n[root@853e0ef5dd63 /]# ip link set eth0 address 02:0a:03:0b:04:0c\n\n[root@853e0ef5dd63 /]# ip link show eth0\n26: eth0@if27: <BROADCAST,MULTICAST,UP,LOWER_UP> mtu 1500 qdisc noqueue …\n link/ether 02:0a:03:0b:04:0c brd ff:ff:ff:ff:ff:ff link-netnsid 0\n\n[root@853e0ef5dd63 /]# exit\n```", "```\n$ docker container run -ti --rm --privileged=true spkane/train-os /bin/bash\n\n[root@664a896983d7 /]# mount /dev/vda1 /mnt && \\\n                         ls -F /mnt/docker/containers | \\\n                         head -n 10\n\n047df420f6d1f227a26667f83e477f608298c25b0cdad2e149a781587aae5e11/\n0888b9f97b1ecc4261f637404e0adcc8ef0c8df291b87c9160426e42dc9b5dea/\n174ea3ec35cd3a576bed6f475b477b1a474d897ece15acfc46e61685abb3101d/\n1eddad26ee64c4b29eb164b71d56d680739922b3538dc8aa6c6966fce61125b0/\n22b2aa38a687f423522dd174fdd85d578eb21c9c8ec154a0f9b8411d08f6fd4b/\n23879e3b9cd6a42a1e09dc8e96912ad66e80ec09949c744d1177a911322e7462/\n266fe7da627d2e8ec5429140487e984c8d5d36a26bb3cc36a88295e38216e8a7/\n2cb6223e115c12ae729d968db0d2f29a934b4724f0c9536e377e0dbd566f1102/\n306f00e86122b69eeba9323415532a12f88360a1661f445fc7d64c07249eb0ce/\n333b85236409f873d07cd47f62ec1a987df59f688a201df744f40f98b7e4ef2c/\n\n[root@664a896983d7 /]# ls -F /mnt/docker/containers/047d…5e11/\n\n047df420f6d1f227a26667f83e477f608298c25b0cdad2e149a781587aae5e11-json.log\ncheckpoints/\nconfig.v2.json\nhostconfig.json\nhostname\nhosts\nmounts/\nresolv.conf\nresolv.conf.hash\n\n[root@664a896983d7 /]# cat /mnt/docker/containers/047d…5e11/047…e11-json.log\n```", "```\n{\"log\":\"047df420f6d1\\r\\n\",\"stream\":\"stdout\",\"time\":\"2022-09-14T15:18:29.…\"}\n…\n```", "```\n[root@664a896983d7 /]# exit\n```", "```\n$ docker container run -ti --rm --cap-add=NET_ADMIN spkane/train-os /bin/bash\n\n[root@087c02a3c6e7 /]# ip link show eth0\n36: eth0@if37: <BROADCAST,MULTICAST,UP,LOWER_UP> mtu 1500 qdisc noqueue …\n link/ether 02:42:ac:11:00:02 brd ff:ff:ff:ff:ff:ff link-netnsid 0\n\n[root@087c02a3c6e7 /]# ip link set eth0 address 02:0a:03:0b:04:0c\n\n[root@087c02a3c6e7 /]# ip link show eth0\n36: eth0@if37: <BROADCAST,MULTICAST,UP,LOWER_UP> mtu 1500 qdisc noqueue …\n link/ether 02:0a:03:0b:04:0c brd ff:ff:ff:ff:ff:ff link-netnsid 0\n\n[root@087c02a3c6e7 /]# exit\n```", "```\n$ docker container run -ti --rm --cap-add=NET_ADMIN spkane/train-os /bin/bash\n\n[root@b84a06ddaa0d /]# mount /dev/vda1 /mnt\nmount: /mnt: permission denied.\n\n[root@b84a06ddaa0d /]# exit\n```", "```\n$ docker container run -ti --rm spkane/train-os:latest tcpdump -i eth0\n\ndropped privs to tcpdump\ntcpdump: verbose output suppressed, use -v[v]… for full protocol decode\nlistening on eth0, link-type EN10MB (Ethernet), snapshot length 262144 bytes\n15:40:49.847446 IP6 fe80::23:6cff:fed6:424f > ff02::16: HBH ICMP6, …\n15:40:49.913977 ARP, Request who-has _gateway tell 5614703ffee2, length 28\n15:40:49.914048 ARP, Request who-has _gateway tell 5614703ffee2, length 28\n15:40:49.914051 ARP, Reply _gateway is-at 02:49:9b:d9:49:4e (oui Unknown), …\n15:40:49.914053 IP 5642703bbff2.45432 > 192.168.75.8.domain: 44649+ PTR? …\n…\n```", "```\n$ docker container run -ti --rm --cap-drop=NET_RAW spkane/train-os:latest \\\n  tcpdump -i eth0\n\ntcpdump: eth0: You don't have permission to capture on that device\n(socket: Operation not permitted)\n```", "```\n$ docker container run -ti --rm spkane/train-os:latest umount /sys/fs/cgroup\numount: /sys/fs/cgroup: must be superuser to unmount.\n\n$ docker container run -ti --rm spkane/train-os:latest \\\n  strace umount /sys/fs/cgroup\n\nexecve(\"/usr/bin/umount\", [\"umount\", \"/sys/fs/cgroup\"], 0x7fff902ddbe8 …\n…\numount2(\"/sys/fs/cgroup\", 0)            = -1 EPERM (Operation not permitted)\nwrite(2, \"umount: \", 8umount: )                 = 8\nwrite(2, \"/sys/fs/cgroup: must be superuse\"…,\n 45/sys/fs/cgroup: must be superuser to unmount.) = 45\nwrite(2, \"\\n\", 1\n)                       = 1\ndup(1)                                  = 3\nclose(3)                                = 0\ndup(2)                                  = 3\nclose(3)                                = 0\nexit_group(32)                          = ?\n+++ exited with 32 +++\n```", "```\n$ docker container run -ti --rm --cap-add=SYS_ADMIN spkane/train-os:latest \\\n    strace umount /sys/fs/cgroup\n\nexecve(\"/usr/bin/umount\", [\"umount\", \"/sys/fs/cgroup\"], 0x7ffd3e4452b8 …\n…\numount2(\"/sys/fs/cgroup\", 0)            = 0\ndup(1)                                  = 3\nclose(3)                                = 0\ndup(2)                                  = 3\nclose(3)                                = 0\nexit_group(0)                           = ?\n+++ exited with 0 +++\n```", "```\n$ docker container run -ti --rm --cap-add=SYS_ADMIN spkane/train-os:latest \\\n  mount /dev/vda1 /mnt\n```", "```\n{\n    \"defaultAction\": \"SCMP_ACT_ERRNO\",\n    \"defaultErrnoRet\": 1,\n    \"archMap\": [\n        {\n            \"architecture\": \"SCMP_ARCH_X86_64\",\n            \"subArchitectures\": [\n                \"SCMP_ARCH_X86\",\n                \"SCMP_ARCH_X32\"\n            ]\n        },\n…\n    ],\n    \"syscalls\": [\n        {\n            \"names\": [\n                \"accept\",\n                \"accept4\",\n                \"access\",\n                \"adjtimex\",\n…\n                \"waitid\",\n                \"waitpid\",\n                \"write\",\n                \"writev\"\n            ],\n            \"action\": \"SCMP_ACT_ALLOW\"\n        },\n        {\n            \"names\": [\n                \"bpf\",\n                \"clone\",\n…\n                \"umount2\",\n                \"unshare\"\n            ],\n            \"action\": \"SCMP_ACT_ALLOW\",\n            \"includes\": {\n                \"caps\": [\n                    \"CAP_SYS_ADMIN\"\n                ]\n            }\n        },\n…\n    ]\n}\n```", "```\n$ wget https://raw.githubusercontent.com/moby/moby/master/\\\nprofiles/seccomp/default.json\n\n$ cp default.json umount2.json\n```", "```\n            \"includes\": {\n                \"caps\": [\n                    \"CAP_SYS_ADMIN\"\n                ]\n            }\n```", "```\n$ diff -u -U5 default.json umount2.json\n```", "```\ndiff -u -U5 default.json umount2.json\n--- default.json        2022-09-25 13:23:57.000000000 -0700\n+++ umount2.json        2022-09-25 13:38:31.000000000 -0700\n@@ -575,34 +575,12 @@\n                                ]\n                        }\n                },\n                {\n                        \"names\": [\n-                               \"bpf\",\n                                \"clone\",\n-                               \"clone3\",\n-                               \"fanotify_init\",\n-                               \"fsconfig\",\n-                               \"fsmount\",\n-                               \"fsopen\",\n-                               \"fspick\",\n-                               \"lookup_dcookie\",\n-                               \"mount\",\n-                               \"mount_setattr\",\n-                               \"move_mount\",\n-                               \"name_to_handle_at\",\n-                               \"open_tree\",\n-                               \"perf_event_open\",\n-                               \"quotactl\",\n-                               \"quotactl_fd\",\n-                               \"setdomainname\",\n-                               \"sethostname\",\n-                               \"setns\",\n-                               \"syslog\",\n-                               \"umount\",\n-                               \"umount2\",\n-                               \"unshare\"\n+                               \"umount2\"\n                        ],\n                        \"action\": \"SCMP_ACT_ALLOW\",\n                        \"includes\": {\n                                \"caps\": [\n                                        \"CAP_SYS_ADMIN\"\n```", "```\n$ docker container run -ti --rm --security-opt seccomp=umount2.json \\\n  --cap-add=SYS_ADMIN spkane/train-os:latest /bin/bash\n\n[root@15b8a26b6cfe /]# strace umount /sys/fs/cgroup\nexecve(\"/usr/bin/umount\", [\"umount\", \"/sys/fs/cgroup\"], 0x7ffece9ebc38 …\nclose(3)                                = 0\nexit_group(0)                           = ?\n+++ exited with 0 +++\n\n[root@15b8a26b6cfe /]# mount /dev/vda1 /mnt\nmount: /mnt: permission denied.\n\n[root@15b8a26b6cfe /]# exit\n```", "```\n$ ip addr show\n\n1: lo: <LOOPBACK,UP,LOWER_UP> mtu 65536 qdisc noqueue state UNKNOWN group …\n link/loopback 00:00:00:00:00:00 brd 00:00:00:00:00:00\n inet 127.0.0.1/8 brd 127.255.255.255 scope host lo\n valid_lft forever preferred_lft forever\n inet6 ::1/128 scope host\n valid_lft forever preferred_lft forever\n2: eth0: <BROADCAST,MULTICAST,UP,LOWER_UP> mtu 1500 qdisc pfifo_fast state …\n link/ether 02:50:00:00:00:01 brd ff:ff:ff:ff:ff:ff\n inet 172.16.168.178/24 brd 192.168.65.255 scope global dynamic …\n valid_lft 4908sec preferred_lft 3468sec\n inet6 fe80::50:ff:fe00:1/64 scope link\n valid_lft forever preferred_lft forever\n…\n7: docker0: <BROADCAST,MULTICAST,UP,LOWER_UP> mtu 1500 qdisc noqueue …\n link/ether 02:42:9c:d2:89:4f brd ff:ff:ff:ff:ff:ff\n inet 172.17.42.1/16brd 172.17.255.255 scope global docker0\n valid_lft forever preferred_lft forever\n inet6 fe80::42:9cff:fed2:894f/64 scope link\n valid_lft forever preferred_lft forever\n…\n185: veth772de2a@if184: <BROADCAST,MULTICAST,UP,LOWER_UP> mtu 1500 qdisc …\n link/ether 9a:a9:24:b7:5a:31 brd ff:ff:ff:ff:ff:ff link-netnsid 1\n inet6 fe80::98a9:24ff:feb7:5a31/64 scope link\n valid_lft forever preferred_lft forever\n```", "```\n$ docker container run --rm -it --net=host spkane/train-os bash\n\n[root@docker-desktop /]# docker container run --rm -it --net=host \\\n                         spkane/train-os ip addr show\n\n1: lo: <LOOPBACK,UP,LOWER_UP> mtu 65536 qdisc noqueue state UNKNOWN group\n default qlen 1000\n link/loopback 00:00:00:00:00:00 brd 00:00:00:00:00:00\n inet 127.0.0.1/8 brd 127.255.255.255 scope host lo\n valid_lft forever preferred_lft forever\n inet6 ::1/128 scope host\n valid_lft forever preferred_lft forever\n2: eth0: <BROADCAST,MULTICAST,UP,LOWER_UP> mtu 1500 qdisc pfifo_fast\n state UP group default qlen 1000\n link/ether 02:50:00:00:00:01 brd ff:ff:ff:ff:ff:ff\n inet 192.168.65.3/24 brd 192.168.65.255 scope global dynamic\n noprefixroute eth0\n valid_lft 4282sec preferred_lft 2842sec\n inet6 fe80::50:ff:fe00:1/64 scope link\n valid_lft forever preferred_lft forever\n…\n7: docker0: <NO-CARRIER,BROADCAST,MULTICAST,UP> mtu 1500 qdisc noqueue\n state DOWN group default\n link/ether 02:42:9c:d2:89:4f brd ff:ff:ff:ff:ff:ff\n inet 172.17.0.1/16 brd 172.17.255.255 scope global docker0\n valid_lft forever preferred_lft forever\n inet6 fe80::42:9cff:fed2:894f/64 scope link\n valid_lft forever preferred_lft forever\n8: br-340323d07310: <NO-CARRIER,BROADCAST,MULTICAST,UP> mtu 1500 qdisc\n noqueue state DOWN group default\n link/ether 02:42:56:24:42:b8 brd ff:ff:ff:ff:ff:ff\n inet 172.22.0.1/16 brd 172.22.255.255 scope global br-340323d07310\n valid_lft forever preferred_lft forever\n11: br-01f7537b9475: <NO-CARRIER,BROADCAST,MULTICAST,UP> mtu 1500 qdisc\n noqueue state DOWN group default\n link/ether 02:42:ed:14:67:61 brd ff:ff:ff:ff:ff:ff\n inet 172.18.0.1/16 brd 172.18.255.255 scope global br-01f7537b9475\n valid_lft forever preferred_lft forever\n inet6 fc00:f853:ccd:e793::1/64 scope global\n valid_lft forever preferred_lft forever\n inet6 fe80::42:edff:fe14:6761/64 scope link\n valid_lft forever preferred_lft forever\n inet6 fe80::1/64 scope link\n valid_lft forever preferred_lft forever\n```", "```\n[root@docker-desktop /]# hostname\ndocker-desktop\n```", "```\n[root@docker-desktop /]# mount\n\noverlay on / type overlay (rw,relatime,lowerdir=/var/lib/docker/overlay2/…)\n…\n/dev/vda1 on /etc/resolv.conf type ext4 (rw,relatime)\n/dev/vda1 on /etc/hostname type ext4 (rw,relatime)\n/dev/vda1 on /etc/hosts type ext4 (rw,relatime)\n…\n\n[root@docker-desktop /]# cat /etc/hostname\ndocker-desktop\n```", "```\nroot@852d18f5c38d:/# ss | grep docker\n\nu_str  ESTAB  0  0  /run/guest-services/docker.sock  18086  * 16860\n…\nu_str  ESTAB  0  0  /var/run/docker.sock             21430  * 21942\n```", "```\n$ docker container run --rm -it spkane/train-os bash -c \"ss | grep docker\"\n```", "```\n$ docker network ls\n\nNETWORK ID      NAME      DRIVER    SCOPE\n5840a6c23373    bridge    bridge    local\n1c22b4582189    host      host      local\nc128bfdbe003    none      null      local\n```", "```\n$ docker network inspect 5840a6c23373\n```", "```\n[\n    {\n        \"Name\": \"bridge\",\n        \"Id\": \"5840…fc94\",\n        \"Created\": \"2022-09-23T01:21:55.697907958Z\",\n        \"Scope\": \"local\",\n        \"Driver\": \"bridge\",\n        \"EnableIPv6\": false,\n        \"IPAM\": {\n            \"Driver\": \"default\",\n            \"Options\": null,\n            \"Config\": [\n                {\n                    \"Subnet\": \"172.17.0.0/16\",\n                    \"Gateway\": \"172.17.0.1\"\n                }\n            ]\n        },\n        \"Internal\": false,\n        \"Attachable\": false,\n        \"Ingress\": false,\n        \"ConfigFrom\": {\n            \"Network\": \"\"\n        },\n        \"ConfigOnly\": false,\n        \"Containers\": {},\n        \"Options\": {\n            \"com.docker.network.bridge.default_bridge\": \"true\",\n            \"com.docker.network.bridge.enable_icc\": \"true\",\n            \"com.docker.network.bridge.enable_ip_masquerade\": \"true\",\n            \"com.docker.network.bridge.host_binding_ipv4\": \"0.0.0.0\",\n            \"com.docker.network.bridge.name\": \"docker0\",\n            \"com.docker.network.driver.mtu\": \"1500\"\n        },\n        \"Labels\": {}\n    }\n]\n```", "```\n$ docker network create -d macvlan \\\n    --subnet=172.16.16.0/24 \\\n    --gateway=172.16.16.1  \\\n    -o parent=eth0 ourvlan\n\n$ docker network ls\nNETWORK ID     NAME            DRIVER    SCOPE\n5840a6c23373   bridge          bridge    local\n1c22b4582189   host            host      local\nc128bfdbe003   none            null      local\n8218c0ecc9e2   ourvlan         macvlan   local\n\n$ docker network rm 8218c0ecc9e2\n```", "```\n$ docker system info\n```", "```\n…\n Storage Driver: overlay2\n  Backing Filesystem: extfs\n  Supports d_type: true\n  Native Overlay Diff: true\n  userxattr: false\n…\n```", "```\n$ dockerd --storage-driver=devicemapper\n```", "```\n$ docker container run -d --rm  ubuntu:22.04 sleep 600\nfd521174d66dc32650d165e0ce7dd97255c7b3624c34cb1d119d955284382ddf\n```", "```\n$ docker container ls\n\nCONTAINER ID  IMAGE          COMMAND      …  NAMES\nfd521174d66d   ubuntu:22.04  \"sleep 1000\" …  angry_albattani\n```", "```\n$ docker container inspect --format \\{{.State.Pid\\}} fd521174d66d\n2721\n```", "```\n$ docker container top fd521174d66d\n\nUID   PID   PPID  C  STIME  TTY  TIME      CMD\nroot  2721  2696  0  20:37  ?    00:00:00  sleep 600\n```", "```\n$ docker container run --rm -it --privileged --pid=host debian \\\n    nsenter --target 2721 --all\n\n# ps -ef\n\nUID        PID  PPID  C STIME TTY          TIME CMD\nroot         1     0  0 20:37 ?        00:00:00 sleep 600\nroot        11     0  0 20:51 ?        00:00:00 -sh\nroot        15    11  0 20:51 ?        00:00:00 ps -ef\n# exit\n```", "```\n$ docker container run --rm -d --name outyet-small \\\n    --publish mode=ingress,published=8090,target=8080 \\\n    spkane/outyet:1.9.4-small\n4f6de24d4c9c794c884afa758ef5b33ea38c01f8ec9314dcddd9fadc25c1a443\n```", "```\n$ docker container top outyet-small\n\nUID  PID   PPID  C STIME TTY TIME     CMD\nroot 61033 61008 0 22:43 ?   00:00:00 /outyet -version 1.9.4 -poll 600s …\n```", "```\n$ docker container exec -it outyet-small /bin/sh\n\nOCI runtime exec failed: exec failed: unable to start container process: exec:\n \"/bin/sh\": stat /bin/sh: no such file or directory: unknown\n```", "```\n$ docker container run --rm -it --pid=container:outyet-small \\\n  --net=container:outyet-small --cap-add sys_ptrace \\\n  --cap-add sys_admin spkane/train-os /bin/sh\n\nsh-5.1#\n```", "```\nsh-5.1# ls\n\nbin   dev  home  lib64       media  opt   root  sbin  sys  usr\nboot  etc  lib   lost+found  mnt    proc  run   srv   tmp  var\n```", "```\nsh-5.1# ps -ef\n\nUID  PID PPID C STIME TTY   TIME     CMD\nroot   1    0 0 22:43 ?     00:00:00 /outyet -version 1.9.4 -poll 600s …\nroot  29    0 0 22:47 pts/0 00:00:00 /bin/sh\nroot  36   29 0 22:49 pts/0 00:00:00 ps -ef\n```", "```\nsh-5.1# curl localhost:8080\n```", "```\n<!DOCTYPE html><html><body><center>\n  <h2>Is Go 1.9.4 out yet?</h2>\n  <h1>\n\n    <a href=\"https://go.googlesource.com/go/&#43;/go1.9.4\">YES!</a>\n\n  </h1>\n  <p>Hostname: 155914f7c6cd</p>\n</center></body></html>\n```", "```\nsh-5.1# strace -p 1\n\nstrace: Process 1 attached\nfutex(0x963698, FUTEX_WAIT, 0, NULL^Cstrace: Process 1 detached\n <detached …>\n\nsh-5.1# exit\nexit\n```", "```\n$ docker container export outyet-small -o export.tar\n```", "```\n$ tar -tvf export.tar\n\n-rwxr-xr-x  0 0   0         0 Jul 17 16:04 .dockerenv\ndrwxr-xr-x  0 0   0         0 Jul 17 16:04 dev/\n-rwxr-xr-x  0 0   0         0 Jul 17 16:04 dev/console\ndrwxr-xr-x  0 0   0         0 Jul 17 16:04 dev/pts/\ndrwxr-xr-x  0 0   0         0 Jul 17 16:04 dev/shm/\ndrwxr-xr-x  0 0   0         0 Jul 17 16:04 etc/\n-rwxr-xr-x  0 0   0         0 Jul 17 16:04 etc/hostname\n-rwxr-xr-x  0 0   0         0 Jul 17 16:04 etc/hosts\nlrwxrwxrwx  0 0   0         0 Jul 17 16:04 etc/mtab -> /proc/mounts\n-rwxr-xr-x  0 0   0         0 Jul 17 16:04 etc/resolv.conf\ndrwxr-xr-x  0 0   0         0 Apr 24  2021 etc/ssl/\ndrwxr-xr-x  0 0   0         0 Apr 24  2021 etc/ssl/certs/\n-rw-r--r--  0 0   0    261407 Mar 13  2018 etc/ssl/certs/ca-certificates.crt\n-rwxr-xr-x  0 0   0   5640640 Apr 24  2021 outyet\ndrwxr-xr-x  0 0   0         0 Jul 17 16:04 proc/\ndrwxr-xr-x  0 0   0         0 Jul 17 16:04 sys/\n```", "```\n$ docker container run --rm -d \\\n  --publish mode=ingress,published=8080,target=80 \\\n  --name nginx-test --rm nginx:latest\n08b5cffed7baaf32b3af50498f7e5c5fa7ed35e094fa6045c205a88746fe53dd\n\n$ ps axlf\n… PID  PPID COMMAND\n…\n… 5171 1    /usr/bin/containerd\n… 5288 1    /usr/bin/dockerd -H fd:// --containerd=/run/cont…/containerd.…\n… 5784 5288 \\_ /usr/bin/docker-proxy -proto tcp -host-ip … -host-port 8080\n… 5791 5288 \\_ /usr/bin/docker-proxy -proto tcp -host-ip :: -host-port …\n… 5807 1    /usr/bin/containerd-shim-runc-v2 -namespace moby -id …\n… 5829 5807  \\_ nginx: master process nginx -g daemon off;\n… 5880 5829      \\_ nginx: worker process\n… 5881 5829      \\_ nginx: worker process\n… 5882 5829      \\_ nginx: worker process\n… 5883 5829      \\_ nginx: worker process\n…\n```", "```\n$ docker container ls\n\nCONTAINER ID IMAGE        COMMAND        … PORTS                  NAMES\n08b5cffed7ba nginx:latest \"/docker-ent…\" … 0.0.0.0:8080->80/tcp … nginx-test\n```", "```\n$ sudo runc --root /run/docker/runtime-runc/moby list\n\nID         PID   …  BUNDLE                                          … OWNER\n08b5…53dd  5829  …  …/io.containerd.runtime.v2.task/moby/08b5…53dd  … root\n```", "```\n$ ps -edaf | grep 5829\n\nroot      5829  5807  …  nginx: master process nginx -g daemon off;\nsystemd+  5880  5829  …  nginx: worker process\nsystemd+  5881  5829  …  nginx: worker process\nsystemd+  5882  5829  …  nginx: worker process\nsystemd+  5883  5829  …  nginx: worker process\n```", "```\n$ sudo ls -la /run/docker/containerd/08b5…53dd\n\ntotal 0\ndrwxr-xr-x 2 root root 80 Oct  1 08:49 .\ndrwxr-xr-x 3 root root 60 Oct  1 08:49 ..\nprwx------ 1 root root  0 Oct  1 08:49 init-stderr\nprwx------ 1 root root  0 Oct  1 08:49 init-stdout\n```", "```\n$ sudo ls -la /run/containerd/io.containerd.runtime.v2.task/moby/08b5…53dd/\n\ntotal 32\ndrwx------ 3 root root  240 Oct  1 08:49 .\ndrwx--x--x 3 root root   60 Oct  1 08:49 ..\n-rw-r--r-- 1 root root   89 Oct  1 08:49 address\n-rw-r--r-- 1 root root 9198 Oct  1 08:49 config.json\n-rw-r--r-- 1 root root    4 Oct  1 08:49 init.pid\nprwx------ 1 root root    0 Oct  1 08:49 log\n-rw-r--r-- 1 root root    0 Oct  1 08:49 log.json\n-rw------- 1 root root   82 Oct  1 08:49 options.json\ndrwx--x--x 2 root root   40 Oct  1 08:49 rootfs\n-rw------- 1 root root    4 Oct  1 08:49 runtime\n-rw------- 1 root root   32 Oct  1 08:49 shim-binary-path\nlrwxrwxrwx 1 root root  119 Oct  1 08:49 work -> /var/lib/containerd/io…\n```", "```\n$ sudo runc --root /run/docker/runtime-runc/moby events 08b5…53dd\n```", "```\n{\"type\":\"stats\",\"id\":\"08b5…53dd\",\"data\":{\"cpu\":{\"usage\":{\"…\"}}}}\n```", "```\n$ docker container run --rm --runtime=runsc -it alpine /bin/sh\n```", "```\n$ docker container run --rm --runtime=runsc -it alpine /bin/sh -c \"mount\"\n\nnone on / type 9p (rw,trans=fd,rfdno=4,wfdno=4,aname=/,…)\nnone on /dev type tmpfs (rw,mode=0755)\nnone on /sys type sysfs (ro,noexec,dentry_cache_limit=1000)\nnone on /proc type proc (rw,noexec,dentry_cache_limit=1000)\nnone on /dev/pts type devpts (rw,noexec)\nnone on /dev/shm type tmpfs (rw,noexec,mode=1777,size=67108864)\nnone on /etc/hosts type 9p (rw,trans=fd,rfdno=7,wfdno=7,…)\nnone on /etc/hostname type 9p (rw,trans=fd,rfdno=6,wfdno=6,…)\nnone on /etc/resolv.conf type 9p (rw,trans=fd,rfdno=5,wfdno=5,…)\nnone on /tmp type tmpfs (rw,mode=01777)\n```", "```\n$ docker container run --rm -it alpine /bin/sh -c \"mount\"\n\noverlay on / type overlay (rw,relatime,…)\nproc on /proc type proc (rw,nosuid,nodev,noexec,relatime)\ntmpfs on /dev type tmpfs (rw,nosuid,size=65536k,mode=755,inode64)\ndevpts on /dev/pts type devpts (rw,nosuid,noexec,relatime,gid=5,…)\nsysfs on /sys type sysfs (ro,nosuid,nodev,noexec,relatime)\ncgroup on /sys/fs/cgroup type cgroup2 (ro,nosuid,nodev,noexec,relatime)\nmqueue on /dev/mqueue type mqueue (rw,nosuid,nodev,noexec,relatime)\nshm on /dev/shm type tmpfs (rw,nosuid,nodev,noexec,relatime,…)\n/dev/sda3 on /etc/resolv.conf type ext4 (rw,relatime,errors=remount-ro)\n…\ndevpts on /dev/console type devpts (rw,nosuid,noexec,relatime,gid=5,…)\nproc on /proc/bus type proc (ro,nosuid,nodev,noexec,relatime)\n…\ntmpfs on /proc/asound type tmpfs (ro,relatime,inode64)\n…\n```", "```\n$ docker container run --rm --runtime=runsc alpine ip addr show\n\n1: lo: <LOOPBACK,UP,LOWER_UP> mtu 65522\n link/loopback 00:00:00:00:00:00 brd ff:ff:ff:ff:ff:ff\n inet 127.0.0.1/8 scope global dynamic\n2: eth0: <UP,LOWER_UP> mtu 1500\n link/ether 02:42:ac:11:00:02 brd ff:ff:ff:ff:ff:ff\n inet 172.17.0.2/16 scope global dynamic\n```", "```\n$ docker container run --rm alpine ip addr show\n\n1: lo: <LOOPBACK,UP,LOWER_UP> mtu 65536 qdisc noqueue state UNKNOWN qlen 1000\n link/loopback 00:00:00:00:00:00 brd 00:00:00:00:00:00\n inet 127.0.0.1/8 scope host lo\n valid_lft forever preferred_lft forever\n44: eth0@if45: <BROADCAST,MULTICAST,UP,LOWER_UP,M-DOWN> mtu 1500 qdisc\n noqueue state UP\n link/ether 02:42:ac:11:00:02 brd ff:ff:ff:ff:ff:ff\n inet 172.17.0.2/16 brd 172.17.255.255 scope global eth0\n valid_lft forever preferred_lft forever\n```", "```\n$ docker container run --rm --runtime=runsc alpine ls -C /proc\n\n1               filesystems     net             sys\ncgroups         loadavg         self            thread-self\ncmdline         meminfo         sentry-meminfo  uptime\ncpuinfo         mounts          stat            version\n```", "```\n$ docker container run --rm alpine ls -C /proc\n\n1                  fb                 mdstat             stat\nacpi               filesystems        meminfo            swaps\nasound             fs                 misc               sys\nbootconfig         interrupts         modules            sysrq-trigger\nbuddyinfo          iomem              mounts             sysvipc\nbus                ioports            mpt                thread-self\ncgroups            irq                mtd                timer_list\ncmdline            kallsyms           mtrr               tty\nconsoles           kcore              net                uptime\ncpuinfo            key-users          pagetypeinfo       version\ncrypto             keys               partitions         version_signature\ndevices            kmsg               pressure           vmallocinfo\ndiskstats          kpagecgroup        schedstat          vmstat\ndma                kpagecount         scsi               zoneinfo\ndriver             kpageflags         self\ndynamic_debug      loadavg            slabinfo\nexecdomains        locks              softirqs\n```"]