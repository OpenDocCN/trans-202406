<html><head></head><body><section data-pdf-bookmark="Appendix G. TSX" data-type="appendix" epub:type="appendix"><div class="appendix" id="tsx-reference">&#13;
<h1><span class="label">Appendix G. </span>TSX</h1>&#13;
&#13;
&#13;
<p>Under the hood, TypeScript exposes a few hooks for typing TSX in a pluggable way. These are special types on the <code>global.JSX</code> namespace that TypeScript looks at as the source of truth for TSX types throughout your program.<a data-primary="TSX" data-secondary="reference" data-type="indexterm" id="ix_TSXref"/></p>&#13;
<div data-type="note" epub:type="note"><h6>Note</h6>&#13;
<p>If you’re just using React, you don’t need to know about these low-level hooks, but if you’re writing a TypeScript library that uses TSX without React, this appendix provides a helpful reference for the hooks you can use.</p>&#13;
</div>&#13;
&#13;
<p>TSX supports<a data-primary="intrinsic elements (TSX)" data-type="indexterm" id="idm46304947312104"/><a data-primary="value-based elements (TSX)" data-type="indexterm" id="idm46304947311432"/> two kinds of elements: built-in ones (<em>intrinsic elements</em>) and user-defined ones (<em>value-based elements</em>). Intrinsic elements always have lowercased names, and refer to built-in elements like <code>&lt;li&gt;</code>, <code>&lt;h1&gt;</code>, and <code>&lt;div&gt;</code>. Value-based elements have PascalCased names, and refer to those elements that you create with React (or whatever frontend framework you’re using TSX with); they can be defined either as functions or as classes. See <a data-type="xref" href="#tsx-element-fig">Figure G-1</a>.</p>&#13;
&#13;
<figure><div class="figure" id="tsx-element-fig">&#13;
<img alt="prts ag01" src="assets/prts_ag01.png"/>&#13;
<h6><span class="label">Figure G-1. </span>The kinds of TSX elements</h6>&#13;
</div></figure>&#13;
&#13;
<p>Using <a href="http://bit.ly/2CNzeW2">React’s type declarations</a> as an example, we’ll walk through the hooks TypeScript uses to safely type TSX.<a data-primary="JSX (JavaScript XML)" data-secondary="React hooking into TSX to type JSX correctly" data-type="indexterm" id="idm46304947304264"/><a data-primary="React" data-secondary="hooks into TSX to type JSX safely" data-type="indexterm" id="idm46304947303224"/> Here’s how React hooks into TSX to type JSX safely:</p>&#13;
&#13;
<pre data-code-language="ts" data-type="programlisting"><code class="kr">declare</code><code> </code><code class="nx">global</code><code> </code><code class="p">{</code><code>&#13;
  </code><code class="nx">namespace</code><code> </code><code class="nx">JSX</code><code> </code><code class="p">{</code><code>&#13;
    </code><code class="kr">interface</code><code> </code><code class="nx">Element</code><code> </code><code class="kr">extends</code><code> </code><code class="nx">React</code><code class="p">.</code><code class="nx">ReactElement</code><code class="o">&lt;</code><code class="nx">any</code><code class="o">&gt;</code><code> </code><code class="p">{</code><code class="p">}</code><code> </code><a class="co" href="#callout_tsx_CO1-1" id="co_tsx_CO1-1"><img alt="1" src="assets/1.png"/></a><code>&#13;
    </code><code class="kr">interface</code><code> </code><code class="nx">ElementClass</code><code> </code><code class="kr">extends</code><code> </code><code class="nx">React</code><code class="p">.</code><code class="nx">Component</code><code class="o">&lt;</code><code class="nx">any</code><code class="o">&gt;</code><code> </code><code class="p">{</code><code> </code><a class="co" href="#callout_tsx_CO1-2" id="co_tsx_CO1-2"><img alt="2" src="assets/2.png"/></a><code>&#13;
      </code><code class="nx">render</code><code class="p">(</code><code class="p">)</code><code class="o">:</code><code> </code><code class="nx">React</code><code class="p">.</code><code class="nx">ReactNode</code><code>&#13;
    </code><code class="p">}</code><code>&#13;
    </code><code class="kr">interface</code><code> </code><code class="nx">ElementAttributesProperty</code><code> </code><code class="p">{</code><code> </code><a class="co" href="#callout_tsx_CO1-3" id="co_tsx_CO1-3"><img alt="3" src="assets/3.png"/></a><code>&#13;
      </code><code class="nx">props</code><code class="o">:</code><code> </code><code class="p">{</code><code class="p">}</code><code>&#13;
    </code><code class="p">}</code><code>&#13;
    </code><code class="kr">interface</code><code> </code><code class="nx">ElementChildrenAttribute</code><code> </code><code class="p">{</code><code> </code><a class="co" href="#callout_tsx_CO1-4" id="co_tsx_CO1-4"><img alt="4" src="assets/4.png"/></a><code>&#13;
      </code><code class="nx">children</code><code class="o">:</code><code> </code><code class="p">{</code><code class="p">}</code><code>&#13;
    </code><code class="p">}</code><code>&#13;
&#13;
    </code><code class="nx">type</code><code> </code><code class="nx">LibraryManagedAttributes</code><code class="o">&lt;</code><code class="nx">C</code><code class="p">,</code><code> </code><code class="nx">P</code><code class="o">&gt;</code><code> </code><code class="o">=</code><code> </code><code class="c1">// ... </code><a class="co" href="#callout_tsx_CO1-5" id="co_tsx_CO1-5"><img alt="5" src="assets/5.png"/></a><code class="c1">&#13;
</code><code>&#13;
    </code><code class="kr">interface</code><code> </code><code class="nx">IntrinsicAttributes</code><code> </code><code class="kr">extends</code><code> </code><code class="nx">React</code><code class="p">.</code><code class="nx">Attributes</code><code> </code><code class="p">{</code><code class="p">}</code><code> </code><a class="co" href="#callout_tsx_CO1-6" id="co_tsx_CO1-6"><img alt="6" src="assets/6.png"/></a><code>&#13;
    </code><code class="kr">interface</code><code> </code><code class="nx">IntrinsicClassAttributes</code><code class="o">&lt;</code><code class="nx">T</code><code class="o">&gt;</code><code> </code><code class="kr">extends</code><code> </code><code class="nx">React</code><code class="p">.</code><code class="nx">ClassAttributes</code><code class="o">&lt;</code><code class="nx">T</code><code class="o">&gt;</code><code> </code><code class="p">{</code><code class="p">}</code><code> </code><a class="co" href="#callout_tsx_CO1-7" id="co_tsx_CO1-7"><img alt="7" src="assets/7.png"/></a><code>&#13;
&#13;
    </code><code class="kr">interface</code><code> </code><code class="nx">IntrinsicElements</code><code> </code><code class="p">{</code><code> </code><a class="co" href="#callout_tsx_CO1-8" id="co_tsx_CO1-8"><img alt="8" src="assets/8.png"/></a><code>&#13;
      </code><code class="nx">a</code><code>: </code><code class="kt">React.DetailedHTMLProps</code><code class="o">&lt;</code><code>&#13;
        </code><code class="nx">React</code><code class="p">.</code><code class="nx">AnchorHTMLAttributes</code><code class="o">&lt;</code><code class="nx">HTMLAnchorElement</code><code class="o">&gt;</code><code class="p">,</code><code>&#13;
        </code><code class="nx">HTMLAnchorElement</code><code>&#13;
      </code><code class="o">&gt;</code><code>&#13;
      </code><code class="nx">abbr</code><code>: </code><code class="kt">React.DetailedHTMLProps</code><code class="o">&lt;</code><code>&#13;
        </code><code class="nx">React</code><code class="p">.</code><code class="nx">HTMLAttributes</code><code class="o">&lt;</code><code class="nx">HTMLElement</code><code class="o">&gt;</code><code class="p">,</code><code>&#13;
        </code><code class="nx">HTMLElement</code><code>&#13;
      </code><code class="o">&gt;</code><code>&#13;
      </code><code class="nx">address</code><code>: </code><code class="kt">React.DetailedHTMLProps</code><code class="o">&lt;</code><code>&#13;
        </code><code class="nx">React</code><code class="p">.</code><code class="nx">HTMLAttributes</code><code class="o">&lt;</code><code class="nx">HTMLElement</code><code class="o">&gt;</code><code class="p">,</code><code>&#13;
        </code><code class="nx">HTMLElement</code><code>&#13;
      </code><code class="o">&gt;</code><code>&#13;
      </code><code class="c1">// ...&#13;
</code><code>    </code><code class="p">}</code><code>&#13;
  </code><code class="p">}</code><code>&#13;
</code><code class="p">}</code></pre>&#13;
<dl class="calloutlist">&#13;
<dt><a class="co" href="#co_tsx_CO1-1" id="callout_tsx_CO1-1"><img alt="1" src="assets/1.png"/></a></dt>&#13;
<dd><p><code>JSX.Element</code> is the type of a value-based TSX element.</p></dd>&#13;
<dt><a class="co" href="#co_tsx_CO1-2" id="callout_tsx_CO1-2"><img alt="2" src="assets/2.png"/></a></dt>&#13;
<dd><p><code>JSX.ElementClass</code> is the type of an instance of a value-based class component. Whenever you declare a class component that you plan to instantiate with TSX’s <code>&lt;MyComponent /&gt;</code> syntax, its class must satisfy this interface.</p></dd>&#13;
<dt><a class="co" href="#co_tsx_CO1-3" id="callout_tsx_CO1-3"><img alt="3" src="assets/3.png"/></a></dt>&#13;
<dd><p><code>JSX.ElementAttributesProperty</code> is the name of the property TypeScript looks at to figure out what attributes a component supports. For React, that means the <code>props</code> property. TypeScript looks for this value on a class instance.</p></dd>&#13;
<dt><a class="co" href="#co_tsx_CO1-4" id="callout_tsx_CO1-4"><img alt="4" src="assets/4.png"/></a></dt>&#13;
<dd><p><code>JSX.ElementChildrenAttribute</code> is the name of the property that TypeScript looks at to figure out what types of children a component supports. For React, that means the <code>children</code> property.</p></dd>&#13;
<dt><a class="co" href="#co_tsx_CO1-5" id="callout_tsx_CO1-5"><img alt="5" src="assets/5.png"/></a></dt>&#13;
<dd><p><code>JSX.IntrinsicAttributes</code> is the set of attributes that all intrinsic elements support. For React, that means the <code>key</code> attribute.</p></dd>&#13;
<dt><a class="co" href="#co_tsx_CO1-6" id="callout_tsx_CO1-6"><img alt="6" src="assets/6.png"/></a></dt>&#13;
<dd><p><code>JSX.IntrinsicClassAttributes</code> is the set of attributes that all class components (both intrinsic and value-based) support. For React, that means <code>ref</code>.</p></dd>&#13;
<dt><a class="co" href="#co_tsx_CO1-7" id="callout_tsx_CO1-7"><img alt="7" src="assets/7.png"/></a></dt>&#13;
<dd><p><code>JSX.LibraryManagedAttributes</code> specifies other places where JSX elements can declare and initialize property types. For React, that means <code>propTypes</code> as another place to declare property types, and <code>defaultProps</code> as the place to declare default values for properties.</p></dd>&#13;
<dt><a class="co" href="#co_tsx_CO1-8" id="callout_tsx_CO1-8"><img alt="8" src="assets/8.png"/></a></dt>&#13;
<dd><p><code>JSX.IntrinsicElements</code> enumerates every type of HTML element that you can use in TSX, mapping each element’s tag name to its attribute and children types. Because JSX isn’t HTML, React’s type declarations have to tell TypeScript exactly what elements someone might use in a TSX expression, and because you can use any standard HTML element from TSX, the declarations have to manually enumerate each element along with its attribute types (for an <code>&lt;a&gt;</code> tag, for example, valid attributes include <code>href: string</code> and <code>rel: string</code>, but not <code>value</code>) and what types of children it might have.</p></dd>&#13;
</dl>&#13;
&#13;
<p>By declaring any of these types in the global JSX namespace, you can hook into TypeScript’s typechecking behavior for TSX and customize it however you want. Unless you’re writing a library that uses TSX (and doesn’t use React), you’ll probably never touch these hooks.<a data-primary="TSX" data-secondary="reference" data-startref="ix_TSXref" data-type="indexterm" id="idm46304947046616"/></p>&#13;
</div></section></body></html>