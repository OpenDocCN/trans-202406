<html><head></head><body><section data-pdf-bookmark="Chapter 16. Working with the Console" data-type="chapter" epub:type="chapter"><div class="chapter" id="ch_console">&#13;
<h1><span class="label">Chapter 16. </span>Working with the Console</h1>&#13;
&#13;
&#13;
&#13;
&#13;
&#13;
&#13;
&#13;
<section data-pdf-bookmark="Introduction" data-type="sect1"><div class="sect1" id="id222">&#13;
<h1>Introduction</h1>&#13;
&#13;
<p><a data-primary="console" data-type="indexterm" id="ix_16-console-asciidoc0"/>Despite <a data-primary="console" data-secondary="basics" data-type="indexterm" id="id1200"/>your best intentions, things can and will go wrong with your code. There are several debugging tools available to you. Today’s browsers have powerful debuggers built in to them that let you step through code and inspect the values of variables and expressions. Sometimes, though, you might want to keep it simple and use the &#13;
<span class="keep-together">console.</span></p>&#13;
&#13;
<p>In its most basic form, you interact with the console by calling <code>console.log</code> with a message. This message is printed to the browser’s JavaScript console. While more verbose than breakpoint-based debugging, sometimes it can still be useful to log and inspect values at runtime.</p>&#13;
&#13;
<p>Other than a simple <code>console.log</code>, there are other things you can do with the console such as group messages, use counters, display tables, and even style your output with CSS. There are also other log levels (error, warn, debug) that you can use to categorize and filter your console messages.</p>&#13;
</div></section>&#13;
&#13;
&#13;
&#13;
&#13;
&#13;
&#13;
<section data-pdf-bookmark="Styling Console Output" data-type="sect1"><div class="sect1" id="id622">&#13;
<h1>Styling Console Output</h1>&#13;
&#13;
&#13;
&#13;
&#13;
&#13;
&#13;
&#13;
&#13;
<section data-pdf-bookmark="Problem" data-type="sect2"><div class="sect2" id="id223">&#13;
<h2>Problem</h2>&#13;
&#13;
<p><a data-primary="console" data-secondary="styling output" data-type="indexterm" id="id1201"/><a data-primary="styling console output" data-type="indexterm" id="id1202"/>You want to apply some CSS to your console log output. For example, maybe you want to make the font larger and change the color.</p>&#13;
</div></section>&#13;
&#13;
&#13;
&#13;
&#13;
&#13;
&#13;
&#13;
&#13;
<section data-pdf-bookmark="Solution" data-type="sect2"><div class="sect2" id="id623">&#13;
<h2>Solution</h2>&#13;
&#13;
<p>Use the <code>%c</code> <em>directive</em> in your log message to denote what text you want styled. For each usage of <code>%c</code>, add another argument to <code>console.log</code> containing CSS styles (see <a data-type="xref" href="#example16-1">Example 16-1</a>).</p>&#13;
<div data-type="example" id="example16-1">&#13;
<h5><span class="label">Example 16-1. </span>Styling console output</h5>&#13;
&#13;
<pre data-code-language="javascript" data-type="programlisting"><code class="nx">console</code><code class="p">.</code><code class="nx">log</code><code class="p">(</code><code class="s1">'%cHello world!'</code><code class="p">,</code> <code class="s1">'font-size: 2rem; color: red;'</code><code class="p">);</code>&#13;
<code class="nx">console</code><code class="p">.</code><code class="nx">log</code><code class="p">(</code><code class="s1">'This console message uses %cstyled text. %cCool!'</code><code class="p">,</code>&#13;
  <code class="s1">'font-style: italic;'</code><code class="p">,</code>&#13;
  <code class="s1">'font-weight: bold;'</code>&#13;
<code class="p">);</code></pre></div>&#13;
&#13;
<p><a data-type="xref" href="#img_styledConsole">Figure 16-1</a> shows what this styled text looks like in the console.</p>&#13;
&#13;
<figure class="width-75"><div class="figure" id="img_styledConsole">&#13;
<img alt="The styled console output" src="assets/wacb_1601.png"/>&#13;
<h6><span class="label">Figure 16-1. </span>The styled console output</h6>&#13;
</div></figure>&#13;
</div></section>&#13;
&#13;
&#13;
&#13;
&#13;
&#13;
&#13;
&#13;
&#13;
<section data-pdf-bookmark="Discussion" data-type="sect2"><div class="sect2" id="id624">&#13;
<h2>Discussion</h2>&#13;
&#13;
<p><code>console.log</code> takes a variable number of arguments. For each use of the <code>%c</code> directive, there should be a corresponding extra argument containing the styles to apply for that section of text.</p>&#13;
&#13;
<p>Notice in <a data-type="xref" href="#img_styledConsole">Figure 16-1</a> that the styles are reset between each <code>%c</code> section. The italic font from the first section does not carry over into the bold font from the second section.</p>&#13;
</div></section>&#13;
</div></section>&#13;
&#13;
&#13;
&#13;
&#13;
&#13;
&#13;
<section data-pdf-bookmark="Using Log Levels" data-type="sect1"><div class="sect1" id="id625">&#13;
<h1>Using Log Levels</h1>&#13;
&#13;
&#13;
&#13;
&#13;
&#13;
&#13;
&#13;
&#13;
<section data-pdf-bookmark="Problem" data-type="sect2"><div class="sect2" id="id314">&#13;
<h2>Problem</h2>&#13;
&#13;
<p><a data-primary="console" data-secondary="using log levels" data-type="indexterm" id="id1203"/>You want to distinguish between informational, warning, and error messages in the console.</p>&#13;
</div></section>&#13;
&#13;
&#13;
&#13;
&#13;
&#13;
&#13;
&#13;
&#13;
<section data-pdf-bookmark="Solution" data-type="sect2"><div class="sect2" id="id626">&#13;
<h2>Solution</h2>&#13;
&#13;
<p>Instead of <code>console.log</code>, use <code>console.info</code>, <code>console.warn</code>, and <code>console.error</code>, respectively (see <a data-type="xref" href="#example16-2">Example 16-2</a>). These messages are styled differently, and most browsers allow you to filter log messages by their level.</p>&#13;
<div data-type="example" id="example16-2">&#13;
<h5><span class="label">Example 16-2. </span>Using different log levels</h5>&#13;
&#13;
<pre data-code-language="javascript" data-type="programlisting"><code class="nx">console</code><code class="p">.</code><code class="nx">info</code><code class="p">(</code><code class="s1">'This is an info message'</code><code class="p">);</code>&#13;
<code class="nx">console</code><code class="p">.</code><code class="nx">warn</code><code class="p">(</code><code class="s1">'This is a warning message'</code><code class="p">);</code>&#13;
<code class="nx">console</code><code class="p">.</code><code class="nx">error</code><code class="p">(</code><code class="s1">'This is an error message'</code><code class="p">);</code></pre></div>&#13;
&#13;
<p>The messages are styled differently, with icons, as shown in <a data-type="xref" href="#img_logLevels">Figure 16-2</a>.</p>&#13;
&#13;
<figure><div class="figure" id="img_logLevels">&#13;
<img alt="The different log levels (shown in Chrome)" src="assets/wacb_1602.png"/>&#13;
<h6><span class="label">Figure 16-2. </span>The different log levels (shown in Chrome)</h6>&#13;
</div></figure>&#13;
</div></section>&#13;
&#13;
&#13;
&#13;
&#13;
&#13;
&#13;
&#13;
&#13;
<section data-pdf-bookmark="Discussion" data-type="sect2"><div class="sect2" id="id627">&#13;
<h2>Discussion</h2>&#13;
&#13;
<p>Warning and error messages also present you with a stack trace that can be expanded and viewed in the console. This makes it easy to track down where an error occurred.</p>&#13;
</div></section>&#13;
</div></section>&#13;
&#13;
&#13;
&#13;
&#13;
&#13;
&#13;
<section data-pdf-bookmark="Creating Named Loggers" data-type="sect1"><div class="sect1" id="id628">&#13;
<h1>Creating Named Loggers</h1>&#13;
&#13;
&#13;
&#13;
&#13;
&#13;
&#13;
&#13;
&#13;
<section data-pdf-bookmark="Problem" data-type="sect2"><div class="sect2" id="id315">&#13;
<h2>Problem</h2>&#13;
&#13;
<p><a data-primary="console" data-secondary="creating named loggers" data-type="indexterm" id="id1204"/>You want to log messages from different modules of your app, prefixed with the module name in a given color.</p>&#13;
</div></section>&#13;
&#13;
&#13;
&#13;
&#13;
&#13;
&#13;
&#13;
&#13;
<section data-pdf-bookmark="Solution" data-type="sect2"><div class="sect2" id="id629">&#13;
<h2>Solution</h2>&#13;
&#13;
<p>Use <code>Function.prototype.bind</code> on the <code>console.log</code> function, binding the module name prefix and color style (see <a data-type="xref" href="#example16-3">Example 16-3</a>).</p>&#13;
<div data-type="example" id="example16-3">&#13;
<h5><span class="label">Example 16-3. </span>Creating a named logger</h5>&#13;
&#13;
<pre data-code-language="javascript" data-type="programlisting"><code class="kd">function</code> <code class="nx">createLogger</code><code class="p">(</code><code class="nx">name</code><code class="p">,</code> <code class="nx">color</code><code class="p">)</code> <code class="p">{</code>&#13;
  <code class="k">return</code> <code class="nx">console</code><code class="p">.</code><code class="nx">log</code><code class="p">.</code><code class="nx">bind</code><code class="p">(</code><code class="nx">console</code><code class="p">,</code> <code class="sb">`%c</code><code class="si">${</code><code class="nx">name</code><code class="si">}</code><code class="sb">`</code><code class="p">,</code> <code class="sb">`color: </code><code class="si">${</code><code class="nx">color</code><code class="si">}</code><code class="sb">;`</code><code class="p">);</code>&#13;
<code class="p">}</code></pre></div>&#13;
&#13;
<p>The <code>createLogger</code> function returns a new log function that you can call just like <code>console.log</code>, but messages have a colored prefix (see <a data-type="xref" href="#example16-4">Example 16-4</a>).</p>&#13;
<div data-type="example" id="example16-4">&#13;
<h5><span class="label">Example 16-4. </span>Using the named loggers</h5>&#13;
&#13;
<pre data-code-language="javascript" data-type="programlisting"><code class="kr">const</code> <code class="nx">rendererLogger</code> <code class="o">=</code> <code class="nx">createLogger</code><code class="p">(</code><code class="s1">'renderer'</code><code class="p">,</code> <code class="s1">'blue'</code><code class="p">);</code>&#13;
<code class="kr">const</code> <code class="nx">dataLogger</code> <code class="o">=</code> <code class="nx">createLogger</code><code class="p">(</code><code class="s1">'data'</code><code class="p">,</code> <code class="s1">'green'</code><code class="p">);</code>&#13;
&#13;
<code class="c1">// Outputs with a blue "renderer" prefix</code>&#13;
<code class="nx">rendererLogger</code><code class="p">(</code><code class="s1">'Rendering component'</code><code class="p">);</code>&#13;
&#13;
<code class="c1">// Outputs with a green "data" prefix</code>&#13;
<code class="nx">dataLogger</code><code class="p">(</code><code class="s1">'Fetching data'</code><code class="p">);</code></pre></div>&#13;
&#13;
<p>This renders log messages with colored prefixes, as shown in <a data-type="xref" href="#img_loggers">Figure 16-3</a>.</p>&#13;
&#13;
<figure><div class="figure" id="img_loggers">&#13;
<img alt="Colored loggers (shown in Chrome)" src="assets/wacb_1603.png"/>&#13;
<h6><span class="label">Figure 16-3. </span>Colored loggers (shown in Chrome)</h6>&#13;
</div></figure>&#13;
</div></section>&#13;
&#13;
&#13;
&#13;
&#13;
&#13;
&#13;
&#13;
&#13;
<section data-pdf-bookmark="Discussion" data-type="sect2"><div class="sect2" id="id630">&#13;
<h2>Discussion</h2>&#13;
&#13;
<p>Calling <code>bind</code> in this way creates a <em>partially applied</em> version of the <code>console.log</code> function that automatically adds the prefix and color. Any further arguments you pass to it are added after the prefix and color style.</p>&#13;
</div></section>&#13;
</div></section>&#13;
&#13;
&#13;
&#13;
&#13;
&#13;
&#13;
<section data-pdf-bookmark="Displaying an Array of Objects in a Table" data-type="sect1"><div class="sect1" id="id631">&#13;
<h1>Displaying an Array of Objects in a Table</h1>&#13;
&#13;
&#13;
&#13;
&#13;
&#13;
&#13;
&#13;
&#13;
<section data-pdf-bookmark="Problem" data-type="sect2"><div class="sect2" id="id224">&#13;
<h2>Problem</h2>&#13;
&#13;
<p><a data-primary="arrays" data-secondary="displaying an array of objects in a table" data-type="indexterm" id="id1205"/><a data-primary="console" data-secondary="displaying an array of objects in a table" data-type="indexterm" id="id1206"/><a data-primary="object arrays, displaying in table" data-type="indexterm" id="id1207"/><a data-primary="tables, displaying an array of objects in" data-type="indexterm" id="id1208"/>You have an array of objects that you want to log in an easily readable way.</p>&#13;
</div></section>&#13;
&#13;
&#13;
&#13;
&#13;
&#13;
&#13;
&#13;
&#13;
<section data-pdf-bookmark="Solution" data-type="sect2"><div class="sect2" id="id632">&#13;
<h2>Solution</h2>&#13;
&#13;
<p>Pass the array to <code>console.table</code> and it displays a table. There is a column for each object property, and a row for each object in the array (see <a data-type="xref" href="#example16-5">Example 16-5</a>).</p>&#13;
<div data-type="example" id="example16-5">&#13;
<h5><span class="label">Example 16-5. </span>Logging a table</h5>&#13;
&#13;
<pre data-code-language="javascript" data-type="programlisting"><code class="kr">const</code> <code class="nx">users</code> <code class="o">=</code> <code class="p">[</code>&#13;
  <code class="p">{</code> <code class="nx">firstName</code><code class="o">:</code> <code class="s2">"John"</code><code class="p">,</code> <code class="nx">lastName</code><code class="o">:</code> <code class="s2">"Smith"</code><code class="p">,</code> <code class="nx">department</code><code class="o">:</code> <code class="s2">"Sales"</code> <code class="p">},</code>&#13;
  <code class="p">{</code> <code class="nx">firstName</code><code class="o">:</code> <code class="s2">"Emily"</code><code class="p">,</code> <code class="nx">lastName</code><code class="o">:</code> <code class="s2">"Johnson"</code><code class="p">,</code> <code class="nx">department</code><code class="o">:</code> <code class="s2">"Marketing"</code> <code class="p">},</code>&#13;
  <code class="p">{</code> <code class="nx">firstName</code><code class="o">:</code> <code class="s2">"Michael"</code><code class="p">,</code> <code class="nx">lastName</code><code class="o">:</code> <code class="s2">"Davis"</code><code class="p">,</code> <code class="nx">department</code><code class="o">:</code> <code class="s2">"Human Resources"</code> <code class="p">},</code>&#13;
  <code class="p">{</code> <code class="nx">firstName</code><code class="o">:</code> <code class="s2">"Sarah"</code><code class="p">,</code> <code class="nx">lastName</code><code class="o">:</code> <code class="s2">"Thompson"</code><code class="p">,</code> <code class="nx">department</code><code class="o">:</code> <code class="s2">"Finance"</code> <code class="p">},</code>&#13;
  <code class="p">{</code> <code class="nx">firstName</code><code class="o">:</code> <code class="s2">"David"</code><code class="p">,</code> <code class="nx">lastName</code><code class="o">:</code> <code class="s2">"Wilson"</code><code class="p">,</code> <code class="nx">department</code><code class="o">:</code> <code class="s2">"Engineering"</code> <code class="p">}</code>&#13;
<code class="p">];</code>&#13;
&#13;
<code class="nx">console</code><code class="p">.</code><code class="nx">table</code><code class="p">(</code><code class="nx">users</code><code class="p">);</code></pre></div>&#13;
&#13;
<p><a data-type="xref" href="#img_table">Figure 16-4</a> shows how the data is logged in table form.</p>&#13;
&#13;
<figure><div class="figure" id="img_table">&#13;
<img alt="The different log levels (shown in Chrome)" src="assets/wacb_1604.png"/>&#13;
<h6><span class="label">Figure 16-4. </span>The logged table (shown in Chrome)</h6>&#13;
</div></figure>&#13;
</div></section>&#13;
&#13;
&#13;
&#13;
&#13;
&#13;
&#13;
&#13;
&#13;
<section data-pdf-bookmark="Discussion" data-type="sect2"><div class="sect2" id="id633">&#13;
<h2>Discussion</h2>&#13;
&#13;
<p>You can limit what object properties are shown by passing a second argument to <code>console.table</code>. This argument is an array of property names. If given, only those properties are shown in the table output.</p>&#13;
&#13;
<p><code>console.table</code> can also be used with an object. In <a data-type="xref" href="#code_objectTable">Example 16-6</a>, the <code>index</code> column contains the property names rather than array indices.</p>&#13;
<div data-type="example" id="code_objectTable">&#13;
<h5><span class="label">Example 16-6. </span>Passing an object to <code>console.table</code></h5>&#13;
&#13;
<pre data-code-language="javascript" data-type="programlisting"><code class="nx">console</code><code class="p">.</code><code class="nx">table</code><code class="p">({</code>&#13;
  <code class="nx">name</code><code class="o">:</code> <code class="s1">'sysadmin'</code><code class="p">,</code>&#13;
  <code class="nx">email</code><code class="o">:</code> <code class="s1">'admin@example.com'</code>&#13;
<code class="p">});</code></pre></div>&#13;
&#13;
<p><a data-type="xref" href="#code_objectTable">Example 16-6</a> produces the table in <a data-type="xref" href="#img_objectTable">Figure 16-5</a>.</p>&#13;
&#13;
<figure><div class="figure" id="img_objectTable">&#13;
<img alt="The different log levels (shown in Chrome)" src="assets/wacb_1605.png"/>&#13;
<h6><span class="label">Figure 16-5. </span>The logged table (shown in Chrome)</h6>&#13;
</div></figure>&#13;
&#13;
<p><a data-type="xref" href="#code_limitColumns">Example 16-7</a> logs the users in a table, but only shows the firstName and lastName columns (see <a data-type="xref" href="#img_tableColumns">Figure 16-6</a>).</p>&#13;
<div data-type="example" id="code_limitColumns">&#13;
<h5><span class="label">Example 16-7. </span>Limiting table columns</h5>&#13;
&#13;
<pre data-code-language="javascript" data-type="programlisting"><code class="kr">const</code> <code class="nx">users</code> <code class="o">=</code> <code class="p">[</code>&#13;
  <code class="p">{</code> <code class="nx">firstName</code><code class="o">:</code> <code class="s2">"John"</code><code class="p">,</code> <code class="nx">lastName</code><code class="o">:</code> <code class="s2">"Smith"</code><code class="p">,</code> <code class="nx">department</code><code class="o">:</code> <code class="s2">"Sales"</code> <code class="p">},</code>&#13;
  <code class="p">{</code> <code class="nx">firstName</code><code class="o">:</code> <code class="s2">"Emily"</code><code class="p">,</code> <code class="nx">lastName</code><code class="o">:</code> <code class="s2">"Johnson"</code><code class="p">,</code> <code class="nx">department</code><code class="o">:</code> <code class="s2">"Marketing"</code> <code class="p">},</code>&#13;
  <code class="p">{</code> <code class="nx">firstName</code><code class="o">:</code> <code class="s2">"Michael"</code><code class="p">,</code> <code class="nx">lastName</code><code class="o">:</code> <code class="s2">"Davis"</code><code class="p">,</code> <code class="nx">department</code><code class="o">:</code> <code class="s2">"Human Resources"</code> <code class="p">},</code>&#13;
  <code class="p">{</code> <code class="nx">firstName</code><code class="o">:</code> <code class="s2">"Sarah"</code><code class="p">,</code> <code class="nx">lastName</code><code class="o">:</code> <code class="s2">"Thompson"</code><code class="p">,</code> <code class="nx">department</code><code class="o">:</code> <code class="s2">"Finance"</code> <code class="p">},</code>&#13;
  <code class="p">{</code> <code class="nx">firstName</code><code class="o">:</code> <code class="s2">"David"</code><code class="p">,</code> <code class="nx">lastName</code><code class="o">:</code> <code class="s2">"Wilson"</code><code class="p">,</code> <code class="nx">department</code><code class="o">:</code> <code class="s2">"Engineering"</code> <code class="p">}</code>&#13;
<code class="p">];</code>&#13;
&#13;
<code class="nx">console</code><code class="p">.</code><code class="nx">table</code><code class="p">(</code><code class="nx">users</code><code class="p">,</code> <code class="p">[</code><code class="s1">'firstName'</code><code class="p">,</code> <code class="s1">'lastName'</code><code class="p">]);</code></pre></div>&#13;
&#13;
<figure><div class="figure" id="img_tableColumns">&#13;
<img alt="Showing only the first and last name columns (shown in Chrome)" src="assets/wacb_1606.png"/>&#13;
<h6><span class="label">Figure 16-6. </span>Showing only the first and last name columns (shown in Chrome)</h6>&#13;
</div></figure>&#13;
&#13;
<p>The rendered table is also sortable. You can click on a column name to sort the table by that column (see <a data-type="xref" href="#img_tableSorted">Figure 16-7</a>).</p>&#13;
&#13;
<figure><div class="figure" id="img_tableSorted">&#13;
<img alt="Sorting the table by last name (shown in Chrome)" src="assets/wacb_1607.png"/>&#13;
<h6><span class="label">Figure 16-7. </span>Sorting the table by last name (shown in Chrome)</h6>&#13;
</div></figure>&#13;
</div></section>&#13;
</div></section>&#13;
&#13;
&#13;
&#13;
&#13;
&#13;
&#13;
<section data-pdf-bookmark="Using Console Timers" data-type="sect1"><div class="sect1" id="id634">&#13;
<h1>Using Console Timers</h1>&#13;
&#13;
&#13;
&#13;
&#13;
&#13;
&#13;
&#13;
&#13;
<section data-pdf-bookmark="Problem" data-type="sect2"><div class="sect2" id="id225">&#13;
<h2>Problem</h2>&#13;
&#13;
<p><a data-primary="console" data-secondary="console timers" data-type="indexterm" id="id1209"/><a data-primary="timers, console" data-type="indexterm" id="id1210"/>You want to calculate the time taken by some code, for debugging purposes.</p>&#13;
</div></section>&#13;
&#13;
&#13;
&#13;
&#13;
&#13;
&#13;
&#13;
&#13;
<section data-pdf-bookmark="Solution" data-type="sect2"><div class="sect2" id="id635">&#13;
<h2>Solution</h2>&#13;
&#13;
<p>Use the <code>console.time</code> and <code>console.timeEnd</code> methods (see <a data-type="xref" href="#example16-8">Example 16-8</a>).</p>&#13;
<div data-type="example" id="example16-8">&#13;
<h5><span class="label">Example 16-8. </span>Using <code>console.time</code> and <code>console.timeEnd</code></h5>&#13;
&#13;
<pre data-code-language="javascript" data-type="programlisting"><code class="c1">// Start the' loadTransactions' timer.</code>&#13;
<code class="nx">console</code><code class="p">.</code><code class="nx">time</code><code class="p">(</code><code class="s1">'loadTransactions'</code><code class="p">);</code>&#13;
&#13;
<code class="c1">// Load some data.</code>&#13;
<code class="kr">const</code> <code class="nx">data</code> <code class="o">=</code> <code class="nx">await</code> <code class="nx">fetch</code><code class="p">(</code><code class="s1">'/api/users/123/transactions'</code><code class="p">);</code>&#13;
&#13;
<code class="c1">// Stop the 'loadTransactions' timer.</code>&#13;
<code class="c1">// Prints: "loadTransactions: &lt;elapsed time&gt; ms"</code>&#13;
<code class="nx">console</code><code class="p">.</code><code class="nx">timeEnd</code><code class="p">(</code><code class="s1">'loadTransactions'</code><code class="p">);</code></pre></div>&#13;
&#13;
<p>When you call <code>console.time</code> with a timer name, it starts the named timer. Go perform whatever work you want to profile and when you’re done, call <code>console.timeEnd</code> with the same timer name. The elapsed time, along with the timer name, is printed to the console.</p>&#13;
&#13;
<p>If you call <code>console.timeEnd</code> with a timer name that doesn’t match a previous call to <code>console.time</code>, no error is thrown, but a warning message is logged to the console that the timer does not exist.</p>&#13;
</div></section>&#13;
&#13;
&#13;
&#13;
&#13;
&#13;
&#13;
&#13;
&#13;
<section data-pdf-bookmark="Discussion" data-type="sect2"><div class="sect2" id="id636">&#13;
<h2>Discussion</h2>&#13;
&#13;
<p>This is different from using <code>window.performance.mark</code> and <code>window.perfor⁠mance​.measure</code> as described in <a data-type="xref" href="ch15.html#ch_performance">Chapter 15</a>. <code>console.time</code> is used for ad hoc timing, usually during debugging. The notable difference is that <code>console.time</code> and <code>console.timeEnd</code> do <em>not</em> add entries to the performance timeline. Once you call <code>console.timeEnd</code> for a given timer, that timer is destroyed. If you want timing data that is persisted in memory, you might want to use the Performance API instead.</p>&#13;
</div></section>&#13;
</div></section>&#13;
&#13;
&#13;
&#13;
&#13;
&#13;
&#13;
<section data-pdf-bookmark="Using Console Groups" data-type="sect1"><div class="sect1" id="id637">&#13;
<h1>Using Console Groups</h1>&#13;
&#13;
&#13;
&#13;
&#13;
&#13;
&#13;
&#13;
&#13;
<section data-pdf-bookmark="Problem" data-type="sect2"><div class="sect2" id="id316">&#13;
<h2>Problem</h2>&#13;
&#13;
<p><a data-primary="console" data-secondary="console groups" data-type="indexterm" id="id1211"/>You want to better organize groups of log messages.</p>&#13;
</div></section>&#13;
&#13;
&#13;
&#13;
&#13;
&#13;
&#13;
&#13;
&#13;
<section data-pdf-bookmark="Solution" data-type="sect2"><div class="sect2" id="id638">&#13;
<h2>Solution</h2>&#13;
&#13;
<p>Use <code>console.group</code> to create nested groups of messages that can be expanded and collapsed (see <a data-type="xref" href="#example16-9">Example 16-9</a>).</p>&#13;
<div data-type="example" id="example16-9">&#13;
<h5><span class="label">Example 16-9. </span>Using console groups</h5>&#13;
&#13;
<pre data-code-language="javascript" data-type="programlisting"><code class="kr">const</code> <code class="nx">users</code> <code class="o">=</code> <code class="p">[</code>&#13;
  <code class="p">{</code> <code class="nx">id</code><code class="o">:</code> <code class="mi">1</code><code class="p">,</code> <code class="nx">firstName</code><code class="o">:</code> <code class="s2">"John"</code><code class="p">,</code> <code class="nx">lastName</code><code class="o">:</code> <code class="s2">"Smith"</code><code class="p">,</code> <code class="nx">department</code><code class="o">:</code> <code class="s2">"Sales"</code> <code class="p">},</code>&#13;
  <code class="p">{</code> <code class="nx">id</code><code class="o">:</code> <code class="mi">2</code><code class="p">,</code> <code class="nx">firstName</code><code class="o">:</code> <code class="s2">"Emily"</code><code class="p">,</code> <code class="nx">lastName</code><code class="o">:</code> <code class="s2">"Johnson"</code><code class="p">,</code> <code class="nx">department</code><code class="o">:</code> <code class="s2">"Marketing"</code> <code class="p">},</code>&#13;
  <code class="p">{</code> <code class="nx">id</code><code class="o">:</code> <code class="mi">3</code><code class="p">,</code> <code class="nx">firstName</code><code class="o">:</code> <code class="s2">"Michael"</code><code class="p">,</code> <code class="nx">lastName</code><code class="o">:</code> <code class="s2">"Davis"</code><code class="p">,</code> <code class="nx">department</code><code class="o">:</code> <code class="s2">"Human Resources"</code> <code class="p">},</code>&#13;
  <code class="p">{</code> <code class="nx">id</code><code class="o">:</code> <code class="mi">4</code><code class="p">,</code> <code class="nx">firstName</code><code class="o">:</code> <code class="s2">"Sarah"</code><code class="p">,</code> <code class="nx">lastName</code><code class="o">:</code> <code class="s2">"Thompson"</code><code class="p">,</code> <code class="nx">department</code><code class="o">:</code> <code class="s2">"Finance"</code> <code class="p">},</code>&#13;
  <code class="p">{</code> <code class="nx">id</code><code class="o">:</code> <code class="mi">5</code><code class="p">,</code> <code class="nx">firstName</code><code class="o">:</code> <code class="s2">"David"</code><code class="p">,</code> <code class="nx">lastName</code><code class="o">:</code> <code class="s2">"Wilson"</code><code class="p">,</code> <code class="nx">department</code><code class="o">:</code> <code class="s2">"Engineering"</code> <code class="p">}</code>&#13;
<code class="p">];</code>&#13;
&#13;
<code class="nx">console</code><code class="p">.</code><code class="nx">log</code><code class="p">(</code><code class="s1">'Updating user data'</code><code class="p">);</code>&#13;
<code class="k">for</code> <code class="p">(</code><code class="kr">const</code> <code class="nx">user</code> <code class="k">of</code> <code class="nx">users</code><code class="p">)</code> <code class="p">{</code>&#13;
  <code class="nx">console</code><code class="p">.</code><code class="nx">group</code><code class="p">(</code><code class="sb">`User: </code><code class="si">${</code><code class="nx">user</code><code class="p">.</code><code class="nx">firstName</code><code class="si">}</code><code class="sb"> </code><code class="si">${</code><code class="nx">user</code><code class="p">.</code><code class="nx">lastName</code><code class="si">}</code><code class="sb">`</code><code class="p">);</code>&#13;
  <code class="nx">console</code><code class="p">.</code><code class="nx">log</code><code class="p">(</code><code class="s1">'Loading employee data from API'</code><code class="p">);</code>&#13;
  <code class="kr">const</code> <code class="nx">response</code> <code class="o">=</code> <code class="nx">await</code> <code class="nx">fetch</code><code class="p">(</code><code class="sb">`/api/users/</code><code class="si">${</code><code class="nx">user</code><code class="p">.</code><code class="nx">id</code><code class="si">}</code><code class="sb">`</code><code class="p">);</code>&#13;
  <code class="kr">const</code> <code class="nx">userData</code> <code class="o">=</code> <code class="nx">await</code> <code class="nx">response</code><code class="p">.</code><code class="nx">json</code><code class="p">();</code>&#13;
&#13;
  <code class="nx">console</code><code class="p">.</code><code class="nx">log</code><code class="p">(</code><code class="s1">'Updating profile'</code><code class="p">);</code>&#13;
  <code class="nx">userData</code><code class="p">.</code><code class="nx">lastUpdated</code> <code class="o">=</code> <code class="nb">Date</code><code class="p">.</code><code class="nx">now</code><code class="p">();</code>&#13;
&#13;
  <code class="nx">console</code><code class="p">.</code><code class="nx">log</code><code class="p">(</code><code class="s1">'Saving user data'</code><code class="p">);</code>&#13;
  <code class="nx">await</code> <code class="nx">fetch</code><code class="p">(</code><code class="sb">`/api/users/</code><code class="si">${</code><code class="nx">user</code><code class="p">.</code><code class="nx">id</code><code class="si">}</code><code class="sb">`</code><code class="p">,</code> <code class="p">{</code>&#13;
    <code class="nx">method</code><code class="o">:</code> <code class="s1">'POST'</code><code class="p">,</code>&#13;
    <code class="nx">body</code><code class="o">:</code> <code class="nx">JSON</code><code class="p">.</code><code class="nx">stringify</code><code class="p">(</code><code class="nx">userData</code><code class="p">),</code>&#13;
    <code class="nx">headers</code><code class="o">:</code> <code class="p">{</code>&#13;
      <code class="s1">'Content-Type'</code><code class="o">:</code> <code class="s1">'application/json'</code>&#13;
    <code class="p">}</code>&#13;
  <code class="p">});</code>&#13;
  <code class="nx">console</code><code class="p">.</code><code class="nx">groupEnd</code><code class="p">();</code>&#13;
<code class="p">}</code></pre></div>&#13;
&#13;
<p>This prints grouped messages to the console. You can expand and collapse the groups so you can focus on the specific group you’re interested in, as shown in <a data-type="xref" href="#img_tableGroups">Figure 16-8</a>.</p>&#13;
&#13;
<figure class="width-50"><div class="figure" id="img_tableGroups">&#13;
<img alt="Grouped console messages (shown in Chrome)" src="assets/wacb_1608.png"/>&#13;
<h6><span class="label">Figure 16-8. </span>Grouped console messages (shown in Chrome)</h6>&#13;
</div></figure>&#13;
</div></section>&#13;
&#13;
&#13;
&#13;
&#13;
&#13;
&#13;
&#13;
&#13;
<section data-pdf-bookmark="Discussion" data-type="sect2"><div class="sect2" id="id639">&#13;
<h2>Discussion</h2>&#13;
&#13;
<p>You can also use console groups to trace complex algorithms. Groups can be nested several levels deep, making it much easier to follow your log messages during a complex calculation. This is particularly valuable when there are a lot of messages to sort through. If you want a group to be collapsed by default, you can call <code>console.groupCollapsed</code> instead of <code>console.group</code>.</p>&#13;
</div></section>&#13;
</div></section>&#13;
&#13;
&#13;
&#13;
&#13;
&#13;
&#13;
<section data-pdf-bookmark="Using Counters" data-type="sect1"><div class="sect1" id="id640">&#13;
<h1>Using Counters</h1>&#13;
&#13;
&#13;
&#13;
&#13;
&#13;
&#13;
&#13;
&#13;
<section data-pdf-bookmark="Problem" data-type="sect2"><div class="sect2" id="id226">&#13;
<h2>Problem</h2>&#13;
&#13;
<p><a data-primary="console" data-secondary="counters" data-type="indexterm" id="id1212"/><a data-primary="counters" data-type="indexterm" id="id1213"/>You want to count the number of times a part of your code is called.</p>&#13;
</div></section>&#13;
&#13;
&#13;
&#13;
&#13;
&#13;
&#13;
&#13;
&#13;
<section data-pdf-bookmark="Solution" data-type="sect2"><div class="sect2" id="id641">&#13;
<h2>Solution</h2>&#13;
&#13;
<p>Call <code>console.count</code> with a counter name that is unique to your code. Every time the <code>console.count</code> statement is executed, it prints and increments the counter value. This lets you keep track of how many times the call to <code>console.count</code> was hit.</p>&#13;
<div data-type="example" id="code_counters">&#13;
<h5><span class="label">Example 16-10. </span>Using counters</h5>&#13;
&#13;
<pre data-code-language="javascript" data-type="programlisting"><code class="kr">const</code> <code class="nx">users</code> <code class="o">=</code> <code class="p">[</code>&#13;
  <code class="p">{</code> <code class="nx">id</code><code class="o">:</code> <code class="mi">1</code><code class="p">,</code> <code class="nx">firstName</code><code class="o">:</code> <code class="s2">"John"</code><code class="p">,</code> <code class="nx">lastName</code><code class="o">:</code> <code class="s2">"Smith"</code><code class="p">,</code> <code class="nx">department</code><code class="o">:</code> <code class="s2">"Sales"</code> <code class="p">},</code>&#13;
  <code class="p">{</code> <code class="nx">id</code><code class="o">:</code> <code class="mi">2</code><code class="p">,</code> <code class="nx">firstName</code><code class="o">:</code> <code class="s2">"Emily"</code><code class="p">,</code> <code class="nx">lastName</code><code class="o">:</code> <code class="s2">"Johnson"</code><code class="p">,</code> <code class="nx">department</code><code class="o">:</code> <code class="s2">"Marketing"</code> <code class="p">},</code>&#13;
  <code class="p">{</code> <code class="nx">id</code><code class="o">:</code> <code class="mi">3</code><code class="p">,</code> <code class="nx">firstName</code><code class="o">:</code> <code class="s2">"Michael"</code><code class="p">,</code> <code class="nx">lastName</code><code class="o">:</code> <code class="s2">"Davis"</code><code class="p">,</code> <code class="nx">department</code><code class="o">:</code> <code class="s2">"Human Resources"</code> <code class="p">},</code>&#13;
  <code class="p">{</code> <code class="nx">id</code><code class="o">:</code> <code class="mi">4</code><code class="p">,</code> <code class="nx">firstName</code><code class="o">:</code> <code class="s2">"Sarah"</code><code class="p">,</code> <code class="nx">lastName</code><code class="o">:</code> <code class="s2">"Thompson"</code><code class="p">,</code> <code class="nx">department</code><code class="o">:</code> <code class="s2">"Finance"</code> <code class="p">},</code>&#13;
  <code class="p">{</code> <code class="nx">id</code><code class="o">:</code> <code class="mi">5</code><code class="p">,</code> <code class="nx">firstName</code><code class="o">:</code> <code class="s2">"David"</code><code class="p">,</code> <code class="nx">lastName</code><code class="o">:</code> <code class="s2">"Wilson"</code><code class="p">,</code> <code class="nx">department</code><code class="o">:</code> <code class="s2">"Engineering"</code> <code class="p">}</code>&#13;
<code class="p">];</code>&#13;
&#13;
<code class="nx">users</code><code class="p">.</code><code class="nx">forEach</code><code class="p">(</code><code class="nx">user</code> <code class="o">=&gt;</code> <code class="p">{</code>&#13;
  <code class="nx">console</code><code class="p">.</code><code class="nx">count</code><code class="p">(</code><code class="s1">'user'</code><code class="p">);</code>&#13;
<code class="p">});</code></pre></div>&#13;
&#13;
<p><a data-type="xref" href="#code_counters">Example 16-10</a> prints out the output shown in <a data-type="xref" href="#example16-11">Example 16-11</a>.</p>&#13;
<div data-type="example" id="example16-11">&#13;
<h5><span class="label">Example 16-11. </span>The counter output</h5>&#13;
&#13;
<pre data-code-language="text" data-type="programlisting">user: 1&#13;
user: 2&#13;
user: 3&#13;
user: 4&#13;
user: 5</pre></div>&#13;
</div></section>&#13;
&#13;
&#13;
&#13;
&#13;
&#13;
&#13;
&#13;
&#13;
<section data-pdf-bookmark="Discussion" data-type="sect2"><div class="sect2" id="id642">&#13;
<h2>Discussion</h2>&#13;
&#13;
<p><code>console.count</code> is useful for tracing loop iterations or recursive function calls. Like other console methods, it is primarily intended for debugging purposes and isn’t meant for collecting usage metrics.</p>&#13;
&#13;
<p>You can also call <code>console.count</code> without any arguments, in which case it uses a counter called <code>default</code>.</p>&#13;
</div></section>&#13;
</div></section>&#13;
&#13;
&#13;
&#13;
&#13;
&#13;
&#13;
<section data-pdf-bookmark="Logging a Variable and Its Value" data-type="sect1"><div class="sect1" id="id643">&#13;
<h1>Logging a Variable and Its Value</h1>&#13;
&#13;
&#13;
&#13;
&#13;
&#13;
&#13;
&#13;
&#13;
<section data-pdf-bookmark="Problem" data-type="sect2"><div class="sect2" id="id227">&#13;
<h2>Problem</h2>&#13;
&#13;
<p><a data-primary="console" data-secondary="logging a variable and its value" data-type="indexterm" id="id1214"/><a data-primary="variables, logging" data-type="indexterm" id="id1215"/>You want to log a variable name and its value without having to type the name twice.</p>&#13;
</div></section>&#13;
&#13;
&#13;
&#13;
&#13;
&#13;
&#13;
&#13;
&#13;
<section data-pdf-bookmark="Solution" data-type="sect2"><div class="sect2" id="id644">&#13;
<h2>Solution</h2>&#13;
&#13;
<p>Use object shorthand notation to log an object containing the variable (see <a data-type="xref" href="#example16-12">Example 16-12</a>).</p>&#13;
<div data-type="example" id="example16-12">&#13;
<h5><span class="label">Example 16-12. </span>Logging a variable and its value</h5>&#13;
&#13;
<pre data-code-language="javascript" data-type="programlisting"><code class="kr">const</code> <code class="nx">username</code> <code class="o">=</code> <code class="s1">'sysadmin'</code><code class="p">;</code>&#13;
&#13;
<code class="c1">// logs { username: 'sysadmin' }</code>&#13;
<code class="nx">console</code><code class="p">.</code><code class="nx">log</code><code class="p">({</code> <code class="nx">username</code> <code class="p">});</code></pre></div>&#13;
&#13;
<p>This creates an object whose name is <code>username</code>, and whose value is the value of the <code>username</code> variable, and logs it to the console, as shown in <a data-type="xref" href="#img_nameValue">Figure 16-9</a>.</p>&#13;
&#13;
<figure><div class="figure" id="img_nameValue">&#13;
<img alt="Object with the named value (shown in Chrome)" src="assets/wacb_1609.png"/>&#13;
<h6><span class="label">Figure 16-9. </span>Object with the named value (shown in Chrome)</h6>&#13;
</div></figure>&#13;
</div></section>&#13;
&#13;
&#13;
&#13;
&#13;
&#13;
&#13;
&#13;
&#13;
<section data-pdf-bookmark="Discussion" data-type="sect2"><div class="sect2" id="id645">&#13;
<h2>Discussion</h2>&#13;
&#13;
<p>Before object shorthand notation, you would need to type the variable name twice (see <a data-type="xref" href="#example16-13">Example 16-13</a>).</p>&#13;
<div data-type="example" id="example16-13">&#13;
<h5><span class="label">Example 16-13. </span>Logging a variable and its value without object shorthand</h5>&#13;
&#13;
<pre data-code-language="javascript" data-type="programlisting"><code class="kr">const</code> <code class="nx">username</code> <code class="o">=</code> <code class="s1">'sysadmin'</code><code class="p">;</code>&#13;
&#13;
<code class="nx">console</code><code class="p">.</code><code class="nx">log</code><code class="p">(</code><code class="s1">'username'</code><code class="p">,</code> <code class="nx">username</code><code class="p">);</code></pre></div>&#13;
&#13;
<p>It’s not much of a change, but it’s a quick time-saving shortcut.</p>&#13;
</div></section>&#13;
</div></section>&#13;
&#13;
&#13;
&#13;
&#13;
&#13;
&#13;
<section data-pdf-bookmark="Logging a Stack Trace" data-type="sect1"><div class="sect1" id="id646">&#13;
<h1>Logging a Stack Trace</h1>&#13;
&#13;
&#13;
&#13;
&#13;
&#13;
&#13;
&#13;
&#13;
<section data-pdf-bookmark="Problem" data-type="sect2"><div class="sect2" id="id228">&#13;
<h2>Problem</h2>&#13;
&#13;
<p><a data-primary="console" data-secondary="logging stack traces" data-type="indexterm" id="id1216"/><a data-primary="stack traces, logging" data-type="indexterm" id="id1217"/>You want to see a stack trace of where the code is currently being executed.</p>&#13;
</div></section>&#13;
&#13;
&#13;
&#13;
&#13;
&#13;
&#13;
&#13;
&#13;
<section data-pdf-bookmark="Solution" data-type="sect2"><div class="sect2" id="id647">&#13;
<h2>Solution</h2>&#13;
&#13;
<p>Use <code>console.trace</code> to log a trace of the current call stack (see <a data-type="xref" href="#example16-14">Example 16-14</a>).</p>&#13;
<div data-type="example" id="example16-14">&#13;
<h5><span class="label">Example 16-14. </span>Using <code>console.trace</code></h5>&#13;
&#13;
<pre data-code-language="javascript" data-type="programlisting"><code class="kd">function</code> <code class="nx">foo</code><code class="p">()</code> <code class="p">{</code>&#13;
  <code class="kd">function</code> <code class="nx">bar</code><code class="p">()</code> <code class="p">{</code>&#13;
    <code class="nx">console</code><code class="p">.</code><code class="nx">trace</code><code class="p">();</code>&#13;
  <code class="p">}</code>&#13;
  <code class="nx">bar</code><code class="p">();</code>&#13;
<code class="p">}</code>&#13;
&#13;
<code class="nx">foo</code><code class="p">();</code></pre></div>&#13;
&#13;
<p>This outputs the stack trace shown in <a data-type="xref" href="#img_trace">Figure 16-10</a>.</p>&#13;
&#13;
<figure class="width-55"><div class="figure" id="img_trace">&#13;
<img alt="Logging a stack trace (shown in Chrome)" src="assets/wacb_1610.png"/>&#13;
<h6><span class="label">Figure 16-10. </span>Logging a stack trace (shown in Chrome)</h6>&#13;
</div></figure>&#13;
</div></section>&#13;
&#13;
&#13;
&#13;
&#13;
&#13;
&#13;
&#13;
&#13;
<section data-pdf-bookmark="Discussion" data-type="sect2"><div class="sect2" id="id648">&#13;
<h2>Discussion</h2>&#13;
&#13;
<p>A stack trace is a useful debugging tool. It shows the current state of the call stack. The first entry in the stack trace is the <code>console.trace</code> call itself. Then, the next entry is whatever function called the function containing the <code>console.trace</code> call, and so on. In most browsers, you can click on a stack trace element to jump to that line of code. You can use this to add log statements or set breakpoints.</p>&#13;
</div></section>&#13;
</div></section>&#13;
&#13;
&#13;
&#13;
&#13;
&#13;
&#13;
<section data-pdf-bookmark="Validating Expected Values" data-type="sect1"><div class="sect1" id="id649">&#13;
<h1>Validating Expected Values</h1>&#13;
&#13;
&#13;
&#13;
&#13;
&#13;
&#13;
&#13;
&#13;
<section data-pdf-bookmark="Problem" data-type="sect2"><div class="sect2" id="id317">&#13;
<h2>Problem</h2>&#13;
&#13;
<p><a data-primary="console" data-secondary="validating expected values" data-type="indexterm" id="id1218"/>While debugging, you want to make sure an expression has an expected value. If it doesn’t, you want to see a console error.</p>&#13;
</div></section>&#13;
&#13;
&#13;
&#13;
&#13;
&#13;
&#13;
&#13;
&#13;
<section data-pdf-bookmark="Solution" data-type="sect2"><div class="sect2" id="id650">&#13;
<h2>Solution</h2>&#13;
&#13;
<p>Use <code>console.assert</code> to print an error if the expression doesn’t match what you expect (see <a data-type="xref" href="#code_assertUser">Example 16-15</a>).</p>&#13;
<div data-type="example" id="code_assertUser">&#13;
<h5><span class="label">Example 16-15. </span>Using <code>console.assert</code></h5>&#13;
&#13;
<pre data-code-language="javascript" data-type="programlisting"><code class="kd">function</code> <code class="nx">updateUser</code><code class="p">(</code><code class="nx">user</code><code class="p">)</code> <code class="p">{</code>&#13;
  <code class="c1">// Log an error if the user id is null.</code>&#13;
  <code class="nx">console</code><code class="p">.</code><code class="nx">assert</code><code class="p">(</code><code class="nx">user</code><code class="p">.</code><code class="nx">id</code> <code class="o">!==</code> <code class="kc">null</code><code class="p">,</code> <code class="s1">'user.id must not be null'</code><code class="p">);</code>&#13;
&#13;
  <code class="c1">// Update the user.</code>&#13;
  <code class="k">return</code> <code class="nx">fetch</code><code class="p">(</code><code class="sb">`/api/users/</code><code class="si">${</code><code class="nx">user</code><code class="p">.</code><code class="nx">id</code><code class="si">}</code><code class="sb">`</code><code class="p">,</code> <code class="p">{</code>&#13;
    <code class="nx">method</code><code class="o">:</code> <code class="s1">'PUT'</code><code class="p">,</code>&#13;
    <code class="nx">body</code><code class="o">:</code> <code class="nx">JSON</code><code class="p">.</code><code class="nx">stringify</code><code class="p">(</code><code class="nx">user</code><code class="p">),</code>&#13;
    <code class="nx">headers</code><code class="o">:</code> <code class="p">{</code>&#13;
      <code class="s1">'Content-Type'</code><code class="o">:</code> <code class="s1">'application/json'</code>&#13;
    <code class="p">}</code>&#13;
  <code class="p">});</code>&#13;
<code class="p">}</code></pre></div>&#13;
&#13;
<p>If <code>updateUser</code> is called with a user object without an <code>id</code> property, the error is logged.</p>&#13;
</div></section>&#13;
&#13;
&#13;
&#13;
&#13;
&#13;
&#13;
&#13;
&#13;
<section data-pdf-bookmark="Discussion" data-type="sect2"><div class="sect2" id="id651">&#13;
<h2>Discussion</h2>&#13;
&#13;
<p>Assertions are not typically used in production, as it’s a debugging tool like the other console methods. It’s important to note that if an assertion fails, it prints an error but does not throw an error or otherwise stop execution of the rest of the function. In <a data-type="xref" href="#code_assertUser">Example 16-15</a>, if the user ID assertion fails, it still attempts to make the PUT request to update the user. This likely results in a 404 error because <code>null</code> is in the URL.</p>&#13;
</div></section>&#13;
</div></section>&#13;
&#13;
&#13;
&#13;
&#13;
&#13;
&#13;
<section data-pdf-bookmark="Examining an Object’s Properties" data-type="sect1"><div class="sect1" id="id652">&#13;
<h1>Examining an Object’s Properties</h1>&#13;
&#13;
&#13;
&#13;
&#13;
&#13;
&#13;
&#13;
&#13;
<section data-pdf-bookmark="Problem" data-type="sect2"><div class="sect2" id="id318">&#13;
<h2>Problem</h2>&#13;
&#13;
<p><a data-primary="console" data-secondary="examining an object’s properties" data-type="indexterm" id="id1219"/><a data-primary="objects (generally)" data-secondary="examining properties of" data-type="indexterm" id="id1220"/>You want to inspect the properties of an object, including deeply nested ones and the prototype chain.</p>&#13;
</div></section>&#13;
&#13;
&#13;
&#13;
&#13;
&#13;
&#13;
&#13;
&#13;
<section data-pdf-bookmark="Solution" data-type="sect2"><div class="sect2" id="id653">&#13;
<h2>Solution</h2>&#13;
&#13;
<p>Use <code>console.dir</code> to log the object.</p>&#13;
&#13;
<p><a data-type="xref" href="#example16-16">Example 16-16</a> shows how to use <code>console.dir</code> to inspect the <code>console</code> object itself.</p>&#13;
<div data-type="example" id="example16-16">&#13;
<h5><span class="label">Example 16-16. </span>Using <code>console.dir</code></h5>&#13;
&#13;
<pre data-code-language="javascript" data-type="programlisting"><code class="nx">console</code><code class="p">.</code><code class="nx">dir</code><code class="p">(</code><code class="nx">console</code><code class="p">);</code></pre></div>&#13;
&#13;
<p><a data-type="xref" href="#img_consoleDir">Figure 16-11</a> shows the expandable tree structure that is logged to the console. Each function and property in the object is expandable. It also includes the prototype chain, which can be expanded and inspected as well.</p>&#13;
&#13;
<figure><div class="figure" id="img_consoleDir">&#13;
<img alt="Using console.dir on the console object (shown in Chrome)" src="assets/wacb_1611.png"/>&#13;
<h6><span class="label">Figure 16-11. </span>Using <code>console.dir</code> on the console object (shown in Chrome)</h6>&#13;
</div></figure>&#13;
</div></section>&#13;
&#13;
&#13;
&#13;
&#13;
&#13;
&#13;
&#13;
&#13;
<section data-pdf-bookmark="Discussion" data-type="sect2"><div class="sect2" id="id229">&#13;
<h2>Discussion</h2>&#13;
&#13;
<p>On some browser versions, <code>console.log</code> also presents an interactive structure to inspect an object. While this behavior is browser dependent, <code>console.dir</code> always inspects the object, as shown in <a data-type="xref" href="#img_consoleDir">Figure 16-11</a>.</p>&#13;
&#13;
<p>For more information, you can look at the <a href="https://oreil.ly/osZhg">official console specification</a>.<a data-startref="ix_16-console-asciidoc0" data-type="indexterm" id="id1221"/></p>&#13;
</div></section>&#13;
</div></section>&#13;
</div></section></body></html>