<html><head></head><body><section data-pdf-bookmark="Chapter 13. Table Layout in CSS" data-type="chapter" epub:type="chapter"><div class="chapter" id="title-table-layout-in-css">&#13;
<h1><span class="label">Chapter 13. </span>Table Layout in CSS</h1>&#13;
&#13;
&#13;
<p>You <a data-primary="table layout" data-type="indexterm" id="ix_table_layout_ch13"/>may have glanced at this chapter’s title and wondered, “Table layout? Isn’t&#13;
that <em>so</em> last millennium?” Indeed so, but this&#13;
chapter is not about using tables <em>for</em> layout. Instead, it’s about the&#13;
ways that tables themselves are laid out by CSS, which is a far more&#13;
complicated affair than it might first appear.</p>&#13;
&#13;
<p>Tables are unusual, compared to the rest of document layout. Until&#13;
flexbox and grid came along, tables alone possessed the unique ability&#13;
to associate element sizes with other elements—for example, all the&#13;
cells in a row have the same height, no matter how much or&#13;
how little content each individual cell might contain. The same is true&#13;
for the widths of cells that share a column. Cells that adjoin can share&#13;
a border, even if the two cells have very different border styles. As&#13;
you’ll see, these abilities are purchased at the expense of a great many&#13;
behaviors and rules—many of them rooted deep in the web’s past—that apply to tables, and only tables.</p>&#13;
&#13;
&#13;
&#13;
&#13;
&#13;
&#13;
<section data-pdf-bookmark="Table Formatting" data-type="sect1"><div class="sect1" id="table-formatting">&#13;
<h1>Table Formatting</h1>&#13;
&#13;
<p>Before we can start to worry about how cell borders are drawn and tables&#13;
sized, we need to delve into the fundamental ways in which tables are&#13;
assembled, and the ways that elements within a table are related. This is referred to as <em>table formatting</em>, and it is&#13;
quite distinct from table layout: the layout is possible only after the&#13;
formatting has been completed.</p>&#13;
&#13;
&#13;
&#13;
&#13;
&#13;
&#13;
&#13;
&#13;
<section data-pdf-bookmark="Visually Arranging a Table" data-type="sect2"><div class="sect2" id="visually-arranging-a-table">&#13;
<h2>Visually Arranging a Table</h2>&#13;
&#13;
<p>The <a data-primary="table layout" data-secondary="visual arrangement" data-type="indexterm" id="idm45176065335472"/>first thing to understand is how CSS defines the arrangement of&#13;
tables. While this knowledge may seem basic, it’s key to&#13;
understanding how best to style tables.</p>&#13;
&#13;
<p>CSS draws a <a data-primary="internal table elements versus table elements" data-type="indexterm" id="idm45176065333600"/>distinction between <em>table elements</em> and <em>internal table&#13;
elements</em>. In CSS, internal table elements generate rectangular boxes&#13;
that have content, padding, and borders, but not margins.&#13;
Therefore, it is <em>not</em> possible to define the separation between table&#13;
cells by giving them margins. A CSS-conformant browser will ignore any&#13;
attempts to apply margins to cells, rows, or any other internal table&#13;
element (with the exception of captions, which are discussed in <a data-type="xref" href="#captions">“Using Captions”</a>).</p>&#13;
&#13;
<p>CSS has <a data-primary="grid cells, tables" data-type="indexterm" id="idm45176065330208"/>six basic rules for arranging tables. The basis of these rules&#13;
is a <em>grid cell</em>, which is one area between the grid lines on which a&#13;
table is drawn. Consider the two tables in <a data-type="xref" href="#formatting-grid-cells-basis">Figure 13-1</a>; their grid cells are indicated by the dashed lines.</p>&#13;
&#13;
<figure><div class="figure" id="formatting-grid-cells-basis">&#13;
<img alt="image" src="assets/css5_1301.png"/>&#13;
<h6><span class="label">Figure 13-1. </span>Grid cells form the basis of table layout</h6>&#13;
</div></figure>&#13;
&#13;
<p>In a <a data-primary="table layout" data-secondary="table versus grid cells" data-type="indexterm" id="idm45176065325632"/><a data-primary="table cells versus grid cells" data-type="indexterm" id="idm45176065324624"/>simple 2 × 2 table, such as the lefthand table shown in&#13;
<a data-type="xref" href="#formatting-grid-cells-basis">Figure 13-1</a>, the grid cells correspond to the actual table cells. In a more complicated&#13;
table, like the righthand table in <a data-type="xref" href="#formatting-grid-cells-basis">Figure 13-1</a>, some table cells will span&#13;
multiple grid cells—but note that every table cell’s edges are placed along a grid-cell edge.</p>&#13;
&#13;
<p>These grid cells are largely theoretical constructs, and they cannot be&#13;
styled or even accessed through the DOM. They just&#13;
serve as a way to describe how tables are assembled for styling.</p>&#13;
</div></section>&#13;
&#13;
&#13;
&#13;
&#13;
&#13;
&#13;
&#13;
&#13;
<section data-pdf-bookmark="Table Arrangement Rules" data-type="sect2"><div class="sect2" id="table-arrangement-rules">&#13;
<h2>Table Arrangement Rules</h2>&#13;
&#13;
<p>The <a data-primary="table layout" data-secondary="arrangement rules" data-type="indexterm" id="idm45176065319760"/><a data-primary="boxes" data-secondary="table columns and rows" data-type="indexterm" id="idm45176065318752"/><a data-primary="elements" data-secondary="table" data-type="indexterm" id="idm45176065317808"/>six rules of table arrangement are as follows:</p>&#13;
&#13;
<ul>&#13;
<li>&#13;
<p>Each <em>row box</em> encompasses<a data-primary="row boxes, tables" data-type="indexterm" id="idm45176065314976"/> a single row of grid cells. All the&#13;
row boxes in a table fill the table from top to bottom in the order they&#13;
occur in the source document (with the exception of any table-header or&#13;
table-footer row boxes, which come at the beginning and end of the&#13;
table, respectively). Thus, a table contains as many grid rows as&#13;
there are row elements (e.g., <code>&lt;tr&gt;</code> elements).</p>&#13;
</li>&#13;
<li>&#13;
<p>A <em>row group</em>’s box encompasses<a data-primary="row group boxes, tables" data-type="indexterm" id="idm45176065312352"/> the same grid cells as the row boxes&#13;
it contains.</p>&#13;
</li>&#13;
<li>&#13;
<p>A <em>column box</em> encompasses<a data-primary="column boxes, tables" data-type="indexterm" id="idm45176065310144"/> one or more columns of grid cells. All the&#13;
column boxes are placed next to one another in the order they occur. The&#13;
first column box is on the left for LTR languages, and on the&#13;
right for RTL languages.</p>&#13;
</li>&#13;
<li>&#13;
<p>A <em>column group</em>’s box encompasses<a data-primary="column group’s box" data-type="indexterm" id="idm45176065308000"/> the same grid cells as the column&#13;
boxes it &#13;
<span class="keep-together">contains.</span></p>&#13;
</li>&#13;
<li>&#13;
<p>Although cells may span several rows or columns, CSS does not define&#13;
how this happens. It is instead left to the document language to define&#13;
spanning. Each spanned cell is a rectangular box one or more grid cells&#13;
wide and high. The top row of this spanning rectangle is in the row that&#13;
is the parent to the spanned grid cell. The cell’s rectangle must be as far&#13;
to the left as possible in LTR languages, but it may not&#13;
overlap any other cell box. It must also be to the right of all cells in&#13;
the same row that are earlier in the source document (in a LTR&#13;
language). In RTL languages, a spanned cell must be as far to&#13;
the <em>right</em> as possible without overlapping other cells, and must be to&#13;
the <em>left</em> of all cells in the same row that follow it in the document&#13;
source.</p>&#13;
</li>&#13;
<li>&#13;
<p>A cell’s box <em>cannot</em> extend beyond the last row box of a table or row&#13;
group. If the table structure would cause this condition, the cell must&#13;
be shortened until it fits within the table or row group that encloses&#13;
it.</p>&#13;
</li>&#13;
</ul>&#13;
<div data-type="note" epub:type="note"><h6>Note</h6>&#13;
<p>The CSS specification discourages, but does not prohibit, the&#13;
positioning of table cells and other internal table elements.&#13;
Positioning a row that contains row-spanning cells, for example, could&#13;
dramatically alter the layout of the table by removing the row from the&#13;
table entirely, thus removing the spanned cells from consideration&#13;
in the layout of other rows. Nevertheless, it is quite possible to apply&#13;
positioning to table elements in current browsers.</p>&#13;
</div>&#13;
&#13;
<p>By definition, grid cells are rectangular, but they do not all have to&#13;
be the same size. All the grid cells in a given grid column will be the&#13;
same width, and all the grid cells in a grid row will be the same&#13;
height, but the height of one grid row may be different from that of&#13;
another grid row. Similarly, grid columns may be of different widths.</p>&#13;
&#13;
<p>With those basic rules in mind, a question may arise: how, exactly, do&#13;
you know which elements are cells and which are not?</p>&#13;
</div></section>&#13;
&#13;
&#13;
&#13;
&#13;
&#13;
&#13;
&#13;
&#13;
<section data-pdf-bookmark="Setting Table Display Values" data-type="sect2"><div class="sect2" id="table-display-values">&#13;
<h2>Setting Table Display Values</h2>&#13;
&#13;
<p>In HTML, it’s easy to know which <a data-primary="table layout" data-secondary="display values" data-type="indexterm" id="ix_table_disp_val"/>elements are parts of tables because&#13;
the handling of elements like <code>&lt;tr&gt;</code> and <code>&lt;td&gt;</code> is built into browsers. In&#13;
XML, on the other hand, there is no way to intrinsically know which&#13;
elements might be part of a table. This is where a whole collection of&#13;
values for <code>display</code> come into play.</p>&#13;
<aside data-type="sidebar" epub:type="sidebar"><div class="sidebar" id="idm45176065296656">&#13;
<h1>display</h1><table>&#13;
&#13;
<tbody>&#13;
<tr>&#13;
<td><p><strong>Values</strong></p></td>&#13;
<td><p>[ &lt;<code><em>display-outside</em></code>&gt; ‖ &lt;<code><em>display-inside</em></code>&gt; ] |  <br/>&lt;<code><em>display-listitem</em></code>&gt; | &lt;<code><em>display-internal</em></code>&gt; | &lt;<code><em>display-box</em></code>&gt; | <br/>&lt;<code><em>display-legacy</em></code>&gt;</p></td>&#13;
</tr>&#13;
<tr>&#13;
<td><p><strong>Definitions</strong></p></td>&#13;
<td><p>See below</p></td>&#13;
</tr>&#13;
<tr>&#13;
<td><p><strong>Initial value</strong></p></td>&#13;
<td><p><code>inline</code></p></td>&#13;
</tr>&#13;
<tr>&#13;
<td><p><strong>Applies to</strong></p></td>&#13;
<td><p>All elements</p></td>&#13;
</tr>&#13;
<tr>&#13;
<td><p><strong>Computed value</strong></p></td>&#13;
<td><p>As specified</p></td>&#13;
</tr>&#13;
<tr>&#13;
<td><p><strong>Inherited</strong></p></td>&#13;
<td><p>No</p></td>&#13;
</tr>&#13;
<tr>&#13;
<td><p><strong>Animatable</strong></p></td>&#13;
<td><p>No</p></td>&#13;
</tr>&#13;
</tbody>&#13;
</table>&#13;
<dl>&#13;
<dt>&lt;<code><em>display-outside</em></code>&gt;</dt>&#13;
<dd>&#13;
<p><code>block</code> | <code>inline</code> | <code>run-in</code></p>&#13;
</dd>&#13;
<dt>&lt;<code><em>display-inside</em></code>&gt;</dt>&#13;
<dd>&#13;
<p><code>flow</code> | <code>flow-root</code> | <code>table</code> | <code>flex</code> | <code>grid</code> | <code>ruby</code></p>&#13;
</dd>&#13;
<dt>&lt;<code><em>display-listitem</em></code>&gt;</dt>&#13;
<dd>&#13;
<p><code>list-item</code> &amp;&amp; &lt;<code><em>display-outside</em></code>&gt;? &amp;&amp; [ <code>flow</code> | <code>flow-root</code> ]?</p>&#13;
</dd>&#13;
<dt>&lt;<code><em>display-internal</em></code>&gt;</dt>&#13;
<dd>&#13;
<p><code>table-row-group</code> | <code>table-header-group</code> | <code>table-footer-group</code> | <code>table-row</code> | <code>table-cell</code> | <code>table-column-group</code> | <code>table-column</code> | <code>table-caption</code> | <br/><code>ruby-base</code> | <code>ruby-text</code> | <code>ruby-base-container</code> | <code>ruby-text-container</code></p>&#13;
</dd>&#13;
<dt>&lt;<code><em>display-box</em></code>&gt;</dt>&#13;
<dd>&#13;
<p><code>contents</code> | <code>none</code></p>&#13;
</dd>&#13;
<dt>&lt;<code><em>display-legacy</em></code>&gt;</dt>&#13;
<dd>&#13;
<p><code>inline-block</code> | <code>inline-list-item</code> | <code>inline-table</code> | <code>inline-flex</code> | <code>inline-grid</code></p>&#13;
</dd>&#13;
</dl>&#13;
</div></aside>&#13;
&#13;
<p>In this chapter, we’ll stick to the table-related values, as the others are beyond the scope of tables.&#13;
The table-related values can be summarized as follows:</p>&#13;
<dl>&#13;
<dt><code>table</code></dt>&#13;
<dd>&#13;
<p>Defines a <a data-primary="table keyword, display" data-type="indexterm" id="idm45176065250304"/>block-level table. Thus, it defines a rectangular block that generates a block box. The corresponding HTML element is, not surprisingly, <code>&lt;table&gt;</code>.</p>&#13;
</dd>&#13;
<dt><code>inline-table</code></dt>&#13;
<dd>&#13;
<p>Defines an <a data-primary="inline-table keyword, display" data-type="indexterm" id="idm45176065247424"/>inline-level table. This means the element defines a rectangular block that generates an inline box. The closest non-table analogue is the value <code>inline-block</code>. The closest HTML element is <code>&lt;table&gt;</code>, although, by default, HTML tables are not inline.</p>&#13;
</dd>&#13;
<dt><code>table-row</code></dt>&#13;
<dd>&#13;
<p>Specifies <a data-primary="table-row keyword, display" data-type="indexterm" id="idm45176065244384"/>that an element is a row of table cells. The corresponding HTML element is <code>&lt;tr&gt;</code>.</p>&#13;
</dd>&#13;
<dt><code>table-row-group</code></dt>&#13;
<dd>&#13;
<p>Specifies <a data-primary="table-row-group keyword, display" data-type="indexterm" id="idm45176065241728"/>that an element groups one or more table rows. The corresponding HTML value is <code>&lt;tbody&gt;</code>.</p>&#13;
</dd>&#13;
<dt><code>table-header-group</code></dt>&#13;
<dd>&#13;
<p>Very much <a data-primary="table-header-group keyword, display" data-type="indexterm" id="idm45176065238944"/>like <code>table-row-group</code>, except that for visual formatting, the header row group is always displayed before all other rows and row groups, and after any top captions. In print, if a table requires multiple pages to print, a user agent may repeat header rows at the top of each page (Firefox does this, for example). The specification does not define what happens if you assign <code>table-header-group</code> to multiple elements. A header group can contain multiple rows. The HTML equivalent is <code>&lt;thead&gt;</code>.</p>&#13;
</dd>&#13;
<dt><code>table-footer-group</code></dt>&#13;
<dd>&#13;
<p>Very much <a data-primary="table-footer-group keyword, display" data-type="indexterm" id="idm45176065235280"/>like <code>table-header-group</code>, except that the footer row group is always displayed after all other rows and row groups, and before any bottom captions. In print, if a table requires multiple pages to print, a user agent may repeat footer rows at the bottom of each page. The specification does not define what happens if you assign <code>table-footer-group</code> to multiple elements. This is equivalent to the HTML element <code>&lt;tfoot&gt;</code>.</p>&#13;
</dd>&#13;
<dt><code>table-column</code></dt>&#13;
<dd>&#13;
<p>Describes a <a data-primary="table-column keyword, display" data-type="indexterm" id="idm45176065231648"/>column of table cells. In CSS terms, elements with this <code>display</code> value are not visually rendered, as if they had the value <code>none</code>. Their existence is largely for helping to define the presentation of cells within the column. The HTML equivalent is <code>&lt;col&gt;</code>.</p>&#13;
</dd>&#13;
<dt><code>table-column-group</code></dt>&#13;
<dd>&#13;
<p>Groups one or more <a data-primary="table-column-group keyword, display" data-type="indexterm" id="idm45176065227840"/>columns. Like <code>table-column</code> elements, <code>table-column-group</code> elements are not rendered, but the value is useful for defining presentation for elements within the column group. The HTML equivalent is <code>&lt;colgroup&gt;</code>.</p>&#13;
</dd>&#13;
<dt><code>table-cell</code></dt>&#13;
<dd>&#13;
<p>Represents a <a data-primary="table-cell keyword, display" data-type="indexterm" id="idm45176065224096"/>single cell in a table. The HTML elements <code>&lt;th&gt;</code> and <code>&lt;td&gt;</code> are both examples of <code>table-cell</code> elements.</p>&#13;
</dd>&#13;
<dt><code>table-caption</code></dt>&#13;
<dd>&#13;
<p>Defines a <a data-primary="table-caption keyword, display" data-type="indexterm" id="idm45176065220448"/>table’s caption. CSS does not define what should happen if multiple elements have the value <code>caption</code>, but it does explicitly warn, “Authors should not put more than one element with <code>display: caption</code> inside a table or inline-table &#13;
<span class="keep-together">element.”</span></p>&#13;
</dd>&#13;
</dl>&#13;
&#13;
<p>You can get a quick summary of the general effects of these values by&#13;
taking an excerpt from the example HTML 4.0 stylesheet given in&#13;
Appendix D of the CSS 2.1 specification:</p>&#13;
&#13;
<pre data-code-language="css" data-type="programlisting"><code class="nt">table</code> <code class="p">{</code><code class="k">display</code><code class="o">:</code> <code class="nb">table</code><code class="p">;}</code>&#13;
<code class="nt">tr</code> <code class="p">{</code><code class="k">display</code><code class="o">:</code> <code class="nb">table-row</code><code class="p">;}</code>&#13;
<code class="nt">thead</code> <code class="p">{</code><code class="k">display</code><code class="o">:</code> <code class="nb">table-header-group</code><code class="p">;}</code>&#13;
<code class="nt">tbody</code> <code class="p">{</code><code class="k">display</code><code class="o">:</code> <code class="nb">table-row-group</code><code class="p">;}</code>&#13;
<code class="nt">tfoot</code> <code class="p">{</code><code class="k">display</code><code class="o">:</code> <code class="nb">table-footer-group</code><code class="p">;}</code>&#13;
<code class="nt">col</code> <code class="p">{</code><code class="k">display</code><code class="o">:</code> <code class="nb">table-column</code><code class="p">;}</code>&#13;
<code class="nt">colgroup</code> <code class="p">{</code><code class="k">display</code><code class="o">:</code> <code class="nb">table-column-group</code><code class="p">;}</code>&#13;
<code class="nt">td</code><code class="o">,</code> <code class="nt">th</code> <code class="p">{</code><code class="k">display</code><code class="o">:</code> <code class="nb">table-cell</code><code class="p">;}</code>&#13;
<code class="nt">caption</code> <code class="p">{</code><code class="k">display</code><code class="o">:</code> <code class="nb">table-caption</code><code class="p">;}</code></pre>&#13;
&#13;
<p>In XML, where elements will not have display semantics by default, these&#13;
values become quite useful. Consider the following markup:</p>&#13;
&#13;
<pre data-code-language="xml" data-type="programlisting"><code class="nt">&lt;scores&gt;</code><code class="w"/>&#13;
<code class="w">    </code><code class="nt">&lt;headers&gt;</code><code class="w"/>&#13;
<code class="w">        </code><code class="nt">&lt;label&gt;</code>Team<code class="nt">&lt;/label&gt;</code><code class="w"/>&#13;
<code class="w">        </code><code class="nt">&lt;label&gt;</code>Score<code class="nt">&lt;/label&gt;</code><code class="w"/>&#13;
<code class="w">    </code><code class="nt">&lt;/headers&gt;</code><code class="w"/>&#13;
<code class="w">    </code><code class="nt">&lt;game</code><code class="w"> </code><code class="na">sport=</code><code class="s">"MLB"</code><code class="w"> </code><code class="na">league=</code><code class="s">"NL"</code><code class="nt">&gt;</code><code class="w"/>&#13;
<code class="w">        </code><code class="nt">&lt;team&gt;</code><code class="w"/>&#13;
<code class="w">            </code><code class="nt">&lt;name&gt;</code>Reds<code class="nt">&lt;/name&gt;</code><code class="w"/>&#13;
<code class="w">            </code><code class="nt">&lt;score&gt;</code>8<code class="nt">&lt;/score&gt;</code><code class="w"/>&#13;
<code class="w">        </code><code class="nt">&lt;/team&gt;</code><code class="w"/>&#13;
<code class="w">        </code><code class="nt">&lt;team&gt;</code><code class="w"/>&#13;
<code class="w">            </code><code class="nt">&lt;name&gt;</code>Cubs<code class="nt">&lt;/name&gt;</code><code class="w"/>&#13;
<code class="w">            </code><code class="nt">&lt;score&gt;</code>5<code class="nt">&lt;/score&gt;</code><code class="w"/>&#13;
<code class="w">        </code><code class="nt">&lt;/team&gt;</code><code class="w"/>&#13;
<code class="w">    </code><code class="nt">&lt;/game&gt;</code><code class="w"/>&#13;
<code class="nt">&lt;/scores&gt;</code><code class="w"/></pre>&#13;
&#13;
<p>This could be formatted in a tabular fashion by using the following styles:</p>&#13;
&#13;
<pre data-code-language="css" data-type="programlisting"><code class="nt">scores</code> <code class="p">{</code><code class="k">display</code><code class="o">:</code> <code class="nb">table</code><code class="p">;}</code>&#13;
<code class="nt">headers</code> <code class="p">{</code><code class="k">display</code><code class="o">:</code> <code class="nb">table-header-group</code><code class="p">;}</code>&#13;
<code class="nt">game</code> <code class="p">{</code><code class="k">display</code><code class="o">:</code> <code class="nb">table-row-group</code><code class="p">;}</code>&#13;
<code class="nt">team</code> <code class="p">{</code><code class="k">display</code><code class="o">:</code> <code class="nb">table-row</code><code class="p">;}</code>&#13;
<code class="nt">label</code><code class="o">,</code> <code class="nt">name</code><code class="o">,</code> <code class="nt">score</code> <code class="p">{</code><code class="k">display</code><code class="o">:</code> <code class="nb">table-cell</code><code class="p">;}</code></pre>&#13;
&#13;
<p>The various cells could then be styled as necessary—for example, boldfacing the&#13;
<code>&lt;label&gt;</code> elements and right-aligning the <code>&lt;score&gt;</code>s.</p>&#13;
&#13;
&#13;
&#13;
&#13;
&#13;
&#13;
&#13;
&#13;
&#13;
&#13;
<section data-pdf-bookmark="Row primacy" data-type="sect3"><div class="sect3" id="row-primacy">&#13;
<h3>Row primacy</h3>&#13;
&#13;
<p>CSS defines its <a data-primary="row primacy, tables" data-type="indexterm" id="idm45176065000544"/><a data-primary="table layout" data-secondary="row primacy" data-type="indexterm" id="idm45176064999808"/>table model as <em>row primacy</em>. This model&#13;
assumes that authors will use markup languages in which rows are&#13;
explicitly declared. Columns, on the other hand, are derived from the&#13;
layout of the rows of cells. Thus, the first column is made up of&#13;
the first cells in each row; the second column is made up of the second cells, and&#13;
so forth.</p>&#13;
&#13;
<p>Row primacy is not a major issue in HTML, because the markup language is&#13;
already row-oriented. In XML, row primacy has more of an impact because it&#13;
constrains the way authors can define table markup. Because of&#13;
the row-oriented nature of the CSS table model, a markup language in&#13;
which columns are the basis of table layout is not really possible&#13;
(assuming that the intent is to use CSS to present such <span class="keep-together">documents).</span></p>&#13;
</div></section>&#13;
&#13;
&#13;
&#13;
&#13;
&#13;
&#13;
&#13;
&#13;
&#13;
&#13;
<section data-pdf-bookmark="Columns" data-type="sect3"><div class="sect3" id="columns">&#13;
<h3>Columns</h3>&#13;
&#13;
<p>Although the CSS <a data-primary="columns, properties for table" data-type="indexterm" id="idm45176064995088"/>table model is row oriented, columns do still play a&#13;
part in layout. A cell can belong to both contexts (row and column),&#13;
even though it is descended from row elements in the document source.&#13;
In CSS, however, columns and column groups can accept only four&#13;
nontable properties: <code>border</code>, <code>background</code>, <code>width</code>, and <code class="keep-together">visibility</code>.</p>&#13;
&#13;
<p>In addition, each of these four properties has special rules that apply&#13;
only in the columnar context:</p>&#13;
<dl>&#13;
<dt><code>border</code></dt>&#13;
<dd>&#13;
<p>Borders <a data-primary="borders" data-secondary="table-cell" data-type="indexterm" id="idm45176064953488"/><a data-primary="cell borders, table" data-type="indexterm" id="idm45176064952512"/>can be set for columns and column groups only if the property <code>border-collapse</code> has the value <code>collapse</code>. In such <a data-primary="collapsed cell borders, table" data-type="indexterm" id="idm45176064950848"/>circumstances, column and column-group borders participate in the collapsing algorithm that sets the border styles at each cell edge. (See <a data-type="xref" href="#collapsing-cell-borders">“Collapsed Cell Borders”</a>.)</p>&#13;
</dd>&#13;
<dt><code>background</code></dt>&#13;
<dd>&#13;
<p>The background of a column or column group will be visible only in cells where both the cell and its row have transparent backgrounds. (See <a data-type="xref" href="#table-layers">“Working with Table Layers”</a>.)</p>&#13;
</dd>&#13;
<dt><code>width</code></dt>&#13;
<dd>&#13;
<p>The <code>width</code> property<a data-primary="width property" data-secondary="table columns" data-type="indexterm" id="idm45176064944896"/> defines the <em>minimum</em> width of the column or column group. The content of cells within the column (or group) may force the column to become wider.</p>&#13;
</dd>&#13;
<dt><code>visibility</code></dt>&#13;
<dd>&#13;
<p>If the <a data-primary="visibility property" data-secondary="table columns" data-type="indexterm" id="idm45176064941680"/>value of <code>visibility</code> for a column or column group is <code>collapse</code>, none of the cells in the column (or group) are rendered. Cells that span from the <span class="keep-together">collapsed</span> column into other columns are clipped, as are cells that span from other columns into the collapsed column. Furthermore, the overall width of the table is reduced by the width the column would have taken up. A declaration of any <code>visibility</code> value other than <code>collapse</code> is ignored for a column or column group.<a data-primary="" data-startref="ix_table_disp_val" data-type="indexterm" id="idm45176064938160"/></p>&#13;
</dd>&#13;
</dl>&#13;
</div></section>&#13;
</div></section>&#13;
&#13;
&#13;
&#13;
&#13;
&#13;
&#13;
&#13;
&#13;
<section data-pdf-bookmark="Inserting Anonymous Table Objects" data-type="sect2"><div class="sect2" id="anonymous-table-objects">&#13;
<h2>Inserting Anonymous Table Objects</h2>&#13;
&#13;
<p>A <a data-primary="table layout" data-secondary="anonymous objects" data-type="indexterm" id="ix_tables_anon_obj"/><a data-primary="anonymous items" data-secondary="table objects" data-type="indexterm" id="ix_anon_table_obj"/>markup language might not contain enough&#13;
elements to fully represent tables as they are defined in CSS, or&#13;
an author could forget to include all the necessary elements. For&#13;
example, consider this HTML:</p>&#13;
&#13;
<pre data-code-language="xml" data-type="programlisting"><code class="nt">&lt;table&gt;</code><code class="w"/>&#13;
<code class="w">    </code><code class="nt">&lt;td&gt;</code>Shirt<code class="w"> </code>size:<code class="nt">&lt;/td&gt;</code><code class="w"/>&#13;
<code class="w">    </code><code class="nt">&lt;td&gt;&lt;select&gt;</code><code class="w"> </code>…<code class="w"> </code><code class="nt">&lt;/select&gt;&lt;/td&gt;</code><code class="w"/>&#13;
<code class="nt">&lt;/table&gt;</code><code class="w"/></pre>&#13;
&#13;
<p>You might glance at this markup and assume that it defines a two-cell&#13;
table of a single row, but structurally, there is no element defining a&#13;
row (because the <code>&lt;tr&gt;</code> is missing).</p>&#13;
&#13;
<p>To cover such possibilities, CSS defines a mechanism for inserting&#13;
“missing” table components as anonymous objects. For a basic example of&#13;
how this works, let’s revisit our missing-row HTML example. In CSS&#13;
terms, what effectively happens is that an anonymous table-row object is&#13;
inserted between the <code>&lt;table&gt;</code> element and its descendant &#13;
<span class="keep-together">table cells:</span></p>&#13;
&#13;
<pre data-code-language="xml" data-type="programlisting"><code class="nt">&lt;table&gt;</code><code class="w"/>&#13;
<code class="w">  </code><code class="cm">&lt;!--anonymous table-row object begins--&gt;</code><code class="w"/>&#13;
<code class="w">    </code><code class="nt">&lt;td&gt;</code>Name:<code class="nt">&lt;/td&gt;</code><code class="w"/>&#13;
<code class="w">    </code><code class="nt">&lt;td&gt;&lt;input</code><code class="w"> </code><code class="na">type=</code><code class="s">"text"</code><code class="nt">&gt;&lt;/td&gt;</code><code class="w"/>&#13;
<code class="w">  </code><code class="cm">&lt;!--anonymous table-row object ends--&gt;</code><code class="w"/>&#13;
<code class="nt">&lt;/table&gt;</code><code class="w"/></pre>&#13;
&#13;
<p><a data-type="xref" href="#anon-obj-row">Figure 13-2</a> shows a visual representation of this process. The dotted line represents the inserted anonymous table row.</p>&#13;
&#13;
<figure class="bordernone"><div class="figure" id="anon-obj-row">&#13;
<img alt="image" src="assets/css5_1302.png"/>&#13;
<h6><span class="label">Figure 13-2. </span>Anonymous-object generation in table formatting</h6>&#13;
</div></figure>&#13;
&#13;
<p>Seven kinds of anonymous-object insertions can occur in the&#13;
CSS table model. These seven rules are, like inheritance and&#13;
specificity, an example of a mechanism that attempts to impose intuitive&#13;
sense on the way CSS behaves.</p>&#13;
&#13;
<p>The rules are as follows:</p>&#13;
<ol>&#13;
<li>&#13;
<p>If a <code>table-cell</code> element’s parent is not a <code>table-row</code> element,&#13;
an anonymous <code>table-row</code> object is inserted between the <code>table-cell</code>&#13;
<span class="keep-together">element</span> and its parent. The inserted object will include all consecutive&#13;
siblings of the <code>table-cell</code> element.</p>&#13;
&#13;
<p>The same holds true even if the parent element is a <code>table-row-group</code>.&#13;
For example, assume that the following CSS applies to the XML after it:</p>&#13;
&#13;
<pre data-code-language="css" data-type="programlisting"><code class="nt">system</code> <code class="p">{</code><code class="k">display</code><code class="o">:</code> <code class="nb">table</code><code class="p">;}</code>&#13;
<code class="nt">planet</code> <code class="p">{</code><code class="k">display</code><code class="o">:</code> <code class="nb">table-row-group</code><code class="p">;}</code>&#13;
<code class="nt">name</code><code class="o">,</code> <code class="nt">moons</code> <code class="p">{</code><code class="k">display</code><code class="o">:</code> <code class="nb">table-cell</code><code class="p">;}</code></pre>&#13;
&#13;
<pre data-code-language="xml" data-type="programlisting"><code class="nt">&lt;system&gt;</code><code class="w"/>&#13;
<code class="w">    </code><code class="nt">&lt;planet&gt;</code><code class="w"/>&#13;
<code class="w">        </code><code class="nt">&lt;name&gt;</code>Mercury<code class="nt">&lt;/name&gt;</code><code class="w"/>&#13;
<code class="w">        </code><code class="nt">&lt;moons&gt;</code>0<code class="nt">&lt;/moons&gt;</code><code class="w"/>&#13;
<code class="w">    </code><code class="nt">&lt;/planet&gt;</code><code class="w"/>&#13;
<code class="w">    </code><code class="nt">&lt;planet&gt;</code><code class="w"/>&#13;
<code class="w">        </code><code class="nt">&lt;name&gt;</code>Venus<code class="nt">&lt;/name&gt;</code><code class="w"/>&#13;
<code class="w">        </code><code class="nt">&lt;moons&gt;</code>0<code class="nt">&lt;/moons&gt;</code><code class="w"/>&#13;
<code class="w">    </code><code class="nt">&lt;/planet&gt;</code><code class="w"/>&#13;
<code class="nt">&lt;/system&gt;</code><code class="w"/></pre>&#13;
&#13;
<p>Both sets of cells will be enclosed in an anonymous&#13;
<code>table-row</code> object that is inserted between them and the <code>&lt;planet&gt;</code>&#13;
elements.</p>&#13;
</li>&#13;
&#13;
</ol>&#13;
<ol start="2">&#13;
<li>&#13;
<p>If a <code>table-row</code> element’s parent is not a <code>table</code>, <code>inline-table</code>, or&#13;
<code>table-row-group</code> element, then an anonymous <code>table</code> element is inserted&#13;
between the <code>table-row</code> &#13;
<span class="keep-together">element</span> and its parent. The inserted object will&#13;
include all consecutive siblings of the <code>table-row</code> element. Consider&#13;
the following styles and markup:</p>&#13;
&#13;
<pre data-code-language="css" data-type="programlisting"><code class="nt">docbody</code> <code class="p">{</code><code class="k">display</code><code class="o">:</code> <code class="nb">block</code><code class="p">;}</code>&#13;
<code class="nt">planet</code> <code class="p">{</code><code class="k">display</code><code class="o">:</code> <code class="nb">table-row</code><code class="p">;}</code></pre>&#13;
&#13;
<pre data-code-language="xml" data-type="programlisting"><code class="nt">&lt;docbody&gt;</code><code class="w"/>&#13;
<code class="w">    </code><code class="nt">&lt;planet&gt;</code><code class="w"/>&#13;
<code class="w">        </code><code class="nt">&lt;name&gt;</code>Mercury<code class="nt">&lt;/name&gt;</code><code class="w"/>&#13;
<code class="w">        </code><code class="nt">&lt;moons&gt;</code>0<code class="nt">&lt;/moons&gt;</code><code class="w"/>&#13;
<code class="w">    </code><code class="nt">&lt;/planet&gt;</code><code class="w"/>&#13;
<code class="w">    </code><code class="nt">&lt;planet&gt;</code><code class="w"/>&#13;
<code class="w">        </code><code class="nt">&lt;name&gt;</code>Venus<code class="nt">&lt;/name&gt;</code><code class="w"/>&#13;
<code class="w">        </code><code class="nt">&lt;moons&gt;</code>0<code class="nt">&lt;/moons&gt;</code><code class="w"/>&#13;
<code class="w">    </code><code class="nt">&lt;/planet&gt;</code><code class="w"/>&#13;
<code class="nt">&lt;/docbody&gt;</code><code class="w"/></pre>&#13;
&#13;
<p>Because the <code>display</code> value of the <code>&lt;planet&gt;</code> elements’ parent is <code>block</code>,&#13;
the anonymous <code>table</code> object is inserted between the <code>&lt;planet&gt;</code> elements&#13;
and the <code>&lt;docbody&gt;</code> element. This anonymous <code>table</code> object will enclose both <code>&lt;planet&gt;</code>&#13;
elements, since they are consecutive siblings.</p>&#13;
</li>&#13;
<li>&#13;
<p>If a <code>table-column</code> element’s parent is not a <code>table</code>, <code>inline-table</code>,&#13;
or <code>table-column-group</code> element, then an anonymous <code>table</code> element is&#13;
inserted between the <code>table-column</code> element and its parent. This is much&#13;
the same as the <code>table-row</code> rule just discussed, except for its&#13;
column-oriented nature.</p>&#13;
</li>&#13;
<li>&#13;
<p>If the parent element of a <code>table-row-group</code>, <code>table-header-group</code>,&#13;
<code>table-footer-group</code>, <code>table-column-group</code>, or <code>table-caption</code> element&#13;
is not a <code>table</code> element, then an anonymous <code>table</code> object is inserted&#13;
between the element and <span class="keep-together">its parent.</span></p>&#13;
</li>&#13;
<li>&#13;
<p>If a child element of a <code>table</code> or <code>inline-table</code> element is not a&#13;
<code>table-row-group</code>, <code>table-header-group</code>, <code>table-footer-group</code>,&#13;
<code>table-row</code>, or <code>table-caption</code> element, then an anonymous <code>table-row</code>&#13;
object is inserted between the <code>table</code> element and its child element.&#13;
This anonymous object spans all the consecutive siblings of the child&#13;
element that are not <code>table-row-group</code>, <code>table-header-group</code>,&#13;
<code>table-footer-group</code>, <code>table-row</code>, or <code>table-caption</code> elements. Consider&#13;
the following markup and styles:</p>&#13;
&#13;
<pre data-code-language="css" data-type="programlisting"><code class="nt">system</code> <code class="p">{</code><code class="k">display</code><code class="o">:</code> <code class="nb">table</code><code class="p">;}</code>&#13;
<code class="nt">planet</code> <code class="p">{</code><code class="k">display</code><code class="o">:</code> <code class="nb">table-row</code><code class="p">;}</code>&#13;
<code class="nt">name</code><code class="o">,</code> <code class="nt">moons</code> <code class="p">{</code><code class="k">display</code><code class="o">:</code> <code class="nb">table-cell</code><code class="p">;}</code></pre>&#13;
&#13;
<pre data-code-language="xml" data-type="programlisting"><code class="nt">&lt;system&gt;</code><code class="w"/>&#13;
<code class="w">    </code><code class="nt">&lt;planet&gt;</code><code class="w"/>&#13;
<code class="w">        </code><code class="nt">&lt;name&gt;</code>Mercury<code class="nt">&lt;/name&gt;</code><code class="w"/>&#13;
<code class="w">        </code><code class="nt">&lt;moons&gt;</code>0<code class="nt">&lt;/moons&gt;</code><code class="w"/>&#13;
<code class="w">    </code><code class="nt">&lt;/planet&gt;</code><code class="w"/>&#13;
<code class="w">    </code><code class="nt">&lt;name&gt;</code>Venus<code class="nt">&lt;/name&gt;</code><code class="w"/>&#13;
<code class="w">    </code><code class="nt">&lt;moons&gt;</code>0<code class="nt">&lt;/moons&gt;</code><code class="w"/>&#13;
<code class="nt">&lt;/system&gt;</code><code class="w"/></pre>&#13;
&#13;
<p>Here, a single anonymous <code>table-row</code> object will be inserted between the <code class="keep-together">&lt;system&gt;</code> element and the second set of <code>&lt;name&gt;</code> and <code>&lt;moons&gt;</code> elements. The&#13;
<code>&lt;planet&gt;</code> element is not enclosed by the anonymous object because its&#13;
<code>display</code> is <code>table-row</code>.</p>&#13;
</li>&#13;
<li>&#13;
<p>If a child element of a <code>table-row-group</code>, <code>table-header-group</code>, or&#13;
<code>table-footer-group</code> element is not a <code>table-row</code> element, an&#13;
anonymous <code>table-row</code> object is inserted between the element and its&#13;
child element. This anonymous object spans all the consecutive&#13;
siblings of the child element that are not <code>table-row</code> objects&#13;
themselves. Consider the following markup and styles:</p>&#13;
&#13;
<pre data-code-language="css" data-type="programlisting"><code class="nt">system</code> <code class="p">{</code><code class="k">display</code><code class="o">:</code> <code class="nb">table</code><code class="p">;}</code>&#13;
<code class="nt">planet</code> <code class="p">{</code><code class="k">display</code><code class="o">:</code> <code class="nb">table-row-group</code><code class="p">;}</code>&#13;
<code class="nt">name</code><code class="o">,</code> <code class="nt">moons</code> <code class="p">{</code><code class="k">display</code><code class="o">:</code> <code class="nb">table-cell</code><code class="p">;}</code></pre>&#13;
&#13;
<pre data-code-language="xml" data-type="programlisting"><code class="nt">&lt;system&gt;</code><code class="w"/>&#13;
<code class="w">    </code><code class="nt">&lt;planet&gt;</code><code class="w"/>&#13;
<code class="w">        </code><code class="nt">&lt;name&gt;</code>Mercury<code class="nt">&lt;/name&gt;</code><code class="w"/>&#13;
<code class="w">        </code><code class="nt">&lt;moons&gt;</code>0<code class="nt">&lt;/moons&gt;</code><code class="w"/>&#13;
<code class="w">    </code><code class="nt">&lt;/planet&gt;</code><code class="w"/>&#13;
<code class="w">    </code><code class="nt">&lt;name&gt;</code>Venus<code class="nt">&lt;/name&gt;</code><code class="w"/>&#13;
<code class="w">    </code><code class="nt">&lt;moons&gt;</code>0<code class="nt">&lt;/moons&gt;</code><code class="w"/>&#13;
<code class="nt">&lt;/system&gt;</code><code class="w"/></pre>&#13;
&#13;
<p>In this case, each set of <code>&lt;name&gt;</code> and <code>&lt;moons&gt;</code> elements will be enclosed&#13;
in an anonymous <code>table-row</code> element. For the second set, the insertion&#13;
happens in accord with rule 5. For the first set, the anonymous object&#13;
is inserted between the <code>&lt;planet&gt;</code> element and its children because the&#13;
<code>&lt;planet&gt;</code> element is a <code>table-row-group</code> <span class="keep-together">element.</span></p>&#13;
</li>&#13;
<li>&#13;
<p>If a child element of a <code>table-row</code> element is not a <code>table-cell</code>&#13;
element, then an anonymous <code>table-cell</code> object is inserted between the&#13;
element and its child element. This anonymous object encloses all&#13;
consecutive siblings of the child element that are not <code>table-cell</code>&#13;
elements themselves. Consider the following markup and styles:</p>&#13;
&#13;
<pre data-code-language="css" data-type="programlisting"><code class="nt">system</code> <code class="p">{</code><code class="k">display</code><code class="o">:</code> <code class="nb">table</code><code class="p">;}</code>&#13;
<code class="nt">planet</code> <code class="p">{</code><code class="k">display</code><code class="o">:</code> <code class="nb">table-row</code><code class="p">;}</code>&#13;
<code class="nt">name</code><code class="o">,</code> <code class="nt">moons</code> <code class="p">{</code><code class="k">display</code><code class="o">:</code> <code class="nb">table-cell</code><code class="p">;}</code></pre>&#13;
&#13;
<pre data-code-language="xml" data-type="programlisting"><code class="nt">&lt;system&gt;</code><code class="w"/>&#13;
<code class="w">    </code><code class="nt">&lt;planet&gt;</code><code class="w"/>&#13;
<code class="w">        </code><code class="nt">&lt;name&gt;</code>Mercury<code class="nt">&lt;/name&gt;</code><code class="w"/>&#13;
<code class="w">        </code><code class="nt">&lt;num&gt;</code>0<code class="nt">&lt;/num&gt;</code><code class="w"/>&#13;
<code class="w">    </code><code class="nt">&lt;/planet&gt;</code><code class="w"/>&#13;
<code class="nt">&lt;/system&gt;</code><code class="w"/></pre>&#13;
&#13;
<p>Because the element <code>&lt;num&gt;</code> does not have a table-related <code>display</code> value,&#13;
an anonymous <code>table-cell</code> object is inserted between the <code>&lt;planet&gt;</code>&#13;
element and the <code>&lt;num&gt;</code> <span class="keep-together">element.</span></p>&#13;
&#13;
<p>This behavior also extends to the encapsulation of anonymous inline&#13;
boxes. Suppose that the <code>&lt;num&gt;</code> element is not included:</p>&#13;
&#13;
<pre data-code-language="xml" data-type="programlisting"><code class="nt">&lt;system&gt;</code><code class="w"/>&#13;
<code class="w">    </code><code class="nt">&lt;planet&gt;</code><code class="w"/>&#13;
<code class="w">        </code><code class="nt">&lt;name&gt;</code>Mercury<code class="nt">&lt;/name&gt;</code><code class="w"/>&#13;
<code class="w">        </code>0<code class="w"/>&#13;
<code class="w">    </code><code class="nt">&lt;/planet&gt;</code><code class="w"/>&#13;
<code class="nt">&lt;/system&gt;</code><code class="w"/></pre>&#13;
&#13;
<p>The <code>0</code> would still be enclosed in an anonymous <code>table-cell</code> object. To&#13;
further illustrate this point, here is an example adapted from the CSS&#13;
specification:</p>&#13;
&#13;
<pre data-code-language="css" data-type="programlisting"><code class="nt">example</code> <code class="p">{</code><code class="k">display</code><code class="o">:</code> <code class="nb">table-cell</code><code class="p">;}</code>&#13;
<code class="nt">row</code> <code class="p">{</code><code class="k">display</code><code class="o">:</code> <code class="nb">table-row</code><code class="p">;}</code>&#13;
<code class="nt">hey</code> <code class="p">{</code><code class="k">font-weight</code><code class="o">:</code> <code class="m">900</code><code class="p">;}</code></pre>&#13;
&#13;
<pre data-code-language="xml" data-type="programlisting"><code class="nt">&lt;example&gt;</code><code class="w"/>&#13;
<code class="w">    </code><code class="nt">&lt;row&gt;</code>This<code class="w"> </code>is<code class="w"> </code>the<code class="w"> </code><code class="nt">&lt;hey&gt;</code>top<code class="nt">&lt;/hey&gt;</code><code class="w"> </code>row.<code class="nt">&lt;/row&gt;</code><code class="w"/>&#13;
<code class="w">    </code><code class="nt">&lt;row&gt;</code>This<code class="w"> </code>is<code class="w"> </code>the<code class="w"> </code><code class="nt">&lt;hey&gt;</code>bottom<code class="nt">&lt;/hey&gt;</code><code class="w"> </code>row.<code class="nt">&lt;/row&gt;</code><code class="w"/>&#13;
<code class="nt">&lt;/example&gt;</code><code class="w"/></pre>&#13;
&#13;
<p>Within each <code>&lt;row&gt;</code> element, the text fragments and <code>hey</code> element are&#13;
enclosed in anonymous <code>table-cell</code> objects.<a data-primary="" data-startref="ix_anon_table_obj" data-type="indexterm" id="idm45176091640320"/><a data-primary="" data-startref="ix_tables_anon_obj" data-type="indexterm" id="idm45176091639344"/></p>&#13;
</li>&#13;
&#13;
</ol>&#13;
</div></section>&#13;
&#13;
&#13;
&#13;
&#13;
&#13;
&#13;
&#13;
&#13;
<section data-pdf-bookmark="Working with Table Layers" data-type="sect2"><div class="sect2" id="table-layers">&#13;
<h2>Working with Table Layers</h2>&#13;
&#13;
<p>For the <a data-primary="table layout" data-secondary="layers in" data-type="indexterm" id="idm45176091636800"/>assembly of a table’s presentation, CSS defines six individual&#13;
<em>layers</em> on which the various aspects of a table are placed. <a data-type="xref" href="#layers-formatting-schematic">Figure 13-3</a> shows these layers.</p>&#13;
&#13;
<figure><div class="figure" id="layers-formatting-schematic">&#13;
<img alt="image" src="assets/css5_1303.png"/>&#13;
<h6><span class="label">Figure 13-3. </span>The formatting layers used in table presentation</h6>&#13;
</div></figure>&#13;
&#13;
<p>Basically, the styles for each aspect of the table are drawn on their&#13;
individual layers. Thus, if the <code>&lt;table&gt;</code> element has a green background&#13;
and a 1-pixel black border, those styles are drawn on the lowest&#13;
layer. Any styles for the column groups are drawn on the next layer up,&#13;
the columns themselves on the layer above that, and so on. The top&#13;
layer, which corresponds to the table cells, is drawn last.</p>&#13;
&#13;
<p>For the most part, this is a logical process; after all, if you&#13;
declare a background color for table cells, you would want that drawn&#13;
over the background for the table element. The most important point&#13;
revealed by <a data-type="xref" href="#layers-formatting-schematic">Figure 13-3</a> is that column styles come below row styles, so a&#13;
row’s background will overwrite a column’s background.</p>&#13;
&#13;
<p>It is important to remember that by default, all elements have&#13;
transparent backgrounds. Thus, in the following markup, the table&#13;
element’s background will be visible “through” cells, rows, columns, and&#13;
so forth that do not have a background of their own, as &#13;
<span class="keep-together">illustrated</span> in&#13;
<a data-type="xref" href="#layers-seeing-background">Figure 13-4</a>:</p>&#13;
&#13;
<pre data-code-language="xml" data-type="programlisting"><code class="nt">&lt;table</code><code class="w"> </code><code class="na">style=</code><code class="s">"background: #B84;"</code><code class="nt">&gt;</code><code class="w"/>&#13;
<code class="w">    </code><code class="nt">&lt;tr&gt;</code><code class="w"/>&#13;
<code class="w">        </code><code class="nt">&lt;td&gt;</code>hey<code class="nt">&lt;/td&gt;</code><code class="w"/>&#13;
<code class="w">        </code><code class="nt">&lt;td</code><code class="w"> </code><code class="na">style=</code><code class="s">"background: #ABC;"</code><code class="nt">&gt;</code>there<code class="nt">&lt;/td&gt;</code><code class="w"/>&#13;
<code class="w">    </code><code class="nt">&lt;/tr&gt;</code><code class="w"/>&#13;
<code class="w">    </code><code class="nt">&lt;tr&gt;</code><code class="w"/>&#13;
<code class="w">        </code><code class="nt">&lt;td&gt;</code>what’s<code class="nt">&lt;/td&gt;</code><code class="w"/>&#13;
<code class="w">        </code><code class="nt">&lt;td&gt;</code>up?<code class="nt">&lt;/td&gt;</code><code class="w"/>&#13;
<code class="w">    </code><code class="nt">&lt;/tr&gt;</code><code class="w"/>&#13;
<code class="w">    </code><code class="nt">&lt;tr</code><code class="w"> </code><code class="na">style=</code><code class="s">"background: #CBA;"</code><code class="nt">&gt;</code><code class="w"/>&#13;
<code class="w">        </code><code class="nt">&lt;td&gt;</code>not<code class="nt">&lt;/td&gt;</code><code class="w"/>&#13;
<code class="w">        </code><code class="nt">&lt;td</code><code class="w"> </code><code class="na">style=</code><code class="s">"background: #ECC;"</code><code class="nt">&gt;</code>much<code class="nt">&lt;/td&gt;</code><code class="w"/>&#13;
<code class="w">    </code><code class="nt">&lt;/tr&gt;</code><code class="w"/>&#13;
<code class="nt">&lt;/table&gt;</code><code class="w"/></pre>&#13;
&#13;
<figure><div class="figure" id="layers-seeing-background">&#13;
<img alt="css5 1304" src="assets/css5_1304.png"/>&#13;
<h6><span class="label">Figure 13-4. </span>Seeing the background of table-formatting layers through other layers</h6>&#13;
</div></figure>&#13;
</div></section>&#13;
&#13;
&#13;
&#13;
&#13;
&#13;
&#13;
&#13;
&#13;
<section class="less_space pagebreak-before" data-pdf-bookmark="Using Captions" data-type="sect2"><div class="sect2" id="captions">&#13;
<h2>Using Captions</h2>&#13;
&#13;
<p>A <em>table caption</em> is <a data-primary="caption-side property" data-type="indexterm" id="ix_caption_side_prop"/>about what you’d expect: a short bit of text that&#13;
describes the nature of the table’s contents. A chart of stock quotes&#13;
for the fourth quarter of 2026, therefore, might have a caption element&#13;
whose contents read “Q4 2026 Stock Performance.” With the property&#13;
<code>caption-side</code>, you can place this element either above or below the&#13;
table, regardless of where the caption appears in the table’s structure.&#13;
(In HTML5, the &#13;
<span class="keep-together"><code>&lt;caption&gt;</code></span> element can appear only as the first child of a <code>&lt;table&gt;</code> element, but other languages may have different rules.)</p>&#13;
<aside data-type="sidebar" epub:type="sidebar"><div class="sidebar" id="idm45176091498256">&#13;
<h1>caption-side</h1><table>&#13;
&#13;
<tbody>&#13;
<tr>&#13;
<td><p><strong>Values</strong></p></td>&#13;
<td><p><code>top</code> | <code>bottom</code></p></td>&#13;
</tr>&#13;
<tr>&#13;
<td><p><strong>Initial value</strong></p></td>&#13;
<td><p><code>top</code></p></td>&#13;
</tr>&#13;
<tr>&#13;
<td><p><strong>Applies to</strong></p></td>&#13;
<td><p>Elements with the <code>display</code> value <code>table-caption</code></p></td>&#13;
</tr>&#13;
<tr>&#13;
<td><p><strong>Computed value</strong></p></td>&#13;
<td><p>As specified</p></td>&#13;
</tr>&#13;
<tr>&#13;
<td><p><strong>Inherited</strong></p></td>&#13;
<td><p>Yes</p></td>&#13;
</tr>&#13;
<tr>&#13;
<td><p><strong>Animatable</strong></p></td>&#13;
<td><p>No</p></td>&#13;
</tr>&#13;
<tr>&#13;
<td><p><strong>Note</strong></p></td>&#13;
<td><p>The values <code>left</code> and <code>right</code> appeared in CSS2, but were dropped&#13;
from CSS2.1 because of a lack of widespread support</p></td>&#13;
</tr>&#13;
</tbody>&#13;
</table>&#13;
</div></aside>&#13;
&#13;
<p>Captions are a bit odd, at least in visual terms. The CSS specification&#13;
states that a caption is formatted as if it were a block box placed&#13;
immediately before (or after) the table’s box, with one exception: the&#13;
caption can still inherit values from the table.</p>&#13;
&#13;
<p>A simple example should suffice to illustrate most of the important&#13;
aspects of caption presentation. Consider the following, illustrated in&#13;
<a data-type="xref" href="#captions-styling">Figure 13-5</a>:</p>&#13;
&#13;
<pre data-code-language="css" data-type="programlisting"><code class="nt">table</code> <code class="p">{</code><code class="k">color</code><code class="o">:</code> <code class="nb">white</code><code class="p">;</code> <code class="k">background</code><code class="o">:</code> <code class="m">#840</code><code class="p">;</code> <code class="k">margin</code><code class="o">:</code> <code class="m">0.5em</code> <code class="m">0</code><code class="p">;}</code>&#13;
<code class="nt">caption</code> <code class="p">{</code><code class="k">background</code><code class="o">:</code> <code class="m">#B84</code><code class="p">;</code> <code class="k">margin</code><code class="o">:</code> <code class="m">1em</code> <code class="m">0</code><code class="p">;}</code>&#13;
<code class="nt">table</code><code class="nc">.one</code> <code class="nt">caption</code> <code class="p">{</code><code class="k">caption-side</code><code class="o">:</code> <code class="nb">top</code><code class="p">;}</code>&#13;
<code class="nt">table</code><code class="nc">.two</code> <code class="nt">caption</code> <code class="p">{</code><code class="k">caption-side</code><code class="o">:</code> <code class="n">bottom</code><code class="p">;}</code>&#13;
<code class="nt">td</code> <code class="p">{</code><code class="k">padding</code><code class="o">:</code> <code class="m">0.5em</code><code class="p">;}</code></pre>&#13;
&#13;
<p>The text in each <code>&lt;caption&gt;</code> element inherits the <code>color</code> value <code>white</code>&#13;
from the table, while the caption gets its own background. The&#13;
separation between each table’s outer border edge and the caption’s outer&#13;
margin edge is 1 em, as the margins of the table and the caption have collapsed.&#13;
Finally, the width of the caption is&#13;
based on the content width of the <code>&lt;table&gt;</code> element, which is considered&#13;
to be the containing block of the caption.</p>&#13;
&#13;
<figure><div class="figure" id="captions-styling">&#13;
<img alt="css5 1305" src="assets/css5_1305.png"/>&#13;
<h6><span class="label">Figure 13-5. </span>Styling captions and tables</h6>&#13;
</div></figure>&#13;
&#13;
<p>For the most part, captions are styled just like any block-level&#13;
element: they can be padded, have borders, be given backgrounds, and so&#13;
on. For example, if we need to change the horizontal alignment of text&#13;
within the caption, we use the property <code>text-align</code>. Thus, to&#13;
right-align the caption in the previous example, we would write this:<a data-primary="" data-startref="ix_caption_side_prop" data-type="indexterm" id="idm45176091431312"/></p>&#13;
&#13;
<pre data-code-language="css" data-type="programlisting"><code class="nt">caption</code> <code class="p">{</code><code class="k">background</code><code class="o">:</code> <code class="nb">gray</code><code class="p">;</code> <code class="k">margin</code><code class="o">:</code> <code class="m">1em</code> <code class="m">0</code><code class="p">;</code>&#13;
    <code class="k">caption-side</code><code class="o">:</code> <code class="nb">top</code><code class="p">;</code> <code class="k">text-align</code><code class="o">:</code> <code class="nb">right</code><code class="p">;}</code></pre>&#13;
</div></section>&#13;
</div></section>&#13;
&#13;
&#13;
&#13;
&#13;
&#13;
&#13;
<section data-pdf-bookmark="Table Cell Borders" data-type="sect1"><div class="sect1" id="table-cell-borders">&#13;
<h1>Table Cell Borders</h1>&#13;
&#13;
<p>CSS has two quite <a data-primary="cell borders, table" data-type="indexterm" id="ix_cell_border_table"/><a data-primary="borders" data-secondary="table-cell" data-type="indexterm" id="ix_border_table_cell"/>distinct table-border models. The <em>separated border&#13;
model</em> takes effect when cells are separated from each other in layout&#13;
terms. <a data-primary="collapsed cell borders, table" data-type="indexterm" id="idm45176091348864"/><a data-primary="border-collapse property" data-type="indexterm" id="idm45176091348192"/>The <em>collapsed border model</em> has no visual separation between cells, and cell borders merge or&#13;
collapse into one another. The former is the default model,&#13;
but you can choose between the two models with the property&#13;
<code>border-collapse</code>.</p>&#13;
<aside data-type="sidebar" epub:type="sidebar"><div class="sidebar" id="idm45176091346592">&#13;
<h1>border-collapse</h1><table>&#13;
&#13;
<tbody>&#13;
<tr>&#13;
<td><p><strong>Values</strong></p></td>&#13;
<td><p><code>collapse</code> | <code>separate</code> | <code>inherit</code></p></td>&#13;
</tr>&#13;
<tr>&#13;
<td><p><strong>Initial value</strong></p></td>&#13;
<td><p><code>separate</code></p></td>&#13;
</tr>&#13;
<tr>&#13;
<td><p><strong>Applies to</strong></p></td>&#13;
<td><p>Elements with the <code>display</code> value <code>table</code> or&#13;
<code>table-inline</code></p></td>&#13;
</tr>&#13;
<tr>&#13;
<td><p><strong>Inherited</strong></p></td>&#13;
<td><p>Yes</p></td>&#13;
</tr>&#13;
<tr>&#13;
<td><p><strong>Computed value</strong></p></td>&#13;
<td><p>As specified</p></td>&#13;
</tr>&#13;
<tr>&#13;
<td><p><strong>Note</strong></p></td>&#13;
<td><p>In CSS2, the default was <code>collapse</code></p></td>&#13;
</tr>&#13;
</tbody>&#13;
</table>&#13;
</div></aside>&#13;
&#13;
<p>The whole point of this property is to offer a way to&#13;
determine which border model the user agent will employ. If the value&#13;
<code>collapse</code> is in effect, the collapsed border model is used. If&#13;
the value is <code>separate</code>, the separated border model is used. We’ll&#13;
look at the latter model first, since it’s much easier to&#13;
describe and is the default.</p>&#13;
&#13;
&#13;
&#13;
&#13;
&#13;
&#13;
&#13;
&#13;
<section data-pdf-bookmark="Separated Cell Borders" data-type="sect2"><div class="sect2" id="separated-cell-borders">&#13;
<h2>Separated Cell Borders</h2>&#13;
&#13;
<p>In the <a data-primary="separated cell borders, table" data-type="indexterm" id="ix_sep_cell_border_table"/>separated border model, every cell in the table is separated from the other cells&#13;
by some distance, and the borders of cells do not collapse into one another. Thus, given the following styles and markup, you should get the&#13;
result shown in <a data-type="xref" href="#borders-separated">Figure 13-6</a>:</p>&#13;
&#13;
<pre data-code-language="css" data-type="programlisting"><code class="nt">td</code> <code class="p">{</code><code class="k">border</code><code class="o">:</code> <code class="m">3px</code> <code class="nb">double</code> <code class="nb">black</code><code class="p">;</code> <code class="k">padding</code><code class="o">:</code> <code class="m">3px</code><code class="p">;}</code>&#13;
<code class="nt">tr</code><code class="nd">:nth-child</code><code class="o">(</code><code class="nt">2</code><code class="o">)</code> <code class="nt">td</code><code class="nd">:nth-child</code><code class="o">(</code><code class="nt">2</code><code class="o">)</code> <code class="p">{</code><code class="k">border-color</code><code class="o">:</code> <code class="nb">gray</code><code class="p">;}</code></pre>&#13;
&#13;
<pre data-code-language="xml" data-type="programlisting"><code class="nt">&lt;table</code><code class="w"> </code><code class="na">cellspacing=</code><code class="s">"0"</code><code class="nt">&gt;</code><code class="w"/>&#13;
<code class="w">    </code><code class="nt">&lt;tr&gt;</code><code class="w"/>&#13;
<code class="w">        </code><code class="nt">&lt;td&gt;</code>cell<code class="w"> </code>one<code class="nt">&lt;/td&gt;</code><code class="w"/>&#13;
<code class="w">        </code><code class="nt">&lt;td&gt;</code>cell<code class="w"> </code>two<code class="nt">&lt;/td&gt;</code><code class="w"/>&#13;
<code class="w">    </code><code class="nt">&lt;/tr&gt;</code><code class="w"/>&#13;
<code class="w">    </code><code class="nt">&lt;tr&gt;</code><code class="w"/>&#13;
<code class="w">        </code><code class="nt">&lt;td&gt;</code>cell<code class="w"> </code>three<code class="nt">&lt;/td&gt;</code><code class="w"/>&#13;
<code class="w">        </code><code class="nt">&lt;td&gt;</code>cell<code class="w"> </code>four<code class="nt">&lt;/td&gt;</code><code class="w"/>&#13;
<code class="w">    </code><code class="nt">&lt;/tr&gt;</code><code class="w"/>&#13;
<code class="nt">&lt;/table&gt;</code><code class="w"/></pre>&#13;
&#13;
<p>Note that the cell borders touch but remain distinct from one another.&#13;
The three lines between cells are actually the two double borders&#13;
sitting right next to each other; the gray border around the fourth cell&#13;
helps make this more clear.</p>&#13;
&#13;
<figure class="bordernone"><div class="figure" id="borders-separated">&#13;
<img alt="image" src="assets/css5_1306.png"/>&#13;
<h6><span class="label">Figure 13-6. </span>Separated (and thus separate) cell borders</h6>&#13;
</div></figure>&#13;
&#13;
<p>The HTML <a data-primary="cellspacing attribute, HTML" data-type="indexterm" id="idm45176091231184"/>attribute <code>cellspacing</code> is included in the preceding example to make sure the cells have no separation between them, but its&#13;
presence is likely a bit troubling. After all, if you can define&#13;
borders as separate, there ought to be a way to use CSS to alter&#13;
the spacing between cells. Fortunately, there is.</p>&#13;
&#13;
&#13;
&#13;
&#13;
&#13;
&#13;
&#13;
&#13;
&#13;
&#13;
<section class="less_space pagebreak-before" data-pdf-bookmark="Applying border spacing" data-type="sect3"><div class="sect3" id="border-spacing">&#13;
<h3>Applying border spacing</h3>&#13;
&#13;
<p>Once you’ve <a data-primary="spacing" data-secondary="border-spacing property" data-type="indexterm" id="ix_space_border_spac_prop"/><a data-primary="border-spacing property" data-type="indexterm" id="ix_border_spac_prop"/>separated the table cell borders, you might want those borders to be separated by a certain distance. This can&#13;
be easily accomplished with the property <code>border-spacing</code>, which&#13;
provides a more powerful replacement for the HTML attribute&#13;
<code>cellspacing</code>.</p>&#13;
<aside data-type="sidebar" epub:type="sidebar"><div class="sidebar" id="idm45176091224320">&#13;
<h1>border-spacing</h1><table>&#13;
&#13;
<tbody>&#13;
<tr>&#13;
<td><p><strong>Values</strong></p></td>&#13;
<td><p>&lt;<code><em>length</em></code>&gt; &lt;<code><em>length</em></code>&gt;?</p></td>&#13;
</tr>&#13;
<tr>&#13;
<td><p><strong>Initial value</strong></p></td>&#13;
<td><p><code>0</code></p></td>&#13;
</tr>&#13;
<tr>&#13;
<td><p><strong>Applies to</strong></p></td>&#13;
<td><p>Elements with the display value <code>table</code> or <code>table-inline</code></p></td>&#13;
</tr>&#13;
<tr>&#13;
<td><p><strong>Computed value</strong></p></td>&#13;
<td><p>Two absolute lengths</p></td>&#13;
</tr>&#13;
<tr>&#13;
<td><p><strong>Inherited</strong></p></td>&#13;
<td><p>Yes</p></td>&#13;
</tr>&#13;
<tr>&#13;
<td><p><strong>Animatable</strong></p></td>&#13;
<td><p>Yes</p></td>&#13;
</tr>&#13;
<tr>&#13;
<td><p><strong>Note</strong></p></td>&#13;
<td><p>Property is ignored unless <code>border-collapse</code> value is <code>separate</code></p></td>&#13;
</tr>&#13;
</tbody>&#13;
</table>&#13;
</div></aside>&#13;
&#13;
<p>Either one or two lengths can be given for the value of this property.&#13;
If you want all your cells separated by a single pixel, <code>border-spacing: 1px;</code> will suffice. If, on the other hand, you want&#13;
cells to be separated by 1 pixel horizontally and 5 pixels&#13;
vertically, write <code>border-spacing: 1px 5px;</code>. If two lengths are&#13;
supplied, the first is always the horizontal separation, and the second&#13;
is always the vertical.</p>&#13;
&#13;
<p>The spacing values are also applied between the borders of cells along&#13;
the outside of a table and the padding on the <code>table</code> element itself.&#13;
Given the following styles, you would get a result like that shown in <a data-type="xref" href="#border-spacing-cells-table">Figure 13-7</a>:</p>&#13;
&#13;
<pre data-code-language="css" data-type="programlisting"><code class="nt">table</code> <code class="p">{</code><code class="k">border-collapse</code><code class="o">:</code> <code class="nb">separate</code><code class="p">;</code> <code class="k">border-spacing</code><code class="o">:</code> <code class="m">5px</code> <code class="m">8px</code><code class="p">;</code>&#13;
<code class="k">padding</code><code class="o">:</code> <code class="m">12px</code><code class="p">;</code> <code class="k">border</code><code class="o">:</code> <code class="m">2px</code> <code class="nb">solid</code> <code class="nb">black</code><code class="p">;}</code>&#13;
<code class="nt">td</code> <code class="p">{</code> <code class="k">border</code><code class="o">:</code> <code class="m">1px</code> <code class="nb">solid</code> <code class="nb">gray</code><code class="p">;}</code>&#13;
<code class="nt">td</code><code class="nf">#squeeze</code> <code class="p">{</code><code class="k">border-width</code><code class="o">:</code> <code class="m">5px</code><code class="p">;}</code></pre>&#13;
&#13;
<p><a data-type="xref" href="#border-spacing-cells-table">Figure 13-7</a> displays a space 5 pixels wide between the borders of any&#13;
two horizontally adjacent cells, and 17 pixels of space&#13;
between the borders of the right- and leftmost cells and the right and&#13;
left borders of the <code>&lt;table&gt;</code> element. Similarly, the borders of&#13;
vertically adjacent cells are 8 pixels apart, and the borders of the&#13;
cells in the top and bottom rows are 20 pixels from the top and bottom&#13;
borders of the table, respectively. The separation between cell borders&#13;
is constant throughout the table, regardless of the border widths of the&#13;
cells themselves.</p>&#13;
&#13;
<p>Note also that declaring a <code>border-spacing</code> value is done on the table itself, not on the individual cells. If&#13;
<code>border-spacing</code> had been declared for the <code>&lt;td&gt;</code> elements in the previous&#13;
example, it would have been ignored.</p>&#13;
&#13;
<figure class="bordernone"><div class="figure" id="border-spacing-cells-table">&#13;
<img alt="css5 1307" src="assets/css5_1307.png"/>&#13;
<h6><span class="label">Figure 13-7. </span>Border spacing effects between cells and their enclosing table</h6>&#13;
</div></figure>&#13;
&#13;
<p>In the separated border model, borders cannot be set for rows, row&#13;
groups, columns, and column groups. Any border properties declared for&#13;
such elements must be ignored by a CSS-conformant user agent.<a data-primary="" data-startref="ix_border_spac_prop" data-type="indexterm" id="idm45176091116304"/><a data-primary="" data-startref="ix_space_border_spac_prop" data-type="indexterm" id="idm45176091102560"/></p>&#13;
</div></section>&#13;
&#13;
&#13;
&#13;
&#13;
&#13;
&#13;
&#13;
&#13;
&#13;
&#13;
<section data-pdf-bookmark="Handling empty cells" data-type="sect3"><div class="sect3" id="handling-empty-cells">&#13;
<h3>Handling empty cells</h3>&#13;
&#13;
<p>Because every <a data-primary="empty-cells property" data-type="indexterm" id="idm45176091099840"/>cell is, in a visual sense, distinct from all the other&#13;
cells in the table, what do you do with cells that are empty (i.e., have&#13;
no content)? You have two choices, which are reflected in the values of&#13;
the <code>empty-cells</code> property.</p>&#13;
<aside data-type="sidebar" epub:type="sidebar"><div class="sidebar" id="idm45176091098464">&#13;
<h1>empty-cells</h1><table>&#13;
&#13;
<tbody>&#13;
<tr>&#13;
<td><p><strong>Values</strong></p></td>&#13;
<td><p><code>show</code> | <code>hide</code></p></td>&#13;
</tr>&#13;
<tr>&#13;
<td><p><strong>Initial value</strong></p></td>&#13;
<td><p><code>show</code></p></td>&#13;
</tr>&#13;
<tr>&#13;
<td><p><strong>Applies to</strong></p></td>&#13;
<td><p>Elements with the <code>display</code> value <code>table-cell</code></p></td>&#13;
</tr>&#13;
<tr>&#13;
<td><p><strong>Computed value</strong></p></td>&#13;
<td><p>As specified</p></td>&#13;
</tr>&#13;
<tr>&#13;
<td><p><strong>Inherited</strong></p></td>&#13;
<td><p>Yes</p></td>&#13;
</tr>&#13;
<tr>&#13;
<td><p><strong>Animatable</strong></p></td>&#13;
<td><p>No</p></td>&#13;
</tr>&#13;
<tr>&#13;
<td><p><strong>Note</strong></p></td>&#13;
<td><p>Property is ignored unless <code>border-collapse</code> value is&#13;
<code>separate</code></p></td>&#13;
</tr>&#13;
</tbody>&#13;
</table>&#13;
</div></aside>&#13;
&#13;
<p>If <code>empty-cells</code> is set to <code>show</code>, the borders and background of an&#13;
empty cell will be drawn, just as with table cells that have content. If&#13;
the value is <code>hide</code>, no part of the cell is drawn, as if the&#13;
cell were set to <code>visibility: hidden</code>.</p>&#13;
&#13;
<p>If a cell contains any content, it cannot be considered empty.&#13;
<em>Content</em>, in this case, includes not only text, images, form elements,&#13;
and so on, but also the nonbreaking space entity (<code>&amp;nbsp;</code>) and any&#13;
other whitespace <em>except</em> the carriage return (CR), line feed (LF), tab,&#13;
and space characters. If all the cells in a row are empty, and all have&#13;
an <code>empty-cells</code> value of <code>hide</code>, the entire row is treated as if&#13;
the row element were set to <code>display: none</code>.<a data-primary="" data-startref="ix_sep_cell_border_table" data-type="indexterm" id="idm45176091076848"/></p>&#13;
</div></section>&#13;
</div></section>&#13;
&#13;
&#13;
&#13;
&#13;
&#13;
&#13;
&#13;
&#13;
<section data-pdf-bookmark="Collapsed Cell Borders" data-type="sect2"><div class="sect2" id="collapsing-cell-borders">&#13;
<h2>Collapsed Cell Borders</h2>&#13;
&#13;
<p>While the <a data-primary="border-collapse property" data-type="indexterm" id="ix_border_collapse_prop"/><a data-primary="collapsed cell borders, table" data-type="indexterm" id="ix_collapse_border_table"/>collapsed border model largely describes how HTML tables have&#13;
always been laid out when they don’t have any cell spacing, it is quite&#13;
a bit more complicated than the separated borders model. The following rules set collapsing cell borders apart from the separated&#13;
borders model:</p>&#13;
&#13;
<ul>&#13;
<li>&#13;
<p>Elements with a <code>display</code> of <code>table</code> or <code>inline-table</code> cannot have any&#13;
padding when <code>border-collapse</code> is <code>collapse</code>, although they can have margins.&#13;
Thus, separation never occurs between the border around the outside of&#13;
the table and the edges of its outermost cells in the collapsed border model.</p>&#13;
</li>&#13;
<li>&#13;
<p>Borders can be applied to cells, rows, row groups, columns, and column&#13;
groups. A table itself can, as always, have a border.</p>&#13;
</li>&#13;
<li>&#13;
<p>Separation never exists between cell borders in the collapsed border model.&#13;
In fact, borders collapse into each other where they adjoin, so that only one of the&#13;
collapsing borders is actually drawn. This is somewhat akin to margin&#13;
collapsing, where the largest margin wins. When cell borders collapse,&#13;
the “most interesting” border wins.</p>&#13;
</li>&#13;
<li>&#13;
<p>Once they are collapsed, the borders between cells are centered on the&#13;
hypothetical grid lines between the cells.</p>&#13;
</li>&#13;
</ul>&#13;
&#13;
<p>We’ll explore the last two points in more detail in the next two&#13;
sections.</p>&#13;
&#13;
&#13;
&#13;
&#13;
&#13;
&#13;
&#13;
&#13;
&#13;
&#13;
<section data-pdf-bookmark="Collapsing border layout" data-type="sect3"><div class="sect3" id="collapsing-border-layout">&#13;
<h3>Collapsing border layout</h3>&#13;
&#13;
<p>To better understand how the collapsed border model works,&#13;
let’s look at the layout of a single table row, as shown in <a data-type="xref" href="#border-spacing-collapsed-row-layout">Figure 13-8</a>.</p>&#13;
&#13;
<p>The padding and content width of each cell is inside the&#13;
borders, as expected. For the borders between cells, half of the border&#13;
is to one side of the grid line between two cells, and the other half is&#13;
to the other side. In each case, only a single border is drawn along&#13;
each cell edge. You might think that half of each cell’s border is drawn&#13;
to each side of the grid line, but that’s not what happens.</p>&#13;
&#13;
<figure class="bordernone"><div class="figure" id="border-spacing-collapsed-row-layout">&#13;
<img alt="image" src="assets/css5_1308.png"/>&#13;
<h6><span class="label">Figure 13-8. </span>The layout of a table row using the collapsing borders model</h6>&#13;
</div></figure>&#13;
&#13;
<p>For example, assume that the solid borders on the middle cell are green&#13;
and the solid borders on the outer two cells are red. The borders on the&#13;
right and left sides of the middle cell (which collapse with the&#13;
adjacent borders of the outer cells) will be all green, or all red,&#13;
depending on which border wins out. We’ll discuss how to tell which one&#13;
wins in the next section.</p>&#13;
&#13;
<p>You may have noticed that the outer borders protrude past the table’s&#13;
width. This is because in this model, <em>half</em> the table’s borders are&#13;
included in the width. The other half stick out beyond that distance,&#13;
sitting in the margin itself. This might seem a bit weird, but that’s&#13;
how the model is defined to work.</p>&#13;
&#13;
<p>The specification includes a layout formula reproduced here for&#13;
the benefit of those who enjoy such things:</p>&#13;
<div data-type="equation">&#13;
<p>row width = (0.5 × border-width-0) + padding-left-1 + width-1 + padding-right-1&#13;
+ border-width-1 + padding-left-2 +...+ padding-right-<em>n</em> + (0.5 × border-width-<em>n</em>)&#13;
</p>&#13;
</div>&#13;
&#13;
<p>Each <code>border-width</code>-<em><code>n</code></em> refers to the border between cell <em>n</em> and the next&#13;
cell; thus, <code>border-width-3</code> refers to the border between the third and&#13;
fourth cells. The value <em><code>n</code></em> stands for the total number of cells in the&#13;
row.</p>&#13;
&#13;
<p>This mechanism has a slight exception. When beginning the layout&#13;
of a collapsed-border table, the user agent computes an initial left and&#13;
right border for the table itself. It does this by examining the left&#13;
border of the first cell in the first row of the table and by taking&#13;
half of that border’s width as the table’s initial left border width.&#13;
The user agent then examines the right border of the last cell in the&#13;
first row and uses half that width to set the table’s initial right border width. For any row after the first, if the left or right border&#13;
is wider than the initial border widths, it sticks out into the margin&#13;
area of the table.</p>&#13;
&#13;
<p>If a border is an odd number of display elements (pixels,&#13;
printer dots, etc.) wide, the user agent is left to decide what to do&#13;
about centering the border on the grid line. The user agent might shift the border&#13;
so that it is slightly off-center, round up or down to an even number of&#13;
display elements, use anti-aliasing, or adjust anything else that seems &#13;
<span class="keep-together">reasonable.</span></p>&#13;
</div></section>&#13;
&#13;
&#13;
&#13;
&#13;
&#13;
&#13;
&#13;
&#13;
&#13;
&#13;
<section data-pdf-bookmark="Border collapsing" data-type="sect3"><div class="sect3" id="border-collapsing">&#13;
<h3>Border collapsing</h3>&#13;
&#13;
<p>When two or more borders are adjacent, they collapse into each other. In&#13;
fact, they don’t collapse so much as fight it out to see which will gain supremacy over the others. Strict rules&#13;
govern which borders will win and which will not:</p>&#13;
&#13;
<ul>&#13;
<li>&#13;
<p>If one of the collapsing borders has a <code>border-style</code> of <code>hidden</code>, it&#13;
takes precedence over all other collapsing borders. All borders at this&#13;
location are hidden.</p>&#13;
</li>&#13;
<li>&#13;
<p>If all the borders are visible, wider borders take precedence over&#13;
narrower ones. Thus, if a 2-pixel dotted border and a 5-pixel double&#13;
border collapse, the border at that location will be a 5-pixel double&#13;
border.</p>&#13;
</li>&#13;
<li>&#13;
<p>If all collapsing borders have the same width but different border styles, the border style&#13;
is taken in the following order, from most to least preferred: <code>double</code>,&#13;
<code>solid</code>, <code>dashed</code>, <code>dotted</code>, <code>ridge</code>, <code>outset</code>, <code>groove</code>, <code>inset</code>,&#13;
<code>none</code>. Thus, if two borders with the same width are collapsing, and one&#13;
is <code>dashed</code> while the other is <code>outset</code>, the border at that location&#13;
will be dashed.</p>&#13;
</li>&#13;
<li>&#13;
<p>If collapsing borders have the same style and width, but differ in&#13;
color, the color used is taken from an element in the following&#13;
list, from most preferred to least: cell, row, row group, column, column&#13;
group, table. Thus, if the borders of a cell and a column (identical in&#13;
every way except color) collapse, the cell’s border color (and&#13;
style and width) will be used. If the collapsing borders come from the&#13;
same type of element, such as two row borders with the same style and&#13;
width but different colors, the color is taken from borders that&#13;
are closer to the block-start and inline-start edges of the element.</p>&#13;
</li>&#13;
</ul>&#13;
&#13;
<p>The following styles and markup, presented in <a data-type="xref" href="#border-spacing-collapsed-unusual">Figure 13-9</a>, help illustrate&#13;
each of the &#13;
<span class="keep-together">four rules:</span></p>&#13;
&#13;
<pre data-code-language="css" data-type="programlisting"><code class="nt">table</code> <code class="p">{</code><code class="k">border-collapse</code><code class="o">:</code> <code class="nb">collapse</code><code class="p">;</code>&#13;
<code class="k">border</code><code class="o">:</code> <code class="m">3px</code> <code class="nb">outset</code> <code class="nb">gray</code><code class="p">;}</code>&#13;
<code class="nt">td</code> <code class="p">{</code><code class="k">border</code><code class="o">:</code> <code class="m">1px</code> <code class="nb">solid</code> <code class="nb">gray</code><code class="p">;</code> <code class="k">padding</code><code class="o">:</code> <code class="m">0.5em</code><code class="p">;}</code>&#13;
<code class="nf">#r2c1</code><code class="o">,</code> <code class="nf">#r2c2</code> <code class="p">{</code><code class="k">border-style</code><code class="o">:</code> <code class="nb">hidden</code><code class="p">;}</code>&#13;
<code class="nf">#r1c1</code><code class="o">,</code> <code class="nf">#r1c4</code> <code class="p">{</code><code class="k">border-width</code><code class="o">:</code> <code class="m">5px</code><code class="p">;}</code>&#13;
<code class="nf">#r2c4</code> <code class="p">{</code><code class="k">border-style</code><code class="o">:</code> <code class="nb">double</code><code class="p">;</code> <code class="k">border-width</code><code class="o">:</code> <code class="m">3px</code><code class="p">;}</code>&#13;
<code class="nf">#r3c4</code> <code class="p">{</code><code class="k">border-style</code><code class="o">:</code> <code class="nb">dotted</code><code class="p">;</code> <code class="k">border-width</code><code class="o">:</code> <code class="m">2px</code><code class="p">;}</code>&#13;
<code class="nf">#r4c1</code> <code class="p">{</code><code class="k">border-bottom-style</code><code class="o">:</code> <code class="nb">hidden</code><code class="p">;}</code>&#13;
<code class="nf">#r4c3</code> <code class="p">{</code><code class="k">border-top</code><code class="o">:</code> <code class="m">13px</code> <code class="nb">solid</code> <code class="nb">silver</code><code class="p">;}</code></pre>&#13;
&#13;
<pre data-code-language="xml" data-type="programlisting"><code class="nt">&lt;table&gt;</code><code class="w"/>&#13;
<code class="w">    </code><code class="nt">&lt;tr&gt;</code><code class="w"/>&#13;
<code class="w">        </code><code class="nt">&lt;td</code><code class="w"> </code><code class="na">id=</code><code class="s">"r1c1"</code><code class="nt">&gt;</code>1-1<code class="nt">&lt;/td&gt;</code><code class="w"/>&#13;
<code class="w">        </code><code class="nt">&lt;td</code><code class="w"> </code><code class="na">id=</code><code class="s">"r1c2"</code><code class="nt">&gt;</code>1-2<code class="nt">&lt;/td&gt;</code><code class="w"/>&#13;
<code class="w">        </code><code class="nt">&lt;td</code><code class="w"> </code><code class="na">id=</code><code class="s">"r1c3"</code><code class="nt">&gt;</code>1-3<code class="nt">&lt;/td&gt;</code><code class="w"/>&#13;
<code class="w">        </code><code class="nt">&lt;td</code><code class="w"> </code><code class="na">id=</code><code class="s">"r1c4"</code><code class="nt">&gt;</code>1-4<code class="nt">&lt;/td&gt;</code><code class="w"/>&#13;
<code class="w">    </code><code class="nt">&lt;/tr&gt;</code><code class="w"/>&#13;
<code class="w">    </code><code class="nt">&lt;tr&gt;</code><code class="w"/>&#13;
<code class="w">        </code><code class="nt">&lt;td</code><code class="w"> </code><code class="na">id=</code><code class="s">"r2c1"</code><code class="nt">&gt;</code>2-1<code class="nt">&lt;/td&gt;</code><code class="w"/>&#13;
<code class="w">        </code><code class="nt">&lt;td</code><code class="w"> </code><code class="na">id=</code><code class="s">"r2c2"</code><code class="nt">&gt;</code>2-2<code class="nt">&lt;/td&gt;</code><code class="w"/>&#13;
<code class="w">        </code><code class="nt">&lt;td</code><code class="w"> </code><code class="na">id=</code><code class="s">"r2c3"</code><code class="nt">&gt;</code>2-3<code class="nt">&lt;/td&gt;</code><code class="w"/>&#13;
<code class="w">        </code><code class="nt">&lt;td</code><code class="w"> </code><code class="na">id=</code><code class="s">"r2c4"</code><code class="nt">&gt;</code>2-4<code class="nt">&lt;/td&gt;</code><code class="w"/>&#13;
<code class="w">    </code><code class="nt">&lt;/tr&gt;</code><code class="w"/>&#13;
<code class="w">    </code><code class="nt">&lt;tr&gt;</code><code class="w"/>&#13;
<code class="w">        </code><code class="nt">&lt;td</code><code class="w"> </code><code class="na">id=</code><code class="s">"r3c1"</code><code class="nt">&gt;</code>3-1<code class="nt">&lt;/td&gt;</code><code class="w"/>&#13;
<code class="w">        </code><code class="nt">&lt;td</code><code class="w"> </code><code class="na">id=</code><code class="s">"r3c2"</code><code class="nt">&gt;</code>3-2<code class="nt">&lt;/td&gt;</code><code class="w"/>&#13;
<code class="w">        </code><code class="nt">&lt;td</code><code class="w"> </code><code class="na">id=</code><code class="s">"r3c3"</code><code class="nt">&gt;</code>3-3<code class="nt">&lt;/td&gt;</code><code class="w"/>&#13;
<code class="w">        </code><code class="nt">&lt;td</code><code class="w"> </code><code class="na">id=</code><code class="s">"r3c4"</code><code class="nt">&gt;</code>3-4<code class="nt">&lt;/td&gt;</code><code class="w"/>&#13;
<code class="w">    </code><code class="nt">&lt;/tr&gt;</code><code class="w"/>&#13;
<code class="w">    </code><code class="nt">&lt;tr&gt;</code><code class="w"/>&#13;
<code class="w">        </code><code class="nt">&lt;td</code><code class="w"> </code><code class="na">id=</code><code class="s">"r4c1"</code><code class="nt">&gt;</code>4-1<code class="nt">&lt;/td&gt;</code><code class="w"/>&#13;
<code class="w">        </code><code class="nt">&lt;td</code><code class="w"> </code><code class="na">id=</code><code class="s">"r4c2"</code><code class="nt">&gt;</code>4-2<code class="nt">&lt;/td&gt;</code><code class="w"/>&#13;
<code class="w">        </code><code class="nt">&lt;td</code><code class="w"> </code><code class="na">id=</code><code class="s">"r4c3"</code><code class="nt">&gt;</code>4-3<code class="nt">&lt;/td&gt;</code><code class="w"/>&#13;
<code class="w">        </code><code class="nt">&lt;td</code><code class="w"> </code><code class="na">id=</code><code class="s">"r4c4"</code><code class="nt">&gt;</code>4-4<code class="nt">&lt;/td&gt;</code><code class="w"/>&#13;
<code class="w">    </code><code class="nt">&lt;/tr&gt;</code><code class="w"/>&#13;
<code class="nt">&lt;/table&gt;</code><code class="w"/></pre>&#13;
&#13;
<figure class="bordernone"><div class="figure" id="border-spacing-collapsed-unusual">&#13;
<img alt="css5 1309" src="assets/css5_1309.png"/>&#13;
<h6><span class="label">Figure 13-9. </span>Manipulating border widths, styles, and colors leads to some &#13;
<span class="keep-together">unusual results</span></h6>&#13;
</div></figure>&#13;
&#13;
<p>Let’s consider what happens for each of the cells, in turn:</p>&#13;
&#13;
<ul>&#13;
<li>&#13;
<p>For cells 1-1 and 1-4, the 5-pixel borders are wider than any of&#13;
their adjacent borders, so they win out not only over adjoining cell&#13;
borders, but over the border of the table itself. The only exception is&#13;
the bottom of cell 1-1, which is suppressed.</p>&#13;
</li>&#13;
<li>&#13;
<p>The bottom border on cell 1-1 is suppressed because cells 2-1 and&#13;
2-2, with their explicitly hidden borders, completely remove any borders&#13;
from the edge of the cells. Again, the table’s border loses out (on the&#13;
left edge of cell 2-1) to a cell’s border. The bottom border of cell 4-1&#13;
is also hidden, and so it prevents any border from appearing below the&#13;
cell.</p>&#13;
</li>&#13;
<li>&#13;
<p>The 3-pixel double border of cell 2-4 is overridden on top by the&#13;
5-pixel solid border of cell 1-4. Cell 2-4’s border, in turn, overrides the border between itself and cell 2-3 because it is both wider and&#13;
“more interesting.” Cell 2-4 also overrides the border between itself and&#13;
cell 3-4, even though both are the same width, because 2-4’s double&#13;
style is defined to be “more interesting” than 3-4’s dotted border.</p>&#13;
</li>&#13;
<li>&#13;
<p>The 13-pixel bottom silver border of cell 3-3 not only overrides the&#13;
top border of cell 4-3, but it also affects the layout of content&#13;
within both cells <em>and</em> the rows that contain both cells.</p>&#13;
</li>&#13;
<li>&#13;
<p>For cells along the outer edge of the table that aren’t specially&#13;
styled, their 1-pixel solid borders are overridden by the 3-pixel outset&#13;
border on the table element itself.</p>&#13;
</li>&#13;
</ul>&#13;
&#13;
<p>This is, in fact, about as complicated as it sounds, although the&#13;
behaviors are largely intuitive and make a little more sense with&#13;
practice. It’s worth noting that the basic Netscape 1.1-era&#13;
table presentation can be captured with a fairly simple set of rules:</p>&#13;
&#13;
<pre data-code-language="css" data-type="programlisting"><code class="nt">table</code> <code class="p">{</code><code class="k">border-collapse</code><code class="o">:</code> <code class="nb">collapse</code><code class="p">;</code> <code class="k">border</code><code class="o">:</code> <code class="m">2px</code> <code class="nb">outset</code> <code class="nb">gray</code><code class="p">;}</code>&#13;
<code class="nt">td</code> <code class="p">{</code><code class="k">border</code><code class="o">:</code> <code class="m">1px</code> <code class="nb">inset</code> <code class="nb">gray</code><code class="p">;}</code></pre>&#13;
&#13;
<p>Yes, tables were made to look 3D-ish by default when they debuted.&#13;
It was a different time.<a data-primary="" data-startref="ix_border_table_cell" data-type="indexterm" id="idm45176090649056"/><a data-primary="" data-startref="ix_cell_border_table" data-type="indexterm" id="idm45176090648208"/><a data-primary="" data-startref="ix_collapse_border_table" data-type="indexterm" id="idm45176090647296"/><a data-primary="" data-startref="ix_border_collapse_prop" data-type="indexterm" id="idm45176090646384"/></p>&#13;
</div></section>&#13;
</div></section>&#13;
</div></section>&#13;
&#13;
&#13;
&#13;
&#13;
&#13;
&#13;
<section data-pdf-bookmark="Table Sizing" data-type="sect1"><div class="sect1" id="table-sizing">&#13;
<h1>Table Sizing</h1>&#13;
&#13;
<p>Now <a data-primary="table layout" data-secondary="sizing" data-type="indexterm" id="ix_table_sizing"/>that we’ve dug into the guts of table formatting and cell border&#13;
appearance, you have the pieces you need to understand the sizing of&#13;
tables and their internal elements. <a data-primary="fixed-width layout model, tables" data-type="indexterm" id="ix_fix_width_table"/>When it comes to determining table&#13;
width, CSS has two approaches: <em>fixed-width layout</em> and&#13;
<em>automatic-width layout</em>. Table heights are calculated automatically, no matter&#13;
what width algorithms are used.</p>&#13;
&#13;
&#13;
&#13;
&#13;
&#13;
&#13;
&#13;
&#13;
<section data-pdf-bookmark="Width" data-type="sect2"><div class="sect2" id="width">&#13;
<h2>Width</h2>&#13;
&#13;
<p>Since there are two ways to figure out the width of a table,&#13;
it’s only logical that there is a way to declare which should be used&#13;
for a given table. You can use the property <code>table-layout</code> to select&#13;
between the two kinds of table width calculations.</p>&#13;
<aside data-type="sidebar" epub:type="sidebar"><div class="sidebar" id="idm45176090665216">&#13;
<h1>table-layout</h1><table>&#13;
&#13;
<tbody>&#13;
<tr>&#13;
<td><p><strong>Values</strong></p></td>&#13;
<td><p><code>auto</code> | <code>fixed</code></p></td>&#13;
</tr>&#13;
<tr>&#13;
<td><p><strong>Initial value</strong></p></td>&#13;
<td><p><code>auto</code></p></td>&#13;
</tr>&#13;
<tr>&#13;
<td><p><strong>Applies to</strong></p></td>&#13;
<td><p>Elements with the <code>display</code> value <code>table</code> or&#13;
<code>inline-table</code></p></td>&#13;
</tr>&#13;
<tr>&#13;
<td><p><strong>Computed value</strong></p></td>&#13;
<td><p>As specified</p></td>&#13;
</tr>&#13;
<tr>&#13;
<td><p><strong>Inherited</strong></p></td>&#13;
<td><p>Yes</p></td>&#13;
</tr>&#13;
<tr>&#13;
<td><p><strong>Animatable</strong></p></td>&#13;
<td><p>No</p></td>&#13;
</tr>&#13;
</tbody>&#13;
</table>&#13;
</div></aside>&#13;
&#13;
<p>While the two models can have different results in laying out a given&#13;
table, the fundamental difference between the two is that of speed.&#13;
With a fixed-width table layout, the user agent can calculate the layout&#13;
of the table more quickly than is possible in the automatic-width model.</p>&#13;
&#13;
&#13;
&#13;
&#13;
&#13;
&#13;
&#13;
&#13;
&#13;
&#13;
<section data-pdf-bookmark="Fixed layout" data-type="sect3"><div class="sect3" id="fixed-layout">&#13;
<h3>Fixed layout</h3>&#13;
&#13;
<p>The main reason the fixed-layout model is so fast is that its layout&#13;
does not fully depend on the contents of table cells. Instead, it’s driven by&#13;
the width values of the table, its column elements, and&#13;
the cells of the first row within that table.</p>&#13;
&#13;
<p>The fixed-layout model works in the following steps:</p>&#13;
&#13;
<ul>&#13;
<li>&#13;
<p>Any column element whose <code>width</code> property has a value other than&#13;
<code>auto</code> sets the width for that entire column.</p>&#13;
&#13;
<ul>&#13;
<li>&#13;
<p>If a column has an <code>auto</code> width, but the cell in the first row of the&#13;
table within that column has a <code>width</code> other than <code>auto</code>, the cell&#13;
sets the width for that entire column. If the cell spans multiple&#13;
columns, the width is divided between the columns.</p>&#13;
</li>&#13;
<li>&#13;
<p>Any columns that are still auto-sized are sized so that their widths&#13;
are as equal as possible.</p>&#13;
</li>&#13;
</ul>&#13;
</li>&#13;
</ul>&#13;
&#13;
<p>At that point, the width of the table is set to be either the value of&#13;
<code>width</code> for the table or the sum of the column widths, whichever is&#13;
<em>greater</em>. If the table turns out to be wider than its columns, the&#13;
difference is divided by the number of columns and the result is added to each of&#13;
them.</p>&#13;
&#13;
<p>This approach is fast because all of the column widths are defined by&#13;
the first row of the table. The cells in any rows that come after the&#13;
first are sized according to the column widths that were defined by the&#13;
first row. The cells in those following rows do not—indeed,&#13;
cannot—change column widths, which means that any <code>width</code> value assigned&#13;
to those cells will be ignored. If a cell’s content does not&#13;
fit into its cell, the <code>overflow</code> value for the cell determines whether&#13;
the cell contents are clipped, visible, or generate &#13;
<span class="keep-together">a scrollbar.</span></p>&#13;
&#13;
<p>Let’s consider the following styles and markup, which are illustrated in&#13;
<a data-type="xref" href="#table-layout-fixed">Figure 13-10</a>:</p>&#13;
&#13;
<pre data-code-language="css" data-type="programlisting"><code class="nt">table</code> <code class="p">{</code><code class="k">table-layout</code><code class="o">:</code> <code class="nb">fixed</code><code class="p">;</code> <code class="k">width</code><code class="o">:</code> <code class="m">400px</code><code class="p">;</code>&#13;
    <code class="k">border-collapse</code><code class="o">:</code> <code class="nb">collapse</code><code class="p">;}</code>&#13;
<code class="nt">td</code> <code class="p">{</code><code class="k">border</code><code class="o">:</code> <code class="m">1px</code> <code class="nb">solid</code><code class="p">;}</code>&#13;
<code class="nt">col</code><code class="nf">#c1</code> <code class="p">{</code><code class="k">width</code><code class="o">:</code> <code class="m">200px</code><code class="p">;}</code>&#13;
<code class="nf">#r1c2</code> <code class="p">{</code><code class="k">width</code><code class="o">:</code> <code class="m">75px</code><code class="p">;}</code>&#13;
<code class="nf">#r2c3</code> <code class="p">{</code><code class="k">width</code><code class="o">:</code> <code class="m">500px</code><code class="p">;}</code></pre>&#13;
&#13;
<pre data-code-language="xml" data-type="programlisting"><code class="nt">&lt;table&gt;</code><code class="w"/>&#13;
<code class="w">    </code><code class="nt">&lt;colgroup&gt;</code><code class="w"> </code><code class="nt">&lt;col</code><code class="w"> </code><code class="na">id=</code><code class="s">"c1"</code><code class="nt">&gt;&lt;col</code><code class="w"> </code><code class="na">id=</code><code class="s">"c2"</code><code class="nt">&gt;&lt;col</code><code class="w"> </code><code class="na">id=</code><code class="s">"c3"</code><code class="nt">&gt;&lt;col</code><code class="w"> </code><code class="na">id=</code><code class="s">"c4"</code><code class="nt">&gt;</code><code class="w"> </code><code class="nt">&lt;/colgroup&gt;</code><code class="w"/>&#13;
<code class="w">    </code><code class="nt">&lt;tr&gt;</code><code class="w"/>&#13;
<code class="w">        </code><code class="nt">&lt;td</code><code class="w"> </code><code class="na">id=</code><code class="s">"r1c1"</code><code class="nt">&gt;</code>1-1<code class="nt">&lt;/td&gt;</code><code class="w"/>&#13;
<code class="w">        </code><code class="nt">&lt;td</code><code class="w"> </code><code class="na">id=</code><code class="s">"r1c2"</code><code class="nt">&gt;</code>1-2<code class="nt">&lt;/td&gt;</code><code class="w"/>&#13;
<code class="w">        </code><code class="nt">&lt;td</code><code class="w"> </code><code class="na">id=</code><code class="s">"r1c3"</code><code class="nt">&gt;</code>1-3<code class="nt">&lt;/td&gt;</code><code class="w"/>&#13;
<code class="w">        </code><code class="nt">&lt;td</code><code class="w"> </code><code class="na">id=</code><code class="s">"r1c4"</code><code class="nt">&gt;</code>1-4<code class="nt">&lt;/td&gt;</code><code class="w"/>&#13;
<code class="w">    </code><code class="nt">&lt;/tr&gt;</code><code class="w"/>&#13;
<code class="w">    </code><code class="nt">&lt;tr&gt;</code><code class="w"/>&#13;
<code class="w">	   </code><code class="nt">&lt;td</code><code class="w"> </code><code class="na">id=</code><code class="s">"r2c1"</code><code class="nt">&gt;</code>2-1<code class="nt">&lt;/td&gt;</code><code class="w"/>&#13;
<code class="w">	   </code><code class="nt">&lt;td</code><code class="w"> </code><code class="na">id=</code><code class="s">"r2c2"</code><code class="nt">&gt;</code>2-2<code class="nt">&lt;/td&gt;</code><code class="w"/>&#13;
<code class="w">	   </code><code class="nt">&lt;td</code><code class="w"> </code><code class="na">id=</code><code class="s">"r2c3"</code><code class="nt">&gt;</code>2-3<code class="nt">&lt;/td&gt;</code><code class="w"/>&#13;
<code class="w">	   </code><code class="nt">&lt;td</code><code class="w"> </code><code class="na">id=</code><code class="s">"r2c4"</code><code class="nt">&gt;</code>2-4<code class="nt">&lt;/td&gt;</code><code class="w"/>&#13;
<code class="w">    </code><code class="nt">&lt;/tr&gt;</code><code class="w"/>&#13;
<code class="w">	</code>(…more<code class="w"> </code>rows<code class="w"> </code>here…)<code class="w"/>&#13;
<code class="nt">&lt;/table&gt;</code><code class="w"/></pre>&#13;
&#13;
<figure><div class="figure" id="table-layout-fixed">&#13;
<img alt="image" src="assets/css5_1310.png"/>&#13;
<h6><span class="label">Figure 13-10. </span>Fixed-width table layout</h6>&#13;
</div></figure>&#13;
&#13;
<p>The first column is 200 pixels wide, which&#13;
happens to be half the 400-pixel width of the table. The second column&#13;
is 75 pixels wide, because the first-row cell within that column has been&#13;
assigned an explicit width. The third and fourth columns are each 61&#13;
pixels wide. Why? Because the sum of the column widths for the first and&#13;
second columns (275 pixels), plus the various borders between columns (3 pixels),&#13;
equals 278 pixels. Then, 400 minus 278 is 122, and that divided in half is 61,&#13;
so that’s how many pixels wide the third and fourth columns will be.&#13;
What about the 500-pixel width for <code>#r2c3</code>? It’s ignored because that&#13;
cell isn’t in the first row of the table.</p>&#13;
&#13;
<p>Note that the table doesn’t need to have an explicit&#13;
<code>width</code> value to use the fixed-width layout model, although it&#13;
definitely helps. For example, given the following, a user agent could&#13;
calculate a width for the table that is 50 pixels narrower than the&#13;
parent element’s width. It would then use that calculated width in the&#13;
fixed-layout algorithm:</p>&#13;
&#13;
<pre data-code-language="css" data-type="programlisting"><code class="nt">table</code> <code class="p">{</code><code class="k">table-layout</code><code class="o">:</code> <code class="nb">fixed</code><code class="p">;</code> <code class="k">margin</code><code class="o">:</code> <code class="m">0</code> <code class="m">25px</code><code class="p">;</code> <code class="k">width</code><code class="o">:</code> <code class="nb">auto</code><code class="p">;}</code></pre>&#13;
&#13;
<p>This is not required, however. User agents are also permitted to lay out&#13;
any table with an <code>auto</code> value for <code>width</code> by using the automatic-width&#13;
layout model.<a data-primary="" data-startref="ix_fix_width_table" data-type="indexterm" id="idm45176090366784"/></p>&#13;
</div></section>&#13;
&#13;
&#13;
&#13;
&#13;
&#13;
&#13;
&#13;
&#13;
&#13;
&#13;
<section data-pdf-bookmark="Automatic layout" data-type="sect3"><div class="sect3" id="automatic-layout">&#13;
<h3>Automatic layout</h3>&#13;
&#13;
<p>The <a data-primary="table-layout property" data-type="indexterm" id="ix_table_layout_prop"/><a data-primary="automatic-width layout, tables" data-type="indexterm" id="ix_auto_width_table"/>automatic-width layout model, while not as fast as fixed layout, is&#13;
probably much more familiar to you because it’s substantially the same&#13;
model that HTML tables have used since their inception. In most current browsers,&#13;
use of this model will be triggered by a table having a <code>width</code> of&#13;
<code>auto</code>, regardless of the value of <code>table-layout</code>, although this is not&#13;
assured.</p>&#13;
&#13;
<p>The reason automatic layout is slower is that the table cannot be laid&#13;
out until the user agent has looked at all of the content in the table.&#13;
The user agent must lay out the entire table in a&#13;
fashion that takes the contents and styles of every cell into account.&#13;
This generally requires the user agent to perform some calculations and&#13;
then go back through the table to perform a second set of calculations (if not more).</p>&#13;
&#13;
<p>The content has to be fully examined because, as with HTML tables, the&#13;
table’s layout is dependent on the content in all the cells. If a 400-pixel-wide image is in a cell in the last row, that content will force all&#13;
of the cells above it (those in the same column) to be at least 400 pixels wide.&#13;
Thus, the width of every cell has to be calculated, and adjustments must&#13;
be made (possibly triggering another round of content-width&#13;
calculations) before the table can be laid out.</p>&#13;
&#13;
<p>The details of the model can be expressed in the following steps:</p>&#13;
<ol>&#13;
<li>&#13;
<p>For each cell in a column, calculate both the minimum and maximum&#13;
cell width.</p>&#13;
<ol>&#13;
<li>&#13;
<p>Determine the minimum width required to display the content. In&#13;
determining this minimum content width, the content can flow to any&#13;
number of lines, but it may not stick out of the cell’s box. If the cell&#13;
has a <code>width</code> value that is larger than the minimum possible width, the minimum cell width is set to the value of <code>width</code>. If the cell’s&#13;
<code>width</code> value is <code>auto</code>, the minimum cell width is set to the&#13;
minimum content width.</p>&#13;
</li>&#13;
<li>&#13;
<p>For the maximum width, determine the width required to display the&#13;
content without any line breaking other than that forced by explicit&#13;
line breaking (e.g., the <code>&lt;br&gt;</code> element). That value is the maximum cell&#13;
width.</p>&#13;
</li>&#13;
&#13;
</ol>&#13;
</li>&#13;
<li>&#13;
<p>For each column, calculate both the minimum and maximum column&#13;
width.</p>&#13;
<ol>&#13;
<li>&#13;
<p>The column’s minimum width is determined by the largest minimum cell&#13;
width of the cells within the column. If the column has been given an&#13;
explicit <code>width</code> value that is larger than any of the minimum cell&#13;
widths within the column, the minimum column width is set to the&#13;
value of <code>width</code>.</p>&#13;
</li>&#13;
<li>&#13;
<p>For the maximum width, take the largest maximum cell width of the&#13;
cells within the column. If the column has been given an explicit&#13;
<code>width</code> value that is larger than any of the maximum cell widths within&#13;
the column, the maximum column width is set to the value of&#13;
<code>width</code>. These two behaviors re-create the traditional HTML table&#13;
behavior of forcibly expanding any column to be as wide as its widest&#13;
cell.</p>&#13;
</li>&#13;
&#13;
</ol>&#13;
</li>&#13;
<li>&#13;
<p>If a cell spans more than one column, the sum of&#13;
the minimum column widths must be equal to the minimum cell width for&#13;
the spanning cell. Similarly, the sum of the maximum column widths has&#13;
to equal the spanning cell’s maximum width. User agents should divide&#13;
any changes in column widths equally among the spanned columns.</p>&#13;
</li>&#13;
&#13;
</ol>&#13;
&#13;
<p>In addition, the user agent must take into account that when a column has a percentage value for its width, the percentage is calculated&#13;
in relation to the width of the table—even though the user agent doesn’t yet know&#13;
what that will be! It instead has to hang on to the percentage value and&#13;
use it in the next part of the algorithm.</p>&#13;
&#13;
<p>At this point, the user agent will have figured how wide or narrow each&#13;
column <em>can</em> be. With that information in hand, it can then proceed to&#13;
actually figuring out the width of the table. This happens as follows:</p>&#13;
<ol>&#13;
<li>&#13;
<p>If the computed width of the table is not <code>auto</code>, the computed&#13;
table width is compared to the sum of all the column widths <em>plus</em> any&#13;
borders and cell spacing. (Columns with percentage widths are likely&#13;
calculated at this time.) The larger of the two is the final width of&#13;
the table. If the table’s computed width is <em>larger</em> than the sum of the&#13;
column widths, borders, and cell spacing, then the difference is divided&#13;
by the number of columns and the result is added to each of them.</p>&#13;
</li>&#13;
<li>&#13;
<p>If the computed width of the table is <code>auto</code>, the final width&#13;
of the table is determined by adding up the column widths, borders, and&#13;
cell spacing. This means that the table will be only as wide as needed&#13;
to display its content, just as with traditional HTML tables. Any&#13;
columns with percentage widths use that percentage as a constraint—but&#13;
one that a user agent does not have to satisfy.</p>&#13;
</li>&#13;
&#13;
</ol>&#13;
&#13;
<p>Once the last step is completed, then—and only then—can the user agent&#13;
actually lay out the table.</p>&#13;
&#13;
<p>The following styles and markup, presented in <a data-type="xref" href="#table-layout-automatic">Figure 13-11</a>, help illustrate&#13;
how this &#13;
<span class="keep-together">process works:</span></p>&#13;
&#13;
<pre data-code-language="css" data-type="programlisting"><code class="nt">table</code> <code class="p">{</code><code class="k">table-layout</code><code class="o">:</code> <code class="nb">auto</code><code class="p">;</code> <code class="k">width</code><code class="o">:</code> <code class="nb">auto</code><code class="p">;</code>&#13;
    <code class="k">border-collapse</code><code class="o">:</code> <code class="nb">collapse</code><code class="p">;}</code>&#13;
<code class="nt">td</code> <code class="p">{</code><code class="k">border</code><code class="o">:</code> <code class="m">1px</code> <code class="nb">solid</code><code class="p">;</code> <code class="k">padding</code><code class="o">:</code> <code class="m">0</code><code class="p">;}</code>&#13;
<code class="nt">col</code><code class="nf">#c3</code> <code class="p">{</code><code class="k">width</code><code class="o">:</code> <code class="m">25%</code><code class="p">;}</code>&#13;
<code class="nf">#r1c2</code> <code class="p">{</code><code class="k">width</code><code class="o">:</code> <code class="m">40%</code><code class="p">;}</code>&#13;
<code class="nf">#r2c2</code> <code class="p">{</code><code class="k">width</code><code class="o">:</code> <code class="m">50px</code><code class="p">;}</code>&#13;
<code class="nf">#r2c3</code> <code class="p">{</code><code class="k">width</code><code class="o">:</code> <code class="m">35px</code><code class="p">;}</code>&#13;
<code class="nf">#r4c1</code> <code class="p">{</code><code class="k">width</code><code class="o">:</code> <code class="m">100px</code><code class="p">;}</code>&#13;
<code class="nf">#r4c4</code> <code class="p">{</code><code class="k">width</code><code class="o">:</code> <code class="m">1px</code><code class="p">;}</code></pre>&#13;
&#13;
<pre data-code-language="xml" data-type="programlisting"><code class="nt">&lt;table&gt;</code><code class="w"/>&#13;
<code class="w">    </code><code class="nt">&lt;colgroup&gt;</code><code class="w"> </code><code class="nt">&lt;col</code><code class="w"> </code><code class="na">id=</code><code class="s">"c1"</code><code class="nt">&gt;&lt;col</code><code class="w"> </code><code class="na">id=</code><code class="s">"c2"</code><code class="nt">&gt;&lt;col</code><code class="w"> </code><code class="na">id=</code><code class="s">"c3"</code><code class="nt">&gt;&lt;col</code><code class="w"> </code><code class="na">id=</code><code class="s">"c4"</code><code class="nt">&gt;</code><code class="w"> </code><code class="nt">&lt;/colgroup&gt;</code><code class="w"/>&#13;
<code class="w">    </code><code class="nt">&lt;tr&gt;</code><code class="w"/>&#13;
<code class="w">        </code><code class="nt">&lt;td</code><code class="w"> </code><code class="na">id=</code><code class="s">"r1c1"</code><code class="nt">&gt;</code>1-1<code class="nt">&lt;/td&gt;</code><code class="w"/>&#13;
<code class="w">        </code><code class="nt">&lt;td</code><code class="w"> </code><code class="na">id=</code><code class="s">"r1c2"</code><code class="nt">&gt;</code>1-2<code class="nt">&lt;/td&gt;</code><code class="w"/>&#13;
<code class="w">        </code><code class="nt">&lt;td</code><code class="w"> </code><code class="na">id=</code><code class="s">"r1c3"</code><code class="nt">&gt;</code>1-3<code class="nt">&lt;/td&gt;</code><code class="w"/>&#13;
<code class="w">        </code><code class="nt">&lt;td</code><code class="w"> </code><code class="na">id=</code><code class="s">"r1c4"</code><code class="nt">&gt;</code>1-4<code class="nt">&lt;/td&gt;</code><code class="w"/>&#13;
<code class="w">    </code><code class="nt">&lt;/tr&gt;</code><code class="w"/>&#13;
<code class="w">    </code><code class="nt">&lt;tr&gt;</code><code class="w"/>&#13;
<code class="w">        </code><code class="nt">&lt;td</code><code class="w"> </code><code class="na">id=</code><code class="s">"r2c1"</code><code class="nt">&gt;</code>2-1<code class="nt">&lt;/td&gt;</code><code class="w"/>&#13;
<code class="w">        </code><code class="nt">&lt;td</code><code class="w"> </code><code class="na">id=</code><code class="s">"r2c2"</code><code class="nt">&gt;</code>2-2<code class="nt">&lt;/td&gt;</code><code class="w"/>&#13;
<code class="w">        </code><code class="nt">&lt;td</code><code class="w"> </code><code class="na">id=</code><code class="s">"r2c3"</code><code class="nt">&gt;</code>2-3<code class="nt">&lt;/td&gt;</code><code class="w"/>&#13;
<code class="w">        </code><code class="nt">&lt;td</code><code class="w"> </code><code class="na">id=</code><code class="s">"r2c4"</code><code class="nt">&gt;</code>2-4<code class="nt">&lt;/td&gt;</code><code class="w"/>&#13;
<code class="w">    </code><code class="nt">&lt;/tr&gt;</code><code class="w"/>&#13;
<code class="w">    </code><code class="nt">&lt;tr&gt;</code><code class="w"/>&#13;
<code class="w">        </code><code class="nt">&lt;td</code><code class="w"> </code><code class="na">id=</code><code class="s">"r3c1"</code><code class="nt">&gt;</code>3-1<code class="nt">&lt;/td&gt;</code><code class="w"/>&#13;
<code class="w">        </code><code class="nt">&lt;td</code><code class="w"> </code><code class="na">id=</code><code class="s">"r3c2"</code><code class="nt">&gt;</code>3-2<code class="nt">&lt;/td&gt;</code><code class="w"/>&#13;
<code class="w">        </code><code class="nt">&lt;td</code><code class="w"> </code><code class="na">id=</code><code class="s">"r3c3"</code><code class="nt">&gt;</code>3-3<code class="nt">&lt;/td&gt;</code><code class="w"/>&#13;
<code class="w">        </code><code class="nt">&lt;td</code><code class="w"> </code><code class="na">id=</code><code class="s">"r3c4"</code><code class="nt">&gt;</code>3-4<code class="nt">&lt;/td&gt;</code><code class="w"/>&#13;
<code class="w">    </code><code class="nt">&lt;/tr&gt;</code><code class="w"/>&#13;
<code class="w">    </code><code class="nt">&lt;tr&gt;</code><code class="w"/>&#13;
<code class="w">        </code><code class="nt">&lt;td</code><code class="w"> </code><code class="na">id=</code><code class="s">"r4c1"</code><code class="nt">&gt;</code>4-1<code class="nt">&lt;/td&gt;</code><code class="w"/>&#13;
<code class="w">        </code><code class="nt">&lt;td</code><code class="w"> </code><code class="na">id=</code><code class="s">"r4c2"</code><code class="nt">&gt;</code>4-2<code class="nt">&lt;/td&gt;</code><code class="w"/>&#13;
<code class="w">        </code><code class="nt">&lt;td</code><code class="w"> </code><code class="na">id=</code><code class="s">"r4c3"</code><code class="nt">&gt;</code>4-3<code class="nt">&lt;/td&gt;</code><code class="w"/>&#13;
<code class="w">        </code><code class="nt">&lt;td</code><code class="w"> </code><code class="na">id=</code><code class="s">"r4c4"</code><code class="nt">&gt;</code>4-4<code class="nt">&lt;/td&gt;</code><code class="w"/>&#13;
<code class="w">    </code><code class="nt">&lt;/tr&gt;</code><code class="w"/>&#13;
<code class="nt">&lt;/table&gt;</code><code class="w"/></pre>&#13;
&#13;
<figure><div class="figure" id="table-layout-automatic">&#13;
<img alt="image" src="assets/css5_1311.png"/>&#13;
<h6><span class="label">Figure 13-11. </span>Automatic table layout</h6>&#13;
</div></figure>&#13;
&#13;
<p>Let’s consider what happens for each of the columns, in turn:</p>&#13;
&#13;
<ul>&#13;
<li>&#13;
<p>For the first column, the only explicit cell or column width is that&#13;
of cell 4-1, which is given a width of <code>100px</code>. Because the content&#13;
is so short, both the minimum and maximum column widths are set to <code>100px</code>. (If&#13;
a cell in the column had several sentences of text, it would&#13;
have increased the maximum column width to whatever width necessary to&#13;
display all of the text without line breaking.)</p>&#13;
</li>&#13;
<li>&#13;
<p>For the second column, two <code>width</code>s are declared: cell 1-2 is given&#13;
a width of <code>40%</code>, and cell 2-2 is given a width of <code>50px</code>. The minimum&#13;
width of this column is <code>50px</code>, and the maximum width is <code>40%</code> of the final table width.</p>&#13;
</li>&#13;
<li>&#13;
<p>For the third column, only cell 3-3 has an explicit width (<code>35px</code>),&#13;
but the column itself is given a <code>width</code> of <code>25%</code>. Therefore, the&#13;
minimum column width is 35 pixels, and the maximum width is 25% of the final&#13;
table width.</p>&#13;
</li>&#13;
<li>&#13;
<p>For the fourth column, only cell 4-4 is given an explicit width (<code>1px</code>).&#13;
This is smaller than the minimum content width, so both&#13;
the minimum and maximum column widths are equal to the minimum content&#13;
width of the cells. This turns out to be a computed 22 pixels, so the&#13;
minimum and maximum widths are both 22 pixels.</p>&#13;
</li>&#13;
</ul>&#13;
&#13;
<p>The user agent now knows that the four columns have minimum and maximum&#13;
widths as follows, in order:</p>&#13;
<ol>&#13;
<li>&#13;
<p>Minimum 100 pixels, maximum 100 pixels</p>&#13;
</li>&#13;
<li>&#13;
<p>Minimum 50 pixels, maximum 40%</p>&#13;
</li>&#13;
<li>&#13;
<p>Minimum 35 pixels, maximum 25%</p>&#13;
</li>&#13;
<li>&#13;
<p>Minimum 22 pixels, maximum 22 pixels</p>&#13;
</li>&#13;
&#13;
</ol>&#13;
&#13;
<p>The table’s minimum width is the sum of all the column minimums,&#13;
plus the borders collapsed between the columns, which totals 215 pixels.&#13;
The table’s maximum width is <code>123px + 65%</code>, where the <code>123px</code> comes from the&#13;
first and last columns and their shares of the collapsed borders.&#13;
This maximum works out to be 351.42857142857143 pixels (given that&#13;
<code>123px</code> represents 35% of the overall table width). With this number in hand,&#13;
the second column will be 140.5 pixels wide, and the third column will be&#13;
87.8 pixels wide.  These may be rounded by the user agent to whole numbers&#13;
such as <code>141px</code> and <code>88px</code>, or not, depending on the exact rendering method&#13;
used.  (These are the numbers used in <a data-type="xref" href="#table-layout-automatic">Figure 13-11</a>.)</p>&#13;
&#13;
<p>Note that user agents are not required to actually use the maximum value;&#13;
they may choose another course of action.</p>&#13;
&#13;
<p>This is (although it may not seem like it) a comparatively simple and&#13;
straightforward example: all of the content is basically the same&#13;
width, and most of the declared widths are pixel lengths. If a table contains images, paragraphs of text, form&#13;
elements, and so forth, the process of figuring out the table’s layout&#13;
is likely to be a great deal more &#13;
<span class="keep-together">complicated</span>.<a data-primary="" data-startref="ix_auto_width_table" data-type="indexterm" id="idm45176089980736"/><a data-primary="" data-startref="ix_table_layout_prop" data-type="indexterm" id="idm45176089979728"/></p>&#13;
</div></section>&#13;
</div></section>&#13;
&#13;
&#13;
&#13;
&#13;
&#13;
&#13;
&#13;
&#13;
<section data-pdf-bookmark="Height" data-type="sect2"><div class="sect2" id="height">&#13;
<h2>Height</h2>&#13;
&#13;
<p>After all of the <a data-primary="table layout" data-secondary="height of" data-type="indexterm" id="idm45176089977264"/><a data-primary="height property" data-type="indexterm" id="idm45176089976256"/>effort expended in figuring out the width of&#13;
the table, you might well wonder how much more complicated height&#13;
calculation will be. Actually, in CSS terms, it’s pretty simple,&#13;
although browser developers probably don’t think so.</p>&#13;
&#13;
<p>The easiest situation to describe is one in which the table height is&#13;
explicitly set via the <code>height</code> property. In such cases, the height of&#13;
the table is defined by the value of <code>height</code>. This means that a table&#13;
may be taller or shorter than the sum of its row heights. Note that&#13;
<code>height</code> is treated much more like <code>min-height</code> for tables, so if you&#13;
define a <code>height</code> value that’s smaller than the sum total of the row&#13;
heights, it may appear to be ignored.</p>&#13;
&#13;
<p>By contrast, if the <code>height</code> value of a table is greater than the total&#13;
of its row heights, the specification explicitly refuses to define what&#13;
should happen, instead noting that the issue may be resolved in future&#13;
versions of CSS. A user agent could expand the table’s rows to fill out&#13;
its height, or leave blank space inside the table’s box, or something&#13;
completely different. It’s up to each user agent to decide.</p>&#13;
<div data-type="note" epub:type="note"><h6>Note</h6>&#13;
<p>As of mid-2022, the most common behavior of user agents is to increase the heights&#13;
of the rows in a table to fill out its overall height. This is&#13;
accomplished by taking the difference between the table height and the&#13;
sum of the row heights, dividing it by the number of rows, and applying&#13;
the resulting amount to each row.</p>&#13;
</div>&#13;
&#13;
<p>If the <code>height</code> of the table is <code>auto</code>, its height is the sum of&#13;
the heights of all the rows within the table, plus any borders and cell&#13;
spacing. To determine the height of each row, the user agent goes&#13;
through a process similar to that used to find the widths of columns: it&#13;
calculates a minimum and maximum height for the contents of each cell&#13;
and then uses these to derive a minimum and maximum height for the row.&#13;
After having done this for all the rows, the user agent figures out what&#13;
each row’s height should be, stacks them all on top of one another, and&#13;
uses the total to determine the table’s height.</p>&#13;
&#13;
<p>In addition to what to do about tables with explicit heights and how to&#13;
treat row heights within them, you can add the following to the list of&#13;
things CSS does not define:</p>&#13;
&#13;
<ul>&#13;
<li>&#13;
<p>The effect of a percentage height for table cells</p>&#13;
</li>&#13;
<li>&#13;
<p>The effect of a percentage height for table rows and row groups</p>&#13;
</li>&#13;
<li>&#13;
<p>How a row-spanning cell affects the heights of the rows that are&#13;
spanned, except that the rows have to contain the spanning cell</p>&#13;
</li>&#13;
</ul>&#13;
&#13;
<p>As you can see, height calculations in tables are largely left up to&#13;
user agents to figure out. Historical evidence would suggest that this&#13;
will lead to each user agent doing something different, so you should&#13;
probably avoid setting table heights as much <span class="keep-together">as possible.</span></p>&#13;
</div></section>&#13;
&#13;
&#13;
&#13;
&#13;
&#13;
&#13;
&#13;
&#13;
<section data-pdf-bookmark="Alignment" data-type="sect2"><div class="sect2" id="alignment">&#13;
<h2>Alignment</h2>&#13;
&#13;
<p>In a rather <a data-primary="table layout" data-secondary="alignment within cells" data-type="indexterm" id="ix_table_align_cell"/><a data-primary="alignment" data-secondary="table-cell" data-type="indexterm" id="ix_align_table_cell"/>interesting turn of events, alignment of content within&#13;
cells is a lot better defined than cell and row heights. This is true&#13;
even for vertical alignment, which can quite easily affect the height of&#13;
a row.</p>&#13;
&#13;
<p>Horizontal <a data-primary="horizontal formatting" data-secondary="table content alignment" data-type="indexterm" id="idm45176089946288"/><a data-primary="text-align property" data-type="indexterm" id="idm45176089945280"/>alignment is the simplest. To align content within a cell,&#13;
you use the <code>text-align</code> property. In effect, the cell is treated as a&#13;
block-level box, and all of the content within it is aligned as per the&#13;
<code>text-align</code> value.</p>&#13;
&#13;
<p>To <a data-primary="alignment" data-secondary="vertical" data-type="indexterm" id="idm45176089943104"/><a data-primary="vertical formatting" data-secondary="alignment setting" data-type="indexterm" id="idm45176089942096"/><a data-primary="vertical-align property" data-secondary="in table cells" data-secondary-sortas="table cells" data-type="indexterm" id="idm45176089941152"/>vertically align content in a table cell, <code>vertical-align</code> is the&#13;
relevant property. It uses many of the same values that are used for&#13;
vertically aligning inline content, but the meanings of those values&#13;
change when applied to a table cell. To summarize the three simplest&#13;
cases:</p>&#13;
<dl>&#13;
<dt><code>top</code></dt>&#13;
<dd>&#13;
<p>The <a data-primary="top keyword, table cell" data-type="indexterm" id="idm45176089937568"/>top of the cell’s content is aligned with the top of its row; in the case of row-spanning cells, the top of the cell’s content is aligned with the top of the first row it spans.</p>&#13;
</dd>&#13;
<dt><code>bottom</code></dt>&#13;
<dd>&#13;
<p>The <a data-primary="bottom keyword, table cell" data-type="indexterm" id="idm45176089935296"/>bottom of the cell’s content is aligned with the bottom of its row; in the case of row-spanning cells, the bottom of the cell’s content is aligned with the bottom of the last row it spans.</p>&#13;
</dd>&#13;
<dt><code>middle</code></dt>&#13;
<dd>&#13;
<p>The <a data-primary="middle keyword, table cell" data-type="indexterm" id="idm45176089933008"/>middle of the cell’s content is aligned with the middle of its row; in the case of row-spanning cells, the middle of the cell’s content is aligned with the middle of all the rows it spans.</p>&#13;
</dd>&#13;
</dl>&#13;
&#13;
<p>These are illustrated in <a data-type="xref" href="#alignment-vertical">Figure 13-12</a>, which uses the following styles and&#13;
markup:</p>&#13;
&#13;
<pre data-code-language="css" data-type="programlisting"><code class="nt">table</code> <code class="p">{</code><code class="k">table-layout</code><code class="o">:</code> <code class="nb">auto</code><code class="p">;</code> <code class="k">width</code><code class="o">:</code> <code class="m">20em</code><code class="p">;</code>&#13;
<code class="k">border-collapse</code><code class="o">:</code> <code class="nb">separate</code><code class="p">;</code> <code class="k">border-spacing</code><code class="o">:</code> <code class="m">3px</code><code class="p">;}</code>&#13;
<code class="nt">td</code> <code class="p">{</code><code class="k">border</code><code class="o">:</code> <code class="m">1px</code> <code class="nb">solid</code><code class="p">;</code> <code class="k">background</code><code class="o">:</code> <code class="nb">silver</code><code class="p">;</code>&#13;
    <code class="k">padding</code><code class="o">:</code> <code class="m">0</code><code class="p">;}</code>&#13;
<code class="nt">div</code> <code class="p">{</code><code class="k">border</code><code class="o">:</code> <code class="m">1px</code> <code class="nb">dashed</code> <code class="nb">gray</code><code class="p">;</code> <code class="k">background</code><code class="o">:</code> <code class="nb">white</code><code class="p">;}</code>&#13;
<code class="nf">#r1c1</code> <code class="p">{</code><code class="k">vertical-align</code><code class="o">:</code> <code class="nb">top</code><code class="p">;</code> <code class="k">height</code><code class="o">:</code> <code class="m">10em</code><code class="p">;}</code>&#13;
<code class="nf">#r1c2</code> <code class="p">{</code><code class="k">vertical-align</code><code class="o">:</code> <code class="nb">middle</code><code class="p">;}</code>&#13;
<code class="nf">#r1c3</code> <code class="p">{</code><code class="k">vertical-align</code><code class="o">:</code> <code class="n">bottom</code><code class="p">;}</code></pre>&#13;
&#13;
<pre data-code-language="xml" data-type="programlisting"><code class="nt">&lt;table&gt;</code><code class="w"/>&#13;
<code class="w">  </code><code class="nt">&lt;tr&gt;</code><code class="w"/>&#13;
<code class="w">    </code><code class="nt">&lt;td</code><code class="w"> </code><code class="na">id=</code><code class="s">"r1c1"</code><code class="nt">&gt;</code><code class="w"/>&#13;
<code class="w">      </code><code class="nt">&lt;div&gt;</code>The<code class="w"> </code>contents<code class="w"> </code>of<code class="w"> </code>this<code class="w"> </code>cell<code class="w"> </code>are<code class="w"> </code>top-aligned.<code class="nt">&lt;/div&gt;</code><code class="w"/>&#13;
<code class="w">    </code><code class="nt">&lt;/td&gt;</code><code class="w"/>&#13;
<code class="w">    </code><code class="nt">&lt;td</code><code class="w"> </code><code class="na">id=</code><code class="s">"r1c2"</code><code class="nt">&gt;</code><code class="w"/>&#13;
<code class="w">      </code><code class="nt">&lt;div&gt;</code>The<code class="w"> </code>contents<code class="w"> </code>of<code class="w"> </code>this<code class="w"> </code>cell<code class="w"> </code>are<code class="w"> </code>middle-aligned.<code class="nt">&lt;/div&gt;</code><code class="w"/>&#13;
<code class="w">    </code><code class="nt">&lt;/td&gt;</code><code class="w"/>&#13;
<code class="w">    </code><code class="nt">&lt;td</code><code class="w"> </code><code class="na">id=</code><code class="s">"r1c3"</code><code class="nt">&gt;</code><code class="w"/>&#13;
<code class="w">      </code><code class="nt">&lt;div&gt;</code>The<code class="w"> </code>contents<code class="w"> </code>of<code class="w"> </code>this<code class="w"> </code>cell<code class="w"> </code>are<code class="w"> </code>bottom-aligned.<code class="nt">&lt;/div&gt;</code><code class="w"/>&#13;
<code class="w">    </code><code class="nt">&lt;/td&gt;</code><code class="w"/>&#13;
<code class="w">  </code><code class="nt">&lt;/tr&gt;</code><code class="w"/>&#13;
<code class="nt">&lt;/table&gt;</code><code class="w"/></pre>&#13;
&#13;
<figure class="bordernone"><div class="figure" id="alignment-vertical">&#13;
<img alt="css5 1312" src="assets/css5_1312.png"/>&#13;
<h6><span class="label">Figure 13-12. </span>Vertical alignment of cell contents</h6>&#13;
</div></figure>&#13;
&#13;
<p>In each case, the alignment is carried out by automatically increasing&#13;
the padding of the cell itself to achieve the desired effect. In the&#13;
first cell in <a data-type="xref" href="#alignment-vertical">Figure 13-12</a>, the bottom padding of the cell has been changed&#13;
to equal the difference between the height of the cell’s box and the&#13;
height of the content within the cell. For the second cell, the top and&#13;
bottom padding of the cell have been reset to be equal, thus vertically&#13;
centering the content of the cell. In the last cell, the cell’s top&#13;
padding has been altered.</p>&#13;
&#13;
<p>The fourth possible alignment value is <code>baseline</code>, and it’s a little more&#13;
complicated than the first three:</p>&#13;
<dl>&#13;
<dt><code>baseline</code></dt>&#13;
<dd>&#13;
<p>The <a data-primary="baseline keyword, table" data-type="indexterm" id="idm45176089769648"/>baseline of the cell is aligned with the baseline of its row; in the case of row-spanning cells, the baseline of the cell is aligned with the baseline of the first row it spans.</p>&#13;
</dd>&#13;
</dl>&#13;
&#13;
<p>It’s easiest to provide an illustration (<a data-type="xref" href="#alignment-baseline">Figure 13-13</a>) and then discuss what’s <span class="keep-together">happening.</span></p>&#13;
&#13;
<figure class="bordernone"><div class="figure" id="alignment-baseline">&#13;
<img alt="image" src="assets/css5_1313.png"/>&#13;
<h6><span class="label">Figure 13-13. </span>Baseline alignment of cell contents</h6>&#13;
</div></figure>&#13;
&#13;
<p>A row’s baseline is defined by the lowest initial cell baseline (that&#13;
is, the baseline of the first line of text) out of all its cells. Thus,&#13;
in <a data-type="xref" href="#alignment-baseline">Figure 13-13</a>, the row’s baseline is defined by the third cell, which has&#13;
the lowest initial baseline. The first two cells then have the baseline of&#13;
their first line of text aligned with the row’s baseline.</p>&#13;
&#13;
<p>As with top, middle, and bottom alignment, the placement of&#13;
baseline-aligned cell content is accomplished by altering the top and&#13;
bottom padding of the cells. If none of the cells in a row&#13;
are baseline-aligned, the row does not even have a baseline—it doesn’t&#13;
really need one.</p>&#13;
&#13;
<p>The detailed process for aligning cell contents within a row is as&#13;
follows:</p>&#13;
&#13;
<ul>&#13;
<li>&#13;
<p>If any of the cells are baseline-aligned, the row’s baseline is&#13;
determined and the content of the baseline-aligned cells is placed.</p>&#13;
&#13;
<ul>&#13;
<li>&#13;
<p>Any top-aligned cell has its content placed. The row now has a&#13;
provisional height, which is defined by the lowest cell bottom of the&#13;
cells that have already had their content placed.</p>&#13;
</li>&#13;
<li>&#13;
<p>If any remaining cells are middle- or bottom-aligned, and the content&#13;
height is taller than the provisional row height, the height of the row&#13;
is increased to enclose the tallest of those cells.</p>&#13;
</li>&#13;
<li>&#13;
<p>All remaining cells have their content placed. In any cell whose&#13;
contents are shorter than the row height, the cell’s padding is&#13;
increased in order to match the height of the row.</p>&#13;
</li>&#13;
</ul>&#13;
</li>&#13;
</ul>&#13;
&#13;
<p>The <code>vertical-align</code> values <code>sub</code>, <code>super</code>, <code>text-top</code>, and&#13;
<code>text-bottom</code> are supposed to be ignored when applied to table cells.&#13;
Instead, they seem to be treated as if they are <code>baseline</code>, or possibly&#13;
<code>top</code>.<a data-primary="" data-startref="ix_table_sizing" data-type="indexterm" id="idm45176089689424"/><a data-primary="" data-startref="ix_align_table_cell" data-type="indexterm" id="idm45176089688416"/><a data-primary="" data-startref="ix_table_align_cell" data-type="indexterm" id="idm45176089687472"/></p>&#13;
</div></section>&#13;
</div></section>&#13;
&#13;
&#13;
&#13;
&#13;
&#13;
&#13;
<section data-pdf-bookmark="Summary" data-type="sect1"><div class="sect1" id="tl_summary">&#13;
<h1>Summary</h1>&#13;
&#13;
<p>Even if you’re quite familiar with table layout from years of&#13;
table-and-spacer design, it turns out that the mechanisms driving such&#13;
layout are rather complicated. Thanks to the legacy of HTML table&#13;
construction, the CSS table model is row-centric, but it does,&#13;
thankfully, accommodate columns and limited column styling. Thanks to&#13;
new abilities to affect cell alignment and table width, you now have&#13;
even more tools for presenting tables in a pleasing way.<a data-primary="" data-startref="ix_table_layout_ch13" data-type="indexterm" id="idm45176089685472"/></p>&#13;
&#13;
<p>The ability to apply table-related display values to arbitrary elements&#13;
opens the door to creating table-like layouts by using HTML elements such&#13;
as <code>&lt;div&gt;</code> and <code>&lt;section&gt;</code>, or by using XML languages that allow you to use any element to describe table components.</p>&#13;
</div></section>&#13;
</div></section></body></html>