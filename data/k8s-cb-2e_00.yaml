- en: Preface
  prefs:
  - PREF_H1
  type: TYPE_NORMAL
- en: Welcome to *Kubernetes Cookbook*, and thanks for choosing it! With this book,
    we want to help you solve concrete problems around Kubernetes. We’ve compiled
    more than 100 recipes covering topics such as setting up a cluster, managing containerized
    workloads using Kubernetes API objects, using storage primitives, configuring
    security, and plenty more. Whether you are new to Kubernetes or have been using
    it for a while, we hope you’ll find something useful here to improve your experience
    and use of Kubernetes.
  prefs: []
  type: TYPE_NORMAL
- en: Who Should Read This Book
  prefs:
  - PREF_H1
  type: TYPE_NORMAL
- en: This book was written for anyone who belongs somewhere in the DevOps spectrum.
    You might be an application developer who is required to occasionally interact
    with Kubernetes, or a platform engineer creating reusable solutions for other
    engineers in your organization, or anywhere in between. This book will help you
    navigate your way successfully through the Kubernetes jungle, from development
    to production. It covers core Kubernetes concepts as well as solutions from the
    broader ecosystem that have almost become de facto standards in the industry.
  prefs: []
  type: TYPE_NORMAL
- en: Why We Wrote This Book
  prefs:
  - PREF_H1
  type: TYPE_NORMAL
- en: Collectively, we have been part of the Kubernetes community for many years and
    have seen the many issues beginners and even more advanced users run into. We
    wanted to share the knowledge we’ve gathered running Kubernetes in production,
    as well as developing on and in Kubernetes—​i.e., contributing to the core codebase
    or the ecosystem and writing applications that run on Kubernetes. It made perfect
    sense to work on the second edition of this book, considering that Kubernetes
    adoption has continued to grow in the years since the first edition of the book
    was published.
  prefs: []
  type: TYPE_NORMAL
- en: Navigating This Book
  prefs:
  - PREF_H1
  type: TYPE_NORMAL
- en: This cookbook contains 15 chapters. Each chapter is composed of recipes written
    in the standard O’Reilly recipe format (Problem, Solution, Discussion). You can
    read this book from front to back or skip to a specific chapter or recipe. Each
    recipe is independent of the others, and when an understanding of concepts from
    other recipes is needed, appropriate references are provided. The index is also
    an extremely powerful resource because sometimes a recipe is also showcasing a
    specific command, and the index highlights these connections.
  prefs: []
  type: TYPE_NORMAL
- en: A Note on Kubernetes Releases
  prefs:
  - PREF_H1
  type: TYPE_NORMAL
- en: At the time of writing, [Kubernetes 1.27](https://oreil.ly/3b2Ta) was the latest
    stable version, released at the end of April 2023, and this is the version we’re
    using throughout the book as the baseline. However, the solutions presented here
    should, in general, work for older releases; we will call it out explicitly if
    this is not the case, mentioning the minimum required version.
  prefs: []
  type: TYPE_NORMAL
- en: Kubernetes follows a three-releases-per-year cadence. A release cycle has a
    length of approximately 15 weeks; for example, 1.26 was released in December 2022,
    1.27 in April 2023, and 1.28 in August 2023, as this book was entering production.
    The Kubernetes [release versioning guidelines](https://oreil.ly/9eFLs) indicate
    that you can expect support for a feature for the most recent three minor releases.
    Kubernetes Community supports active patch release series for a period of roughly
    14 months. This means the stable API objects in the 1.27 release will be supported
    until at least June 2024\. However, because the recipes in this book most often
    use only stable APIs, if you use a newer Kubernetes release, the recipes should
    still work.
  prefs: []
  type: TYPE_NORMAL
- en: Technology You Need to Understand
  prefs:
  - PREF_H1
  type: TYPE_NORMAL
- en: 'This intermediate-level book requires a minimal understanding of a few development
    and system administration concepts. Before diving into the book, you might want
    to review the following:'
  prefs: []
  type: TYPE_NORMAL
- en: bash (Unix shell)
  prefs: []
  type: TYPE_NORMAL
- en: This is the default Unix shell on Linux and macOS. Familiarity with the Unix
    shell, such as for editing files, setting file permissions and user privileges,
    moving files around the filesystem, and doing some basic shell programming, will
    be beneficial. For a general introduction, consult books such as Cameron Newham’s
    *[Learning the bash Shell](http://shop.oreilly.com/product/9780596009656.do )*,
    Third Edition, or Carl Albing and JP Vossen’s *[bash Cookbook](http://shop.oreilly.com/product/0636920058304.do
    )*, Second Edition, both from O’Reilly.
  prefs: []
  type: TYPE_NORMAL
- en: Package management
  prefs: []
  type: TYPE_NORMAL
- en: The tools in this book often have multiple dependencies that need to be met
    by installing some packages. Knowledge of the package management system on your
    machine is therefore required. It could be *apt* on Ubuntu/Debian systems, *yum*
    on CentOS/RHEL systems, or *Homebrew* on macOS. Whatever it is, make sure that
    you know how to install, upgrade, and remove packages.
  prefs: []
  type: TYPE_NORMAL
- en: Git
  prefs: []
  type: TYPE_NORMAL
- en: Git has established itself as the standard for distributed version control.
    If you are not already familiar with Git, we recommend *[Version Control with
    Git](https://www.oreilly.com/library/view/version-control-with/9781492091189/)*,
    Third Edition, by Prem Kumar Ponuthorai and Jon Loeliger (O’Reilly) as a good
    place to start. Together with Git, the [GitHub website](http://github.com) is
    a great resource to get started with a hosted repository of your own. To learn
    about GitHub, check out the [GitHub Training Kit site](http://training.github.com).
  prefs: []
  type: TYPE_NORMAL
- en: Go
  prefs: []
  type: TYPE_NORMAL
- en: Kubernetes is written in Go. Go has established itself as a popular programming
    language more broadly in the Kubernetes community and beyond. This cookbook is
    not about Go programming, but it shows how to compile a few Go projects. Some
    minimal understanding of how to set up a Go workspace will be handy. If you want
    to know more, a good place to start is the O’Reilly video training course [*Introduction
    to Go Programming*](https://learning.oreilly.com/videos/introduction-to-go/9781491913871).
  prefs: []
  type: TYPE_NORMAL
- en: Conventions Used in This Book
  prefs:
  - PREF_H1
  type: TYPE_NORMAL
- en: 'The following typographical conventions are used in this book:'
  prefs: []
  type: TYPE_NORMAL
- en: '*Italic*'
  prefs: []
  type: TYPE_NORMAL
- en: Indicates new terms, URLs, email addresses, filenames, and file extensions.
  prefs: []
  type: TYPE_NORMAL
- en: '`Constant width`'
  prefs: []
  type: TYPE_NORMAL
- en: Used for program listings, as well as within paragraphs to refer to program
    elements such as variable or function names, databases, data types, environment
    variables, statements, and keywords. Also used for commands and command-line output.
  prefs: []
  type: TYPE_NORMAL
- en: '**`Constant width bold`**'
  prefs: []
  type: TYPE_NORMAL
- en: Shows commands or other text that should be typed literally by the user.
  prefs: []
  type: TYPE_NORMAL
- en: '*`Constant width italic`*'
  prefs: []
  type: TYPE_NORMAL
- en: Shows text that should be replaced with user-supplied values or by values determined
    by context.
  prefs: []
  type: TYPE_NORMAL
- en: Tip
  prefs:
  - PREF_H6
  type: TYPE_NORMAL
- en: This element signifies a tip or suggestion.
  prefs: []
  type: TYPE_NORMAL
- en: Note
  prefs:
  - PREF_H6
  type: TYPE_NORMAL
- en: This element signifies a general note.
  prefs: []
  type: TYPE_NORMAL
- en: Warning
  prefs:
  - PREF_H6
  type: TYPE_NORMAL
- en: This element indicates a warning or caution.
  prefs: []
  type: TYPE_NORMAL
- en: Using Code Examples
  prefs:
  - PREF_H1
  type: TYPE_NORMAL
- en: 'Supplemental material (Kubernetes manifests, code examples, exercises, etc.)
    is available for download at [*https://github.com/k8s-cookbook/recipes*](https://github.com/k8s-cookbook/recipes).
    You can clone this repository, go to the relevant chapter and recipe, and use
    the code as is:'
  prefs: []
  type: TYPE_NORMAL
- en: '[PRE0]'
  prefs: []
  type: TYPE_PRE
- en: Note
  prefs:
  - PREF_H6
  type: TYPE_NORMAL
- en: The examples in this repo are not meant to represent optimized setups to be
    used in production. They give you the basic minimum required to run the examples
    in the recipes.
  prefs: []
  type: TYPE_NORMAL
- en: If you have a technical question or a problem using the code examples, please
    send email to [*support@oreilly.com*](mailto:support@oreilly.com).
  prefs: []
  type: TYPE_NORMAL
- en: This book is here to help you get your job done. In general, if example code
    is offered with this book, you may use it in your programs and documentation.
    You do not need to contact us for permission unless you’re reproducing a significant
    portion of the code. For example, writing a program that uses several chunks of
    code from this book does not require permission. Selling or distributing a CD-ROM
    of examples from O’Reilly books does require permission. Answering a question
    by citing this book and quoting example code does not require permission. Incorporating
    a significant amount of example code from this book into your product’s documentation
    does require permission.
  prefs: []
  type: TYPE_NORMAL
- en: 'We appreciate, but do not require, attribution. An attribution usually includes
    the title, author, publisher, and ISBN. For example: “*Kubernetes Cookbook*, by
    Sameer Naik, Sébastien Goasguen, and Jonathan Michaux (O’Reilly). Copyright 2024
    CloudTank SARL, Sameer Naik, and Jonathan Michaux, 978-1-098-14224-7.”'
  prefs: []
  type: TYPE_NORMAL
- en: If you feel your use of code examples falls outside fair use or the permission
    given above, feel free to contact us at [*permissions@oreilly.com*](mailto:permissions@oreilly.com).
  prefs: []
  type: TYPE_NORMAL
- en: O’Reilly Online Learning
  prefs:
  - PREF_H1
  type: TYPE_NORMAL
- en: Note
  prefs:
  - PREF_H6
  type: TYPE_NORMAL
- en: For more than 40 years, [*O’Reilly Media*](https://oreilly.com) has provided
    technology and business training, knowledge, and insight to help companies succeed.
  prefs: []
  type: TYPE_NORMAL
- en: Our unique network of experts and innovators share their knowledge and expertise
    through books, articles, and our online learning platform. O’Reilly’s online learning
    platform gives you on-demand access to live training courses, in-depth learning
    paths, interactive coding environments, and a vast collection of text and video
    from O’Reilly and 200+ other publishers. For more information, visit [*https://oreilly.com*](https://oreilly.com).
  prefs: []
  type: TYPE_NORMAL
- en: How to Contact Us
  prefs:
  - PREF_H1
  type: TYPE_NORMAL
- en: 'Please address comments and questions concerning this book to the publisher:'
  prefs: []
  type: TYPE_NORMAL
- en: O’Reilly Media, Inc.
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
- en: 1005 Gravenstein Highway North
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
- en: Sebastopol, CA 95472
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
- en: 800-889-8969 (in the United States or Canada)
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
- en: 707-829-7019 (international or local)
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
- en: 707-829-0104 (fax)
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
- en: '[*support@oreilly.com*](mailto:support@oreilly.com)'
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
- en: '[*https://www.oreilly.com/about/contact.html*](https://www.oreilly.com/about/contact.html)'
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
- en: We have a web page for this book where we list errata, examples, and any additional
    information. You can access this page at [*https://oreil.ly/kubernetes-cookbook-2e*](https://oreil.ly/kubernetes-cookbook-2e).
  prefs: []
  type: TYPE_NORMAL
- en: For news and information about our books and courses, visit [*https://oreilly.com*](https://oreilly.com).
  prefs: []
  type: TYPE_NORMAL
- en: 'Find us on LinkedIn: [*https://linkedin.com/company/oreilly-media*](https://linkedin.com/company/oreilly-media).'
  prefs: []
  type: TYPE_NORMAL
- en: 'Follow us on Twitter: [*https://twitter.com/oreillymedia*](https://twitter.com/oreillymedia).'
  prefs: []
  type: TYPE_NORMAL
- en: 'Watch us on YouTube: [*https://youtube.com/oreillymedia*](https://youtube.com/oreillymedia).'
  prefs: []
  type: TYPE_NORMAL
- en: Acknowledgments
  prefs:
  - PREF_H1
  type: TYPE_NORMAL
- en: Thank you to the entire Kubernetes community for developing such amazing software
    and for being a great bunch of people—open, kind, and always ready to help.
  prefs: []
  type: TYPE_NORMAL
- en: Sameer and Jonathan were honored to work with Sébastien on the second edition
    of this book. We are all thankful for the reviews provided by Roland Huß, Jonathan
    Johnson, and Benjamin Muschko, who were invaluable in improving the finished product.
    We are also grateful to John Devins, Jeff Bleiel, and Ashley Stussy, our editors
    at O’Reilly, who were a pleasure to work with.
  prefs: []
  type: TYPE_NORMAL
