# 前言

本书适用于任何需要实际理解 Linux 容器及其如何改善开发和生产实践的人。大多数现代集成工作流程和生产系统需要开发人员和运维工程师深入了解 Linux 容器，以及如何利用它们显著提高系统的可重复性和可预测性。在这个过程中，我们将探讨如何在 Docker 生态系统中构建、测试、部署和调试 Linux 容器。我们还将介绍一些利用 Linux 容器的重要编排工具。最后，我们还将提供一些有关容器环境安全性和最佳实践的指导。

# 谁应该阅读本书

本书适用于任何希望解决开发和部署大规模软件到生产环境所涉及的复杂工作流程问题的人。如果你对 Linux 容器、Docker、Kubernetes、DevOps 和大规模可扩展软件基础设施感兴趣，那么这本书适合你。

# 为什么要阅读本书？

今天互联网上关于 Docker 有很多讨论、项目和文章，其中一些甚至开始预测 Docker 的衰落。

那么，为什么你要花宝贵的时间来阅读这本书呢？

虽然今天有其他选择，但 Docker 独自一人使 Linux 容器对所有工程师都变得可访问。在 Docker 创建容器镜像格式并帮助构建今天容器化系统中使用的许多核心库之前，Linux 容器非常难以使用，主要仍然是大型云托管公司的工具，这些公司需要在保护系统免受不受信任的用户代码的同时提供可扩展性。

Docker 彻底改变了这一切。

尽管关于 Docker 和 Linux 容器的信息很多，但这个领域仍在积极发展，并且最佳实践在不断变化。想象一下，你刚读了一篇四年前发布的关于 Docker 的博客文章。它可能仍然有效，但也许不再是最佳实践了。在我们撰写本书第一版期间，Docker 公司发布了四个版本的 Docker，还推出了几个主要工具到他们的生态系统中。在本书第一版和第三版之间的七年里，这个领域发生了巨大变化。Docker 已经稳定下来，现在有许多其他工具填补了类似的角色。现在不再是完全缺乏工具可用，几乎每个 DevOps 工作流程的方面都有许多健壮的选择。理解 Linux 容器和 Docker 提供的范围，理解它们如何融入你的工作流程，并正确处理所有的各种集成，这些都不是简单的任务。

我们与多家公司合作超过九年，构建和运营了多种生产 Linux 容器平台，包括 Docker、Mesos 和 Kubernetes。我们在 Docker 发布仅几个月后就开始在生产环境中使用，并可以通过分享我们在这些生产平台上积累的经验，让您受益。尽管 [Docker 项目的在线文档](https://docs.docker.com) 非常有用，但我们将努力为您呈现更全面的图景，并向您介绍我们学到的许多最佳实践。

完成本书后，您将获得足够的信息来理解 Linux 容器、Docker 提供的功能、它们的重要性以及如何利用它们从本地开发到生产的流程优化。这将是一个对一些非常实用技术进行有趣探索的旅程。

# 浏览本书

本书的结构如下：

+   第 1 和第二章介绍了 Docker，并解释了它是什么以及如何使用它。

+   第三章带您了解安装 Docker 所需的步骤。

+   第 4 到第六章深入讨论了 Docker 客户端、镜像和容器，探索了它们的定义及如何操作。

+   第七章讨论了如何调试您的镜像和容器。

+   第八章介绍了 Docker Compose 及其如何显著简化开发复杂基于容器的服务的过程。

+   第九章探讨了确保顺利过渡到生产环境的重要考虑因素。

+   第十章深入探讨了在公共和私有云中规模化部署容器。

+   第十一章深入探讨了一些高级主题，需要对 Docker 有一定了解，并且在您开始在生产环境中使用 Docker 时可能很重要。

+   第十二章探讨了在容器化 Linux 环境中可能有用的几种替代工具。

+   第十三章探索了关于如何设计下一代互联网规模生产软件的核心概念。

+   第十四章总结了所有内容，并做了一个大致概述，包括涵盖的内容以及如何帮助您改进交付和扩展软件服务的方式。

我们意识到许多人不会从头到尾阅读技术书籍，前言等内容很容易被忽略，但如果您仍然在阅读中，这里有一个快速指南，介绍本书的不同阅读方法：

+   如果您对 Linux 容器还不熟悉，请从头开始。前两章旨在帮助您了解 Docker 和 Linux 容器的基础知识，包括它们是什么、如何工作以及为什么值得关注。

+   如果您想立即安装和运行 Docker 在您的工作站上，请跳到第 3 和第四章节，这些章节将指导您如何安装 Docker，创建和下载镜像，运行容器等等。

+   如果您熟悉 Docker 基础知识，但希望了解如何在开发中使用它，请参阅第 5 至第八章，这些章节涵盖了许多使您日常使用 Docker 更轻松的技能，并最终深入探讨了 Docker Compose。

+   如果您已经在开发中使用 Docker，但需要一些帮助将其投入生产环境，请考虑从第九章开始，并继续阅读至第十二章。这些章节深入探讨了部署容器、利用高级容器平台和其他高级主题。

+   如果您是软件或平台架构师，您可能会发现第 13 章是一个有趣的探索地点，因为我们深入探讨了关于容器化应用和水平可扩展服务设计的当前思想。

# 本书使用的约定

本书使用以下排版约定：

*斜体*

表示新术语、URL、电子邮件地址、文件名和文件扩展名。

`Constant width`

用于程序清单，以及在段落中引用程序元素，例如变量或函数名称、数据库、数据类型、环境变量、语句和关键字。

**`常量宽度粗体`**

显示用户应直接输入的命令或其他文本。

`<尖括号中的常量宽度>`

显示应由用户提供的值或由上下文确定的值替换的文本。

###### 提示

此元素表示提示或建议。

###### 注意

此元素表示一般注释。

###### 警告

此元素指示警告或注意事项。

# 使用代码示例

补充材料（代码示例、练习等）可以从 [*https://github.com/bluewhalebook/docker-up-and-running-3rd-edition*](https://github.com/bluewhalebook/docker-up-and-running-3rd-edition) 下载。

本书旨在帮助您完成工作。一般而言，如果书中提供了代码，您可以在程序和文档中使用它。除非您复制了大量代码，否则无需获得我们的许可。例如，编写一个使用本书多个代码片段的程序不需要许可。出售或分发从 O’Reilly 图书中获取的示例集合需要许可。引用本书并引用示例代码回答问题无需许可。将本书大量示例代码整合到产品文档中需要许可。

我们感谢但不要求署名。一般而言，署名通常包括标题、作者、出版商和 ISBN。例如：“*Docker: Up & Running*，第 3 版，作者为 Sean P. Kane 和 Karl Matthias（O’Reilly）。版权所有 2023 年 Sean P. Kane 和 Karl Matthias，ISBN 978-1-098-13182-1。”

如果您认为您使用的代码示例超出了合理使用范围或上述授权，请随时通过*permissions@oreilly.com*与我们联系。

# O’Reilly 在线学习

###### 注意

超过 40 年来，[*O’Reilly Media*](https://oreilly.com)提供技术和商业培训、知识和见解，帮助公司取得成功。

我们独特的专家和创新者网络通过书籍、文章和我们的在线学习平台分享他们的知识和专业知识。O’Reilly 的在线学习平台为您提供按需访问的实时培训课程、深度学习路径、交互式编码环境以及来自 O’Reilly 和其他 200 多家出版商的广泛文本和视频收藏。欲了解更多信息，请访问[*https://oreilly.com*](https://oreilly.com)。

# 如何联系我们

请将有关本书的评论和问题发送至出版商：

+   O’Reilly Media, Inc.

+   1005 Gravenstein Highway North

+   Sebastopol, CA 95472

+   800-998-9938（美国或加拿大境内）。

+   707-829-0515（国际或本地）

+   707-829-0104（传真）

我们为本书设立了一个网页，列出勘误、示例和任何额外信息。您可以访问[*https://oreil.ly/docker-up-and-running-3e*](https://oreil.ly/docker-up-and-running-3e)。

发送邮件至*bookquestions@oreilly.com*以评论或询问有关本书的技术问题。

有关我们的图书和课程的新闻和信息，请访问[*https://oreilly.com*](https://oreilly.com)。

在 LinkedIn 上找到我们：[*https://linkedin.com/company/oreilly-media*](https://linkedin.com/company/oreilly-media)。

在 Twitter 上关注我们：[*https://twitter.com/oreillymedia*](https://twitter.com/oreillymedia)。

观看我们的 YouTube 频道：[*https://youtube.com/oreillymedia*](https://youtube.com/oreillymedia)。

# 致谢

我们要衷心感谢许多帮助使每一版本书成为可能的人们：

+   尼克·本德斯、比约恩·弗里曼-本森和达纳·劳森在新遗迹公司，他们在支持第一版方面超出了职责范围，并确保我们有时间进行追求。

+   罗兰·特里奇和 Nitro 软件公司支持卡尔在第二版的努力。

+   奥莱利传媒的劳雷尔·鲁玛，最初联系我们撰写一本 Docker 书籍，还有迈克·卢基德斯帮助一切进展顺利。

+   特别感谢我们的第一版编辑布莱恩·安德森，确保我们了解我们所从事的工作，并在每一个步骤中引导我们。

+   尼基·麦克唐纳和弗吉尼亚·威尔逊，在我们创建急需的第二版书籍过程中给予了帮助和指导。

+   以及约翰·戴文斯、米歇尔·克罗宁和伊丽莎白·法尔姆，他们非常努力确保这第三版得以问世。

+   感谢《Terraform: Up & Running》的优秀作者叶夫根尼·（吉姆）·布里克曼，他慷慨地让我们大量参考了他之前作品的网站设计 [*https://dockerupandrunning.com*](https://dockerupandrunning.com)。

+   简洁地向新技术引入新观众需要特别的才能。我们非常感谢拉尔斯·赫尔曼、劳拉·弗兰克·塔乔和拉朱·甘迪抽出时间为其中一次发布撰写序言。

+   我们的草稿审阅者，在写作过程中的各个时刻帮助确保我们走在正确的轨道上：克塞尼娅·布拉查恩科，她给了我们第一次评审和全面技术审查；安德鲁·T·贝克，塞巴斯蒂安·戈阿斯格恩，亨利·戈麦斯，切尔西·弗兰克，拉希德·扎鲁阿利，沃纳·戴克曼，普雷德拉格·克涅热维奇和维什韦什·拉维·施里马利。

+   特别感谢艾丽丝·戈德弗斯和汤姆·奥弗曼，在我们写第一版时给予了详细且始终有用的反馈；感谢米哈伊·托多尔在鼓励、技术审查和第二版全面反馈方面的支持。

+   吉利安·麦加维、梅兰妮·亚伯罗、贾斯汀·比林、瑞秋·莫纳汉和索尼娅·萨鲁巴，在副本编辑手稿方面的努力使它看起来像是我们在高中英语课上认真听讲。517 个逗号已添加，仍在增加……

+   苏·克莱夫斯塔德，她帮助我们确保第三版索引对所有读者都是有用的参考，还有温迪·卡塔拉诺和艾伦·特劳特曼在索引早期版本方面的努力。

+   特别感谢尼克·亚当斯和奥莱利传媒幕后的所有工作人员，帮助确保在所有分发格式中一切都显示得恰到好处。

+   我们在新遗迹和 Nitro 的所有同事们，一路陪伴我们走过整个 Docker 之旅。他们为我们提供了许多在这里反映的经验。

+   Grains of Wrath Brewery、World Cup Coffee、McMenamins Ringlers Pub、Old Town Pizza、A Beer at a Time!、Taylor's Three Rock pub 等，他们在我们用完餐具后仍慷慨地让我们使用他们的桌子和电源。

+   我们的家人，在我们需要安静时间时给予了支持。

+   最后，感谢在整个过程中鼓励我们、给予建议或以任何方式支持我们的每一位朋友。
